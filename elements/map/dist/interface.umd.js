(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Interface={}))})(this,function(t){"use strict";var l=Object.defineProperty;var u=(t,e,o)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var c=(t,e,o)=>(u(t,typeof e!="symbol"?e+"":e,o),o);const e=new MessageChannel,o=e.port1;class d{constructor(s){c(this,"iframe");this.iframe=s}setLayers(s){o.postMessage({type:"setLayers",body:{layers:s}})}getLayers(){return new Promise(s=>{const n=Date.now();o.onmessage=i=>{i.data.ts===n&&s(i.data.body)},o.postMessage({ts:n,type:"getLayers",body:"hello world"})})}}const p=r=>{if(!r){console.error("no div selected");return}return new Promise(s=>{var i;const n=document.createElement("iframe");n.style.cssText="width: 100%; height: 100%; display: block; margin: 0; border: none;",n.setAttribute("src",(i=typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("interface.umd.js",document.baseURI).href)!=null&&i.includes("localhost")?"http://localhost:5173/index.html":"https://www.unpkg.com/@eox/map/dist/index.html"),n.setAttribute("id","EOxMap"),r==null||r.appendChild(n),n.onload=()=>{var a;(a=n.contentWindow)==null||a.postMessage("init","*",[e.port2]),s(new d(n))}})};t.createMap=p,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
