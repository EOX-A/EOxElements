{"version":3,"file":"timecontrol.stories-8fcc7adc.js","sources":["../../elements/timecontrol/src/style.ts","../../elements/timecontrol/src/style.eox.ts","../../node_modules/dayjs/plugin/dayOfYear.js","../../node_modules/dayjs/plugin/isoWeek.js","../../elements/timecontrol/src/main.ts"],"sourcesContent":["export const style = `\n:host {\n  display: block;\n}\n`;\n","import { button } from \"../../../utils/styles/button\";\n\nexport const styleEOX = `\n* {\n  font-family: Roboto, sans-serif;\n}\n\n${button}\n\nbutton.icon-text.play:before {\n  content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eplay%3C/title%3E%3Cpath d='M8,5.14V19.14L19,12.14L8,5.14Z' fill='%23fff' /%3E%3C/svg%3E\");\n}\n\nbutton.icon-text.pause:before {\n  content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Epause%3C/title%3E%3Cpath d='M14,19H18V5H14M6,19H10V5H6V19Z' fill='%23fff' /%3E%3C/svg%3E\");\n}\n\nbutton.icon.previous:before {\n  content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Earrow-left-drop-circle%3C/title%3E%3Cpath d='M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M14,7L9,12L14,17V7Z' fill='%23004170' /%3E%3C/svg%3E\");\n}\n\nbutton.icon.next:before {\n  content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Earrow-right-drop-circle%3C/title%3E%3Cpath d='M2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12M10,17L15,12L10,7V17Z' fill='%23004170' /%3E%3C/svg%3E\");\n}\n`;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_dayOfYear=t()}(this,(function(){\"use strict\";return function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf(\"day\")-n(this).startOf(\"year\"))/864e5)+1;return null==e?t:this.add(e-t,\"day\")}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isoWeek=t()}(this,(function(){\"use strict\";var e=\"day\";return function(t,i,s){var a=function(t){return t.add(4-t.isoWeekday(),e)},d=i.prototype;d.isoWeekYear=function(){return a(this).year()},d.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var i,d,n,o,r=a(this),u=(i=this.isoWeekYear(),d=this.$u,n=(d?s.utc:s)().year(i).startOf(\"year\"),o=4-n.isoWeekday(),n.isoWeekday()>4&&(o+=7),n.add(o,e));return r.diff(u,\"week\")+1},d.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var n=d.startOf;d.startOf=function(e,t){var i=this.$utils(),s=!!i.u(t)||t;return\"isoweek\"===i.p(e)?s?this.date(this.date()-(this.isoWeekday()-1)).startOf(\"day\"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf(\"day\"):n.bind(this)(e,t)}}}));","import { LitElement, html, svg } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { Map } from \"ol\";\nimport Layer from \"ol/layer/Layer\";\nimport UrlTile from \"ol/source/UrlTile\";\nimport \"toolcool-range-slider\";\nimport { style } from \"./style\";\nimport { styleEOX } from \"./style.eox\";\nimport { UrlFunction } from \"ol/Tile\";\n\nimport dayjs from \"dayjs\";\nimport dayOfYear from \"dayjs/plugin/dayOfYear\";\nimport isoWeek from \"dayjs/plugin/isoWeek\";\n\ndayjs.extend(dayOfYear);\ndayjs.extend(isoWeek);\n\n@customElement(\"eox-timecontrol\")\nexport class EOxTimeControl extends LitElement {\n  /**\n   * The WMS parameter to update\n   */\n  @property({ attribute: \"animation-property\" })\n  animationProperty?: string;\n\n  /**\n   * The list of available values for the animation property\n   */\n  @property({ attribute: \"animation-values\", type: Array })\n  animationValues: Array<string> = [];\n\n  /**\n   * The query selector for the map\n   */\n  @property()\n  for: string;\n\n  /**\n   * The layerid of the animated layer\n   */\n  @property()\n  layer: string;\n\n  /**\n   * Display a slider for the values\n   */\n  @property({ type: Boolean })\n  slider: boolean;\n\n  /**\n   * Custom url function to manually override the url creation. Receives the current url as property.\n   * @param url the current url function output\n   * @returns url the new url string\n   * @example ```\n   * document.querySelector(\"eox-timecontrol\").urlFunction = (url) => {\n   *   // do something with the url\n   *   const newUrl = url.replace('foo', 'bar');\n   *   return newUrl;\n   *};\n   * ```\n   */\n  @property()\n  urlFunction: (url: string) => string;\n\n  /**\n   * Original tile url function of the source.\n   * Used to get the correct TileGrid-Values, while manipulating certain parts of the URL.\n   */\n  @property()\n  private _originalTileUrlFunction: UrlFunction;\n\n  /**\n   * Go to next step\n   */\n  next() {\n    this._updateStep(+1);\n  }\n\n  /**\n   * Go to previous step\n   */\n  previous() {\n    this._updateStep(-1);\n  }\n\n  /**\n   * Toggle play animation\n   * @param on animation on/off\n   */\n  playAnimation(on: boolean) {\n    if (on) {\n      this._animationInterval = setInterval(() => this._updateStep(1), 500);\n    } else {\n      clearInterval(this._animationInterval);\n    }\n    this._isAnimationPlaying = on;\n    this.requestUpdate();\n  }\n\n  /**\n   * Set the config at a later point\n   * @param config\n   */\n  setConfig(config: {\n    layer: string;\n    animationProperty: string;\n    animationValues: Array<string>;\n  }) {\n    this.layer = config.layer ?? this.layer;\n    this.animationProperty = config.animationProperty ?? this.animationProperty;\n    this.animationValues = config.animationValues ?? this.animationValues;\n    this.requestUpdate();\n    this._updateStep(0);\n  }\n\n  @state()\n  private _animationInterval: ReturnType<typeof setInterval>;\n\n  @state()\n  private _animationSource: UrlTile;\n\n  @state()\n  private _isAnimationPlaying: boolean;\n\n  @state()\n  private _newTimeIndex = 0;\n\n  @property({ type: Boolean })\n  unstyled: boolean;\n\n  private _updateStep(step = 1) {\n    this._newTimeIndex = this._newTimeIndex + step;\n    if (this._newTimeIndex > this.animationValues.length - 1) {\n      this._newTimeIndex = 0;\n    }\n    if (this._newTimeIndex < 0) {\n      this._newTimeIndex = this.animationValues.length - 1;\n    }\n\n    //@ts-ignore\n    this._animationSource.setTileUrlFunction(\n      //@ts-ignore\n      (tileCoord, pixelRatio, projection) => {\n        const src = this._originalTileUrlFunction(\n          tileCoord,\n          pixelRatio,\n          projection\n        );\n        if (this.urlFunction) {\n          return this.urlFunction(src);\n        }\n        const searchParams = new URLSearchParams(\n          src.substring(src.indexOf(\"?\"))\n        );\n        searchParams.set(\n          this.animationProperty,\n          this.animationValues[this._newTimeIndex]\n        );\n\n        return src.substring(0, src.indexOf(\"?\") + 1) + searchParams.toString();\n      }\n    );\n    // TODO dont be accessing protected methods!\n    //@ts-ignore\n    this._animationSource.setKey(new Date());\n    this._animationSource.changed();\n    this.requestUpdate();\n  }\n\n  render() {\n    const mapQuery = document.querySelector(this.for as string);\n    // @ts-ignore\n    const olMap: Map = mapQuery.map || mapQuery;\n\n    olMap.once(\"loadend\", () => {\n      if (!this._originalTileUrlFunction) {\n        const animationLayer = olMap\n          .getLayers()\n          .getArray()\n          .find((l) => l.get(\"id\") === this.layer) as Layer;\n        this._animationSource = animationLayer.getSource() as UrlTile;\n        this._originalTileUrlFunction =\n          //@ts-ignore\n          this._animationSource.getTileUrlFunction();\n      }\n    });\n\n    return html`\n      <style>\n        ${style}\n        ${!this.unstyled && styleEOX}\n      </style>\n      <main>\n        <div id=\"controls\" part=\"controls\">\n          <button\n            part=\"previous\"\n            class=\"icon previous\"\n            @click=\"${() => this.previous()}\"\n          >\n            <\n          </button>\n          <button part=\"next\" class=\"icon next\" @click=\"${() => this.next()}\">\n            >\n          </button>\n          <button\n            part=\"play\"\n            class=\"icon-text ${this._isAnimationPlaying ? \"pause\" : \"play\"}\"\n            @click=\"${() =>\n              this.playAnimation(this._isAnimationPlaying ? false : true)}\"\n          >\n            ${this._isAnimationPlaying ? \"Pause\" : \"Play\"}\n          </button>\n\n          ${this.slider\n            ? html`\n                <div class=\"slider-col\">\n                  <tc-range-slider\n                    data=\"${this.animationValues}\"\n                    part=\"slider\"\n                    value=\"${this.animationValues[this._newTimeIndex]}\"\n                    style=\"display: inline-block;\"\n                    @change=\"${(evt: { detail: { value: string } }) =>\n                      this._updateStep(\n                        this.animationValues.findIndex(\n                          (v) => v === evt.detail.value\n                        ) - this._newTimeIndex\n                      )}\"\n                  ></tc-range-slider>\n\n                  <eox-sliderticks\n                    width=\"300\"\n                    .times=\"${this.animationValues}\"\n                  ></eox-sliderticks>\n                </div>\n              `\n            : \"\"}\n\n          <span part=\"current\"\n            >${this.animationValues[this._newTimeIndex]}</span\n          >\n        </div>\n      </main>\n    `;\n  }\n}\n\n@customElement(\"eox-sliderticks\")\nexport class SliderTicks extends LitElement {\n  @property({ type: Number }) width: number = 0;\n  @property({ type: Array }) times: string[] = [];\n\n  @state() height = 6;\n  @state() svgWidth = 0;\n\n  connectedCallback() {\n    super.connectedCallback();\n    window.addEventListener(\"resize\", this.handleResize.bind(this));\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener(\"resize\", this.handleResize.bind(this));\n    super.disconnectedCallback();\n  }\n\n  firstUpdated() {\n    this.handleResize();\n  }\n\n  handleResize() {\n    this.svgWidth = this.shadowRoot.querySelector(\"svg\").clientWidth;\n    this.height = this.shadowRoot.querySelector(\"svg\").clientHeight;\n  }\n\n  get lines() {\n    const num = this.numLines > this.width / 2 ? this.width / 2 : this.numLines;\n\n    const spacing = this.width / (num - 1);\n    return Array.from({ length: this.numLines }, (_, i) => i * spacing);\n  }\n\n  get numLines() {\n    return this.times ? this.times.length : 0;\n  }\n\n  get yearMarks(): { label: number; position: number }[] {\n    const yearMarks: { label: number; position: number }[] = [];\n    let previousYear: number = null;\n\n    this.lines.forEach((line, index) => {\n      const currentTime = dayjs(this.times[index]);\n      const currentYear = currentTime.year();\n\n      // If it's the first tick or if the year has changed, add a year mark\n      if (index === 0 || currentYear !== previousYear) {\n        yearMarks.push({\n          label: currentYear,\n          position: line, // Assuming 'line' is the position of the tick\n        });\n      }\n\n      // Update previousYear for the next iteration\n      previousYear = currentYear;\n    });\n\n    // Filter out year marks that are too close together, in favor of the second one.\n    return yearMarks.filter((current, i) => {\n      const next = yearMarks[i + 1];\n\n      return !(next && next.position - current.position < 25);\n    });\n  }\n\n  isYearLine(line: number): boolean {\n    // Check if this line's position is approximately equal to any year mark position\n    const isYearMark = this.yearMarks.some(\n      (yearMark) => Math.abs(yearMark.position - line) < 1.0\n    );\n\n    return isYearMark;\n  }\n\n  render() {\n    return html`\n      <div class=\"fill-width\" style=\"margin-top: 3px;\">\n        <svg\n          style=\"width: ${this.width}px; height: 30px;\"\n          viewBox=\"-1 0 ${this.width + 2} ${this.height}\"\n        >\n          ${this.lines.map(\n            (line, index) => svg`\n            <line\n              key=${index}\n              x1=${line}\n              y1=\"0\"\n              x2=${line}\n              y2=${this.isYearLine(line) ? 12 : 6}\n              stroke=${this.isYearLine(line) ? \"#222\" : \"#7596A2\"}\n              stroke-width=${this.isYearLine(line) ? 1 : 1}\n            ></line>\n          `\n          )}\n          ${this.yearMarks.map(\n            (year, index) => svg`\n            <text\n              key=${`y${index}`}\n              x=${year.position}\n              y=${this.height - 1}\n              fill=\"#555\"\n              font-size=\"13\"\n              font-weight=\"500\"\n            >\n              ${year.label}\n            </text>\n          `\n          )}\n        </svg>\n      </div>\n    `;\n  }\n}\n"],"names":["style","styleEOX","button","e","t","module","this","i","s","a","d","n","o","r","u","dayjs","dayOfYear","isoWeek","EOxTimeControl","LitElement","on","config","step","tileCoord","pixelRatio","projection","src","searchParams","mapQuery","olMap","animationLayer","l","html","evt","v","__decorateClass","property","state","customElement","SliderTicks","num","spacing","_","yearMarks","previousYear","line","index","currentYear","current","next","yearMark","svg","year"],"mappings":"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","x_google_ignoreList":[2,3]}