const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./raw-Dt1HMqYc.js","./basedecoder-DvumDe3Y.js","./lzw-DpvbRwG5.js","./jpeg-CdeCw_eT.js","./deflate-CUkHh1nh.js","./pako.esm-CPws4d4z.js","./packbits-DQnG8s9w.js","./lerc-tMI7tzRv.js","./_commonjsHelpers-BosuxZz1.js","./chunk-L4EGOTBX-DDVM6Bp7.js","./entry-preview-cpIABlmh.js","./lit-element-C80UzK4d.js","./index-DrFu-skq.js","./jsx-runtime-CJ5R7Kx3.js","./index-D--Q2AGP.js","./index-n4ZcVrcr.js","./iframe-BrvcAO_y.js","./index-CKIJeAdQ.js","./main-DrfYOv0K.js","./webimage-BcnuJlio.js"])))=>i.map(i=>d[i]);
var Rge=Object.defineProperty;var AJ=t=>{throw TypeError(t)};var Ige=(t,e,r)=>e in t?Rge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ge=(t,e,r)=>Ige(t,typeof e!="symbol"?e+"":e,r),Kx=(t,e,r)=>e.has(t)||AJ("Cannot "+r);var Ut=(t,e,r)=>(Kx(t,e,"read from private field"),r?r.call(t):e.get(t)),nr=(t,e,r)=>e.has(t)?AJ("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Kn=(t,e,r,i)=>(Kx(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),tr=(t,e,r)=>(Kx(t,e,"access private method"),r);import{s as Fge}from"./chunk-L4EGOTBX-DDVM6Bp7.js";import{d as qE,u as Pge,c as vd,a as pg,p as Jx,r as Nge}from"./entry-preview-cpIABlmh.js";import{j as ma}from"./jsx-runtime-CJ5R7Kx3.js";import{useMDXComponents as Rne}from"./index-D--Q2AGP.js";import{ap as $ge,aq as Bge,ar as jge,as as zge,at as Uge,au as qge,av as Hge,aw as Ky}from"./index-n4ZcVrcr.js";import{g as Ps,c as oi,a as Ine}from"./_commonjsHelpers-BosuxZz1.js";import{D as zi,h as Wi,k as et,R as kf,i as Vge,O as rf}from"./lit-element-C80UzK4d.js";import{m as Fne,g as Gge,C as Wge,a as Gi,b as hv,s as Yge,S as r0,V as HE,d as TJ,c as zg,T as DJ,F as b2,R as Rd,e as G1,f as Zge,w as Xge,h as Kge,i as Qd,j as fv,k as VE,l as vc,n as Yb,o as na,p as Zf,P as qa,q as Ko,r as pv,t as Pn,u as i0,v as Af,L as Tl,I as Pne,x as Id,J as Jge,y as Qge,z as Fs,A as e0e,B as v2,D as t0e,M as fp,E as W1,G as H0,H as V0,X as Y1,K as sr,N as lr,O as _t,Q as GE,U as mv,W as r0e,Y as i0e,Z as xc,_ as gv,$ as Nne,a0 as Nr,a1 as je,a2 as Jr,a3 as en,a4 as Jo,a5 as pp,a6 as dc,a7 as n0,a8 as $ne,a9 as Ft,aa as yv,ab as bv,ac as $e,ad as xt,ae as Z1,af as jn,ag as so,ah as vv,ai as Bne,aj as xd,ak as n0e,al as WE,am as jne,an as iu,ao as Dl,ap as Bi,aq as s0e,ar as o0e,as as Ac,at as LJ,au as Ha,av as yl,aw as a0e,ax as YE,ay as zne,az as l0e,aA as Une,aB as u0e,aC as c0e,aD as hs,aE as qne,aF as Va,aG as ZE,aH as d0e,aI as h0e,aJ as x2,aK as Qx,aL as f0e,aM as XE,aN as p0e,aO as Jy,aP as Qy,aQ as Xf,aR as KE,aS as Hne,aT as s0,aU as Vne,aV as m0e,aW as g0e,aX as va,aY as Bn,aZ as JE,a_ as Ya,a$ as QE,b0 as Gne,b1 as OJ,b2 as eh,b3 as MJ,b4 as bf,b5 as y0e,b6 as _2,b7 as Wne,b8 as b0e,b9 as RJ,ba as v0e,bb as eS,bc as x0e,bd as Yne,be as o0,bf as _0e,bg as w0e,bh as Xi,bi as Zne,bj as xv,bk as Qo,bl as Tc,bm as mp,bn as E0e,bo as Yr,bp as S0e,bq as C0e,br as k0e,bs as Xne,bt as Dc,bu as A0e,bv as T0e,bw as D0e,bx as Kne,by as L0e,bz as _v,bA as tS,bB as wv,bC as Jne,bD as wu,bE as G0,bF as W0,bG as rS,bH as iS,bI as Kf,bJ as O0e,bK as M0e,bL as R0e,bM as X1,bN as I0e,bO as F0e,bP as P0e,bQ as e_,bR as a0,bS as K1,bT as N0e,bU as $0e,bV as IJ,bW as FJ,bX as PJ,bY as B0e,bZ as j0e,b_ as w2,b$ as Qne,c0 as z0e,c1 as gp,c2 as ese,c3 as NJ,c4 as Ev,c5 as $J,c6 as fh,c7 as nS,c8 as U0e,c9 as q0e,ca as J1,cb as H0e,cc as sS,cd as tse,ce as V0e,cf as G0e,cg as W0e,ch as Y0e,ci as rse,cj as Z0e,ck as X0e,cl as K0e,cm as J0e,cn as Q0e,co as ise,cp as eye,cq as nse,cr as tye,cs as l0,ct as E2,cu as sse,cv as rye,cw as iye,cx as ose,cy as nye,cz as sye}from"./main-DrfYOv0K.js";import{_ as Nc}from"./iframe-BrvcAO_y.js";const BJ={duration:750},jJ={type:"FeatureCollection",features:[]};function oye(t){if(!(t.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");const e=t.inversePixelTransform[0],r=t.inversePixelTransform[1],i=Math.sqrt(e*e+r*r),n=t.frameState,s=Fne(t.inversePixelTransform.slice(),n.coordinateToPixelTransform),o=Gge(n.viewState.resolution,i);let a;return new Wge(t.context,i,n.extent,s,n.viewState.rotation,o,a)}function ase(t,e,r){const i=[];let n=t(0),s=t(1),o=e(n),a=e(s);const l=[s,n],u=[a,o],h=[1,0],d={};let f=1e5,p,g,y,b,x,w;for(;--f>0&&h.length>0;)y=h.pop(),n=l.pop(),o=u.pop(),w=y.toString(),w in d||(i.push(o[0],o[1]),d[w]=!0),b=h.pop(),s=l.pop(),a=u.pop(),x=(y+b)/2,p=t(x),g=e(p),Yge(g[0],g[1],o[0],o[1],a[0],a[1])<r?(i.push(a[0],a[1]),w=b.toString(),d[w]=!0):(h.push(b,x,x,y),u.push(a,g,g,o),l.push(s,p,p,n));return i}function aye(t,e,r,i,n){const s=Gi("EPSG:4326");return ase(function(o){return[t,e+(r-e)*o]},hv(s,i),n)}function lye(t,e,r,i,n){const s=Gi("EPSG:4326");return ase(function(o){return[e+(r-e)*o,t]},hv(s,i),n)}const uye=new r0({color:"rgba(0,0,0,0.2)"}),cye=[90,45,30,20,10,5,2,1,30/60,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600];class dye extends HE{constructor(e){e=e||{};const r=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},e);delete r.maxLines,delete r.strokeStyle,delete r.targetSize,delete r.showLabels,delete r.lonLabelFormatter,delete r.latLabelFormatter,delete r.lonLabelPosition,delete r.latLabelPosition,delete r.lonLabelStyle,delete r.latLabelStyle,delete r.intervals,super(r),this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxX_=1/0,this.maxY_=1/0,this.minX_=-1/0,this.minY_=-1/0,this.targetSize_=e.targetSize!==void 0?e.targetSize:100,this.maxLines_=e.maxLines!==void 0?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=e.strokeStyle!==void 0?e.strokeStyle:uye,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.bottomLeft_=null,this.bottomRight_=null,this.topLeft_=null,this.topRight_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,e.showLabels&&(this.lonLabelFormatter_=e.lonLabelFormatter==null?TJ.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=e.latLabelFormatter==null?TJ.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=e.lonLabelPosition==null?0:e.lonLabelPosition,this.latLabelPosition_=e.latLabelPosition==null?1:e.latLabelPosition,this.lonLabelStyleBase_=new zg({text:e.lonLabelStyle!==void 0?e.lonLabelStyle.clone():new DJ({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new b2({color:"rgba(0,0,0,1)"}),stroke:new r0({color:"rgba(255,255,255,1)",width:3})})}),this.lonLabelStyle_=i=>{const n=i.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(n),this.lonLabelStyleBase_},this.latLabelStyleBase_=new zg({text:e.latLabelStyle!==void 0?e.latLabelStyle.clone():new DJ({font:"12px Calibri,sans-serif",textAlign:"right",fill:new b2({color:"rgba(0,0,0,1)"}),stroke:new r0({color:"rgba(255,255,255,1)",width:3})})}),this.latLabelStyle_=i=>{const n=i.get("graticule_label");return this.latLabelStyleBase_.getText().setText(n),this.latLabelStyleBase_},this.meridiansLabels_=[],this.parallelsLabels_=[],this.addEventListener(Rd.POSTRENDER,this.drawLabels_.bind(this))),this.intervals_=e.intervals!==void 0?e.intervals:cye,this.setSource(new G1({loader:this.loaderFunction.bind(this),strategy:this.strategyFunction.bind(this),features:new Zge,overlaps:!1,useSpatialIndex:!1,wrapX:e.wrapX})),this.featurePool_=[],this.lineStyle_=new zg({stroke:this.strokeStyle_}),this.loadedExtent_=null,this.renderedExtent_=null,this.renderedResolution_=null,this.setRenderOrder(null)}strategyFunction(e,r){let i=e.slice();return this.projection_&&this.getSource().getWrapX()&&Xge(i,this.projection_),this.loadedExtent_&&(Kge(this.loadedExtent_,i,r)?i=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[i]}loaderFunction(e,r,i){this.loadedExtent_=e;const n=this.getSource(),s=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=Qd(s,e);if(this.renderedExtent_&&fv(this.renderedExtent_,o)&&this.renderedResolution_===r||(this.renderedExtent_=o,this.renderedResolution_=r,VE(o)))return;const a=vc(o),l=r*r/4;(!this.projection_||!Yb(this.projection_,i))&&this.updateProjectionInfo_(i),this.createGraticule_(o,a,r,l);let h=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(h+=this.meridians_.length),this.parallelsLabels_&&(h+=this.parallels_.length);let d;for(;h>this.featurePool_.length;)d=new na,this.featurePool_.push(d);const f=n.getFeaturesCollection();f.clear();let p=0,g,y;for(g=0,y=this.meridians_.length;g<y;++g)d=this.featurePool_[p++],d.setGeometry(this.meridians_[g]),d.setStyle(this.lineStyle_),f.push(d);for(g=0,y=this.parallels_.length;g<y;++g)d=this.featurePool_[p++],d.setGeometry(this.parallels_[g]),d.setStyle(this.lineStyle_),f.push(d)}addMeridian_(e,r,i,n,s,o){const a=this.getMeridian_(e,r,i,n,o);if(Zf(a.getExtent(),s)){if(this.meridiansLabels_){const l=this.lonLabelFormatter_(e);o in this.meridiansLabels_?this.meridiansLabels_[o].text=l:this.meridiansLabels_[o]={geom:new qa([]),text:l}}this.meridians_[o++]=a}return o}addParallel_(e,r,i,n,s,o){const a=this.getParallel_(e,r,i,n,o);if(Zf(a.getExtent(),s)){if(this.parallelsLabels_){const l=this.latLabelFormatter_(e);o in this.parallelsLabels_?this.parallelsLabels_[o].text=l:this.parallelsLabels_[o]={geom:new qa([]),text:l}}this.parallels_[o++]=a}return o}drawLabels_(e){const r=e.frameState.viewState.rotation,i=e.frameState.viewState.resolution,n=e.frameState.size,s=e.frameState.extent,o=vc(s);let a=s;if(r){const g=n[0]*i,y=n[1]*i;a=[o[0]-g/2,o[1]-y/2,o[0]+g/2,o[1]+y/2]}let l=0,u=0,h=this.latLabelPosition_<.5;const d=this.projection_.getExtent(),f=Ko(d);if(this.getSource().getWrapX()&&this.projection_.canWrapX()&&!pv(d,s)){l=Math.floor((s[0]-d[0])/f),u=Math.ceil((s[2]-d[2])/f);const g=Math.abs(r)>Math.PI/2;h=h!==g}const p=oye(e);for(let g=l;g<=u;++g){let y=this.meridians_.length+this.parallels_.length,b,x,w,S;if(this.meridiansLabels_)for(x=0,w=this.meridiansLabels_.length;x<w;++x){const C=this.meridians_[x];if(!r&&g===0)S=this.getMeridianPoint_(C,s,x);else{const k=C.clone();k.translate(g*f,0),k.rotate(-r,o),S=this.getMeridianPoint_(k,a,x),S.rotate(r,o)}b=this.featurePool_[y++],b.setGeometry(S),b.set("graticule_label",this.meridiansLabels_[x].text),p.drawFeature(b,this.lonLabelStyle_(b))}if(this.parallelsLabels_&&(g===l&&h||g===u&&!h))for(x=0,w=this.parallels_.length;x<w;++x){const C=this.parallels_[x];if(!r&&g===0)S=this.getParallelPoint_(C,s,x);else{const k=C.clone();k.translate(g*f,0),k.rotate(-r,o),S=this.getParallelPoint_(k,a,x),S.rotate(r,o)}b=this.featurePool_[y++],b.setGeometry(S),b.set("graticule_label",this.parallelsLabels_[x].text),p.drawFeature(b,this.latLabelStyle_(b))}}}createGraticule_(e,r,i,n){const s=this.getInterval_(i);if(s==-1){this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);return}let o=!1;const a=this.projection_.getExtent(),l=Ko(a);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!pv(a,e)&&(Ko(e)>=l?(e[0]=a[0],e[2]=a[2]):o=!0);const u=[Pn(r[0],this.minX_,this.maxX_),Pn(r[1],this.minY_,this.maxY_)],h=this.toLonLatTransform_(u);isNaN(h[1])&&(h[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);let d=Pn(h[0],this.minLon_,this.maxLon_),f=Pn(h[1],this.minLat_,this.maxLat_);const p=this.maxLines_;let g,y,b,x,w=e;o||(w=[Pn(e[0],this.minX_,this.maxX_),Pn(e[1],this.minY_,this.maxY_),Pn(e[2],this.minX_,this.maxX_),Pn(e[3],this.minY_,this.maxY_)]);const S=i0(w,this.toLonLatTransform_,void 0,8);let C=S[3],k=S[2],O=S[1],M=S[0];if(o||(Af(w,this.bottomLeft_)&&(M=this.minLon_,O=this.minLat_),Af(w,this.bottomRight_)&&(k=this.maxLon_,O=this.minLat_),Af(w,this.topLeft_)&&(M=this.minLon_,C=this.maxLat_),Af(w,this.topRight_)&&(k=this.maxLon_,C=this.maxLat_),C=Pn(C,f,this.maxLat_),k=Pn(k,d,this.maxLon_),O=Pn(O,this.minLat_,f),M=Pn(M,this.minLon_,d)),d=Math.floor(d/s)*s,x=Pn(d,this.minLon_,this.maxLon_),y=this.addMeridian_(x,O,C,n,e,0),g=0,o)for(;(x-=s)>=M&&g++<p;)y=this.addMeridian_(x,O,C,n,e,y);else for(;x!=this.minLon_&&g++<p;)x=Math.max(x-s,this.minLon_),y=this.addMeridian_(x,O,C,n,e,y);if(x=Pn(d,this.minLon_,this.maxLon_),g=0,o)for(;(x+=s)<=k&&g++<p;)y=this.addMeridian_(x,O,C,n,e,y);else for(;x!=this.maxLon_&&g++<p;)x=Math.min(x+s,this.maxLon_),y=this.addMeridian_(x,O,C,n,e,y);for(this.meridians_.length=y,this.meridiansLabels_&&(this.meridiansLabels_.length=y),f=Math.floor(f/s)*s,b=Pn(f,this.minLat_,this.maxLat_),y=this.addParallel_(b,M,k,n,e,0),g=0;b!=this.minLat_&&g++<p;)b=Math.max(b-s,this.minLat_),y=this.addParallel_(b,M,k,n,e,y);for(b=Pn(f,this.minLat_,this.maxLat_),g=0;b!=this.maxLat_&&g++<p;)b=Math.min(b+s,this.maxLat_),y=this.addParallel_(b,M,k,n,e,y);this.parallels_.length=y,this.parallelsLabels_&&(this.parallelsLabels_.length=y)}getInterval_(e){const r=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1];let n=-1;const s=Math.pow(this.targetSize_*e,2),o=[],a=[];for(let l=0,u=this.intervals_.length;l<u;++l){const h=Pn(this.intervals_[l]/2,0,90),d=Pn(i,-90+h,90-h);if(o[0]=r-h,o[1]=d-h,a[0]=r+h,a[1]=d+h,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=s)break;n=this.intervals_[l]}return n}getMeridian_(e,r,i,n,s){const o=aye(e,r,i,this.projection_,n);let a=this.meridians_[s];return a?(a.setFlatCoordinates("XY",o),a.changed()):(a=new Tl(o,"XY"),this.meridians_[s]=a),a}getMeridianPoint_(e,r,i){const n=e.getFlatCoordinates();let s=1,o=n.length-1;n[s]>n[o]&&(s=o,o=1);const a=Math.max(r[1],n[s]),l=Math.min(r[3],n[o]),u=Pn(r[1]+Math.abs(r[1]-r[3])*this.lonLabelPosition_,a,l),d=[n[s-1]+(n[o-1]-n[s-1])*(u-n[s])/(n[o]-n[s]),u],f=this.meridiansLabels_[i].geom;return f.setCoordinates(d),f}getMeridians(){return this.meridians_}getParallel_(e,r,i,n,s){const o=lye(e,r,i,this.projection_,n);let a=this.parallels_[s];return a?(a.setFlatCoordinates("XY",o),a.changed()):a=new Tl(o,"XY"),a}getParallelPoint_(e,r,i){const n=e.getFlatCoordinates();let s=0,o=n.length-2;n[s]>n[o]&&(s=o,o=0);const a=Math.max(r[0],n[s]),l=Math.min(r[2],n[o]),u=Pn(r[0]+Math.abs(r[0]-r[2])*this.latLabelPosition_,a,l),h=n[s+1]+(n[o+1]-n[s+1])*(u-n[s])/(n[o]-n[s]),d=[u,h],f=this.parallelsLabels_[i].geom;return f.setCoordinates(d),f}getParallels(){return this.parallels_}updateProjectionInfo_(e){const r=Gi("EPSG:4326"),i=e.getWorldExtent();this.maxLat_=i[3],this.maxLon_=i[2],this.minLat_=i[1],this.minLon_=i[0];const n=hv(e,r);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=n;else{const o=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(a,l,u){u=u||2;const h=n(a,l,u);for(let d=0,f=h.length;d<f;d+=u)h[d]<o&&(h[d]+=360);return h}}this.fromLonLatTransform_=hv(r,e);const s=i0([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=s[0],this.maxX_=s[2],this.minY_=s[1],this.maxY_=s[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(vc(e.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=e}}const hye=dye;class oS extends Pne{constructor(e,r,i,n,s){const o=s!==void 0?Id.IDLE:Id.LOADED;super(e,r,i,o),this.loader_=s!==void 0?s:null,this.canvas_=n,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Id.ERROR):this.state=Id.LOADED,this.changed()}load(){this.state==Id.IDLE&&(this.state=Id.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}const fye={Point:yye,LineString:bye,Polygon:wye,MultiPoint:xye,MultiLineString:vye,MultiPolygon:_ye},pye={Point:Eye,LineString:Sye,Polygon:Cye,MultiPoint:Aye,MultiLineString:kye,MultiPolygon:Tye};class mye extends Jge{constructor(e){e=e||{},super(),this.geometryName_=e.geometryName}readFeatureFromObject(e,r,i){const n=e,s=zJ(n.geometry,r),o=new na;if(this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(s),n.attributes){o.setProperties(n.attributes,!0);const a=n.attributes[i];a!==void 0&&o.setId(a)}return o}readFeaturesFromObject(e,r){if(r=r||{},e.features){const i=e,n=[],s=i.features;for(let o=0,a=s.length;o<a;++o)n.push(this.readFeatureFromObject(s[o],r,e.objectIdFieldName));return n}return[this.readFeatureFromObject(e,r)]}readGeometryFromObject(e,r){return zJ(e,r)}readProjectionFromObject(e){if(e.spatialReference&&e.spatialReference.wkid!==void 0){const i=e.spatialReference.wkid;return Gi("EPSG:"+i)}return null}writeGeometryObject(e,r){return UJ(e,this.adaptOptions(r))}writeFeatureObject(e,r){r=this.adaptOptions(r);const i={};if(!e.hasProperties())return i.attributes={},i;const n=e.getProperties(),s=e.getGeometry();if(s){i.geometry=UJ(s,r);const o=r&&(r.dataProjection||r.featureProjection);o&&(i.geometry.spatialReference={wkid:Number(Gi(o).getCode().split(":").pop())}),delete n[e.getGeometryName()]}return Qge(n)?i.attributes={}:i.attributes=n,i}writeFeaturesObject(e,r){r=this.adaptOptions(r);const i=[];for(let n=0,s=e.length;n<s;++n)i.push(this.writeFeatureObject(e[n],r));return{features:i}}}function zJ(t,e){if(!t)return null;let r;if(typeof t.x=="number"&&typeof t.y=="number")r="Point";else if(t.points)r="MultiPoint";else if(t.paths)t.paths.length===1?r="LineString":r="MultiLineString";else if(t.rings){const n=t,s=yp(n),o=gye(n.rings,s);o.length===1?(r="Polygon",t=Object.assign({},t,{rings:o[0]})):(r="MultiPolygon",t=Object.assign({},t,{rings:o}))}const i=fye[r];return Fs(i(t),!1,e)}function gye(t,e){const r=[],i=[],n=[];let s,o;for(s=0,o=t.length;s<o;++s)r.length=0,e0e(r,0,t[s],e.length),t0e(r,0,r.length,e.length)?i.push([t[s]]):n.push(t[s]);for(;n.length;){const a=n.shift();let l=!1;for(s=i.length-1;s>=0;s--){const u=i[s][0];if(pv(new v2(u).getExtent(),new v2(a).getExtent())){i[s].push(a),l=!0;break}}l||i.push([a.reverse()])}return i}function yye(t){let e;return t.m!==void 0&&t.z!==void 0?e=new qa([t.x,t.y,t.z,t.m],"XYZM"):t.z!==void 0?e=new qa([t.x,t.y,t.z],"XYZ"):t.m!==void 0?e=new qa([t.x,t.y,t.m],"XYM"):e=new qa([t.x,t.y]),e}function bye(t){const e=yp(t);return new Tl(t.paths[0],e)}function vye(t){const e=yp(t);return new fp(t.paths,e)}function yp(t){let e="XY";return t.hasZ===!0&&t.hasM===!0?e="XYZM":t.hasZ===!0?e="XYZ":t.hasM===!0&&(e="XYM"),e}function xye(t){const e=yp(t);return new W1(t.points,e)}function _ye(t){const e=yp(t);return new H0(t.rings,e)}function wye(t){const e=yp(t);return new V0(t.rings,e)}function Eye(t,e){const r=t.getCoordinates();let i;const n=t.getLayout();if(n==="XYZ")i={x:r[0],y:r[1],z:r[2]};else if(n==="XYM")i={x:r[0],y:r[1],m:r[2]};else if(n==="XYZM")i={x:r[0],y:r[1],z:r[2],m:r[3]};else if(n==="XY")i={x:r[0],y:r[1]};else throw new Error("Invalid geometry layout");return i}function Y0(t){const e=t.getLayout();return{hasZ:e==="XYZ"||e==="XYZM",hasM:e==="XYM"||e==="XYZM"}}function Sye(t,e){const r=Y0(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:[t.getCoordinates()]}}function Cye(t,e){const r=Y0(t);return{hasZ:r.hasZ,hasM:r.hasM,rings:t.getCoordinates(!1)}}function kye(t,e){const r=Y0(t);return{hasZ:r.hasZ,hasM:r.hasM,paths:t.getCoordinates()}}function Aye(t,e){const r=Y0(t);return{hasZ:r.hasZ,hasM:r.hasM,points:t.getCoordinates()}}function Tye(t,e){const r=Y0(t),i=t.getCoordinates(!1),n=[];for(let s=0;s<i.length;s++)for(let o=i[s].length-1;o>=0;o--)n.push(i[s][o]);return{hasZ:r.hasZ,hasM:r.hasM,rings:n}}function UJ(t,e){const r=pye[t.getType()];return r(Fs(t,!0,e),e)}const Dye=mye,fu="http://www.opengis.net/gml",Lye=/^\s*$/;class Gt extends Y1{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:sr(this.readFeaturesInternal),featureMembers:lr(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,r){const i=e.localName;let n=null;if(i=="FeatureCollection")n=_t([],this.FEATURE_COLLECTION_PARSERS,e,r,this);else if(i=="featureMembers"||i=="featureMember"||i=="member"){const s=r[0];let o=s.featureType,a=s.featureNS;const l="p",u="p0";if(!o&&e.childNodes){o=[],a={};for(let f=0,p=e.childNodes.length;f<p;++f){const g=e.childNodes[f];if(g.nodeType===1){const y=g.nodeName.split(":").pop();if(!o.includes(y)){let b="",x=0;const w=g.namespaceURI;for(const S in a){if(a[S]===w){b=S;break}++x}b||(b=l+x,a[b]=w),o.push(b+":"+y)}}}i!="featureMember"&&(s.featureType=o,s.featureNS=a)}if(typeof a=="string"){const f=a;a={},a[u]=f}const h={},d=Array.isArray(o)?o:[o];for(const f in a){const p={};for(let g=0,y=d.length;g<y;++g)(d[g].includes(":")?d[g].split(":")[0]:u)===f&&(p[d[g].split(":").pop()]=i=="featureMembers"?sr(this.readFeatureElement,this):lr(this.readFeatureElement,this));h[a[f]]=p}i=="featureMember"||i=="member"?n=_t(void 0,h,e,r):n=_t([],h,e,r)}return n===null&&(n=[]),n}readGeometryOrExtent(e,r){const i=r[0];return i.srsName=e.firstElementChild.getAttribute("srsName"),i.srsDimension=e.firstElementChild.getAttribute("srsDimension"),_t(null,this.GEOMETRY_PARSERS,e,r,this)}readExtentElement(e,r){const i=r[0],n=this.readGeometryOrExtent(e,r);return n?GE(n,i):void 0}readGeometryElement(e,r){const i=r[0],n=this.readGeometryOrExtent(e,r);return n?Fs(n,!1,i):void 0}readFeatureElementInternal(e,r,i){let n;const s={};for(let l=e.firstElementChild;l;l=l.nextElementSibling){let u;const h=l.localName;l.childNodes.length===0||l.childNodes.length===1&&(l.firstChild.nodeType===3||l.firstChild.nodeType===4)?(u=mv(l,!1),Lye.test(u)&&(u=void 0)):(i&&(u=h==="boundedBy"?this.readExtentElement(l,r):this.readGeometryElement(l,r)),u?h!=="boundedBy"&&(n=h):u=this.readFeatureElementInternal(l,r,!1));const d=l.attributes.length;if(d>0&&!(u instanceof r0e)){u={_content_:u};for(let f=0;f<d;f++){const p=l.attributes[f].name;u[p]=l.attributes[f].value}}s[h]?(s[h]instanceof Array||(s[h]=[s[h]]),s[h].push(u)):s[h]=u}if(!i)return s;const o=new na(s);n&&o.setGeometryName(n);const a=e.getAttribute("fid")||i0e(e,this.namespace,"id");return a&&o.setId(a),o}readFeatureElement(e,r){return this.readFeatureElementInternal(e,r,!0)}readPoint(e,r){const i=this.readFlatCoordinatesFromNode(e,r);if(i)return new qa(i,"XYZ")}readMultiPoint(e,r){const i=_t([],this.MULTIPOINT_PARSERS,e,r,this);if(i)return new W1(i)}readMultiLineString(e,r){const i=_t([],this.MULTILINESTRING_PARSERS,e,r,this);if(i)return new fp(i)}readMultiPolygon(e,r){const i=_t([],this.MULTIPOLYGON_PARSERS,e,r,this);if(i)return new H0(i)}pointMemberParser(e,r){xc(this.POINTMEMBER_PARSERS,e,r,this)}lineStringMemberParser(e,r){xc(this.LINESTRINGMEMBER_PARSERS,e,r,this)}polygonMemberParser(e,r){xc(this.POLYGONMEMBER_PARSERS,e,r,this)}readLineString(e,r){const i=this.readFlatCoordinatesFromNode(e,r);if(i)return new Tl(i,"XYZ")}readFlatLinearRing(e,r){const i=_t(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,r,this);if(i)return i}readLinearRing(e,r){const i=this.readFlatCoordinatesFromNode(e,r);if(i)return new v2(i,"XYZ")}readPolygon(e,r){const i=_t([null],this.FLAT_LINEAR_RINGS_PARSERS,e,r,this);if(i&&i[0]){const n=i[0],s=[n.length];let o,a;for(o=1,a=i.length;o<a;++o)gv(n,i[o]),s.push(n.length);return new V0(n,"XYZ",s)}}readFlatCoordinatesFromNode(e,r){return _t(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,r,this)}readGeometryFromNode(e,r){const i=this.readGeometryElement(e,[this.getReadOptions(e,r||{})]);return i||null}readFeaturesFromNode(e,r){const i={featureType:this.featureType,featureNS:this.featureNS};return i&&Object.assign(i,this.getReadOptions(e,r)),this.readFeaturesInternal(e,[i])||[]}readProjectionFromNode(e){return Gi(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}}Gt.prototype.namespace=fu;Gt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};Gt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};Gt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};Gt.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:sr(Gt.prototype.pointMemberParser),pointMembers:sr(Gt.prototype.pointMemberParser)}};Gt.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:sr(Gt.prototype.lineStringMemberParser),lineStringMembers:sr(Gt.prototype.lineStringMemberParser)}};Gt.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:sr(Gt.prototype.polygonMemberParser),polygonMembers:sr(Gt.prototype.polygonMemberParser)}};Gt.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:sr(Gt.prototype.readFlatCoordinatesFromNode)}};Gt.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:sr(Gt.prototype.readLineString)}};Gt.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:sr(Gt.prototype.readPolygon)}};Gt.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:lr(Gt.prototype.readFlatLinearRing)}};const Oye=fu+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",Mye={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class Zr extends Gt{constructor(e){e=e||{},super(e),this.FEATURE_COLLECTION_PARSERS[fu].featureMember=sr(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:Oye}readFlatCoordinates(e,r){const i=mv(e,!1).replace(/^\s*|\s*$/g,""),s=r[0].srsName;let o="enu";if(s){const u=Gi(s);u&&(o=u.getAxisOrientation())}const a=i.trim().split(/\s+/),l=[];for(let u=0,h=a.length;u<h;u++){const d=a[u].split(/,+/),f=parseFloat(d[0]),p=parseFloat(d[1]),g=d.length===3?parseFloat(d[2]):0;o.startsWith("en")?l.push(f,p,g):l.push(p,f,g)}return l}readBox(e,r){const i=_t([null],this.BOX_PARSERS_,e,r,this);return Nne(i[1][0],i[1][1],i[1][3],i[1][4])}innerBoundaryIsParser(e,r){const i=_t(void 0,this.RING_PARSERS,e,r,this);i&&r[r.length-1].push(i)}outerBoundaryIsParser(e,r){const i=_t(void 0,this.RING_PARSERS,e,r,this);if(i){const n=r[r.length-1];n[0]=i}}GEOMETRY_NODE_FACTORY_(e,r,i){const n=r[r.length-1],s=n.multiSurface,o=n.surface,a=n.multiCurve;return Array.isArray(e)?i="Envelope":(i=e.getType(),i==="MultiPolygon"&&s===!0?i="MultiSurface":i==="Polygon"&&o===!0?i="Surface":i==="MultiLineString"&&a===!0&&(i="MultiCurve")),Nr("http://www.opengis.net/gml",i)}writeFeatureElement(e,r,i){const n=r.getId();n&&e.setAttribute("fid",n);const s=i[i.length-1],o=s.featureNS,a=r.getGeometryName();s.serializers||(s.serializers={},s.serializers[o]={});const l=[],u=[];if(r.hasProperties()){const d=r.getProperties();for(const f in d){const p=d[f];p!=null&&(l.push(f),u.push(p),f==a||typeof p.getSimplifiedGeometry=="function"?f in s.serializers[o]||(s.serializers[o][f]=je(this.writeGeometryElement,this)):f in s.serializers[o]||(s.serializers[o][f]=je(Jr)))}}const h=Object.assign({},s);h.node=e,en(h,s.serializers,Jo(void 0,o),u,i,l)}writeCurveOrLineString(e,r,i){const s=i[i.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&s&&e.setAttribute("srsName",s),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,r,i)}else if(e.nodeName==="Curve"){const o=Nr(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,r,i)}}writeLineStringOrCurveMember(e,r,i){const n=this.GEOMETRY_NODE_FACTORY_(r,i);n&&(e.appendChild(n),this.writeCurveOrLineString(n,r,i))}writeMultiCurveOrLineString(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName,a=n.curve;o&&e.setAttribute("srsName",o);const l=r.getLineStrings();en({node:e,hasZ:s,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,i,void 0,this)}writeGeometryElement(e,r,i){const n=i[i.length-1],s=Object.assign({},n);s.node=e;let o;Array.isArray(r)?o=GE(r,n):o=Fs(r,!0,n),en(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],i,void 0,this)}createCoordinatesNode_(e){const r=Nr(e,"coordinates");return r.setAttribute("decimal","."),r.setAttribute("cs",","),r.setAttribute("ts"," "),r}writeCoordinates_(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName,a=r.getCoordinates(),l=a.length,u=new Array(l);for(let h=0;h<l;++h){const d=a[h];u[h]=this.getCoords_(d,o,s)}Jr(e,u.join(" "))}writeCurveSegments_(e,r,i){const n=Nr(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString(n,r,i)}writeSurfaceOrPolygon(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName;if(e.nodeName!=="PolygonPatch"&&o&&e.setAttribute("srsName",o),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const a=r.getLinearRings();en({node:e,hasZ:s,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,i,void 0,this)}else if(e.nodeName==="Surface"){const a=Nr(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,r,i)}}RING_NODE_FACTORY_(e,r,i){const n=r[r.length-1],s=n.node,o=n.exteriorWritten;return o===void 0&&(n.exteriorWritten=!0),Nr(s.namespaceURI,o!==void 0?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,r,i){const n=Nr(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon(n,r,i)}writeRing(e,r,i){const n=Nr(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing(n,r,i)}getCoords_(e,r,i){let s=(r?Gi(r).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(i){const o=e[2]||0;s+=","+o}return s}writePoint(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName;o&&e.setAttribute("srsName",o);const a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a);const l=r.getCoordinates(),u=this.getCoords_(l,o,s);Jr(a,u)}writeMultiPoint(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName;o&&e.setAttribute("srsName",o);const a=r.getPoints();en({node:e,hasZ:s,srsName:o},this.POINTMEMBER_SERIALIZERS,Jo("pointMember"),a,i,void 0,this)}writePointMember(e,r,i){const n=Nr(e.namespaceURI,"Point");e.appendChild(n),this.writePoint(n,r,i)}writeLinearRing(e,r,i){const s=i[i.length-1].srsName;s&&e.setAttribute("srsName",s);const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,r,i)}writeMultiSurfaceOrPolygon(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName,a=n.surface;o&&e.setAttribute("srsName",o);const l=r.getPolygons();en({node:e,hasZ:s,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,i,void 0,this)}writeSurfaceOrPolygonMember(e,r,i){const n=this.GEOMETRY_NODE_FACTORY_(r,i);n&&(e.appendChild(n),this.writeSurfaceOrPolygon(n,r,i))}writeEnvelope(e,r,i){const s=i[i.length-1].srsName;s&&e.setAttribute("srsName",s);const o=["lowerCorner","upperCorner"],a=[r[0]+" "+r[1],r[2]+" "+r[3]];en({node:e},this.ENVELOPE_SERIALIZERS,pp,a,i,o,this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,r,i){const n=r[r.length-1].node;return Nr("http://www.opengis.net/gml",Mye[n.nodeName])}}Zr.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:lr(Zr.prototype.readFlatCoordinates)}};Zr.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Zr.prototype.innerBoundaryIsParser,outerBoundaryIs:Zr.prototype.outerBoundaryIsParser}};Zr.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:sr(Zr.prototype.readFlatCoordinates)}};Zr.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:lr(Gt.prototype.readPoint),MultiPoint:lr(Gt.prototype.readMultiPoint),LineString:lr(Gt.prototype.readLineString),MultiLineString:lr(Gt.prototype.readMultiLineString),LinearRing:lr(Gt.prototype.readLinearRing),Polygon:lr(Gt.prototype.readPolygon),MultiPolygon:lr(Gt.prototype.readMultiPolygon),Box:lr(Zr.prototype.readBox)}};Zr.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:je(Zr.prototype.writeCurveOrLineString),MultiCurve:je(Zr.prototype.writeMultiCurveOrLineString),Point:je(Zr.prototype.writePoint),MultiPoint:je(Zr.prototype.writeMultiPoint),LineString:je(Zr.prototype.writeCurveOrLineString),MultiLineString:je(Zr.prototype.writeMultiCurveOrLineString),LinearRing:je(Zr.prototype.writeLinearRing),Polygon:je(Zr.prototype.writeSurfaceOrPolygon),MultiPolygon:je(Zr.prototype.writeMultiSurfaceOrPolygon),Surface:je(Zr.prototype.writeSurfaceOrPolygon),MultiSurface:je(Zr.prototype.writeMultiSurfaceOrPolygon),Envelope:je(Zr.prototype.writeEnvelope)}};Zr.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:je(Zr.prototype.writeLineStringOrCurveMember),curveMember:je(Zr.prototype.writeLineStringOrCurveMember)}};Zr.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:je(Zr.prototype.writeRing),innerBoundaryIs:je(Zr.prototype.writeRing)}};Zr.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:je(Zr.prototype.writePointMember)}};Zr.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:je(Zr.prototype.writeSurfaceOrPolygonMember),polygonMember:je(Zr.prototype.writeSurfaceOrPolygonMember)}};Zr.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:je(Jr),upperCorner:je(Jr)}};const Rye=fu+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",Iye={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class yt extends Gt{constructor(e){e=e||{},super(e),this.surface_=e.surface!==void 0?e.surface:!1,this.curve_=e.curve!==void 0?e.curve:!1,this.multiCurve_=e.multiCurve!==void 0?e.multiCurve:!0,this.multiSurface_=e.multiSurface!==void 0?e.multiSurface:!0,this.schemaLocation=e.schemaLocation?e.schemaLocation:Rye,this.hasZ=e.hasZ!==void 0?e.hasZ:!1}readMultiCurve(e,r){const i=_t([],this.MULTICURVE_PARSERS,e,r,this);if(i)return new fp(i)}readFlatCurveRing(e,r){const i=_t([],this.MULTICURVE_PARSERS,e,r,this),n=[];for(let s=0,o=i.length;s<o;++s)gv(n,i[s].getFlatCoordinates());return n}readMultiSurface(e,r){const i=_t([],this.MULTISURFACE_PARSERS,e,r,this);if(i)return new H0(i)}curveMemberParser(e,r){xc(this.CURVEMEMBER_PARSERS,e,r,this)}surfaceMemberParser(e,r){xc(this.SURFACEMEMBER_PARSERS,e,r,this)}readPatch(e,r){return _t([null],this.PATCHES_PARSERS,e,r,this)}readSegment(e,r){return _t([],this.SEGMENTS_PARSERS,e,r,this)}readPolygonPatch(e,r){return _t([null],this.FLAT_LINEAR_RINGS_PARSERS,e,r,this)}readLineStringSegment(e,r){return _t([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,r,this)}interiorParser(e,r){const i=_t(void 0,this.RING_PARSERS,e,r,this);i&&r[r.length-1].push(i)}exteriorParser(e,r){const i=_t(void 0,this.RING_PARSERS,e,r,this);if(i){const n=r[r.length-1];n[0]=i}}readSurface(e,r){const i=_t([null],this.SURFACE_PARSERS,e,r,this);if(i&&i[0]){const n=i[0],s=[n.length];let o,a;for(o=1,a=i.length;o<a;++o)gv(n,i[o]),s.push(n.length);return new V0(n,"XYZ",s)}}readCurve(e,r){const i=_t([null],this.CURVE_PARSERS,e,r,this);if(i)return new Tl(i,"XYZ")}readEnvelope(e,r){const i=_t([null],this.ENVELOPE_PARSERS,e,r,this);return Nne(i[1][0],i[1][1],i[2][0],i[2][1])}readFlatPos(e,r){let i=mv(e,!1);const n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,s=[];let o;for(;o=n.exec(i);)s.push(parseFloat(o[1])),i=i.substr(o[0].length);if(i!=="")return;const l=r[0].srsName;if((l?Gi(l).getAxisOrientation():"enu")==="neu")for(let d=0,f=s.length;d<f;d+=3){const p=s[d],g=s[d+1];s[d]=g,s[d+1]=p}const h=s.length;if(h==2&&s.push(0),h!==0)return s}readFlatPosList(e,r){const i=mv(e,!1).replace(/^\s*|\s*$/g,""),n=r[0],s=n.srsName,o=n.srsDimension,a=s?Gi(s).getAxisOrientation():"enu",l=i.split(/\s+/);let u=2;e.getAttribute("srsDimension")?u=dc(e.getAttribute("srsDimension")):e.getAttribute("dimension")?u=dc(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?u=dc(e.parentNode.getAttribute("srsDimension")):o&&(u=dc(o));const h=a.startsWith("en");let d,f,p;const g=[];for(let y=0,b=l.length;y<b;y+=u)d=parseFloat(l[y]),f=parseFloat(l[y+1]),p=u===3?parseFloat(l[y+2]):0,h?g.push(d,f,p):g.push(f,d,p);return g}writePos_(e,r,i){const n=i[i.length-1],s=n.hasZ,o=s?"3":"2";e.setAttribute("srsDimension",o);const a=n.srsName,l=a?Gi(a).getAxisOrientation():"enu",u=r.getCoordinates();let h=l.startsWith("en")?u[0]+" "+u[1]:u[1]+" "+u[0];if(s){const d=u[2]||0;h+=" "+d}Jr(e,h)}getCoords_(e,r,i){let s=(r?Gi(r).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(i){const o=e[2]||0;s+=" "+o}return s}writePosList_(e,r,i){const n=i[i.length-1],s=n.hasZ,o=s?"3":"2";e.setAttribute("srsDimension",o);const a=n.srsName,l=r.getCoordinates(),u=l.length,h=new Array(u);let d;for(let f=0;f<u;++f)d=l[f],h[f]=this.getCoords_(d,a,s);Jr(e,h.join(" "))}writePoint(e,r,i){const s=i[i.length-1].srsName;s&&e.setAttribute("srsName",s);const o=Nr(e.namespaceURI,"pos");e.appendChild(o),this.writePos_(o,r,i)}writeEnvelope(e,r,i){const s=i[i.length-1].srsName;s&&e.setAttribute("srsName",s);const o=["lowerCorner","upperCorner"],a=[r[0]+" "+r[1],r[2]+" "+r[3]];en({node:e},this.ENVELOPE_SERIALIZERS,pp,a,i,o,this)}writeLinearRing(e,r,i){const s=i[i.length-1].srsName;s&&e.setAttribute("srsName",s);const o=Nr(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,r,i)}RING_NODE_FACTORY_(e,r,i){const n=r[r.length-1],s=n.node,o=n.exteriorWritten;return o===void 0&&(n.exteriorWritten=!0),Nr(s.namespaceURI,o!==void 0?"interior":"exterior")}writeSurfaceOrPolygon(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName;if(e.nodeName!=="PolygonPatch"&&o&&e.setAttribute("srsName",o),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const a=r.getLinearRings();en({node:e,hasZ:s,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,i,void 0,this)}else if(e.nodeName==="Surface"){const a=Nr(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,r,i)}}writeCurveOrLineString(e,r,i){const s=i[i.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&s&&e.setAttribute("srsName",s),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=Nr(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,r,i)}else if(e.nodeName==="Curve"){const o=Nr(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,r,i)}}writeMultiSurfaceOrPolygon(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName,a=n.surface;o&&e.setAttribute("srsName",o);const l=r.getPolygons();en({node:e,hasZ:s,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,i,void 0,this)}writeMultiPoint(e,r,i){const n=i[i.length-1],s=n.srsName,o=n.hasZ;s&&e.setAttribute("srsName",s);const a=r.getPoints();en({node:e,hasZ:o,srsName:s},this.POINTMEMBER_SERIALIZERS,Jo("pointMember"),a,i,void 0,this)}writeMultiCurveOrLineString(e,r,i){const n=i[i.length-1],s=n.hasZ,o=n.srsName,a=n.curve;o&&e.setAttribute("srsName",o);const l=r.getLineStrings();en({node:e,hasZ:s,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,i,void 0,this)}writeRing(e,r,i){const n=Nr(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing(n,r,i)}writeSurfaceOrPolygonMember(e,r,i){const n=this.GEOMETRY_NODE_FACTORY_(r,i);n&&(e.appendChild(n),this.writeSurfaceOrPolygon(n,r,i))}writePointMember(e,r,i){const n=Nr(e.namespaceURI,"Point");e.appendChild(n),this.writePoint(n,r,i)}writeLineStringOrCurveMember(e,r,i){const n=this.GEOMETRY_NODE_FACTORY_(r,i);n&&(e.appendChild(n),this.writeCurveOrLineString(n,r,i))}writeSurfacePatches_(e,r,i){const n=Nr(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon(n,r,i)}writeCurveSegments_(e,r,i){const n=Nr(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString(n,r,i)}writeGeometryElement(e,r,i){const n=i[i.length-1],s=Object.assign({},n);s.node=e;let o;Array.isArray(r)?o=GE(r,n):o=Fs(r,!0,n),en(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[o],i,void 0,this)}writeFeatureElement(e,r,i){const n=r.getId();n&&e.setAttribute("fid",n);const s=i[i.length-1],o=s.featureNS,a=r.getGeometryName();s.serializers||(s.serializers={},s.serializers[o]={});const l=[],u=[];if(r.hasProperties()){const d=r.getProperties();for(const f in d){const p=d[f];p!=null&&(l.push(f),u.push(p),f==a||typeof p.getSimplifiedGeometry=="function"?f in s.serializers[o]||(s.serializers[o][f]=je(this.writeGeometryElement,this)):f in s.serializers[o]||(s.serializers[o][f]=je(Jr)))}}const h=Object.assign({},s);h.node=e,en(h,s.serializers,Jo(void 0,o),u,i,l)}writeFeatureMembers_(e,r,i){const n=i[i.length-1],s=n.featureType,o=n.featureNS,a={};a[o]={},a[o][s]=je(this.writeFeatureElement,this);const l=Object.assign({},n);l.node=e,en(l,a,Jo(s,o),r,i)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,r,i){const n=r[r.length-1].node;return Nr(this.namespace,Iye[n.nodeName])}GEOMETRY_NODE_FACTORY_(e,r,i){const n=r[r.length-1],s=n.multiSurface,o=n.surface,a=n.curve,l=n.multiCurve;return Array.isArray(e)?i="Envelope":(i=e.getType(),i==="MultiPolygon"&&s===!0?i="MultiSurface":i==="Polygon"&&o===!0?i="Surface":i==="LineString"&&a===!0?i="Curve":i==="MultiLineString"&&l===!0&&(i="MultiCurve")),Nr(this.namespace,i)}writeGeometryNode(e,r){r=this.adaptOptions(r);const i=Nr(this.namespace,"geom"),n={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return r&&Object.assign(n,r),this.writeGeometryElement(i,e,[n]),i}writeFeaturesNode(e,r){r=this.adaptOptions(r);const i=Nr(this.namespace,"featureMembers");i.setAttributeNS(n0,"xsi:schemaLocation",this.schemaLocation);const n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return r&&Object.assign(n,r),this.writeFeatureMembers_(i,e,[n]),i}}yt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:lr(yt.prototype.readFlatPos),posList:lr(yt.prototype.readFlatPosList),coordinates:lr(Zr.prototype.readFlatCoordinates)}};yt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:yt.prototype.interiorParser,exterior:yt.prototype.exteriorParser}};yt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:lr(Gt.prototype.readPoint),MultiPoint:lr(Gt.prototype.readMultiPoint),LineString:lr(Gt.prototype.readLineString),MultiLineString:lr(Gt.prototype.readMultiLineString),LinearRing:lr(Gt.prototype.readLinearRing),Polygon:lr(Gt.prototype.readPolygon),MultiPolygon:lr(Gt.prototype.readMultiPolygon),Surface:lr(yt.prototype.readSurface),MultiSurface:lr(yt.prototype.readMultiSurface),Curve:lr(yt.prototype.readCurve),MultiCurve:lr(yt.prototype.readMultiCurve),Envelope:lr(yt.prototype.readEnvelope)}};yt.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:sr(yt.prototype.curveMemberParser),curveMembers:sr(yt.prototype.curveMemberParser)}};yt.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:sr(yt.prototype.surfaceMemberParser),surfaceMembers:sr(yt.prototype.surfaceMemberParser)}};yt.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:sr(Gt.prototype.readLineString),Curve:sr(yt.prototype.readCurve)}};yt.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:sr(Gt.prototype.readPolygon),Surface:sr(yt.prototype.readSurface)}};yt.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:lr(yt.prototype.readPatch)}};yt.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:lr(yt.prototype.readSegment)}};yt.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:sr(yt.prototype.readFlatPosList),upperCorner:sr(yt.prototype.readFlatPosList)}};yt.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:lr(yt.prototype.readPolygonPatch)}};yt.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:$ne(yt.prototype.readLineStringSegment)}};Gt.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:lr(Gt.prototype.readFlatLinearRing),Ring:lr(yt.prototype.readFlatCurveRing)}};yt.prototype.writeFeatures;yt.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:je(yt.prototype.writeRing),interior:je(yt.prototype.writeRing)}};yt.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:je(Jr),upperCorner:je(Jr)}};yt.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:je(yt.prototype.writeSurfaceOrPolygonMember),polygonMember:je(yt.prototype.writeSurfaceOrPolygonMember)}};yt.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:je(yt.prototype.writePointMember)}};yt.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:je(yt.prototype.writeLineStringOrCurveMember),curveMember:je(yt.prototype.writeLineStringOrCurveMember)}};yt.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:je(yt.prototype.writeCurveOrLineString),MultiCurve:je(yt.prototype.writeMultiCurveOrLineString),Point:je(yt.prototype.writePoint),MultiPoint:je(yt.prototype.writeMultiPoint),LineString:je(yt.prototype.writeCurveOrLineString),MultiLineString:je(yt.prototype.writeMultiCurveOrLineString),LinearRing:je(yt.prototype.writeLinearRing),Polygon:je(yt.prototype.writeSurfaceOrPolygon),MultiPolygon:je(yt.prototype.writeMultiSurfaceOrPolygon),Surface:je(yt.prototype.writeSurfaceOrPolygon),MultiSurface:je(yt.prototype.writeMultiSurfaceOrPolygon),Envelope:je(yt.prototype.writeEnvelope)}};const aS=yt;aS.prototype.writeFeatures;aS.prototype.writeFeaturesNode;const Fye=aS,vn=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Pye="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Nye={rte:lse,trk:use,wpt:cse},$ye=Ft(vn,{rte:sr(lse),trk:sr(use),wpt:sr(cse)}),Bye=Ft(vn,{text:$e(xt,"linkText"),type:$e(xt,"linkType")}),jye=Ft(vn,{name:$e(xt),email:fbe,link:Z0}),zye=Ft(vn,{name:$e(xt),desc:$e(xt),author:$e(cbe),copyright:$e(dbe),link:Z0,time:$e(Z1),keywords:$e(xt),bounds:hbe,extensions:Q1}),Uye=Ft(vn,{year:$e(jn),license:$e(xt)}),qye=Ft(vn,{rte:je(ybe),trk:je(bbe),wpt:je(xbe)});class Hye extends Y1{constructor(e){super(),e=e||{},this.dataProjection=Gi("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let r=0,i=e.length;r<i;++r){const n=e[r];if(this.readExtensions_){const s=n.get("extensionsNode_")||null;this.readExtensions_(n,s)}n.set("extensionsNode_",void 0)}}readMetadata(e){return e?typeof e=="string"?this.readMetadataFromDocument(yv(e)):bv(e)?this.readMetadataFromDocument(e):this.readMetadataFromNode(e):null}readMetadataFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType===Node.ELEMENT_NODE){const i=this.readMetadataFromNode(r);if(i)return i}return null}readMetadataFromNode(e){if(!vn.includes(e.namespaceURI))return null;for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(vn.includes(r.namespaceURI)&&r.localName==="metadata")return _t({},zye,r,[]);return null}readFeatureFromNode(e,r){if(!vn.includes(e.namespaceURI))return null;const i=Nye[e.localName];if(!i)return null;const n=i(e,[this.getReadOptions(e,r)]);return n?(this.handleReadExtensions_([n]),n):null}readFeaturesFromNode(e,r){if(!vn.includes(e.namespaceURI))return[];if(e.localName=="gpx"){const i=_t([],$ye,e,[this.getReadOptions(e,r)]);return i?(this.handleReadExtensions_(i),i):[]}return[]}writeFeaturesNode(e,r){r=this.adaptOptions(r);const i=Nr("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",n0),i.setAttributeNS(n0,"xsi:schemaLocation",Pye),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),en({node:i},qye,ube,e,[r]),i}}const Vye=Ft(vn,{name:$e(xt),cmt:$e(xt),desc:$e(xt),src:$e(xt),link:Z0,number:$e(jn),extensions:Q1,type:$e(xt),rtept:pbe}),Gye=Ft(vn,{ele:$e(so),time:$e(Z1)}),Wye=Ft(vn,{name:$e(xt),cmt:$e(xt),desc:$e(xt),src:$e(xt),link:Z0,number:$e(jn),type:$e(xt),extensions:Q1,trkseg:gbe}),Yye=Ft(vn,{trkpt:mbe}),Zye=Ft(vn,{ele:$e(so),time:$e(Z1)}),Xye=Ft(vn,{ele:$e(so),time:$e(Z1),magvar:$e(so),geoidheight:$e(so),name:$e(xt),cmt:$e(xt),desc:$e(xt),src:$e(xt),link:Z0,sym:$e(xt),type:$e(xt),fix:$e(xt),sat:$e(jn),hdop:$e(so),vdop:$e(so),pdop:$e(so),ageofdgpsdata:$e(so),dgpsid:$e(jn),extensions:Q1}),Kye=["text","type"],Jye=Ft(vn,{text:je(Jr),type:je(Jr)}),Qye=Ft(vn,["name","cmt","desc","src","link","number","type","rtept"]),ebe=Ft(vn,{name:je(Jr),cmt:je(Jr),desc:je(Jr),src:je(Jr),link:je(cS),number:je(vv),type:je(Jr),rtept:Bne(je(dS))}),tbe=Ft(vn,["ele","time"]),rbe=Ft(vn,["name","cmt","desc","src","link","number","type","trkseg"]),ibe=Ft(vn,{name:je(Jr),cmt:je(Jr),desc:je(Jr),src:je(Jr),link:je(cS),number:je(vv),type:je(Jr),trkseg:Bne(je(vbe))}),nbe=Jo("trkpt"),sbe=Ft(vn,{trkpt:je(dS)}),obe=Ft(vn,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),abe=Ft(vn,{ele:je(xd),time:je(n0e),magvar:je(xd),geoidheight:je(xd),name:je(Jr),cmt:je(Jr),desc:je(Jr),src:je(Jr),link:je(cS),sym:je(Jr),type:je(Jr),fix:je(Jr),sat:je(vv),hdop:je(xd),vdop:je(xd),pdop:je(xd),ageofdgpsdata:je(xd),dgpsid:je(vv)}),lbe={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function ube(t,e,r){const i=t.getGeometry();if(i){const n=lbe[i.getType()];if(n){const s=e[e.length-1].node;return Nr(s.namespaceURI,n)}}}function lS(t,e,r,i){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function uS(t,e,r){let i="XY",n=2;if(t.hasZ&&t.hasM?(i="XYZM",n=4):t.hasZ?(i="XYZ",n=3):t.hasM&&(i="XYM",n=3),n!==4){for(let s=0,o=e.length/4;s<o;s++)e[s*n]=e[s*4],e[s*n+1]=e[s*4+1],t.hasZ&&(e[s*n+2]=e[s*4+2]),t.hasM&&(e[s*n+2]=e[s*4+3]);if(e.length=e.length/4*n,r)for(let s=0,o=r.length;s<o;s++)r[s]=r[s]/4*n}return i}function cbe(t,e){const r=_t({},jye,t,e);if(r)return r}function dbe(t,e){const r=_t({},Uye,t,e);if(r){const i=t.getAttribute("author");return i!==null&&(r.author=i),r}}function hbe(t,e){const r=e[e.length-1],i=t.getAttribute("minlat"),n=t.getAttribute("minlon"),s=t.getAttribute("maxlat"),o=t.getAttribute("maxlon");n!==null&&i!==null&&o!==null&&s!==null&&(r.bounds=[[parseFloat(n),parseFloat(i)],[parseFloat(o),parseFloat(s)]])}function fbe(t,e){const r=e[e.length-1],i=t.getAttribute("id"),n=t.getAttribute("domain");i!==null&&n!==null&&(r.email=`${i}@${n}`)}function Z0(t,e){const r=e[e.length-1],i=t.getAttribute("href");i!==null&&(r.link=i),xc(Bye,t,e)}function Q1(t,e){const r=e[e.length-1];r.extensionsNode_=t}function pbe(t,e){const r=_t({},Gye,t,e);if(r){const i=e[e.length-1],n=i.flatCoordinates,s=i.layoutOptions;lS(n,s,t,r)}}function mbe(t,e){const r=_t({},Zye,t,e);if(r){const i=e[e.length-1],n=i.flatCoordinates,s=i.layoutOptions;lS(n,s,t,r)}}function gbe(t,e){const r=e[e.length-1];xc(Yye,t,e);const i=r.flatCoordinates;r.ends.push(i.length)}function lse(t,e){const r=e[0],i=_t({flatCoordinates:[],layoutOptions:{}},Vye,t,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const s=i.layoutOptions;delete i.layoutOptions;const o=uS(s,n),a=new Tl(n,o);Fs(a,!1,r);const l=new na(a);return l.setProperties(i,!0),l}function use(t,e){const r=e[0],i=_t({flatCoordinates:[],ends:[],layoutOptions:{}},Wye,t,e);if(!i)return;const n=i.flatCoordinates;delete i.flatCoordinates;const s=i.ends;delete i.ends;const o=i.layoutOptions;delete i.layoutOptions;const a=uS(o,n,s),l=new fp(n,a,s);Fs(l,!1,r);const u=new na(l);return u.setProperties(i,!0),u}function cse(t,e){const r=e[0],i=_t({},Xye,t,e);if(!i)return;const n={},s=lS([],n,t,i),o=uS(n,s),a=new qa(s,o);Fs(a,!1,r);const l=new na(a);return l.setProperties(i,!0),l}function cS(t,e,r){t.setAttribute("href",e);const n=r[r.length-1].properties,s=[n.linkText,n.linkType];en({node:t},Jye,pp,s,r,Kye)}function dS(t,e,r){const i=r[r.length-1],s=i.node.namespaceURI,o=i.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case"XYZM":e[3]!==0&&(o.time=e[3]);case"XYZ":e[2]!==0&&(o.ele=e[2]);break;case"XYM":e[2]!==0&&(o.time=e[2]);break}const l=t.nodeName=="rtept"?tbe[s]:obe[s],u=WE(o,l);en({node:t,properties:o},abe,pp,u,r,l)}function ybe(t,e,r){const i=r[0],n=e.getProperties(),s={node:t};s.properties=n;const o=e.getGeometry();if(o.getType()=="LineString"){const h=Fs(o,!0,i);s.geometryLayout=h.getLayout(),n.rtept=h.getCoordinates()}const a=r[r.length-1].node,l=Qye[a.namespaceURI],u=WE(n,l);en(s,ebe,pp,u,r,l)}function bbe(t,e,r){const i=r[0],n=e.getProperties(),s={node:t};s.properties=n;const o=e.getGeometry();if(o.getType()=="MultiLineString"){const h=Fs(o,!0,i);n.trkseg=h.getLineStrings()}const a=r[r.length-1].node,l=rbe[a.namespaceURI],u=WE(n,l);en(s,ibe,pp,u,r,l)}function vbe(t,e,r){const i={node:t};i.geometryLayout=e.getLayout(),i.properties={},en(i,sbe,nbe,e.getCoordinates(),r)}function xbe(t,e,r){const i=r[0],n=r[r.length-1];n.properties=e.getProperties();const s=e.getGeometry();if(s.getType()=="Point"){const o=Fs(s,!0,i);n.geometryLayout=o.getLayout(),dS(t,o.getCoordinates(),r)}}const _be=Hye;class hS extends jne{constructor(){super()}getType(){return"text"}readFeature(e,r){return this.readFeatureFromText(eb(e),this.adaptOptions(r))}readFeatureFromText(e,r){return iu()}readFeatures(e,r){return this.readFeaturesFromText(eb(e),this.adaptOptions(r))}readFeaturesFromText(e,r){return iu()}readGeometry(e,r){return this.readGeometryFromText(eb(e),this.adaptOptions(r))}readGeometryFromText(e,r){return iu()}readProjection(e){return this.readProjectionFromText(eb(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,r){return this.writeFeatureText(e,this.adaptOptions(r))}writeFeatureText(e,r){return iu()}writeFeatures(e,r){return this.writeFeaturesText(e,this.adaptOptions(r))}writeFeaturesText(e,r){return iu()}writeGeometry(e,r){return this.writeGeometryText(e,this.adaptOptions(r))}writeGeometryText(e,r){return iu()}}function eb(t){return typeof t=="string"?t:""}const wbe=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Ebe=/^H.([A-Z]{3}).*?:(.*)/,Sbe=/^HFDTE(\d{2})(\d{2})(\d{2})/,Cbe=/^HFDTEDATE:(\d{2})(\d{2})(\d{2}),(\d{2})/,kbe=/\r\n|\r|\n/;class Abe extends hS{constructor(e){super(),e=e||{},this.dataProjection=Gi("EPSG:4326"),this.altitudeMode_=e.altitudeMode?e.altitudeMode:"none",this.lad_=!1,this.lod_=!1,this.ladStart_=0,this.ladStop_=0,this.lodStart_=0,this.lodStop_=0}readFeatureFromText(e,r){const i=this.altitudeMode_,n=e.split(kbe),s={},o=[];let a=2e3,l=0,u=1,h=-1,d,f;for(d=0,f=n.length;d<f;++d){const b=n[d];let x;if(b.charAt(0)=="B"){if(x=wbe.exec(b),x){const w=parseInt(x[1],10),S=parseInt(x[2],10),C=parseInt(x[3],10);let k=parseInt(x[4],10)+parseInt(x[5],10)/6e4;this.lad_&&(k+=parseInt(b.slice(this.ladStart_,this.ladStop_),10)/6e4/10**(this.ladStop_-this.ladStart_)),x[6]=="S"&&(k=-k);let O=parseInt(x[7],10)+parseInt(x[8],10)/6e4;if(this.lod_&&(O+=parseInt(b.slice(this.lodStart_,this.lodStop_),10)/6e4/10**(this.lodStop_-this.lodStart_)),x[9]=="W"&&(O=-O),o.push(O,k),i!="none"){let A;i=="gps"?A=parseInt(x[11],10):i=="barometric"?A=parseInt(x[12],10):A=0,o.push(A)}let M=Date.UTC(a,l,u,w,S,C);M<h&&(M=Date.UTC(a,l,u+1,w,S,C)),o.push(M/1e3),h=M}}else if(b.charAt(0)=="H")x=Cbe.exec(b),x?(u=parseInt(x[1],10),l=parseInt(x[2],10)-1,a=2e3+parseInt(x[3],10)):(x=Sbe.exec(b),x?(u=parseInt(x[1],10),l=parseInt(x[2],10)-1,a=2e3+parseInt(x[3],10)):(x=Ebe.exec(b),x&&(s[x[1]]=x[2].trim())));else if(b.charAt(0)=="I"){const w=parseInt(b.slice(1,3),10);for(let S=0;S<w;S++){const C=b.slice(7+S*7,10+S*7);if(C==="LAD"||C==="LOD"){const k=parseInt(b.slice(3+S*7,5+S*7),10)-1,O=parseInt(b.slice(5+S*7,7+S*7),10);C==="LAD"?(this.lad_=!0,this.ladStart_=k,this.ladStop_=O):C==="LOD"&&(this.lod_=!0,this.lodStart_=k,this.lodStop_=O)}}}}if(o.length===0)return null;const p=i=="none"?"XYM":"XYZM",g=new Tl(o,p),y=new na(Fs(g,!1,r));return y.setProperties(s,!0),y}readFeaturesFromText(e,r){const i=this.readFeatureFromText(e,r);return i?[i]:[]}}const Tbe=Abe,us={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},th={};th[us.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};th[us.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}};th[us.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}};th.none={none:{supports:[],formats:[],qualities:[]}};const Dbe=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,qJ=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,Lbe=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function Obe(t){let e=t.getComplianceLevelSupportedFeatures();return e===void 0&&(e=th[us.VERSION1].level0),{url:t.imageInfo["@id"]===void 0?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:[...e.formats,t.imageInfo.formats===void 0?[]:t.imageInfo.formats],qualities:[...e.qualities,t.imageInfo.qualities===void 0?[]:t.imageInfo.qualities],resolutions:t.imageInfo.scale_factors,tileSize:t.imageInfo.tile_width!==void 0?t.imageInfo.tile_height!==void 0?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:t.imageInfo.tile_height!=null?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}}function Mbe(t){const e=t.getComplianceLevelSupportedFeatures(),r=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,i=r&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],n=r&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],s=r&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:t.imageInfo.sizes===void 0?void 0:t.imageInfo.sizes.map(function(o){return[o.width,o.height]}),tileSize:t.imageInfo.tiles===void 0?void 0:[t.imageInfo.tiles.map(function(o){return o.width})[0],t.imageInfo.tiles.map(function(o){return o.height===void 0?o.width:o.height})[0]],resolutions:t.imageInfo.tiles===void 0?void 0:t.imageInfo.tiles.map(function(o){return o.scaleFactors})[0],supports:[...e.supports,...i],formats:[...e.formats,...n],qualities:[...e.qualities,...s]}}function Rbe(t){const e=t.getComplianceLevelSupportedFeatures(),r=t.imageInfo.extraFormats===void 0?e.formats:[...e.formats,...t.imageInfo.extraFormats],i=t.imageInfo.preferredFormats!==void 0&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter(function(n){return["jpg","png","gif"].includes(n)}).reduce(function(n,s){return n===void 0&&r.includes(s)?s:n},void 0):void 0;return{url:t.imageInfo.id,sizes:t.imageInfo.sizes===void 0?void 0:t.imageInfo.sizes.map(function(n){return[n.width,n.height]}),tileSize:t.imageInfo.tiles===void 0?void 0:[t.imageInfo.tiles.map(function(n){return n.width})[0],t.imageInfo.tiles.map(function(n){return n.height})[0]],resolutions:t.imageInfo.tiles===void 0?void 0:t.imageInfo.tiles.map(function(n){return n.scaleFactors})[0],supports:t.imageInfo.extraFeatures===void 0?e.supports:[...e.supports,...t.imageInfo.extraFeatures],formats:r,qualities:t.imageInfo.extraQualities===void 0?e.qualities:[...e.qualities,...t.imageInfo.extraQualities],preferredFormat:i}}const ex={};ex[us.VERSION1]=Obe;ex[us.VERSION2]=Mbe;ex[us.VERSION3]=Rbe;class Ibe{constructor(e){this.setImageInfo(e)}setImageInfo(e){typeof e=="string"?this.imageInfo=JSON.parse(e):this.imageInfo=e}getImageApiVersion(){if(this.imageInfo===void 0)return;let e=this.imageInfo["@context"]||"ol-no-context";typeof e=="string"&&(e=[e]);for(let r=0;r<e.length;r++)switch(e[r]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return us.VERSION1;case"http://iiif.io/api/image/2/context.json":return us.VERSION2;case"http://iiif.io/api/image/3/context.json":return us.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(us.VERSION1)&&this.imageInfo.identifier)return us.VERSION1;break}Dl(!1,"Cannot determine IIIF Image API version from provided image information JSON")}getComplianceLevelEntryFromProfile(e){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(e===void 0&&(e=this.getImageApiVersion()),e){case us.VERSION1:if(Dbe.test(this.imageInfo.profile))return this.imageInfo.profile;break;case us.VERSION3:if(Lbe.test(this.imageInfo.profile))return this.imageInfo.profile;break;case us.VERSION2:if(typeof this.imageInfo.profile=="string"&&qJ.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&qJ.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}}getComplianceLevelFromProfile(e){const r=this.getComplianceLevelEntryFromProfile(e);if(r===void 0)return;const i=r.match(/level[0-2](?:\.json)?$/g);return Array.isArray(i)?i[0].replace(".json",""):void 0}getComplianceLevelSupportedFeatures(){if(this.imageInfo===void 0)return;const e=this.getImageApiVersion(),r=this.getComplianceLevelFromProfile(e);return r===void 0?th.none.none:th[e][r]}getTileSourceOptions(e){const r=e||{},i=this.getImageApiVersion();if(i===void 0)return;const n=i===void 0?void 0:ex[i](this);if(n!==void 0)return{url:n.url,version:i,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:r.format!==void 0&&n.formats.includes(r.format)?r.format:n.preferredFormat!==void 0?n.preferredFormat:"jpg",supports:n.supports,quality:r.quality&&n.qualities.includes(r.quality)?r.quality:n.qualities.includes("native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort(function(s,o){return o-s}):void 0,tileSize:n.tileSize}}}const Fbe=Ibe;class fS{read(e){if(!e)return null;if(typeof e=="string"){const r=yv(e);return this.readFromDocument(r)}return bv(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readFromNode(r);return null}readFromNode(e){iu()}}const Pbe="http://www.w3.org/1999/xlink";function bp(t){return t.getAttributeNS(Pbe,"href")}const qo=[null,"http://www.opengis.net/ows/1.1"],Nbe=Ft(qo,{ServiceIdentification:$e(lve),ServiceProvider:$e(cve),OperationsMetadata:$e(ove)});class $be extends fS{constructor(){super()}readFromNode(e){const r=_t({},Nbe,e,[]);return r||null}}const Bbe=Ft(qo,{DeliveryPoint:$e(xt),City:$e(xt),AdministrativeArea:$e(xt),PostalCode:$e(xt),Country:$e(xt),ElectronicMailAddress:$e(xt)}),jbe=Ft(qo,{Value:Bi(dve)}),zbe=Ft(qo,{AllowedValues:$e(Qbe)}),Ube=Ft(qo,{Phone:$e(ave),Address:$e(Jbe)}),qbe=Ft(qo,{HTTP:$e(nve)}),Hbe=Ft(qo,{Get:Bi(ive),Post:void 0}),Vbe=Ft(qo,{DCP:$e(rve)}),Gbe=Ft(qo,{Operation:sve}),Wbe=Ft(qo,{Voice:$e(xt),Facsimile:$e(xt)}),Ybe=Ft(qo,{Constraint:Bi(eve)}),Zbe=Ft(qo,{IndividualName:$e(xt),PositionName:$e(xt),ContactInfo:$e(tve)}),Xbe=Ft(qo,{Abstract:$e(xt),AccessConstraints:$e(xt),Fees:$e(xt),Title:$e(xt),ServiceTypeVersion:$e(xt),ServiceType:$e(xt)}),Kbe=Ft(qo,{ProviderName:$e(xt),ProviderSite:$e(bp),ServiceContact:$e(uve)});function Jbe(t,e){return _t({},Bbe,t,e)}function Qbe(t,e){return _t({},jbe,t,e)}function eve(t,e){const r=t.getAttribute("name");if(r)return _t({name:r},zbe,t,e)}function tve(t,e){return _t({},Ube,t,e)}function rve(t,e){return _t({},qbe,t,e)}function ive(t,e){const r=bp(t);if(r)return _t({href:r},Ybe,t,e)}function nve(t,e){return _t({},Hbe,t,e)}function sve(t,e){const r=t.getAttribute("name"),i=_t({},Vbe,t,e);if(!i)return;const n=e[e.length-1];n[r]=i}function ove(t,e){return _t({},Gbe,t,e)}function ave(t,e){return _t({},Wbe,t,e)}function lve(t,e){return _t({},Xbe,t,e)}function uve(t,e){return _t({},Zbe,t,e)}function cve(t,e){return _t({},Kbe,t,e)}function dve(t,e){return xt(t)}const dse=$be;function HJ(t,e,r,i,n,s){n!==void 0?(n=n,s=s!==void 0?s:0):(n=[],s=0);let o=e;for(;o<r;){const a=t[o++];n[s++]=t[o++],n[s++]=a;for(let l=2;l<i;++l)n[s++]=t[o++]}return n.length=s,n}class hve extends hS{constructor(e){super(),e=e||{},this.dataProjection=Gi("EPSG:4326"),this.factor_=e.factor?e.factor:1e5,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY"}readFeatureFromText(e,r){const i=this.readGeometryFromText(e,r);return new na(i)}readFeaturesFromText(e,r){return[this.readFeatureFromText(e,r)]}readGeometryFromText(e,r){const i=s0e(this.geometryLayout_),n=pve(e,i,this.factor_);HJ(n,0,n.length,i,n);const s=o0e(n,0,n.length,i),o=new Tl(s,this.geometryLayout_);return Fs(o,!1,this.adaptOptions(r))}writeFeatureText(e,r){const i=e.getGeometry();if(i)return this.writeGeometryText(i,r);throw new Error("Expected `feature` to have a geometry")}writeFeaturesText(e,r){return this.writeFeatureText(e[0],r)}writeGeometryText(e,r){e=Fs(e,!0,this.adaptOptions(r));const i=e.getFlatCoordinates(),n=e.getStride();return HJ(i,0,i.length,n,i),fve(i,n,this.factor_)}}function fve(t,e,r){r=r||1e5;let i;const n=new Array(e);for(i=0;i<e;++i)n[i]=0;for(let s=0,o=t.length;s<o;)for(i=0;i<e;++i,++s){const a=t[s],l=a-n[i];n[i]=a,t[s]=l}return mve(t,r)}function pve(t,e,r){r=r||1e5;let i;const n=new Array(e);for(i=0;i<e;++i)n[i]=0;const s=gve(t,r);for(let o=0,a=s.length;o<a;)for(i=0;i<e;++i,++o)n[i]+=s[o],s[o]=n[i];return s}function mve(t,e){e=e||1e5;for(let r=0,i=t.length;r<i;++r)t[r]=Math.round(t[r]*e);return yve(t)}function gve(t,e){e=e||1e5;const r=bve(t);for(let i=0,n=r.length;i<n;++i)r[i]/=e;return r}function yve(t){for(let e=0,r=t.length;e<r;++e){const i=t[e];t[e]=i<0?~(i<<1):i<<1}return vve(t)}function bve(t){const e=xve(t);for(let r=0,i=e.length;r<i;++r){const n=e[r];e[r]=n&1?~(n>>1):n>>1}return e}function vve(t){let e="";for(let r=0,i=t.length;r<i;++r)e+=_ve(t[r]);return e}function xve(t){const e=[];let r=0,i=0;for(let n=0,s=t.length;n<s;++n){const o=t.charCodeAt(n)-63;r|=(o&31)<<i,o<32?(e.push(r),r=0,i=0):i+=5}return e}function _ve(t){let e,r="";for(;t>=32;)e=(32|t&31)+63,r+=String.fromCharCode(e),t>>=5;return e=t+63,r+=String.fromCharCode(e),r}const wve=hve;class wi extends yt{constructor(e){e=e||{},super(e),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,r,i){const n=i[i.length-1];i[i.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},n),super.writeGeometryElement(e,r,i)}}wi.prototype.namespace="http://www.opengis.net/gml/3.2";wi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:lr(yt.prototype.readFlatPos),posList:lr(yt.prototype.readFlatPosList),coordinates:lr(Zr.prototype.readFlatCoordinates)}};wi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:yt.prototype.interiorParser,exterior:yt.prototype.exteriorParser}};wi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:lr(Gt.prototype.readPoint),MultiPoint:lr(Gt.prototype.readMultiPoint),LineString:lr(Gt.prototype.readLineString),MultiLineString:lr(Gt.prototype.readMultiLineString),LinearRing:lr(Gt.prototype.readLinearRing),Polygon:lr(Gt.prototype.readPolygon),MultiPolygon:lr(Gt.prototype.readMultiPolygon),Surface:lr(wi.prototype.readSurface),MultiSurface:lr(yt.prototype.readMultiSurface),Curve:lr(wi.prototype.readCurve),MultiCurve:lr(yt.prototype.readMultiCurve),Envelope:lr(wi.prototype.readEnvelope)}};wi.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:sr(yt.prototype.curveMemberParser),curveMembers:sr(yt.prototype.curveMemberParser)}};wi.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:sr(yt.prototype.surfaceMemberParser),surfaceMembers:sr(yt.prototype.surfaceMemberParser)}};wi.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:sr(Gt.prototype.readLineString),Curve:sr(yt.prototype.readCurve)}};wi.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:sr(Gt.prototype.readPolygon),Surface:sr(yt.prototype.readSurface)}};wi.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:lr(yt.prototype.readPatch)}};wi.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:lr(yt.prototype.readSegment)}};wi.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:sr(yt.prototype.readFlatPosList),upperCorner:sr(yt.prototype.readFlatPosList)}};wi.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:lr(yt.prototype.readPolygonPatch)}};wi.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:$ne(yt.prototype.readLineStringSegment)}};wi.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:sr(Gt.prototype.pointMemberParser),pointMembers:sr(Gt.prototype.pointMemberParser)}};wi.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:sr(Gt.prototype.lineStringMemberParser),lineStringMembers:sr(Gt.prototype.lineStringMemberParser)}};wi.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:sr(Gt.prototype.polygonMemberParser),polygonMembers:sr(Gt.prototype.polygonMemberParser)}};wi.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:sr(Gt.prototype.readFlatCoordinatesFromNode)}};wi.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:sr(Gt.prototype.readLineString)}};wi.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:sr(Gt.prototype.readPolygon)}};wi.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:lr(Gt.prototype.readFlatLinearRing),Ring:lr(wi.prototype.readFlatCurveRing)}};wi.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:je(yt.prototype.writeRing),interior:je(yt.prototype.writeRing)}};wi.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:je(Jr),upperCorner:je(Jr)}};wi.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:je(yt.prototype.writeSurfaceOrPolygonMember),polygonMember:je(yt.prototype.writeSurfaceOrPolygonMember)}};wi.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:je(yt.prototype.writePointMember)}};wi.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:je(yt.prototype.writeLineStringOrCurveMember),curveMember:je(yt.prototype.writeLineStringOrCurveMember)}};wi.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:je(yt.prototype.writeCurveOrLineString),MultiCurve:je(yt.prototype.writeMultiCurveOrLineString),Point:je(wi.prototype.writePoint),MultiPoint:je(yt.prototype.writeMultiPoint),LineString:je(yt.prototype.writeCurveOrLineString),MultiLineString:je(yt.prototype.writeMultiCurveOrLineString),LinearRing:je(yt.prototype.writeLinearRing),Polygon:je(yt.prototype.writeSurfaceOrPolygon),MultiPolygon:je(yt.prototype.writeMultiSurfaceOrPolygon),Surface:je(yt.prototype.writeSurfaceOrPolygon),MultiSurface:je(yt.prototype.writeMultiSurfaceOrPolygon),Envelope:je(yt.prototype.writeEnvelope)}};class hse{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}}class Eve extends hse{constructor(e,r){super(e),this.conditions=r,Dl(this.conditions.length>=2,"At least 2 conditions are required")}}class Sve extends Eve{constructor(e){super("And",Array.prototype.slice.call(arguments))}}class Cve extends hse{constructor(e,r,i){if(super("BBOX"),this.geometryName=e,this.extent=r,r.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=i}}function kve(t){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Sve,e))}function Ave(t,e,r){return new Cve(t,e,r)}const VJ={"http://www.opengis.net/gml":{boundedBy:$e(Gt.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:sr(Gt.prototype.readFeaturesInternal)}},Tve={"http://www.opengis.net/wfs":{totalInserted:$e(jn),totalUpdated:$e(jn),totalDeleted:$e(jn)},"http://www.opengis.net/wfs/2.0":{totalInserted:$e(jn),totalUpdated:$e(jn),totalDeleted:$e(jn)}},Dve={"http://www.opengis.net/wfs":{TransactionSummary:$e(WJ,"transactionSummary"),InsertResults:$e(ZJ,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:$e(WJ,"transactionSummary"),InsertResults:$e(ZJ,"insertIds")}},Lve={"http://www.opengis.net/wfs":{PropertyName:je(Jr)},"http://www.opengis.net/wfs/2.0":{PropertyName:je(Jr)}},fse={"http://www.opengis.net/wfs":{Insert:je(XJ),Update:je(JJ),Delete:je(KJ),Property:je(QJ),Native:je(eQ)},"http://www.opengis.net/wfs/2.0":{Insert:je(XJ),Update:je(JJ),Delete:je(KJ),Property:je(QJ),Native:je(eQ)}},pse="feature",pS="http://www.w3.org/2000/xmlns/",mS={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},S2={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},gS={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},GJ={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},yS={"2.0.0":wi,"1.1.0":yt,"1.0.0":Zr},Ove="1.1.0";class Mve extends Y1{constructor(e){super(),e=e||{},this.version_=e.version?e.version:Ove,this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new yS[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:GJ[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,r){const i={node:e};Object.assign(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(i,this.getReadOptions(e,r||{}));const n=[i];let s;this.version_==="2.0.0"?s=VJ:s=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let o=_t([],s,e,n,this.gmlFormat_);return o||(o=[]),o}readTransactionResponse(e){if(e){if(typeof e=="string"){const r=yv(e);return this.readTransactionResponseFromDocument(r)}return bv(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if(typeof e=="string"){const r=yv(e);return this.readFeatureCollectionMetadataFromDocument(r)}return bv(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(r)}readFeatureCollectionMetadataFromNode(e){const r={},i=dc(e.getAttribute("numberOfFeatures"));return r.numberOfFeatures=i,_t(r,VJ,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(r)}readTransactionResponseFromNode(e){return _t({},Dve,e,[])}writeGetFeature(e){const r=Nr(S2[this.version_],"GetFeature");r.setAttribute("service","WFS"),r.setAttribute("version",this.version_),e.handle&&r.setAttribute("handle",e.handle),e.outputFormat&&r.setAttribute("outputFormat",e.outputFormat),e.maxFeatures!==void 0&&r.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&r.setAttribute("resultType",e.resultType),e.startIndex!==void 0&&r.setAttribute("startIndex",String(e.startIndex)),e.count!==void 0&&r.setAttribute("count",String(e.count)),e.viewParams!==void 0&&r.setAttribute("viewParams",e.viewParams),r.setAttributeNS(n0,"xsi:schemaLocation",this.schemaLocation_);const i={node:r};if(Object.assign(i,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),Dl(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),typeof e.featureTypes[0]=="string"){let n=e.filter;e.bbox&&(Dl(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),n=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,n)),Object.assign(i,{geometryName:e.geometryName,filter:n}),cQ(r,e.featureTypes,[i])}else e.featureTypes.forEach(n=>{const s=this.combineBboxAndFilter(n.geometryName,n.bbox,e.srsName,e.filter);Object.assign(i,{geometryName:n.geometryName,filter:s}),cQ(r,[n.name],[i])});return r}combineBboxAndFilter(e,r,i,n){const s=Ave(e,r,i);return n?kve(n,s):s}writeTransaction(e,r,i,n){const s=[],o=n.version?n.version:this.version_,a=Nr(S2[o],"Transaction");a.setAttribute("service","WFS"),a.setAttribute("version",o);let l;n&&(l=n.gmlOptions?n.gmlOptions:{},n.handle&&a.setAttribute("handle",n.handle)),a.setAttributeNS(n0,"xsi:schemaLocation",GJ[o]);const u=Rve(a,l,o,n);return e&&tb("Insert",e,s,u),r&&tb("Update",r,s,u),i&&tb("Delete",i,s,u),n.nativeElements&&tb("Native",n.nativeElements,s,u),a}readProjectionFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(r);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(!(r.childNodes.length===0||r.childNodes.length===1&&r.firstChild.nodeType===3)){const i=[{}];return this.gmlFormat_.readGeometryElement(r,i),Gi(i.pop().srsName)}}return null}}function Rve(t,e,r,i){const n=i.featurePrefix?i.featurePrefix:pse;let s;return r==="1.0.0"?s=2:r==="1.1.0"?s=3:r==="2.0.0"&&(s=3.2),Object.assign({node:t},{version:r,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:n,gmlVersion:s,hasZ:i.hasZ,srsName:i.srsName},e)}function tb(t,e,r,i){en(i,fse,Jo(t),e,r)}function WJ(t,e){return _t({},Tve,t,e)}const Ive={"http://www.opengis.net/ogc":{FeatureId:sr(function(t,e){return t.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:sr(function(t,e){return t.getAttribute("fid")})}};function YJ(t,e){xc(Ive,t,e)}const Fve={"http://www.opengis.net/wfs":{Feature:YJ},"http://www.opengis.net/wfs/2.0":{Feature:YJ}};function ZJ(t,e){return _t([],Fve,t,e)}function XJ(t,e,r){const i=r[r.length-1],n=i.featureType,s=i.featureNS,o=i.gmlVersion,a=Nr(s,n);t.appendChild(a),o===2?Zr.prototype.writeFeatureElement(a,e,r):o===3?yt.prototype.writeFeatureElement(a,e,r):wi.prototype.writeFeatureElement(a,e,r)}function mse(t,e,r){const n=r[r.length-1].version,s=mS[n],o=Nr(s,"Filter"),a=Nr(s,"FeatureId");o.appendChild(a),a.setAttribute("fid",e),t.appendChild(o)}function bS(t,e){t=t||pse;const r=t+":";return e.startsWith(r)?e:r+e}function KJ(t,e,r){const i=r[r.length-1];Dl(e.getId()!==void 0,"Features must have an id set");const n=i.featureType,s=i.featurePrefix,o=i.featureNS,a=bS(s,n);t.setAttribute("typeName",a),t.setAttributeNS(pS,"xmlns:"+s,o);const l=e.getId();l!==void 0&&mse(t,l,r)}function JJ(t,e,r){const i=r[r.length-1];Dl(e.getId()!==void 0,"Features must have an id set");const n=i.version,s=i.featureType,o=i.featurePrefix,a=i.featureNS,l=bS(o,s),u=e.getGeometryName();t.setAttribute("typeName",l),t.setAttributeNS(pS,"xmlns:"+o,a);const h=e.getId();if(h!==void 0){const d=e.getKeys(),f=[];for(let p=0,g=d.length;p<g;p++){const y=e.get(d[p]);if(y!==void 0){let b=d[p];y&&typeof y.getSimplifiedGeometry=="function"&&(b=u),f.push({name:b,value:y})}}en({version:n,gmlVersion:i.gmlVersion,node:t,hasZ:i.hasZ,srsName:i.srsName},fse,Jo("Property"),f,r),mse(t,h,r)}}function QJ(t,e,r){const i=r[r.length-1],n=i.version,s=S2[n],a=Nr(s,n==="2.0.0"?"ValueReference":"Name"),l=i.gmlVersion;if(t.appendChild(a),Jr(a,e.name),e.value!==void 0&&e.value!==null){const u=Nr(s,"Value");t.appendChild(u),e.value&&typeof e.value.getSimplifiedGeometry=="function"?l===2?Zr.prototype.writeGeometryElement(u,e.value,r):l===3?yt.prototype.writeGeometryElement(u,e.value,r):wi.prototype.writeGeometryElement(u,e.value,r):Jr(u,e.value)}}function eQ(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId),e.safeToIgnore!==void 0&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),e.value!==void 0&&Jr(t,e.value)}const tx={"http://www.opengis.net/wfs":{Query:je(tQ)},"http://www.opengis.net/wfs/2.0":{Query:je(tQ)},"http://www.opengis.net/ogc":{During:je(nQ),And:je(rb),Or:je(rb),Not:je(sQ),BBOX:je(rQ),Contains:je(rc),Intersects:je(rc),Within:je(rc),DWithin:je(iQ),PropertyIsEqualTo:je(ha),PropertyIsNotEqualTo:je(ha),PropertyIsLessThan:je(ha),PropertyIsLessThanOrEqualTo:je(ha),PropertyIsGreaterThan:je(ha),PropertyIsGreaterThanOrEqualTo:je(ha),PropertyIsNull:je(oQ),PropertyIsBetween:je(aQ),PropertyIsLike:je(lQ)},"http://www.opengis.net/fes/2.0":{During:je(nQ),And:je(rb),Or:je(rb),Not:je(sQ),BBOX:je(rQ),Contains:je(rc),Disjoint:je(rc),Intersects:je(rc),ResourceId:je(Nve),Within:je(rc),DWithin:je(iQ),PropertyIsEqualTo:je(ha),PropertyIsNotEqualTo:je(ha),PropertyIsLessThan:je(ha),PropertyIsLessThanOrEqualTo:je(ha),PropertyIsGreaterThan:je(ha),PropertyIsGreaterThanOrEqualTo:je(ha),PropertyIsNull:je(oQ),PropertyIsBetween:je(aQ),PropertyIsLike:je(lQ)}};function tQ(t,e,r){const i=r[r.length-1],n=i.version,s=i.featurePrefix,o=i.featureNS,a=i.propertyNames,l=i.srsName;let u;s?u=bS(s,e):u=e;let h;n==="2.0.0"?h="typeNames":h="typeName",t.setAttribute(h,u),l&&t.setAttribute("srsName",l),o&&t.setAttributeNS(pS,"xmlns:"+s,o);const d=Object.assign({},i);d.node=t,en(d,Lve,Jo("PropertyName"),a,r);const f=i.filter;if(f){const p=Nr(rx(n),"Filter");t.appendChild(p),Pve(p,f,r)}}function Pve(t,e,r){const i=r[r.length-1],n={node:t};Object.assign(n,{context:i}),en(n,tx,Jo(e.getTagName()),[e],r)}function rQ(t,e,r){const i=r[r.length-1],s=i.context.version;i.srsName=e.srsName;const o=yS[s];vp(s,t,e.geometryName),o.prototype.writeGeometryElement(t,e.extent,r)}function Nve(t,e,r){t.setAttribute("rid",e.rid)}function rc(t,e,r){const i=r[r.length-1],s=i.context.version;i.srsName=e.srsName;const o=yS[s];vp(s,t,e.geometryName),o.prototype.writeGeometryElement(t,e.geometry,r)}function iQ(t,e,r){const s=r[r.length-1].context.version;rc(t,e,r);const o=Nr(rx(s),"Distance");Jr(o,e.distance.toString()),s==="2.0.0"?o.setAttribute("uom",e.unit):o.setAttribute("units",e.unit),t.appendChild(o)}function nQ(t,e,r){const s=r[r.length-1].context.version;Sv(gS[s],"ValueReference",t,e.propertyName);const o=Nr(fu,"TimePeriod");t.appendChild(o);const a=Nr(fu,"begin");o.appendChild(a),uQ(a,e.begin);const l=Nr(fu,"end");o.appendChild(l),uQ(l,e.end)}function rb(t,e,r){const n=r[r.length-1].context,s={node:t};Object.assign(s,{context:n});const o=e.conditions;for(let a=0,l=o.length;a<l;++a){const u=o[a];en(s,tx,Jo(u.getTagName()),[u],r)}}function sQ(t,e,r){const n=r[r.length-1].context,s={node:t};Object.assign(s,{context:n});const o=e.condition;en(s,tx,Jo(o.getTagName()),[o],r)}function ha(t,e,r){const s=r[r.length-1].context.version;e.matchCase!==void 0&&t.setAttribute("matchCase",e.matchCase.toString()),vp(s,t,e.propertyName),Cv(s,t,""+e.expression)}function oQ(t,e,r){const s=r[r.length-1].context.version;vp(s,t,e.propertyName)}function aQ(t,e,r){const s=r[r.length-1].context.version,o=rx(s);vp(s,t,e.propertyName);const a=Nr(o,"LowerBoundary");t.appendChild(a),Cv(s,a,""+e.lowerBoundary);const l=Nr(o,"UpperBoundary");t.appendChild(l),Cv(s,l,""+e.upperBoundary)}function lQ(t,e,r){const s=r[r.length-1].context.version;t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),e.matchCase!==void 0&&t.setAttribute("matchCase",e.matchCase.toString()),vp(s,t,e.propertyName),Cv(s,t,""+e.pattern)}function Sv(t,e,r,i){const n=Nr(t,e);Jr(n,i),r.appendChild(n)}function Cv(t,e,r){Sv(rx(t),"Literal",e,r)}function vp(t,e,r){t==="2.0.0"?Sv(gS[t],"ValueReference",e,r):Sv(mS[t],"PropertyName",e,r)}function uQ(t,e){const r=Nr(fu,"TimeInstant");t.appendChild(r);const i=Nr(fu,"timePosition");r.appendChild(i),Jr(i,e)}function cQ(t,e,r){const i=r[r.length-1],n=Object.assign({},i);n.node=t,en(n,tx,Jo("Query"),e,r)}function rx(t){let e;return t==="2.0.0"?e=gS[t]:e=mS[t],e}const $ve=Mve,qi={POINT:1,LINE_STRING:2,POLYGON:3,MULTI_POINT:4,MULTI_LINE_STRING:5,MULTI_POLYGON:6,GEOMETRY_COLLECTION:7,POLYHEDRAL_SURFACE:15,TIN:16,TRIANGLE:17};class dQ{constructor(e){this.view_=e,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_="XY"}readUint8(){return this.view_.getUint8(this.pos_++)}readUint32(e){return this.view_.getUint32((this.pos_+=4)-4,e!==void 0?e:this.isLittleEndian_)}readDouble(e){return this.view_.getFloat64((this.pos_+=8)-8,e!==void 0?e:this.isLittleEndian_)}readPoint(){const e=[];return e.push(this.readDouble()),e.push(this.readDouble()),this.hasZ_&&e.push(this.readDouble()),this.hasM_&&e.push(this.readDouble()),e}readLineString(){const e=this.readUint32(),r=[];for(let i=0;i<e;i++)r.push(this.readPoint());return r}readPolygon(){const e=this.readUint32(),r=[];for(let i=0;i<e;i++)r.push(this.readLineString());return r}readWkbHeader(e){const i=this.readUint8()>0,n=this.readUint32(i),s=Math.floor((n&268435455)/1e3),o=!!(n&2147483648)||s===1||s===3,a=!!(n&1073741824)||s===2||s===3,l=!!(n&536870912),u=(n&268435455)%1e3,h=["XY",o?"Z":"",a?"M":""].join(""),d=l?this.readUint32(i):null;if(e!==void 0&&e!==u)throw new Error("Unexpected WKB geometry type "+u);if(this.initialized_){if(this.isLittleEndian_!==i)throw new Error("Inconsistent endian");if(this.layout_!==h)throw new Error("Inconsistent geometry layout");if(d&&this.srid_!==d)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=i,this.hasZ_=o,this.hasM_=a,this.layout_=h,this.srid_=d,this.initialized_=!0;return u}readWkbPayload(e){switch(e){case qi.POINT:return this.readPoint();case qi.LINE_STRING:return this.readLineString();case qi.POLYGON:case qi.TRIANGLE:return this.readPolygon();case qi.MULTI_POINT:return this.readMultiPoint();case qi.MULTI_LINE_STRING:return this.readMultiLineString();case qi.MULTI_POLYGON:case qi.POLYHEDRAL_SURFACE:case qi.TIN:return this.readMultiPolygon();case qi.GEOMETRY_COLLECTION:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+e+" is found")}}readWkbBlock(e){return this.readWkbPayload(this.readWkbHeader(e))}readWkbCollection(e,r){const i=this.readUint32(),n=[];for(let s=0;s<i;s++){const o=e.call(this,r);o&&n.push(o)}return n}readMultiPoint(){return this.readWkbCollection(this.readWkbBlock,qi.POINT)}readMultiLineString(){return this.readWkbCollection(this.readWkbBlock,qi.LINE_STRING)}readMultiPolygon(){return this.readWkbCollection(this.readWkbBlock,qi.POLYGON)}readGeometryCollection(){return this.readWkbCollection(this.readGeometry)}readGeometry(){const e=this.readWkbHeader(),r=this.readWkbPayload(e);switch(e){case qi.POINT:return new qa(r,this.layout_);case qi.LINE_STRING:return new Tl(r,this.layout_);case qi.POLYGON:case qi.TRIANGLE:return new V0(r,this.layout_);case qi.MULTI_POINT:return new W1(r,this.layout_);case qi.MULTI_LINE_STRING:return new fp(r,this.layout_);case qi.MULTI_POLYGON:case qi.POLYHEDRAL_SURFACE:case qi.TIN:return new H0(r,this.layout_);case qi.GEOMETRY_COLLECTION:return new Ac(r);default:return null}}getSrid(){return this.srid_}}class Bve{constructor(e){e=e||{},this.layout_=e.layout,this.isLittleEndian_=e.littleEndian!==!1,this.isEWKB_=e.ewkb!==!1,this.writeQueue_=[],this.nodata_=Object.assign({X:0,Y:0,Z:0,M:0},e.nodata)}writeUint8(e){this.writeQueue_.push([1,e])}writeUint32(e){this.writeQueue_.push([4,e])}writeDouble(e){this.writeQueue_.push([8,e])}writePoint(e,r){const i=Object.assign.apply(null,r.split("").map((n,s)=>({[n]:e[s]})));for(const n of this.layout_)this.writeDouble(n in i?i[n]:this.nodata_[n])}writeLineString(e,r){this.writeUint32(e.length);for(let i=0;i<e.length;i++)this.writePoint(e[i],r)}writePolygon(e,r){this.writeUint32(e.length);for(let i=0;i<e.length;i++)this.writeLineString(e[i],r)}writeWkbHeader(e,r){e%=1e3,this.layout_.includes("Z")&&(e+=this.isEWKB_?2147483648:1e3),this.layout_.includes("M")&&(e+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(r)&&(e|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(e),this.isEWKB_&&Number.isInteger(r)&&this.writeUint32(r)}writeMultiPoint(e,r){this.writeUint32(e.length);for(let i=0;i<e.length;i++)this.writeWkbHeader(1),this.writePoint(e[i],r)}writeMultiLineString(e,r){this.writeUint32(e.length);for(let i=0;i<e.length;i++)this.writeWkbHeader(2),this.writeLineString(e[i],r)}writeMultiPolygon(e,r){this.writeUint32(e.length);for(let i=0;i<e.length;i++)this.writeWkbHeader(3),this.writePolygon(e[i],r)}writeGeometryCollection(e){this.writeUint32(e.length);for(let r=0;r<e.length;r++)this.writeGeometry(e[r])}findMinimumLayout(e,r="XYZM"){const i=(n,s)=>n===s?n:n==="XYZM"?s:s==="XYZM"?n:"XY";if(e instanceof LJ)return i(e.getLayout(),r);if(e instanceof Ac){const n=e.getGeometriesArray();for(let s=0;s<n.length&&r!=="XY";s++)r=this.findMinimumLayout(n[s],r)}return r}writeGeometry(e,r){const i={Point:qi.POINT,LineString:qi.LINE_STRING,Polygon:qi.POLYGON,MultiPoint:qi.MULTI_POINT,MultiLineString:qi.MULTI_LINE_STRING,MultiPolygon:qi.MULTI_POLYGON,GeometryCollection:qi.GEOMETRY_COLLECTION},n=e.getType(),s=i[n];if(!s)throw new Error("GeometryType "+n+" is not supported");this.layout_||(this.layout_=this.findMinimumLayout(e)),this.writeWkbHeader(s,r),e instanceof LJ?{Point:this.writePoint,LineString:this.writeLineString,Polygon:this.writePolygon,MultiPoint:this.writeMultiPoint,MultiLineString:this.writeMultiLineString,MultiPolygon:this.writeMultiPolygon}[n].call(this,e.getCoordinates(),e.getLayout()):e instanceof Ac&&this.writeGeometryCollection(e.getGeometriesArray())}getBuffer(){const e=this.writeQueue_.reduce((s,o)=>s+o[0],0),r=new ArrayBuffer(e),i=new DataView(r);let n=0;return this.writeQueue_.forEach(s=>{switch(s[0]){case 1:i.setUint8(n,s[1]);break;case 4:i.setUint32(n,s[1],this.isLittleEndian_);break;case 8:i.setFloat64(n,s[1],this.isLittleEndian_);break}n+=s[0]}),r}}class jve extends jne{constructor(e){super(),e=e||{},this.splitCollection=!!e.splitCollection,this.viewCache_=null,this.hex_=e.hex!==!1,this.littleEndian_=e.littleEndian!==!1,this.ewkb_=e.ewkb!==!1,this.layout_=e.geometryLayout,this.nodataZ_=e.nodataZ||0,this.nodataM_=e.nodataM||0,this.srid_=e.srid}getType(){return this.hex_?"text":"arraybuffer"}readFeature(e,r){return new na({geometry:this.readGeometry(e,r)})}readFeatures(e,r){let i=[];const n=this.readGeometry(e,r);return this.splitCollection&&n instanceof Ac?i=n.getGeometriesArray():i=[n],i.map(s=>new na({geometry:s}))}readGeometry(e,r){const i=hQ(e);if(!i)return null;const s=new dQ(i).readGeometry();return this.viewCache_=i,r=this.getReadOptions(e,r),this.viewCache_=null,Fs(s,!1,r)}readProjection(e){const r=this.viewCache_||hQ(e);if(!r)return;const i=new dQ(r);return i.readWkbHeader(),i.getSrid()&&Gi("EPSG:"+i.getSrid())||void 0}writeFeature(e,r){return this.writeGeometry(e.getGeometry(),r)}writeFeatures(e,r){return this.writeGeometry(new Ac(e.map(i=>i.getGeometry())),r)}writeGeometry(e,r){r=this.adaptOptions(r);const i=new Bve({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}});let n=Number.isInteger(this.srid_)?Number(this.srid_):null;if(this.srid_!==!1&&!Number.isInteger(this.srid_)){const o=r.dataProjection&&Gi(r.dataProjection);if(o){const a=o.getCode();a.startsWith("EPSG:")&&(n=Number(a.substring(5)))}}i.writeGeometry(Fs(e,!0,r),n);const s=i.getBuffer();return this.hex_?zve(s):s}}function zve(t){const e=new Uint8Array(t);return Array.from(e.values()).map(r=>(r<16?"0":"")+Number(r).toString(16).toUpperCase()).join("")}function Uve(t){const e=new Uint8Array(t.length/2);for(let r=0;r<t.length/2;r++)e[r]=parseInt(t.substr(r*2,2),16);return new DataView(e.buffer)}function hQ(t){return typeof t=="string"?Uve(t):ArrayBuffer.isView(t)?t instanceof DataView?t:new DataView(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new DataView(t):null}const qve=jve,Hve={POINT:qa,LINESTRING:Tl,POLYGON:V0,MULTIPOINT:W1,MULTILINESTRING:fp,MULTIPOLYGON:H0},gse="EMPTY",yse="Z",bse="M",Vve="ZM",Ni={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},Gve={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class Wve{constructor(e){this.wkt=e,this.index_=-1}isAlpha_(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isNumeric_(e,r){return r=r!==void 0?r:!1,e>="0"&&e<="9"||e=="."&&!r}isWhiteSpace_(e){return e==" "||e=="	"||e=="\r"||e==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const e=this.nextChar_(),r=this.index_;let i=e,n;if(e=="(")n=Ni.LEFT_PAREN;else if(e==",")n=Ni.COMMA;else if(e==")")n=Ni.RIGHT_PAREN;else if(this.isNumeric_(e)||e=="-")n=Ni.NUMBER,i=this.readNumber_();else if(this.isAlpha_(e))n=Ni.TEXT,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e==="")n=Ni.EOF;else throw new Error("Unexpected character: "+e)}return{position:r,value:i,type:n}}readNumber_(){let e;const r=this.index_;let i=!1,n=!1;do e=="."?i=!0:(e=="e"||e=="E")&&(n=!0),e=this.nextChar_();while(this.isNumeric_(e,i)||!n&&(e=="e"||e=="E")||n&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(r,this.index_--))}readText_(){let e;const r=this.index_;do e=this.nextChar_();while(this.isAlpha_(e));return this.wkt.substring(r,this.index_--).toUpperCase()}}class Yve{constructor(e){this.lexer_=e,this.token_={position:0,type:Ni.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(e){return this.token_.type==e}match(e){const r=this.isTokenType(e);return r&&this.consume_(),r}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let e="XY";const r=this.token_;if(this.isTokenType(Ni.TEXT)){const i=r.value;i===yse?e="XYZ":i===bse?e="XYM":i===Vve&&(e="XYZM"),e!=="XY"&&this.consume_()}return e}parseGeometryCollectionText_(){if(this.match(Ni.LEFT_PAREN)){const e=[];do e.push(this.parseGeometry_());while(this.match(Ni.COMMA));if(this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(Ni.LEFT_PAREN)){const e=this.parsePoint_();if(this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(Ni.LEFT_PAREN)){const e=this.parsePointList_();if(this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(Ni.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(Ni.LEFT_PAREN)){let e;if(this.token_.type==Ni.LEFT_PAREN?e=this.parsePointTextList_():e=this.parsePointList_(),this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(Ni.LEFT_PAREN)){const e=this.parseLineStringTextList_();if(this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(Ni.LEFT_PAREN)){const e=this.parsePolygonTextList_();if(this.match(Ni.RIGHT_PAREN))return e}throw new Error(this.formatErrorMessage_())}parsePoint_(){const e=[],r=this.layout_.length;for(let i=0;i<r;++i){const n=this.token_;if(this.match(Ni.NUMBER))e.push(n.value);else break}if(e.length==r)return e;throw new Error(this.formatErrorMessage_())}parsePointList_(){const e=[this.parsePoint_()];for(;this.match(Ni.COMMA);)e.push(this.parsePoint_());return e}parsePointTextList_(){const e=[this.parsePointText_()];for(;this.match(Ni.COMMA);)e.push(this.parsePointText_());return e}parseLineStringTextList_(){const e=[this.parseLineStringText_()];for(;this.match(Ni.COMMA);)e.push(this.parseLineStringText_());return e}parsePolygonTextList_(){const e=[this.parsePolygonText_()];for(;this.match(Ni.COMMA);)e.push(this.parsePolygonText_());return e}isEmptyGeometry_(){const e=this.isTokenType(Ni.TEXT)&&this.token_.value==gse;return e&&this.consume_(),e}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const e=this.token_;if(this.match(Ni.TEXT)){const r=e.value;this.layout_=this.parseGeometryLayout_();const i=this.isEmptyGeometry_();if(r=="GEOMETRYCOLLECTION"){if(i)return new Ac([]);const o=this.parseGeometryCollectionText_();return new Ac(o)}const n=Hve[r];if(!n)throw new Error("Invalid geometry type: "+r);let s;if(i)r=="POINT"?s=[NaN,NaN]:s=[];else switch(r){case"POINT":{s=this.parsePointText_();break}case"LINESTRING":{s=this.parseLineStringText_();break}case"POLYGON":{s=this.parsePolygonText_();break}case"MULTIPOINT":{s=this.parseMultiPointText_();break}case"MULTILINESTRING":{s=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{s=this.parseMultiPolygonText_();break}}return new n(s,this.layout_)}throw new Error(this.formatErrorMessage_())}}class Zve extends hS{constructor(e){super(),e=e||{},this.splitCollection_=e.splitCollection!==void 0?e.splitCollection:!1}parse_(e){const r=new Wve(e);return new Yve(r).parse()}readFeatureFromText(e,r){const i=this.readGeometryFromText(e,r),n=new na;return n.setGeometry(i),n}readFeaturesFromText(e,r){let i=[];const n=this.readGeometryFromText(e,r);this.splitCollection_&&n.getType()=="GeometryCollection"?i=n.getGeometriesArray():i=[n];const s=[];for(let o=0,a=i.length;o<a;++o){const l=new na;l.setGeometry(i[o]),s.push(l)}return s}readGeometryFromText(e,r){const i=this.parse_(e);return Fs(i,!1,r)}writeFeatureText(e,r){const i=e.getGeometry();return i?this.writeGeometryText(i,r):""}writeFeaturesText(e,r){if(e.length==1)return this.writeFeatureText(e[0],r);const i=[];for(let s=0,o=e.length;s<o;++s)i.push(e[s].getGeometry());const n=new Ac(i);return this.writeGeometryText(n,r)}writeGeometryText(e,r){return _se(Fs(e,!0,r))}}function vse(t){const e=t.getCoordinates();return e.length===0?"":e.join(" ")}function Xve(t){const e=[],r=t.getPoints();for(let i=0,n=r.length;i<n;++i)e.push("("+vse(r[i])+")");return e.join(",")}function Kve(t){const e=[],r=t.getGeometries();for(let i=0,n=r.length;i<n;++i)e.push(_se(r[i]));return e.join(",")}function vS(t){const e=t.getCoordinates(),r=[];for(let i=0,n=e.length;i<n;++i)r.push(e[i].join(" "));return r.join(",")}function Jve(t){const e=[],r=t.getLineStrings();for(let i=0,n=r.length;i<n;++i)e.push("("+vS(r[i])+")");return e.join(",")}function xse(t){const e=[],r=t.getLinearRings();for(let i=0,n=r.length;i<n;++i)e.push("("+vS(r[i])+")");return e.join(",")}function Qve(t){const e=[],r=t.getPolygons();for(let i=0,n=r.length;i<n;++i)e.push("("+xse(r[i])+")");return e.join(",")}function e1e(t){const e=t.getLayout();let r="";return(e==="XYZ"||e==="XYZM")&&(r+=yse),(e==="XYM"||e==="XYZM")&&(r+=bse),r}const t1e={Point:vse,LineString:vS,Polygon:xse,MultiPoint:Xve,MultiLineString:Jve,MultiPolygon:Qve,GeometryCollection:Kve};function _se(t){const e=t.getType(),r=t1e[e],i=r(t);let n=Gve[e];if(typeof t.getFlatCoordinates=="function"){const s=e1e(t);s.length>0&&(n+=" "+s)}return i.length===0?n+" "+gse:n+"("+i+")"}const r1e=Zve,fs=[null,"http://www.opengis.net/wms"];function xp(t){return a0e(t[0].version,"1.3")>=0}const i1e=Ft(fs,{Service:$e(k1e),Capability:$e(C1e)}),wse={Request:$e(F1e),Exception:$e(L1e),Layer:$e(O1e)},n1e=Ft(fs,{...wse,UserDefinedSymbolization:$e(E1e)}),s1e=Ft(fs,wse);class o1e extends fS{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();const r=_t({version:this.version},i1e,e,[]);return r||null}}const Ese={Name:$e(xt),Title:$e(xt),Abstract:$e(xt),KeywordList:$e(Dse),OnlineResource:$e(bp),ContactInformation:$e(A1e),Fees:$e(xt),AccessConstraints:$e(xt)},a1e=Ft(fs,Ese),l1e=Ft(fs,{...Ese,LayerLimit:$e(jn),MaxWidth:$e(jn),MaxHeight:$e(jn)}),u1e=Ft(fs,{ContactPersonPrimary:$e(T1e),ContactPosition:$e(xt),ContactAddress:$e(D1e),ContactVoiceTelephone:$e(xt),ContactFacsimileTelephone:$e(xt),ContactElectronicMailAddress:$e(xt)}),c1e=Ft(fs,{ContactPerson:$e(xt),ContactOrganization:$e(xt)}),d1e=Ft(fs,{AddressType:$e(xt),Address:$e(xt),City:$e(xt),StateOrProvince:$e(xt),PostCode:$e(xt),Country:$e(xt)}),h1e=Ft(fs,{Format:sr(xt)}),Sse={Name:$e(xt),Title:$e(xt),Abstract:$e(xt),KeywordList:$e(Dse),BoundingBox:Bi(Ase),Dimension:Bi(M1e),Attribution:$e(w1e),AuthorityURL:Bi($1e),Identifier:Bi(xt),MetadataURL:Bi(B1e),DataURL:Bi(gu),FeatureListURL:Bi(gu),Style:Bi(j1e),Layer:Bi(ix)},Cse=Ft(fs,{...Sse,SRS:Bi(xt),Extent:$e(R1e),ScaleHint:Bi(I1e),LatLonBoundingBox:$e((t,e)=>Ase(t,e,!1)),Layer:Bi(ix)}),kse=Ft(fs,{...Sse,CRS:Bi(xt),EX_GeographicBoundingBox:$e(S1e),MinScaleDenominator:$e(so),MaxScaleDenominator:$e(so),Layer:Bi(ix)}),f1e=Ft(fs,{Title:$e(xt),OnlineResource:$e(bp),LogoURL:$e(Tse)}),p1e=Ft(fs,{westBoundLongitude:$e(so),eastBoundLongitude:$e(so),southBoundLatitude:$e(so),northBoundLatitude:$e(so)}),m1e=Ft(fs,{GetCapabilities:$e(t_),GetMap:$e(t_),GetFeatureInfo:$e(t_)}),g1e=Ft(fs,{Format:Bi(xt),DCPType:Bi(P1e)}),y1e=Ft(fs,{HTTP:$e(N1e)}),b1e=Ft(fs,{Get:$e(gu),Post:$e(gu)}),v1e=Ft(fs,{Name:$e(xt),Title:$e(xt),Abstract:$e(xt),LegendURL:Bi(Tse),StyleSheetURL:$e(gu),StyleURL:$e(gu)}),x1e=Ft(fs,{Format:$e(xt),OnlineResource:$e(bp)}),_1e=Ft(fs,{Keyword:sr(xt)});function w1e(t,e){return _t({},f1e,t,e)}function E1e(t,e){return{SupportSLD:!!Ha(t.getAttribute("UserDefinedSymbolization")),UserLayer:!!Ha(t.getAttribute("UserLayer")),UserStyle:!!Ha(t.getAttribute("UserStyle")),RemoteWFS:!!Ha(t.getAttribute("RemoteWFS"))}}function Ase(t,e,r=!0){const i=[yl(t.getAttribute("minx")),yl(t.getAttribute("miny")),yl(t.getAttribute("maxx")),yl(t.getAttribute("maxy"))],n=[yl(t.getAttribute("resx")),yl(t.getAttribute("resy"))],s={extent:i,res:n};return r&&(xp(e)?s.crs=t.getAttribute("CRS"):s.srs=t.getAttribute("SRS")),s}function S1e(t,e){const r=_t({},p1e,t,e);if(!r)return;const i=r.westBoundLongitude,n=r.southBoundLatitude,s=r.eastBoundLongitude,o=r.northBoundLatitude;if(!(i===void 0||n===void 0||s===void 0||o===void 0))return[i,n,s,o]}function C1e(t,e){return _t({},xp(e)?s1e:n1e,t,e)}function k1e(t,e){return _t({},xp(e)?l1e:a1e,t,e)}function A1e(t,e){return _t({},u1e,t,e)}function T1e(t,e){return _t({},c1e,t,e)}function D1e(t,e){return _t({},d1e,t,e)}function L1e(t,e){return _t([],h1e,t,e)}function O1e(t,e){const r=_t({},xp(e)?kse:Cse,t,e);return r.Layer===void 0?Object.assign(r,ix(t,e)):r}function ix(t,e){const r=xp(e),i=e[e.length-1],n=_t({},r?kse:Cse,t,e);if(!n)return;let s=Ha(t.getAttribute("queryable"));s===void 0&&(s=i.queryable),n.queryable=s!==void 0?s:!1;let o=dc(t.getAttribute("cascaded"));o===void 0&&(o=i.cascaded),n.cascaded=o;let a=Ha(t.getAttribute("opaque"));a===void 0&&(a=i.opaque),n.opaque=a!==void 0?a:!1;let l=Ha(t.getAttribute("noSubsets"));l===void 0&&(l=i.noSubsets),n.noSubsets=l!==void 0?l:!1;let u=yl(t.getAttribute("fixedWidth"));u||(u=i.fixedWidth),n.fixedWidth=u;let h=yl(t.getAttribute("fixedHeight"));h||(h=i.fixedHeight),n.fixedHeight=h;const d=["Style","AuthorityURL"];r?d.push("CRS"):d.push("SRS","Dimension"),d.forEach(function(p){if(p in i){const g=n[p]||[];n[p]=g.concat(i[p])}});const f=["BoundingBox","Attribution"];return r?f.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):f.push("LatLonBoundingBox","ScaleHint","Extent"),f.forEach(function(p){if(!(p in n)){const g=i[p];n[p]=g}}),n}function M1e(t,e){const r={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol")};return xp(e)&&Object.assign(r,{default:t.getAttribute("default"),multipleValues:Ha(t.getAttribute("multipleValues")),nearestValue:Ha(t.getAttribute("nearestValue")),current:Ha(t.getAttribute("current")),values:xt(t)}),r}function R1e(t,e){return{name:t.getAttribute("name"),default:t.getAttribute("default"),nearestValue:Ha(t.getAttribute("nearestValue"))}}function I1e(t,e){return{min:yl(t.getAttribute("min")),max:yl(t.getAttribute("max"))}}function gu(t,e){return _t({},x1e,t,e)}function F1e(t,e){return _t({},m1e,t,e)}function P1e(t,e){return _t({},y1e,t,e)}function N1e(t,e){return _t({},b1e,t,e)}function t_(t,e){return _t({},g1e,t,e)}function Tse(t,e){const r=gu(t,e);if(r){const i=[dc(t.getAttribute("width")),dc(t.getAttribute("height"))];return r.size=i,r}}function $1e(t,e){const r=gu(t,e);if(r)return r.name=t.getAttribute("name"),r}function B1e(t,e){const r=gu(t,e);if(r)return r.type=t.getAttribute("type"),r}function j1e(t,e){return _t({},v1e,t,e)}function Dse(t,e){return _t([],_1e,t,e)}const z1e=o1e,U1e="_feature",q1e="_layer";class H1e extends Y1{constructor(e){super(),e=e||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new Zr,this.layers_=e.layers?e.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,r){e.setAttribute("namespaceURI",this.featureNS_);const i=e.localName;let n=[];if(e.childNodes.length===0)return n;if(i=="msGMLOutput")for(let s=0,o=e.childNodes.length;s<o;s++){const a=e.childNodes[s];if(a.nodeType!==Node.ELEMENT_NODE)continue;const l=a,u=r[0],h=q1e,d=l.localName.replace(h,"");if(this.layers_&&!this.layers_.includes(d))continue;const f=d+U1e;u.featureType=f,u.featureNS=this.featureNS_;const p={};p[f]=sr(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const g=Ft([u.featureNS,null],p);l.setAttribute("namespaceURI",this.featureNS_);const y=_t([],g,l,r,this.gmlFormat_);y&&gv(n,y)}if(i=="FeatureCollection"){const s=_t([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);s&&(n=s)}return n}readFeaturesFromNode(e,r){const i={};return r&&Object.assign(i,this.getReadOptions(e,r)),this.readFeatures_(e,[i])}}const V1e=H1e,Ml=[null,"http://www.opengis.net/wmts/1.0"],_p=[null,"http://www.opengis.net/ows/1.1"],G1e=Ft(Ml,{Contents:$e(ixe)});let W1e=class extends fS{constructor(){super(),this.owsParser_=new dse}readFromNode(e){let r=e.getAttribute("version");r&&(r=r.trim());let i=this.owsParser_.readFromNode(e);return i?(i.version=r,i=_t(i,G1e,e,[]),i||null):null}};const Y1e=Ft(Ml,{Layer:Bi(nxe),TileMatrixSet:Bi(sxe)}),Z1e=Ft(Ml,{Style:Bi(oxe),Format:Bi(xt),TileMatrixSetLink:Bi(axe),Dimension:Bi(lxe),ResourceURL:Bi(uxe)},Ft(_p,{Title:$e(xt),Abstract:$e(xt),WGS84BoundingBox:$e(Ose),BoundingBox:Bi(cxe),Identifier:$e(xt)})),X1e=Ft(Ml,{LegendURL:Bi(dxe)},Ft(_p,{Title:$e(xt),Identifier:$e(xt)})),K1e=Ft(Ml,{TileMatrixSet:$e(xt),TileMatrixSetLimits:$e(fxe)}),J1e=Ft(Ml,{TileMatrixLimits:sr(pxe)}),Q1e=Ft(Ml,{TileMatrix:$e(xt),MinTileRow:$e(jn),MaxTileRow:$e(jn),MinTileCol:$e(jn),MaxTileCol:$e(jn)}),exe=Ft(Ml,{Default:$e(xt),Value:Bi(xt)},Ft(_p,{Identifier:$e(xt)})),Lse=Ft(_p,{LowerCorner:sr(C2),UpperCorner:sr(C2)}),txe=Ft(Ml,{WellKnownScaleSet:$e(xt),TileMatrix:Bi(hxe)},Ft(_p,{SupportedCRS:$e(xt),Identifier:$e(xt),BoundingBox:$e(Ose)})),rxe=Ft(Ml,{TopLeftCorner:$e(C2),ScaleDenominator:$e(so),TileWidth:$e(jn),TileHeight:$e(jn),MatrixWidth:$e(jn),MatrixHeight:$e(jn)},Ft(_p,{Identifier:$e(xt)}));function ixe(t,e){return _t({},Y1e,t,e)}function nxe(t,e){return _t({},Z1e,t,e)}function sxe(t,e){return _t({},txe,t,e)}function oxe(t,e){const r=_t({},X1e,t,e);if(!r)return;const i=t.getAttribute("isDefault")==="true";return r.isDefault=i,r}function axe(t,e){return _t({},K1e,t,e)}function lxe(t,e){return _t({},exe,t,e)}function uxe(t,e){const r=t.getAttribute("format"),i=t.getAttribute("template"),n=t.getAttribute("resourceType"),s={};return r&&(s.format=r),i&&(s.template=i),n&&(s.resourceType=n),s}function Ose(t,e){const r=_t([],Lse,t,e);if(r.length==2)return YE(r)}function cxe(t,e){const r=t.getAttribute("crs"),i=_t([],Lse,t,e);if(i.length==2)return{extent:YE(i),crs:r}}function dxe(t,e){const r={};return r.format=t.getAttribute("format"),r.href=bp(t),r}function C2(t,e){const r=xt(t).split(/\s+/);if(!r||r.length!=2)return;const i=+r[0],n=+r[1];if(!(isNaN(i)||isNaN(n)))return[i,n]}function hxe(t,e){return _t({},rxe,t,e)}function fxe(t,e){return _t([],J1e,t,e)}function pxe(t,e){return _t({},Q1e,t,e)}const xS=W1e,mxe=Object.freeze(Object.defineProperty({__proto__:null,EsriJSON:Dye,GML:Fye,GPX:_be,GeoJSON:zne,IGC:Tbe,IIIFInfo:Fbe,KML:l0e,MVT:Une,OWS:dse,Polyline:wve,TopoJSON:u0e,WFS:$ve,WKB:qve,WKT:r1e,WMSCapabilities:z1e,WMSGetFeatureInfo:V1e,WMTSCapabilities:xS},Symbol.toStringTag,{value:"Module"})),nx=34962,sx=34963,gxe=35040,_S=35044,k2=35048,yxe=5121,bxe=5123,vxe=5125,Mse=5126,fQ=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function xxe(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!c0e},e);const r=fQ.length;for(let i=0;i<r;++i)try{const n=t.getContext(fQ[i],e);if(n)return n}catch{}return null}const _xe={STATIC_DRAW:_S,STREAM_DRAW:gxe,DYNAMIC_DRAW:k2};class kv{constructor(e,r){this.array_=null,this.type_=e,Dl(e===nx||e===sx,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=r!==void 0?r:_xe.STATIC_DRAW}ofSize(e){return this.array_=new(ib(this.type_))(e),this}fromArray(e){return this.array_=ib(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(ib(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}setArray(e){const r=ib(this.type_);if(!(e instanceof r))throw new Error(`Expected ${r}`);this.array_=e}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function ib(t){switch(t){case nx:return Float32Array;case sx:return Uint32Array;default:return Float32Array}}const nb={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},wxe=`
  precision mediump float;

  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;

  uniform vec2 u_screenSize;

  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,Exe=`
  precision mediump float;

  uniform sampler2D u_image;
  uniform float u_opacity;

  varying vec2 v_texCoord;

  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`;class pQ{constructor(e){this.gl_=e.webGlContext;const r=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=r.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=r.createFramebuffer(),this.depthBuffer_=r.createRenderbuffer();const i=r.createShader(r.VERTEX_SHADER);r.shaderSource(i,e.vertexShader||wxe),r.compileShader(i);const n=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(n,e.fragmentShader||Exe),r.compileShader(n),this.renderTargetProgram_=r.createProgram(),r.attachShader(this.renderTargetProgram_,i),r.attachShader(this.renderTargetProgram_,n),r.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=r.createBuffer();const s=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW),this.renderTargetAttribLocation_=r.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=r.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(o=>{this.uniforms_.push({value:e.uniforms[o],location:r.getUniformLocation(this.renderTargetProgram_,o)})})}getRenderTargetTexture(){return this.renderTargetTexture_}getGL(){return this.gl_}init(e){const r=this.getGL(),i=[r.drawingBufferWidth*this.scaleRatio_,r.drawingBufferHeight*this.scaleRatio_];if(r.bindFramebuffer(r.FRAMEBUFFER,this.getFrameBuffer()),r.bindRenderbuffer(r.RENDERBUFFER,this.getDepthBuffer()),r.viewport(0,0,i[0],i[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==i[0]||this.renderTargetTextureSize_[1]!==i[1]){this.renderTargetTextureSize_=i;const n=0,s=r.RGBA,o=0,a=r.RGBA,l=r.UNSIGNED_BYTE,u=null;r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.texImage2D(r.TEXTURE_2D,n,s,i[0],i[1],o,a,l,u),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.renderTargetTexture_,0),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,i[0],i[1]),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,this.depthBuffer_)}}apply(e,r,i,n){const s=this.getGL(),o=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,r?r.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!r){const l=hs(s.canvas);if(!e.renderTargets[l]){const u=s.getContextAttributes();u&&u.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[l]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),s.uniform1i(this.renderTargetTextureLocation_,0);const a=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,a),this.applyUniforms(e),i&&i(s,e),s.drawArrays(s.TRIANGLES,0,6),n&&n(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const r=this.getGL();let i,n=1;this.uniforms_.forEach(function(s){if(i=typeof s.value=="function"?s.value(e):s.value,i instanceof HTMLCanvasElement||i instanceof ImageData)s.texture||(s.texture=r.createTexture()),r.activeTexture(r[`TEXTURE${n}`]),r.bindTexture(r.TEXTURE_2D,s.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),i instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,i.width,i.height,0,r.UNSIGNED_BYTE,new Uint8Array(i.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),r.uniform1i(s.location,n++);else if(Array.isArray(i))switch(i.length){case 2:r.uniform2f(s.location,i[0],i[1]);return;case 3:r.uniform3f(s.location,i[0],i[1],i[2]);return;case 4:r.uniform4f(s.location,i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&r.uniform1f(s.location,i)})}}function Rse(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Ise(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const eu={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},bl={UNSIGNED_BYTE:yxe,UNSIGNED_SHORT:bxe,UNSIGNED_INT:vxe,FLOAT:Mse},Av={};function mQ(t){return"shared/"+t}let gQ=0;function Sxe(){const t="unique/"+gQ;return gQ+=1,t}function Cxe(t){let e=Av[t];if(!e){const r=document.createElement("canvas");r.width=1,r.height=1,r.style.position="absolute",r.style.left="0",e={users:0,context:xxe(r)},Av[t]=e}return e.users+=1,e.context}function kxe(t){const e=Av[t];if(!e||(e.users-=1,e.users>0))return;const r=e.context,i=r.getExtension("WEBGL_lose_context");i&&i.loseContext();const n=r.canvas;n.width=1,n.height=1,delete Av[t]}class Axe extends qne{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?mQ(e.canvasCacheKey):Sxe(),this.gl_=Cxe(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const r=this.gl_.canvas;r.addEventListener(nb.LOST,this.boundHandleWebGLContextLost_),r.addEventListener(nb.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=Va(),this.offsetScaleMatrix_=Va(),this.tmpMat4_=Rse(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(i=>new pQ({webGlContext:this.gl_,scaleRatio:i.scaleRatio,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,uniforms:i.uniforms})):[new pQ({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const r in e)this.uniforms_.push({name:r,value:e[r]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===mQ(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const r=this.gl_.getExtension(e);return this.extensionCache_[e]=r,r}bindBuffer(e){const r=this.gl_,i=hs(e);let n=this.bufferCache_[i];if(!n){const s=r.createBuffer();n={buffer:e,webGlBuffer:s},this.bufferCache_[i]=n}r.bindBuffer(e.getType(),n.webGlBuffer)}flushBufferData(e){const r=this.gl_;this.bindBuffer(e),r.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const r=hs(e);delete this.bufferCache_[r]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(nb.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(nb.RESTORED,this.boundHandleWebGLContextRestored_),kxe(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,r,i){const n=this.gl_,s=this.getCanvas(),o=e.size,a=e.pixelRatio;(s.width!==o[0]*a||s.height!==o[1]*a)&&(s.width=o[0]*a,s.height=o[1]*a,s.style.width=o[0]+"px",s.style.height=o[1]+"px");for(let l=this.postProcessPasses_.length-1;l>=0;l--)this.postProcessPasses_[l].init(e);n.bindTexture(n.TEXTURE_2D,null),n.clearColor(0,0,0,0),n.depthRange(0,1),n.clearDepth(1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),i?(n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL)):n.disable(n.DEPTH_TEST)}bindFrameBuffer(e,r){const i=this.getGL();i.bindFramebuffer(i.FRAMEBUFFER,e),r&&i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,r,0)}bindInitialFrameBuffer(){const e=this.getGL(),r=this.postProcessPasses_[0].getFrameBuffer();e.bindFramebuffer(e.FRAMEBUFFER,r);const i=this.postProcessPasses_[0].getRenderTargetTexture();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0)}bindTexture(e,r,i){const n=this.gl_;n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(this.getUniformLocation(i),r)}bindAttribute(e,r,i){const n=this.getGL();this.bindBuffer(e);const s=this.getAttributeLocation(r);n.enableVertexAttribArray(s),n.vertexAttribPointer(s,i,n.FLOAT,!1,0,0)}prepareDrawToRenderTarget(e,r,i,n){const s=this.gl_,o=r.getSize();s.bindFramebuffer(s.FRAMEBUFFER,r.getFramebuffer()),s.bindRenderbuffer(s.RENDERBUFFER,r.getDepthbuffer()),s.viewport(0,0,o[0],o[1]),s.bindTexture(s.TEXTURE_2D,r.getTexture()),s.clearColor(0,0,0,0),s.depthRange(0,1),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.BLEND),s.blendFunc(s.ONE,i?s.ZERO:s.ONE_MINUS_SRC_ALPHA),n?(s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL)):s.disable(s.DEPTH_TEST)}drawElements(e,r){const i=this.gl_;this.getExtension("OES_element_index_uint");const n=i.UNSIGNED_INT,s=4,o=r-e,a=e*s;i.drawElements(i.TRIANGLES,o,n,a)}finalizeDraw(e,r,i){for(let n=0,s=this.postProcessPasses_.length;n<s;n++)n===s-1?this.postProcessPasses_[n].apply(e,null,r,i):this.postProcessPasses_[n].apply(e,this.postProcessPasses_[n+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const r=e.size,i=e.viewState.rotation,n=e.pixelRatio;this.setUniformFloatValue(eu.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(eu.ZOOM,e.viewState.zoom),this.setUniformFloatValue(eu.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(eu.PIXEL_RATIO,n),this.setUniformFloatVec2(eu.VIEWPORT_SIZE_PX,[r[0],r[1]]),this.setUniformFloatValue(eu.ROTATION,i)}applyHitDetectionUniform(e){const r=this.getUniformLocation(eu.HIT_DETECTION);this.getGL().uniform1i(r,e?1:0),e&&this.setUniformFloatValue(eu.PIXEL_RATIO,.5)}applyUniforms(e){const r=this.gl_;let i,n=0;this.uniforms_.forEach(s=>{if(i=typeof s.value=="function"?s.value(e):s.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData||i instanceof WebGLTexture){i instanceof WebGLTexture&&!s.texture?(s.prevValue=void 0,s.texture=i):s.texture||(s.prevValue=void 0,s.texture=r.createTexture()),this.bindTexture(s.texture,n,s.name),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const o=!(i instanceof HTMLImageElement)||i.complete;!(i instanceof WebGLTexture)&&o&&s.prevValue!==i&&(s.prevValue=i,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i)),n++}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(s.name,Ise(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:r.uniform2f(this.getUniformLocation(s.name),i[0],i[1]);return;case 3:r.uniform3f(this.getUniformLocation(s.name),i[0],i[1],i[2]);return;case 4:r.uniform4f(this.getUniformLocation(s.name),i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&r.uniform1f(this.getUniformLocation(s.name),i)})}useProgram(e,r){this.gl_.useProgram(e),this.currentProgram_=e,r&&(this.applyFrameState(r),this.applyUniforms(r))}compileShader(e,r){const i=this.gl_,n=i.createShader(r);return i.shaderSource(n,e),i.compileShader(n),n}getProgram(e,r){const i=this.gl_,n=this.compileShader(e,i.FRAGMENT_SHADER),s=this.compileShader(r,i.VERTEX_SHADER),o=i.createProgram();if(i.attachShader(o,n),i.attachShader(o,s),i.linkProgram(o),!i.getShaderParameter(n,i.COMPILE_STATUS)){const a=`Fragment shader compilation failed: ${i.getShaderInfoLog(n)}`;throw new Error(a)}if(i.deleteShader(n),!i.getShaderParameter(s,i.COMPILE_STATUS)){const a=`Vertex shader compilation failed: ${i.getShaderInfoLog(s)}`;throw new Error(a)}if(i.deleteShader(s),!i.getProgramParameter(o,i.LINK_STATUS)){const a=`GL program linking failed: ${i.getProgramInfoLog(o)}`;throw new Error(a)}return o}getUniformLocation(e){const r=hs(this.currentProgram_);return this.uniformLocationsByProgram_[r]===void 0&&(this.uniformLocationsByProgram_[r]={}),this.uniformLocationsByProgram_[r][e]===void 0&&(this.uniformLocationsByProgram_[r][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[r][e]}getAttributeLocation(e){const r=hs(this.currentProgram_);return this.attribLocationsByProgram_[r]===void 0&&(this.attribLocationsByProgram_[r]={}),this.attribLocationsByProgram_[r][e]===void 0&&(this.attribLocationsByProgram_[r][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[r][e]}makeProjectionTransform(e,r){const i=e.size,n=e.viewState.rotation,s=e.viewState.resolution,o=e.viewState.center;return ZE(r,0,0,2/(s*i[0]),2/(s*i[1]),-n,-o[0],-o[1]),r}setUniformFloatValue(e,r){this.gl_.uniform1f(this.getUniformLocation(e),r)}setUniformFloatVec2(e,r){this.gl_.uniform2fv(this.getUniformLocation(e),r)}setUniformFloatVec4(e,r){this.gl_.uniform4fv(this.getUniformLocation(e),r)}setUniformMatrixValue(e,r){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,r)}enableAttributeArray_(e,r,i,n,s){const o=this.getAttributeLocation(e);o<0||(this.gl_.enableVertexAttribArray(o),this.gl_.vertexAttribPointer(o,r,i,!1,n,s))}enableAttributes(e){const r=Txe(e);let i=0;for(let n=0;n<e.length;n++){const s=e[n];this.enableAttributeArray_(s.name,s.size,s.type||Mse,r,i),i+=s.size*Fse(s.type)}}handleWebGLContextLost(e){d0e(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,r,i,n){const s=this.gl_;i=i||s.createTexture();const o=n?s.NEAREST:s.LINEAR;s.bindTexture(s.TEXTURE_2D,i),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,o),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,o),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE);const a=0,l=s.RGBA,u=0,h=s.RGBA,d=s.UNSIGNED_BYTE;return r instanceof Uint8Array?s.texImage2D(s.TEXTURE_2D,a,l,e[0],e[1],u,h,d,r):r?s.texImage2D(s.TEXTURE_2D,a,l,h,d,r):s.texImage2D(s.TEXTURE_2D,a,l,e[0],e[1],u,h,d,null),i}}function Txe(t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];e+=i.size*Fse(i.type)}return e}function Fse(t){switch(t){case bl.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case bl.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case bl.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case bl.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}class ox extends h0e{constructor(e,r){super(e),r=r||{},this.inversePixelTransform_=Va(),this.postProcesses_=r.postProcesses,this.uniforms_=r.uniforms,this.helper,this.onMapChanged_=()=>{this.clearCache(),this.removeHelper()},e.addChangeListener(x2.MAP,this.onMapChanged_),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,r){const i=this.getLayer();if(i.hasListener(Rd.PRECOMPOSE)){const n=new Qx(Rd.PRECOMPOSE,void 0,r,e);i.dispatchEvent(n)}}dispatchPostComposeEvent(e,r){const i=this.getLayer();if(i.hasListener(Rd.POSTCOMPOSE)){const n=new Qx(Rd.POSTCOMPOSE,void 0,r,e);i.dispatchEvent(n)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let r=!0,i=-1,n;for(let o=0,a=e.layerStatesArray.length;o<a;o++){const l=e.layerStatesArray[o].layer,u=l.getRenderer();if(!(u instanceof ox)){r=!0;continue}const h=l.getClassName();if((r||h!==n)&&(i+=1,r=!1),n=h,u===this)break}const s="map/"+e.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(s)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new Axe({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:s}),n&&(this.helper.getCanvas().className=n),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}clearCache(){}disposeInternal(){var e;this.clearCache(),this.removeHelper(),(e=this.getLayer())==null||e.removeChangeListener(x2.MAP,this.onMapChanged_),super.disposeInternal()}dispatchRenderEvent_(e,r,i){const n=this.getLayer();if(n.hasListener(e)){ZE(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);const s=new Qx(e,this.inversePixelTransform_,i,r);n.dispatchEvent(s)}}preRender(e,r){this.dispatchRenderEvent_(Rd.PRERENDER,e,r)}postRender(e,r){this.dispatchRenderEvent_(Rd.POSTRENDER,e,r)}}const hl=new Uint8Array(4);class Dxe{constructor(e,r){this.helper_=e;const i=e.getGL();this.texture_=i.createTexture(),this.framebuffer_=i.createFramebuffer(),this.depthbuffer_=i.createRenderbuffer(),this.size_=r||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(e){f0e(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const e=this.size_,r=this.helper_.getGL();r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer_),r.readPixels(0,0,e[0],e[1],r.RGBA,r.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(e,r){if(e<0||r<0||e>this.size_[0]||r>=this.size_[1])return hl[0]=0,hl[1]=0,hl[2]=0,hl[3]=0,hl;this.readAll();const i=Math.floor(e)+(this.size_[1]-Math.floor(r)-1)*this.size_[0];return hl[0]=this.data_[i*4],hl[1]=this.data_[i*4+1],hl[2]=this.data_[i*4+2],hl[3]=this.data_[i*4+3],hl}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const e=this.size_,r=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer_),r.viewport(0,0,e[0],e[1]),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.texture_,0),r.bindRenderbuffer(r.RENDERBUFFER,this.depthbuffer_),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e[0],e[1]),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(e[0]*e[1]*4)}}const yQ={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"},bQ=.985;function Lxe(t,e){e=e||[];const r=256,i=r-1;return e[0]=Math.floor(t/r/r/r)/i,e[1]=Math.floor(t/r/r)%r/i,e[2]=Math.floor(t/r)%r/i,e[3]=t%r/i,e}function Oxe(t){let e=0;const r=256,i=r-1;return e+=Math.round(t[0]*r*r*r*i),e+=Math.round(t[1]*r*r*i),e+=Math.round(t[2]*r*i),e+=Math.round(t[3]*i),e}function Mxe(){const t='const t="GENERATE_POLYGON_BUFFERS",e="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function x(t,e){const n=(r=e)[0]*r[3]-r[1]*r[2];var r;!function(t,e){if(!t)throw new Error(e)}(0!==n,"Transformation matrix cannot be inverted");const x=e[0],o=e[1],u=e[2],i=e[3],f=e[4],s=e[5];return t[0]=i/n,t[1]=-o/n,t[2]=-u/n,t[3]=x/n,t[4]=(u*s-i*f)/n,t[5]=-(x*s-o*f)/n,t}function o(t,e,n=2){const r=e&&e.length,x=r?e[0]*n:t.length;let o=u(t,0,x,n,!0);const i=[];if(!o||o.next===o.prev)return i;let s,l,c;if(r&&(o=function(t,e,n,r){const x=[];for(let n=0,o=e.length;n<o;n++){const i=u(t,e[n]*r,n<o-1?e[n+1]*r:t.length,r,!1);i===i.next&&(i.steiner=!0),x.push(g(i))}x.sort(y);for(let t=0;t<x.length;t++)n=h(x[t],n);return n}(t,e,o,n)),t.length>80*n){s=1/0,l=1/0;let e=-1/0,r=-1/0;for(let o=n;o<x;o+=n){const n=t[o],x=t[o+1];n<s&&(s=n),x<l&&(l=x),n>e&&(e=n),x>r&&(r=x)}c=Math.max(e-s,r-l),c=0!==c?32767/c:0}return f(o,i,n,s,l,c,0),i}function u(t,e,n,r,x){let o;if(x===function(t,e,n,r){let x=0;for(let o=e,u=n-r;o<n;o+=r)x+=(t[u]-t[o])*(t[o+1]+t[u+1]),u=o;return x}(t,e,n,r)>0)for(let x=e;x<n;x+=r)o=z(x/r|0,t[x],t[x+1],o);else for(let x=n-r;x>=e;x-=r)o=z(x/r|0,t[x],t[x+1],o);return o&&M(o,o.next)&&(F(o),o=o.next),o}function i(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!M(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(F(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function f(t,e,n,r,x,o,u){if(!t)return;!u&&o&&function(t,e,n,r){let x=t;do{0===x.z&&(x.z=v(x.x,x.y,e,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==t);x.prevZ.nextZ=null,x.prevZ=null,function(t){let e,n=1;do{let r,x=t;t=null;let o=null;for(e=0;x;){e++;let u=x,i=0;for(let t=0;t<n&&(i++,u=u.nextZ,u);t++);let f=n;for(;i>0||f>0&&u;)0!==i&&(0===f||!u||x.z<=u.z)?(r=x,x=x.nextZ,i--):(r=u,u=u.nextZ,f--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;x=u}o.nextZ=null,n*=2}while(e>1)}(x)}(t,r,x,o);let y=t;for(;t.prev!==t.next;){const h=t.prev,p=t.next;if(o?l(t,r,x,o):s(t))e.push(h.i,t.i,p.i),F(t),t=p.next,y=p.next;else if((t=p)===y){u?1===u?f(t=c(i(t),e),e,n,r,x,o,2):2===u&&a(t,e,n,r,x,o):f(i(t),e,n,r,x,o,1);break}}}function s(t){const e=t.prev,n=t,r=t.next;if(d(e,n,r)>=0)return!1;const x=e.x,o=n.x,u=r.x,i=e.y,f=n.y,s=r.y,l=x<o?x<u?x:u:o<u?o:u,c=i<f?i<s?i:s:f<s?f:s,a=x>o?x>u?x:u:o>u?o:u,y=i>f?i>s?i:s:f>s?f:s;let h=r.next;for(;h!==e;){if(h.x>=l&&h.x<=a&&h.y>=c&&h.y<=y&&b(x,i,o,f,u,s,h.x,h.y)&&d(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function l(t,e,n,r){const x=t.prev,o=t,u=t.next;if(d(x,o,u)>=0)return!1;const i=x.x,f=o.x,s=u.x,l=x.y,c=o.y,a=u.y,y=i<f?i<s?i:s:f<s?f:s,h=l<c?l<a?l:a:c<a?c:a,p=i>f?i>s?i:s:f>s?f:s,g=l>c?l>a?l:a:c>a?c:a,Z=v(y,h,e,n,r),M=v(p,g,e,n,r);let w=t.prevZ,m=t.nextZ;for(;w&&w.z>=Z&&m&&m.z<=M;){if(w.x>=y&&w.x<=p&&w.y>=h&&w.y<=g&&w!==x&&w!==u&&b(i,l,f,c,s,a,w.x,w.y)&&d(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,m.x>=y&&m.x<=p&&m.y>=h&&m.y<=g&&m!==x&&m!==u&&b(i,l,f,c,s,a,m.x,m.y)&&d(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;w&&w.z>=Z;){if(w.x>=y&&w.x<=p&&w.y>=h&&w.y<=g&&w!==x&&w!==u&&b(i,l,f,c,s,a,w.x,w.y)&&d(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;m&&m.z<=M;){if(m.x>=y&&m.x<=p&&m.y>=h&&m.y<=g&&m!==x&&m!==u&&b(i,l,f,c,s,a,m.x,m.y)&&d(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function c(t,e){let n=t;do{const r=n.prev,x=n.next.next;!M(r,x)&&w(r,n,n.next,x)&&E(r,x)&&E(x,r)&&(e.push(r.i,n.i,x.i),F(n),F(n.next),n=t=x),n=n.next}while(n!==t);return i(n)}function a(t,e,n,r,x,o){let u=t;do{let t=u.next.next;for(;t!==u.prev;){if(u.i!==t.i&&Z(u,t)){let s=I(u,t);return u=i(u,u.next),s=i(s,s.next),f(u,e,n,r,x,o,0),void f(s,e,n,r,x,o,0)}t=t.next}u=u.next}while(u!==t)}function y(t,e){return t.x-e.x}function h(t,e){const n=function(t,e){let n=e;const r=t.x,x=t.y;let o,u=-1/0;do{if(x<=n.y&&x>=n.next.y&&n.next.y!==n.y){const t=n.x+(x-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>u&&(u=t,o=n.x<n.next.x?n:n.next,t===r))return o}n=n.next}while(n!==e);if(!o)return null;const i=o,f=o.x,s=o.y;let l=1/0;n=o;do{if(r>=n.x&&n.x>=f&&r!==n.x&&b(x<s?r:u,x,f,s,x<s?u:r,x,n.x,n.y)){const e=Math.abs(x-n.y)/(r-n.x);E(n,t)&&(e<l||e===l&&(n.x>o.x||n.x===o.x&&p(o,n)))&&(o=n,l=e)}n=n.next}while(n!==i);return o}(t,e);if(!n)return e;const r=I(n,t);return i(r,r.next),i(n,n.next)}function p(t,e){return d(t.prev,t,e.prev)<0&&d(e.next,t,t.next)<0}function v(t,e,n,r,x){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function b(t,e,n,r,x,o,u,i){return(x-u)*(e-i)>=(t-u)*(o-i)&&(t-u)*(r-i)>=(n-u)*(e-i)&&(n-u)*(o-i)>=(x-u)*(r-i)}function Z(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function(t,e){let n=t,r=!1;const x=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&x<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(d(t.prev,t,e.prev)||d(t,e.prev,e))||M(t,e)&&d(t.prev,t,t.next)>0&&d(e.prev,e,e.next)>0)}function d(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function M(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,n,r){const x=A(d(t,e,n)),o=A(d(t,e,r)),u=A(d(n,r,t)),i=A(d(n,r,e));return x!==o&&u!==i||(!(0!==x||!m(t,n,e))||(!(0!==o||!m(t,r,e))||(!(0!==u||!m(n,t,r))||!(0!==i||!m(n,e,r)))))}function m(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function A(t){return t>0?1:t<0?-1:0}function E(t,e){return d(t.prev,t,t.next)<0?d(t,e,t.next)>=0&&d(t,t.prev,e)>=0:d(t,e,t.prev)<0||d(t,t.next,e)<0}function I(t,e){const n=P(t.i,t.x,t.y),r=P(e.i,e.x,e.y),x=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=x,x.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function z(t,e,n,r){const x=P(t,e,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function F(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}new Array(6);const B=[],N={vertexPosition:0,indexPosition:0};function R(t,e,n,r,x){t[e+0]=n,t[e+1]=r,t[e+2]=x}function S(t,e,n,r,x,o){const u=3+x,i=t[e+0],f=t[e+1],s=B;s.length=x;for(let n=0;n<s.length;n++)s[n]=t[e+2+n];let l=o?o.vertexPosition:0,c=o?o.indexPosition:0;const a=l/u;return R(n,l,i,f,0),s.length&&n.set(s,l+3),l+=u,R(n,l,i,f,1),s.length&&n.set(s,l+3),l+=u,R(n,l,i,f,2),s.length&&n.set(s,l+3),l+=u,R(n,l,i,f,3),s.length&&n.set(s,l+3),l+=u,r[c++]=a,r[c++]=a+1,r[c++]=a+3,r[c++]=a+1,r[c++]=a+2,r[c++]=a+3,N.vertexPosition=l,N.indexPosition=c,N}function T(t,e,n,x,o,u,i,f,s,l,c){const a=10+f.length,y=u.length/a,h=[t[e+0],t[e+1]],p=[t[n],t[n+1]],v=t[e+2],g=t[n+2],b=r(s,[...h]),Z=r(s,[...p]);function d(t,e,n){const r=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),x=[(e[0]-t[0])/r,(e[1]-t[1])/r],o=[-x[1],x[0]],u=Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])),i=[(n[0]-t[0])/u,(n[1]-t[1])/u],f=0===r||0===u?0:Math.acos((s=i[0]*x[0]+i[1]*x[1],l=-1,c=1,Math.min(Math.max(s,l),c)));var s,l,c;return i[0]*o[0]+i[1]*o[1]>0?f:2*Math.PI-f}let M=-1,w=-1,m=c;const A=null!==o;if(null!==x){M=d(b,Z,r(s,[...[t[x],t[x+1]]])),Math.cos(M)<=.985&&(m+=Math.tan((M-Math.PI)/2))}if(A){w=d(Z,b,r(s,[...[t[o],t[o+1]]])),Math.cos(w)<=.985&&(m+=Math.tan((Math.PI-w)/2))}function E(t,e){return 0===e?1e4*t:Math.sign(e)*(1e4*t+Math.abs(e))}return u.push(h[0],h[1],v,p[0],p[1],g,M,w,l,E(0,c)),u.push(...f),u.push(h[0],h[1],v,p[0],p[1],g,M,w,l,E(1,c)),u.push(...f),u.push(h[0],h[1],v,p[0],p[1],g,M,w,l,E(2,c)),u.push(...f),u.push(h[0],h[1],v,p[0],p[1],g,M,w,l,E(3,c)),u.push(...f),i.push(y,y+1,y+2,y+1,y+3,y+2),{length:l+Math.sqrt((Z[0]-b[0])*(Z[0]-b[0])+(Z[1]-b[1])*(Z[1]-b[1])),angle:m}}function _(t,e,n,r,x){const u=2+x;let i=e;const f=t.slice(i,i+x);i+=x;const s=t[i++];let l=0;const c=new Array(s-1);for(let e=0;e<s;e++)l+=t[i++],e<s-1&&(c[e]=l);const a=t.slice(i,i+2*l),y=o(a,c,2);for(let t=0;t<y.length;t++)r.push(y[t]+n.length/u);for(let t=0;t<a.length;t+=2)n.push(a[t],a[t+1],...f);return i+2*l}const O=self;O.onmessage=r=>{const o=r.data;switch(o.type){case e:{const t=3,e=2,n=o.customAttributesSize,r=e+n,x=new Float32Array(o.renderInstructions),u=x.length/r,i=4*u*(n+t),f=new Uint32Array(6*u),s=new Float32Array(i);let l;for(let t=0;t<x.length;t+=r)l=S(x,t,s,f,n,l);const c=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},o);O.postMessage(c,[s.buffer,f.buffer,x.buffer]);break}case n:{const t=[],e=[],n=o.customAttributesSize,r=3,u=new Float32Array(o.renderInstructions);let i=0;const f=[1,0,0,1,0,0];let s,l;for(x(f,o.renderInstructionsTransform);i<u.length;){l=Array.from(u.slice(i,i+n)),i+=n,s=u[i++];const x=i,o=i+(s-1)*r,c=u[x]===u[o]&&u[x+1]===u[o+1];let a=0,y=0;for(let n=0;n<s-1;n++){let h=null;n>0?h=i+(n-1)*r:c&&(h=o-r);let p=null;n<s-2?p=i+(n+2)*r:c&&(p=x+r);const v=T(u,i+n*r,i+(n+1)*r,h,p,t,e,l,f,a,y);a=v.length,y=v.angle}i+=s*r}const c=Uint32Array.from(e),a=Float32Array.from(t),y=Object.assign({vertexBuffer:a.buffer,indexBuffer:c.buffer,renderInstructions:u.buffer},o);O.postMessage(y,[a.buffer,c.buffer,u.buffer]);break}case t:{const t=[],e=[],n=o.customAttributesSize,r=new Float32Array(o.renderInstructions);let x=0;for(;x<r.length;)x=_(r,x,t,e,n);const u=Uint32Array.from(e),i=Float32Array.from(t),f=Object.assign({vertexBuffer:i.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},o);O.postMessage(f,[i.buffer,u.buffer,r.buffer]);break}}};';return new Worker(typeof Blob>"u"?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}function Rxe(t,e){const r=t.viewState.projection,n=e.getSource().getWrapX()&&r.canWrapX(),s=r.getExtent(),o=t.extent,a=n?Ko(s):null,l=n?Math.ceil((o[2]-s[2])/a)+1:1;return[n?Math.floor((o[0]-s[0])/a):0,l,a]}class Pse extends ox{constructor(e,r){const i=r.uniforms||{},n=Va();i[eu.PROJECTION_MATRIX]=n,super(e,{uniforms:i,postProcesses:r.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new kv(nx,k2),this.indicesBuffer_=new kv(sx,k2),this.vertexShader_=r.vertexShader,this.fragmentShader_=r.fragmentShader,this.program_,this.hitDetectionEnabled_=r.hitDetectionEnabled??!0;const s=r.attributes?r.attributes.map(function(a){return{name:"a_prop_"+a.name,size:1,type:bl.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:bl.FLOAT},{name:"a_index",size:1,type:bl.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_prop_hitColor",size:4,type:bl.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:bl.FLOAT})),this.attributes.push(...s),this.customAttributes=r.attributes?r.attributes:[],this.previousExtent_=XE(),this.currentTransform_=n,this.renderTransform_=Va(),this.invertRenderTransform_=Va(),this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=Mxe(),this.worker_.addEventListener("message",a=>{const l=a.data;if(l.type===yQ.GENERATE_POINT_BUFFERS){const u=l.projectionTransform;this.verticesBuffer_.fromArrayBuffer(l.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(l.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=u,p0e(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(a.data.renderInstructions),l.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}}),this.featureCache_={},this.featureCount_=0;const o=this.getLayer().getSource();this.sourceListenKeys_=[Jy(o,Qy.ADDFEATURE,this.handleSourceFeatureAdded_,this),Jy(o,Qy.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Jy(o,Qy.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Jy(o,Qy.CLEAR,this.handleSourceFeatureClear_,this)],o.forEachFeature(a=>{this.featureCache_[hs(a)]={feature:a,properties:a.getProperties(),geometry:a.getGeometry()},this.featureCount_++})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new Dxe(this.helper)),this.verticesBuffer_.getArray()&&this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.getArray()&&this.helper.flushBufferData(this.indicesBuffer_)}handleSourceFeatureAdded_(e){const r=e.feature;this.featureCache_[hs(r)]={feature:r,properties:r.getProperties(),geometry:r.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(e){const r=e.feature;this.featureCache_[hs(r)]={feature:r,properties:r.getProperties(),geometry:r.getGeometry()}}handleSourceFeatureDelete_(e){const r=e.feature;delete this.featureCache_[hs(r)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(e){const r=this.helper.getGL();this.preRender(r,e);const[i,n,s]=Rxe(e,this.getLayer());return this.renderWorlds(e,!1,i,n,s),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,i,n,s),this.hitRenderTarget_.clearCachedData()),this.postRender(r,e),this.helper.getCanvas()}prepareFrameInternal(e){const r=this.getLayer(),i=r.getSource(),n=e.viewState,s=!e.viewHints[Xf.ANIMATING]&&!e.viewHints[Xf.INTERACTING],o=!fv(this.previousExtent_,e.extent),a=this.sourceRevision_<i.getRevision();if(a&&(this.sourceRevision_=i.getRevision()),s&&(o||a)){const l=n.projection,u=n.resolution,h=r instanceof KE?r.getRenderBuffer():0,d=Hne(e.extent,h*u);i.loadFeatures(d,u,l),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.useProgram(this.program_,e),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(e){const r=Va();this.helper.makeProjectionTransform(e,r);const n=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,s=n*this.featureCount_;(!this.renderInstructions_||this.renderInstructions_.length!==s)&&(this.renderInstructions_=new Float32Array(s));let o,a;const l=[],u=[];let h=-1;for(const f in this.featureCache_)if(o=this.featureCache_[f],a=o.geometry,!(!a||a.getType()!=="Point")){if(l[0]=a.getFlatCoordinates()[0],l[1]=a.getFlatCoordinates()[1],s0(r,l),this.renderInstructions_[++h]=l[0],this.renderInstructions_[++h]=l[1],this.hitDetectionEnabled_){const p=Lxe(h+5,u);this.renderInstructions_[++h]=p[0],this.renderInstructions_[++h]=p[1],this.renderInstructions_[++h]=p[2],this.renderInstructions_[++h]=p[3],this.renderInstructions_[++h]=Number(f)}for(let p=0;p<this.customAttributes.length;p++){const g=this.customAttributes[p].callback(o.feature,o.properties);this.renderInstructions_[++h]=g}}const d={id:++this.lastSentId,type:yQ.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:n-2};d.projectionTransform=r,this.ready=!1,this.worker_.postMessage(d,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(e,r,i,n,s){if(Dl(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const o=s0(r.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),l=[a[0]/255,a[1]/255,a[2]/255,a[3]/255],u=Oxe(l),h=this.renderInstructions_[u],d=Math.floor(h).toString(),p=this.getLayer().getSource().getFeatureByUid(d);if(p)return n(p,this.getLayer(),null)}renderWorlds(e,r,i,n,s){let o=i;this.helper.useProgram(this.program_,e),r&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(e,this.currentTransform_),Vne(this.currentTransform_,o*s,0),Fne(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e),this.helper.applyHitDetectionUniform(r);const a=this.indicesBuffer_.getSize();this.helper.drawElements(0,a)}while(++o<n)}disposeInternal(){this.worker_.terminate(),this.sourceListenKeys_.forEach(function(e){m0e(e)}),this.sourceListenKeys_=null,super.disposeInternal()}renderDeclutter(){}}class Ixe{constructor(e,r){this.name=e,this.data=r,this.texture_=null}getTexture(e){if(!this.texture_){const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=r}return this.texture_}delete(e){this.texture_&&e.deleteTexture(this.texture_),this.texture_=null}}class Fxe extends g0e{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter=e.gutter||0,this.helper=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(va.CHANGE,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===Bn.LOADED,this.loaded)this.uploadTile();else{if(e instanceof JE){const r=e.getImage();r instanceof Image&&!r.crossOrigin&&(r.crossOrigin="anonymous")}e.addEventListener(va.CHANGE,this.handleTileChange_)}}uploadTile(){iu()}setReady(){this.ready=!0,this.dispatchEvent(va.CHANGE)}handleTileChange_(){this.tile.getState()===Bn.LOADED&&(this.loaded=!0,this.uploadTile())}setHelper(e){this.helper=e,this.helper&&this.loaded&&this.uploadTile()}disposeInternal(){this.setHelper(null),this.tile.removeEventListener(va.CHANGE,this.handleTileChange_)}}function Nse(t,e,r){const i=r?t.LINEAR:t.NEAREST;t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i)}function Pxe(t,e,r,i){Nse(t,e,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}function vQ(t,e,r,i,n,s){const o=t.getGL();let a,l;r instanceof Float32Array?(a=o.FLOAT,t.getExtension("OES_texture_float"),l=t.getExtension("OES_texture_float_linear")!==null):(a=o.UNSIGNED_BYTE,l=!0),Nse(o,e,s&&l);const u=r.byteLength/i[1];let h=1;u%8===0?h=8:u%4===0?h=4:u%2===0&&(h=2);let d;switch(n){case 1:{d=o.LUMINANCE;break}case 2:{d=o.LUMINANCE_ALPHA;break}case 3:{d=o.RGB;break}case 4:{d=o.RGBA;break}default:throw new Error(`Unsupported number of bands: ${n}`)}const f=o.getParameter(o.UNPACK_ALIGNMENT);o.pixelStorei(o.UNPACK_ALIGNMENT,h),o.texImage2D(o.TEXTURE_2D,0,d,i[0],i[1],0,d,a,r),o.pixelStorei(o.UNPACK_ALIGNMENT,f)}let vf=null;function Nxe(){vf=eh(1,1,void 0,{willReadFrequently:!0})}class $xe extends Fxe{constructor(e){super(e),this.textures=[],this.renderSize_=Ya(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;const r=new kv(nx,_S);r.fromArray([0,1,1,1,1,0,0,0]),this.helper.flushBufferData(r),this.coords=r,this.setTile(e.tile)}setHelper(e){var i;const r=(i=this.helper)==null?void 0:i.getGL();if(r){this.helper.deleteBuffer(this.coords);for(let n=0;n<this.textures.length;++n)r.deleteTexture(this.textures[n])}super.setHelper(e),e&&e.flushBufferData(this.coords)}uploadTile(){const e=this.helper,r=e.getGL(),i=this.tile;this.textures.length=0;let n;i instanceof JE||i instanceof QE?n=i.getImage():n=i.getData();const s=OJ(n);if(s){const w=r.createTexture();this.textures.push(w),this.bandCount=4,Pxe(r,w,s,i.interpolate),this.setReady();return}n=MJ(n);const o=i.getSize(),a=[o[0]+2*this.gutter,o[1]+2*this.gutter],l=n instanceof Float32Array,u=a[0]*a[1],h=l?Float32Array:Uint8Array,d=h.BYTES_PER_ELEMENT,f=n.byteLength/a[1];this.bandCount=Math.floor(f/d/a[0]);const p=Math.ceil(this.bandCount/4);if(p===1){const w=r.createTexture();this.textures.push(w),vQ(e,w,n,a,this.bandCount,i.interpolate),this.setReady();return}const g=new Array(p);for(let w=0;w<p;++w){const S=r.createTexture();this.textures.push(S);const C=w<p-1?4:(this.bandCount-1)%4+1;g[w]=new h(u*C)}let y=0,b=0;const x=a[0]*this.bandCount;for(let w=0;w<a[1];++w){for(let S=0;S<x;++S){const C=n[b+S],k=Math.floor(y/this.bandCount),O=S%this.bandCount,M=Math.floor(O/4),A=g[M],I=A.length/u,R=O%4;A[k*I+R]=C,++y}b+=f/d}for(let w=0;w<p;++w){const S=this.textures[w],C=g[w],k=C.length/u;vQ(e,S,C,a,k,i.interpolate)}this.setReady()}getImagePixelData_(e,r,i){const n=this.gutter,s=this.renderSize_[0],o=this.renderSize_[1];vf||Nxe(),vf.clearRect(0,0,1,1);const a=e.width,l=e.height,u=a-2*n,h=l-2*n,d=n+Math.floor(u*(r/s)),f=n+Math.floor(h*(i/o));let p;try{vf.drawImage(e,d,f,1,1,0,0,1,1),p=vf.getImageData(0,0,1,1).data}catch{return vf=null,null}return p}getArrayPixelData_(e,r,i,n){const s=this.gutter,o=this.renderSize_[0],a=this.renderSize_[1],l=r[0],u=r[1],h=l+2*s,d=u+2*s,f=s+Math.floor(l*(i/o)),p=s+Math.floor(u*(n/a));if(e instanceof DataView){const y=e.byteLength/(h*d),b=y*(p*h+f),x=e.buffer.slice(b,b+y);return new DataView(x)}const g=this.bandCount*(p*h+f);return e.slice(g,g+this.bandCount)}getPixelData(e,r){if(!this.loaded)return null;if(this.tile instanceof Gne){const i=this.tile.getData(),n=MJ(i);if(n){const s=this.tile.getSize();return this.getArrayPixelData_(n,s,e,r)}return this.getImagePixelData_(OJ(i),e,r)}return this.getImagePixelData_(this.tile.getImage(),e,r)}}const Bxe={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"};function xQ(t){return 1/(t+2)}function jxe(){return{tileIds:new Set,representationsByZ:{}}}function _Q(t,e){return t.tileIds.has(hs(e))}function wQ(t,e,r){const i=t.representationsByZ;r in i||(i[r]=new Set),i[r].add(e),t.tileIds.add(hs(e.tile))}function r_(t,e){const r=t.layerStatesArray[t.layerIndex];r.extent&&(e=Qd(e,Yne(r.extent,t.viewState.projection)));const i=r.layer.getRenderSource();if(!i.getWrapX()){const n=i.getTileGridForProjection(t.viewState.projection).getExtent();n&&(e=Qd(e,n))}return e}function A2(t,e){return`${t.getKey()},${bf(e)}`}class zxe extends ox{constructor(e,r){super(e,{uniforms:r.uniforms,postProcesses:r.postProcesses}),this.renderComplete=!1,this.tileTransform_=Va(),this.tempMat4=Rse(),this.tempTileRange_=new y0e(0,0,0,0),this.tempTileCoord_=_2(0,0,0),this.tempSize_=[0,0];const i=r.cacheSize!==void 0?r.cacheSize:512;this.tileRepresentationCache=new Wne(i),this.frameState=null,this.renderedProjection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}prepareFrameInternal(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.clearCache(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const i=this.getLayer().getRenderSource();return!i||VE(r_(e,e.extent))?!1:i.getState()==="ready"}createTileRepresentation(e){return iu()}enqueueTiles(e,r,i,n,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),u=l.getTileGridForProjection(o.projection),h=l.getGutterForProjection(o.projection),d=hs(l);d in e.wantedTiles||(e.wantedTiles[d]={});const f=e.wantedTiles[d],p=this.tileRepresentationCache,g=a.getMapInternal(),y=Math.max(i-s,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),g?g.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),l.zDirection));for(let b=i;b>=y;--b){const x=u.getTileRangeForExtentAndZ(r,b,this.tempTileRange_),w=u.getResolution(b);for(let S=x.minX;S<=x.maxX;++S)for(let C=x.minY;C<=x.maxY;++C){const k=_2(b,S,C,this.tempTileCoord_),O=A2(l,k);let M,A;if(p.containsKey(O)&&(M=p.get(O),A=M.tile),(!M||M.tile.key!==l.getKey())&&(A=l.getTile(b,S,C,e.pixelRatio,o.projection),!A)||_Q(n,A))continue;M?M.setTile(A):(M=this.createTileRepresentation({tile:A,grid:u,helper:this.helper,gutter:h}),p.set(O,M)),wQ(n,M,b);const I=A.getKey();f[I]=!0,A.getState()===Bn.IDLE&&(e.tileQueue.isKeyQueued(I)||e.tileQueue.enqueue([A,d,u.getTileCoordCenter(k),w]))}}}beforeTilesRender(e,r){this.helper.prepareDraw(this.frameState,!r,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,r,i,n,s,o,a,l,u,h,d){}renderTileMask(e,r,i,n){}drawTile_(e,r,i,n,s,o,a){if(!r.ready)return;const u=r.tile.tileCoord,h=bf(u),d=h in o?o[h]:1,f=a.getResolution(i),p=Ya(a.getTileSize(i),this.tempSize_),g=a.getOrigin(i),y=a.getTileCoordExtent(u),b=d<1?-1:xQ(i);d<1&&(e.animate=!0);const x=e.viewState,w=x.center[0],S=x.center[1],C=p[0]+2*n,k=p[1]+2*n,O=C/k,M=(w-g[0])/(p[0]*f),A=(g[1]-S)/(p[1]*f),I=x.resolution/f,R=u[1],V=u[2];b0e(this.tileTransform_),RJ(this.tileTransform_,2/(e.size[0]*I/C),-2/(e.size[1]*I/C)),v0e(this.tileTransform_,x.rotation),RJ(this.tileTransform_,1,1/O),Vne(this.tileTransform_,(p[0]*(R-M)-n)/C,(p[1]*(V-A)-n)/k),this.renderTile(r,this.tileTransform_,e,s,f,p,g,y,b,n,d)}renderFrame(e){this.frameState=e,this.renderComplete=!0;const r=this.helper.getGL();this.preRender(r,e);const i=e.viewState,n=this.getLayer(),s=n.getRenderSource(),o=s.getTileGridForProjection(i.projection),a=s.getGutterForProjection(i.projection),l=r_(e,e.extent),u=o.getZForResolution(i.resolution,s.zDirection),h=jxe(),d=n.getPreload();if(e.nextExtent){const k=o.getZForResolution(i.nextResolution,s.zDirection),O=r_(e,e.nextExtent);this.enqueueTiles(e,O,k,h,d)}this.enqueueTiles(e,l,u,h,0),d>0&&setTimeout(()=>{this.enqueueTiles(e,l,u-1,h,d-1)},0);const f={},p=hs(this),g=e.time;let y=!1;const b=h.representationsByZ;if(u in b)for(const k of b[u]){const O=k.tile;if((O instanceof QE||O instanceof eS)&&O.getState()===Bn.EMPTY)continue;const M=O.tileCoord;if(k.ready){const R=O.getAlpha(p,g);if(R===1){O.endTransition(p);continue}y=!0;const V=bf(M);f[V]=R}if(this.renderComplete=!1,this.findAltTiles_(o,M,u+1,h))continue;const I=o.getMinZoom();for(let R=u-1;R>=I&&!this.findAltTiles_(o,M,R,h);--R);}const x=Object.keys(b).map(Number).sort(x0e);if(this.beforeTilesMaskRender(e))for(let k=0,O=x.length;k<O;++k){const M=x[k];for(const A of b[M]){const I=A.tile.tileCoord;if(bf(I)in f)continue;const V=o.getTileCoordExtent(I);this.renderTileMask(A,M,V,xQ(M))}}this.beforeTilesRender(e,y);for(let k=0,O=x.length;k<O;++k){const M=x[k];for(const A of b[M]){const I=A.tile.tileCoord;bf(I)in f||this.drawTile_(e,A,M,a,l,f,o)}}if(u in b)for(const k of b[u]){const O=k.tile.tileCoord;bf(O)in f&&this.drawTile_(e,k,u,a,l,f,o)}this.beforeFinalize(e),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const S=this.helper.getCanvas(),C=this.tileRepresentationCache;for(;C.canExpireCache();)C.pop().dispose();return this.postRender(r,e),S}beforeFinalize(e){}findAltTiles_(e,r,i,n){const s=e.getTileRangeForTileCoordAndZ(r,i,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileRepresentationCache,l=this.getLayer().getRenderSource();for(let u=s.minX;u<=s.maxX;++u)for(let h=s.minY;h<=s.maxY;++h){const d=A2(l,[i,u,h]);let f=!1;if(a.containsKey(d)){const p=a.get(d);p.ready&&!_Q(n,p.tile)&&(wQ(n,p,i),f=!0)}f||(o=!1)}return o}clearCache(){super.clearCache();const e=this.tileRepresentationCache;e.forEach(r=>r.dispose()),e.clear()}afterHelperCreated(){super.afterHelperCreated(),this.tileRepresentationCache.forEach(e=>e.setHelper(this.helper))}disposeInternal(){super.disposeInternal(),delete this.frameState}}const Pr={...Bxe,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},Zb={TEXTURE_COORD:"a_textureCoord"},Uxe=[{name:Zb.TEXTURE_COORD,size:2,type:bl.FLOAT}];class qxe extends zxe{constructor(e,r){super(e,r),this.program_,this.vertexShader_=r.vertexShader,this.fragmentShader_=r.fragmentShader,this.indices_=new kv(sx,_S),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=r.paletteTextures||[]}reset(e){if(super.reset(e),this.helper){const r=this.helper.getGL();for(const i of this.paletteTextures_)i.delete(r)}if(this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);const r=this.helper.getGL();for(const i of this.paletteTextures_)i.getTexture(r)}}afterHelperCreated(){super.afterHelperCreated();const e=this.helper.getGL();for(const r of this.paletteTextures_)r.getTexture(e);this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const e=this.helper.getGL();for(const r of this.paletteTextures_)r.delete(e)}super.removeHelper()}createTileRepresentation(e){return new $xe(e)}beforeTilesRender(e,r){super.beforeTilesRender(e,r),this.helper.useProgram(this.program_,e)}renderTile(e,r,i,n,s,o,a,l,u,h,d){const f=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(Uxe);let p=0;for(;p<e.textures.length;){const O=`${Pr.TILE_TEXTURE_ARRAY}[${p}]`;this.helper.bindTexture(e.textures[p],p,O),++p}for(let O=0;O<this.paletteTextures_.length;++O){const M=this.paletteTextures_[O],A=M.getTexture(f);this.helper.bindTexture(A,p,M.name),++p}const g=i.viewState,y=o[0]+2*h,b=o[1]+2*h,w=e.tile.tileCoord,S=w[1],C=w[2];this.helper.setUniformMatrixValue(Pr.TILE_TRANSFORM,Ise(this.tempMat4,r)),this.helper.setUniformFloatValue(Pr.TRANSITION_ALPHA,d),this.helper.setUniformFloatValue(Pr.DEPTH,u);let k=n;h>0&&(k=l,Qd(k,n,k)),this.helper.setUniformFloatVec4(Pr.RENDER_EXTENT,k),this.helper.setUniformFloatValue(Pr.RESOLUTION,g.resolution),this.helper.setUniformFloatValue(Pr.ZOOM,g.zoom),this.helper.setUniformFloatValue(Pr.TEXTURE_PIXEL_WIDTH,y),this.helper.setUniformFloatValue(Pr.TEXTURE_PIXEL_HEIGHT,b),this.helper.setUniformFloatValue(Pr.TEXTURE_RESOLUTION,s),this.helper.setUniformFloatValue(Pr.TEXTURE_ORIGIN_X,a[0]+S*o[0]*s-h*s),this.helper.setUniformFloatValue(Pr.TEXTURE_ORIGIN_Y,a[1]-C*o[1]*s+h*s),this.helper.drawElements(0,this.indices_.getSize())}getData(e){if(!this.helper.getGL())return null;const i=this.frameState;if(!i)return null;const n=this.getLayer(),s=s0(i.pixelToCoordinateTransform,e.slice()),o=i.viewState,a=n.getExtent();if(a&&!Af(Yne(a,o.projection),s))return null;const l=n.getSources(YE([s]),o.resolution);let u,h,d;for(u=l.length-1;u>=0;--u)if(h=l[u],h.getState()==="ready"){if(d=h.getTileGridForProjection(o.projection),h.getWrapX())break;const p=d.getExtent();if(!p||Af(p,s))break}if(u<0)return null;const f=this.tileRepresentationCache;for(let p=d.getZForResolution(o.resolution);p>=d.getMinZoom();--p){const g=d.getTileCoordForCoordAndZ(s,p),y=A2(h,g);if(!f.containsKey(y))continue;const b=f.get(y),x=b.tile;if((x instanceof QE||x instanceof eS)&&x.getState()===Bn.EMPTY)return null;if(!b.loaded)continue;const w=d.getOrigin(p),S=Ya(d.getTileSize(p)),C=d.getResolution(p),k=(s[0]-w[0])/C-g[1]*S[0],O=(w[1]-s[1])/C-g[2]*S[1];return b.getPixelData(k,O)}return null}disposeInternal(){const e=this.helper;if(e){const r=e.getGL();for(const i of this.paletteTextures_)i.delete(r);this.paletteTextures_.length=0,r.deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}}function Hxe(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}function qd(t){const e=t.toString();return e.includes(".")?e:e+".0"}function wS(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(qd).join(", ")})`}function Xb(t){const e=o0(t),r=e.length>3?e[3]:1;return wS([e[0]/255,e[1]/255,e[2]/255,r])}function Vxe(t){const e=Ya(t);return wS(e)}const i_={};let Gxe=0;function Tv(t){return t in i_||(i_[t]=Gxe++),i_[t]}function nu(t){return qd(Tv(t))}function ES(t){return"u_var_"+t}function Wxe(){return{inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{}}}const n_="getBandValue",$se="u_paletteTextures";function Yxe(t,e,r,i){const n=_0e(t,e,r);return SS(n,e,i)}function Mi(t){return(e,r,i)=>{const n=r.args.length,s=new Array(n);for(let o=0;o<n;++o)s[o]=SS(r.args[o],i,e);return t(s,e)}}const Zxe={[Yr.Get]:(t,e)=>{const i=e.args[0].value;return i in t.properties||(t.properties[i]={name:i,type:e.type}),(t.inFragmentShader?"v_prop_":"a_prop_")+i},[Yr.GeometryType]:(t,e,r)=>{const i="geometryType";return i in t.properties||(t.properties[i]={name:i,type:xv,evaluator:o=>S0e(o.getGeometry())}),(t.inFragmentShader?"v_prop_":"a_prop_")+i},[Yr.LineMetric]:()=>"currentLineMetric",[Yr.Var]:(t,e)=>{const i=e.args[0].value;return i in t.variables||(t.variables[i]={name:i,type:e.type}),ES(i)},[Yr.Resolution]:()=>"u_resolution",[Yr.Zoom]:()=>"u_zoom",[Yr.Time]:()=>"u_time",[Yr.Any]:Mi(t=>`(${t.join(" || ")})`),[Yr.All]:Mi(t=>`(${t.join(" && ")})`),[Yr.Not]:Mi(([t])=>`(!${t})`),[Yr.Equal]:Mi(([t,e])=>`(${t} == ${e})`),[Yr.NotEqual]:Mi(([t,e])=>`(${t} != ${e})`),[Yr.GreaterThan]:Mi(([t,e])=>`(${t} > ${e})`),[Yr.GreaterThanOrEqualTo]:Mi(([t,e])=>`(${t} >= ${e})`),[Yr.LessThan]:Mi(([t,e])=>`(${t} < ${e})`),[Yr.LessThanOrEqualTo]:Mi(([t,e])=>`(${t} <= ${e})`),[Yr.Multiply]:Mi(t=>`(${t.join(" * ")})`),[Yr.Divide]:Mi(([t,e])=>`(${t} / ${e})`),[Yr.Add]:Mi(t=>`(${t.join(" + ")})`),[Yr.Subtract]:Mi(([t,e])=>`(${t} - ${e})`),[Yr.Clamp]:Mi(([t,e,r])=>`clamp(${t}, ${e}, ${r})`),[Yr.Mod]:Mi(([t,e])=>`mod(${t}, ${e})`),[Yr.Pow]:Mi(([t,e])=>`pow(${t}, ${e})`),[Yr.Abs]:Mi(([t])=>`abs(${t})`),[Yr.Floor]:Mi(([t])=>`floor(${t})`),[Yr.Ceil]:Mi(([t])=>`ceil(${t})`),[Yr.Round]:Mi(([t])=>`floor(${t} + 0.5)`),[Yr.Sin]:Mi(([t])=>`sin(${t})`),[Yr.Cos]:Mi(([t])=>`cos(${t})`),[Yr.Atan]:Mi(([t,e])=>e!==void 0?`atan(${t}, ${e})`:`atan(${t})`),[Yr.Sqrt]:Mi(([t])=>`sqrt(${t})`),[Yr.Match]:Mi(t=>{const e=t[0],r=t[t.length-1];let i=null;for(let n=t.length-3;n>=1;n-=2){const s=t[n],o=t[n+1];i=`(${e} == ${s} ? ${o} : ${i||r})`}return i}),[Yr.Between]:Mi(([t,e,r])=>`(${t} >= ${e} && ${t} <= ${r})`),[Yr.Interpolate]:Mi(([t,e,...r])=>{let i="";for(let n=0;n<r.length-2;n+=2){const s=r[n],o=i||r[n+1],a=r[n+2],l=r[n+3];let u;t===qd(1)?u=`(${e} - ${s}) / (${a} - ${s})`:u=`(pow(${t}, (${e} - ${s})) - 1.0) / (pow(${t}, (${a} - ${s})) - 1.0)`,i=`mix(${o}, ${l}, clamp(${u}, 0.0, 1.0))`}return i}),[Yr.Case]:Mi(t=>{const e=t[t.length-1];let r=null;for(let i=t.length-3;i>=0;i-=2){const n=t[i],s=t[i+1];r=`(${n} ? ${s} : ${r||e})`}return r}),[Yr.In]:Mi(([t,...e],r)=>{const i=Hxe("in",r),n=[];for(let s=0;s<e.length;s+=1)n.push(`  if (inputValue == ${e[s]}) { return true; }`);return r.functions[i]=`bool ${i}(float inputValue) {
${n.join(`
`)}
  return false;
}`,`${i}(${t})`}),[Yr.Array]:Mi(t=>`vec${t.length}(${t.join(", ")})`),[Yr.Color]:Mi(t=>{if(t.length===1)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(t.length===2)return`vec4(vec3(${t[0]} / 255.0), ${t[1]})`;const e=t.slice(0,3).map(i=>`${i} / 255.0`);if(t.length===3)return`vec4(${e.join(", ")}, 1.0)`;const r=t[3];return`vec4(${e.join(", ")}, ${r})`}),[Yr.Band]:Mi(([t,e,r],i)=>{if(!(n_ in i.functions)){let n="";const s=i.bandCount||1;for(let o=0;o<s;o++){const a=Math.floor(o/4);let l=o%4;o===s-1&&l===1&&(l=3);const u=`${Pr.TILE_TEXTURE_ARRAY}[${a}]`;n+=`  if (band == ${o+1}.0) {
    return texture2D(${u}, v_textureCoord + vec2(dx, dy))[${l}];
  }
`}i.functions[n_]=`float getBandValue(float band, float xOffset, float yOffset) {
  float dx = xOffset / ${Pr.TEXTURE_PIXEL_WIDTH};
  float dy = yOffset / ${Pr.TEXTURE_PIXEL_HEIGHT};
${n}
}`}return`${n_}(${t}, ${e??"0.0"}, ${r??"0.0"})`}),[Yr.Palette]:(t,e)=>{const[r,...i]=e.args,n=i.length,s=new Uint8Array(n*4);for(let u=0;u<i.length;u++){const h=i[u].value,d=o0(h),f=u*4;s[f]=d[0],s[f+1]=d[1],s[f+2]=d[2],s[f+3]=d[3]*255}t.paletteTextures||(t.paletteTextures=[]);const o=`${$se}[${t.paletteTextures.length}]`,a=new Ixe(o,s);t.paletteTextures.push(a);const l=SS(r,Xi,t);return`texture2D(${o}, vec2((${l} + 0.5) / ${n}.0, 0.5))`}};function SS(t,e,r){if(t instanceof w0e){const i=Zxe[t.operator];if(i===void 0)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return i(r,t,e)}if((t.type&Xi)>0)return qd(t.value);if((t.type&Zne)>0)return t.value.toString();if((t.type&xv)>0)return nu(t.value.toString());if((t.type&Qo)>0)return Xb(t.value);if((t.type&Tc)>0)return wS(t.value);if((t.type&mp)>0)return Vxe(t.value);throw new Error(`Unexpected expression ${t.value} (expected type ${E0e(e)})`)}function Xxe(){return{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"}}const nf=`#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
uniform mat4 u_projectionMatrix;
uniform mat4 u_screenToWorldMatrix;
uniform vec2 u_viewportSizePx;
uniform float u_pixelRatio;
uniform float u_globalAlpha;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
uniform float u_rotation;
uniform vec4 u_renderExtent;
uniform vec2 u_patternOrigin;
uniform float u_depth;
uniform mediump int u_hitDetection;

const float PI = 3.141592653589793238;
const float TWO_PI = 2.0 * PI;
float currentLineMetric = 0.; // an actual value will be used in the stroke shaders
`,sf=Xxe();class Bse{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${qd(sf["circle-radius"])} + ${qd(sf["circle-stroke-width"]*.5)})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=Xb(sf["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=qd(sf["stroke-width"]),this.strokeColorExpression_=Xb(sf["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=nu("round"),this.strokeJoinExpression_=nu("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=Xb(sf["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(e){return this.uniforms_.push(e),this}addAttribute(e){return this.attributes_.push(e),this}addVarying(e,r,i){return this.varyings_.push({name:e,type:r,expression:i}),this}setSymbolSizeExpression(e){return this.hasSymbol_=!0,this.symbolSizeExpression_=e,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(e){return this.symbolRotationExpression_=e,this}setSymbolOffsetExpression(e){return this.symbolOffsetExpression_=e,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(e){return this.hasSymbol_=!0,this.symbolColorExpression_=e,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(e){return this.texCoordExpression_=e,this}setFragmentDiscardExpression(e){return this.discardExpression_=e,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(e){return this.symbolRotateWithView_=e,this}setStrokeWidthExpression(e){return this.hasStroke_=!0,this.strokeWidthExpression_=e,this}setStrokeColorExpression(e){return this.hasStroke_=!0,this.strokeColorExpression_=e,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(e){return this.strokeOffsetExpression_=e,this}setStrokeCapExpression(e){return this.strokeCapExpression_=e,this}setStrokeJoinExpression(e){return this.strokeJoinExpression_=e,this}setStrokeMiterLimitExpression(e){return this.strokeMiterLimitExpression_=e,this}setStrokeDistanceFieldExpression(e){return this.strokeDistanceFieldExpression_=e,this}setFillColorExpression(e){return this.hasFill_=!0,this.fillColorExpression_=e,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(e){this.vertexShaderFunctions_.includes(e)||this.vertexShaderFunctions_.push(e)}addFragmentShaderFunction(e){this.fragmentShaderFunctions_.includes(e)||this.fragmentShaderFunctions_.push(e)}getSymbolVertexShader(){return this.hasSymbol_?`${nf}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute float a_index;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
varying vec4 v_prop_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
vec2 pxToScreen(vec2 coordPx) {
  vec2 scaled = coordPx / u_viewportSizePx / 0.5;
  return scaled;
}

vec2 screenToPx(vec2 coordScreen) {
  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;
}

void main(void) {
  v_quadSizePx = ${this.symbolSizeExpression_};
  vec2 halfSizePx = v_quadSizePx * 0.5;
  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};
  vec2 offsetPx = centerOffsetPx;
  if (a_index == 0.0) {
    offsetPx -= halfSizePx;
  } else if (a_index == 1.0) {
    offsetPx += halfSizePx * vec2(1., -1.);
  } else if (a_index == 2.0) {
    offsetPx += halfSizePx;
  } else {
    offsetPx += halfSizePx * vec2(-1., 1.);
  }
  float angle = ${this.symbolRotationExpression_};
  ${this.symbolRotateWithView_?"angle += u_rotation;":""}
  float c = cos(-angle);
  float s = sin(-angle);
  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);
  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);
  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);
  vec4 texCoord = ${this.texCoordExpression_};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  v_prop_hitColor = a_prop_hitColor;
  v_angle = angle;
  c = cos(-v_angle);
  s = sin(-v_angle);
  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); 
  v_centerPx = screenToPx(center.xy) + centerOffsetPx;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${nf}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec2 v_texCoord;
varying vec4 v_prop_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}

void main(void) {
  if (${this.discardExpression_}) { discard; }
  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center
  float c = cos(v_angle);
  float s = sin(v_angle);
  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);
  gl_FragColor = ${this.symbolColorExpression_};
  gl_FragColor.rgb *= gl_FragColor.a;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.05) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}getStrokeVertexShader(){return this.hasStroke_?`${nf}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_segmentStart;
attribute vec2 a_segmentEnd;
attribute float a_measureStart;
attribute float a_measureEnd;
attribute float a_parameters;
attribute float a_distance;
attribute vec2 a_joinAngles;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_prop_hitColor;
varying float v_distanceOffsetPx;
varying float v_measureStart;
varying float v_measureEnd;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

vec4 pxToScreen(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return vec4(screenPos, u_depth, 1.0);
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

vec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {
  float halfAngle = joinAngle / 2.0;
  float c = cos(halfAngle);
  float s = sin(halfAngle);
  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);
  float length = 1.0 / s;
  return angleBisectorNormal * length;
}

vec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {
  // if on a cap or the join angle is too high, offset the line along the segment normal
  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {
    return point - normal * offsetPx;
  }
  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)
  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;
}

void main(void) {
  v_angleStart = a_joinAngles.x;
  v_angleEnd = a_joinAngles.y;
  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);
  currentLineMetric = vertexNumber < 1.5 ? a_measureStart : a_measureEnd;
  // we're reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)
  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);

  float lineWidth = ${this.strokeWidthExpression_};
  float lineOffsetPx = ${this.strokeOffsetExpression_};

  // compute segment start/end in px with offset
  vec2 segmentStartPx = worldToPx(a_segmentStart);
  vec2 segmentEndPx = worldToPx(a_segmentEnd);
  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);
  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);
  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),
  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);
  
  // compute current vertex position
  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;
  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;
  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;
  vec2 joinDirection;
  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;
  // if angle is too high, do not make a proper join
  if (cos(angle) > ${bQ} || isCap(angle)) {
    joinDirection = normalPx * normalDir - tangentPx * tangentDir;
  } else {
    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);
  }
  positionPx = positionPx + joinDirection * (lineWidth * 0.5 + 1.); // adding 1 pixel for antialiasing
  gl_Position = pxToScreen(positionPx);

  v_segmentStart = segmentStartPx;
  v_segmentEnd = segmentEndPx;
  v_width = lineWidth;
  v_prop_hitColor = a_prop_hitColor;
  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);
  v_measureStart = a_measureStart;
  v_measureEnd = a_measureEnd;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${nf}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_prop_hitColor;
varying float v_distanceOffsetPx;
varying float v_measureStart;
varying float v_measureEnd;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}

vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

float segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  vec2 tangent = normalize(end - start);
  vec2 normal = vec2(-tangent.y, tangent.x);
  vec2 startToPoint = point - start;
  return abs(dot(startToPoint, normal)) - width * 0.5;
}

float buttCapDistanceField(vec2 point, vec2 start, vec2 end) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  return dot(startToPoint, -tangent);
}

float squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return buttCapDistanceField(point, start, end) - width * 0.5;
}

float roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment
  return length(point - start) - width * 0.5 - onSegment;
}

float roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return roundCapDistanceField(point, start, end, width);
}

float bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  float c = cos(joinAngle * 0.5);
  float s = sin(joinAngle * 0.5);
  float direction = -sign(sin(joinAngle));
  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);
  float radius = width * 0.5 * s;
  return dot(startToPoint, bisector * direction) - radius;
}

float miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  if (cos(joinAngle) > ${bQ}) { // avoid risking a division by zero
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  float miterLength = 1. / sin(joinAngle * 0.5);
  float miterLimit = ${this.strokeMiterLimitExpression_};
  if (miterLength > miterLimit) {
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  return -1000.;
}

float capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {
   if (capType == ${nu("butt")}) {
    return buttCapDistanceField(point, start, end);
  } else if (capType == ${nu("square")}) {
    return squareCapDistanceField(point, start, end, width);
  }
  return roundCapDistanceField(point, start, end, width);
}

float joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {
  if (joinType == ${nu("bevel")}) {
    return bevelJoinField(point, start, end, width, joinAngle);
  } else if (joinType == ${nu("miter")}) {
    return miterJoinDistanceField(point, start, end, width, joinAngle);
  }
  return roundJoinDistanceField(point, start, end, width);
}

float computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {
  if (isCap(joinAngle)) {
    return capDistanceField(point, start, end, width, capType);
  }
  return joinDistanceField(point, start, end, width, joinAngle, joinType);
}

void main(void) {
  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(currentPoint);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif

  float segmentLength = length(v_segmentEnd - v_segmentStart);
  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;
  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);
  vec2 startToPoint = currentPoint - v_segmentStart;
  float lengthToPoint = max(0., min(dot(segmentTangent, startToPoint), segmentLength));
  float currentLengthPx = lengthToPoint + v_distanceOffsetPx; 
  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));
  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;
  currentLineMetric = mix(v_measureStart, v_measureEnd, lengthToPoint / segmentLength);

  if (${this.discardExpression_}) { discard; }

  vec4 color = ${this.strokeColorExpression_};
  float capType = ${this.strokeCapExpression_};
  float joinType = ${this.strokeJoinExpression_};
  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);
  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);
  float distance = max(
    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),
    max(segmentStartDistance, segmentEndDistance)
  );
  distance = max(distance, ${this.strokeDistanceFieldExpression_});
  color.a *= smoothstep(0.5, -0.5, distance);
  gl_FragColor = color;
  gl_FragColor.a *= u_globalAlpha;
  gl_FragColor.rgb *= gl_FragColor.a;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}getFillVertexShader(){return this.hasFill_?`${nf}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
attribute vec2 a_position;
attribute vec4 a_prop_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join(`
`)}
varying vec4 v_prop_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.vertexShaderFunctions_.join(`
`)}
void main(void) {
  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);
  v_prop_hitColor = a_prop_hitColor;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join(`
`)}
}`:null}getFillFragmentShader(){return this.hasFill_?`${nf}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join(`
`)}
varying vec4 v_prop_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join(`
`)}
${this.fragmentShaderFunctions_.join(`
`)}
vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

void main(void) {
  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;
  vec2 pxOrigin = worldToPx(u_patternOrigin);
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(pxPos);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }
  gl_FragColor = ${this.fillColorExpression_};
  gl_FragColor.a *= u_globalAlpha;
  gl_FragColor.rgb *= gl_FragColor.a;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_prop_hitColor;
  }
}`:null}}const Fa={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},Kxe=["#00f","#0ff","#0f0","#ff0","#f00"];class Jxe extends KE{constructor(e){e=e||{};const r=Object.assign({},e);delete r.gradient,delete r.radius,delete r.blur,delete r.weight,super(r),this.gradient_=null,this.addChangeListener(Fa.GRADIENT,this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:Kxe),this.setBlur(e.blur!==void 0?e.blur:15),this.setRadius(e.radius!==void 0?e.radius:8);const i=e.weight?e.weight:"weight";this.weightFunction_=typeof i=="string"?n=>n.get(i):i,this.setRenderOrder(null)}getBlur(){return this.get(Fa.BLUR)}getGradient(){return this.get(Fa.GRADIENT)}getRadius(){return this.get(Fa.RADIUS)}handleGradientChanged_(){this.gradient_=Qxe(this.getGradient())}setBlur(e){this.set(Fa.BLUR,e)}setGradient(e){this.set(Fa.GRADIENT,e)}setRadius(e){this.set(Fa.RADIUS,e)}createRenderer(){const e=new Bse().addAttribute("float a_prop_weight").addVarying("v_prop_weight","float","a_prop_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_prop_weight)");return new Pse(this,{className:this.getClassName(),attributes:[{name:"weight",callback:r=>{const i=this.weightFunction_(r);return i!==void 0?Pn(i,0,1):1}}],uniforms:{u_size:()=>(this.get(Fa.RADIUS)+this.get(Fa.BLUR))*2,u_blurSlope:()=>this.get(Fa.RADIUS)/Math.max(1,this.get(Fa.BLUR))},hitDetectionEnabled:!0,vertexShader:e.getSymbolVertexShader(),fragmentShader:e.getSymbolFragmentShader(),postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}function Qxe(t){const i=eh(1,256),n=i.createLinearGradient(0,0,1,256),s=1/(t.length-1);for(let o=0,a=t.length;o<a;++o)n.addColorStop(o*s,t[o]);return i.fillStyle=n,i.fillRect(0,0,1,256),i.canvas}const e_e=Jxe;class t_e extends C0e{constructor(e){super(e),this.vectorRenderer_=new k0e(e),this.layerImageRatio_=e.getImageRatio(),this.coordinateToVectorPixelTransform_=Va(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(e){if(!this.vectorRenderer_)return Promise.resolve([]);const r=s0(this.coordinateToVectorPixelTransform_,s0(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(r)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(e){const r=e.pixelRatio,i=e.viewState,n=i.resolution,s=e.viewHints,o=this.vectorRenderer_;let a=e.extent;this.layerImageRatio_!==1&&(a=a.slice(0),Xne(a,this.layerImageRatio_));const l=Ko(a)/n,u=Dc(a)/n;if(!s[Xf.ANIMATING]&&!s[Xf.INTERACTING]&&!VE(a)){o.useContainer(null,null);const h=o.context,d=e.layerStatesArray[e.layerIndex],f=Object.assign({},d,{opacity:1}),p=Object.assign({},e,{extent:a,size:[l,u],viewState:Object.assign({},e.viewState,{rotation:0}),layerStatesArray:[f],layerIndex:0,declutter:null}),g=this.getLayer().getDeclutter();g&&(p.declutter={[g]:new A0e(9)});let y=!0;const b=new oS(a,n,r,h.canvas,function(x){o.prepareFrame(p)&&o.replayGroupChanged&&(o.clipping=!1,o.renderFrame(p,null)&&(o.renderDeclutter(p),o.renderDeferred(p),y=!1),x())});b.addEventListener(va.CHANGE,()=>{if(b.getState()!==Id.LOADED)return;this.image=y?null:b;const x=b.getPixelRatio(),w=T0e(b.getResolution())*r/x;this.renderedResolution=w,this.coordinateToVectorPixelTransform_=ZE(this.coordinateToVectorPixelTransform_,l/2,u/2,1/w,-1/w,0,-i.center[0],-i.center[1])}),b.load()}return this.image&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(e,r,i,n,s){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,r,i,n,s):super.forEachFeatureAtCoordinate(e,r,i,n,s)}}class r_e extends KE{constructor(e){e=e||{};const r=Object.assign({},e);delete r.imageRatio,super(r),this.imageRatio_=e.imageRatio!==void 0?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new t_e(this)}}const i_e=r_e;function _r(t,e,r){const i=D0e();return Yxe(e,r,i,t)}function EQ(t){const e=o0(t),r=e[0]*256,i=e[1],n=e[2]*256,s=Math.round(e[3]*255);return[r+i,n+s]}const n_e=`vec4 unpackColor(vec2 packedColor) {
  return vec4(
    fract(floor(packedColor[0] / 256.0) / 256.0),
    fract(packedColor[0] / 256.0),
    fract(floor(packedColor[1] / 256.0) / 256.0),
    fract(packedColor[1] / 256.0)
  );
}`;function jse(t){return t===Qo||t===mp?2:t===Tc?4:1}function s_(t){const e=jse(t);return e>1?`vec${e}`:"float"}function Dv(t){return(JSON.stringify(t).split("").reduce((r,i)=>(r<<5)-r+i.charCodeAt(0),0)>>>0).toString()}function CS(t,e,r,i){if(`${i}radius`in t&&i!=="icon-"){let n=_r(r,t[`${i}radius`],Xi);if(`${i}radius2`in t){const s=_r(r,t[`${i}radius2`],Xi);n=`max(${n}, ${s})`}`${i}stroke-width`in t&&(n=`(${n} + ${_r(r,t[`${i}stroke-width`],Xi)} * 0.5)`),e.setSymbolSizeExpression(`vec2(${n} * 2. + 0.5)`)}if(`${i}scale`in t){const n=_r(r,t[`${i}scale`],mp);e.setSymbolSizeExpression(`${e.getSymbolSizeExpression()} * ${n}`)}`${i}displacement`in t&&e.setSymbolOffsetExpression(_r(r,t[`${i}displacement`],Tc)),`${i}rotation`in t&&e.setSymbolRotationExpression(_r(r,t[`${i}rotation`],Xi)),`${i}rotate-with-view`in t&&e.setSymbolRotateWithView(!!t[`${i}rotate-with-view`])}function zse(t,e,r,i,n){let s="vec4(0.)";if(e!==null&&(s=e),r!==null&&i!==null){const l=`smoothstep(-${i} + 0.63, -${i} - 0.58, ${t})`;s=`mix(${r}, ${s}, ${l})`}const o=`(1.0 - smoothstep(-0.63, 0.58, ${t}))`;let a=`${s} * vec4(1.0, 1.0, 1.0, ${o})`;return n!==null&&(a=`${a} * vec4(1.0, 1.0, 1.0, ${n})`),a}function kS(t,e,r,i,n){const s=new Image;s.crossOrigin=t[`${i}cross-origin`]===void 0?"anonymous":t[`${i}cross-origin`],s.src=t[`${i}src`],r[`u_texture${n}_size`]=()=>s.complete?[s.width,s.height]:[0,0],e.addUniform(`vec2 u_texture${n}_size`);const o=`u_texture${n}_size`;return r[`u_texture${n}`]=s,e.addUniform(`sampler2D u_texture${n}`),o}function AS(t,e,r,i,n){let s=_r(r,t[`${e}offset`],Tc);if(`${e}offset-origin`in t)switch(t[`${e}offset-origin`]){case"top-right":s=`vec2(${i}.x, 0.) + ${n} * vec2(-1., 0.) + ${s} * vec2(-1., 1.)`;break;case"bottom-left":s=`vec2(0., ${i}.y) + ${n} * vec2(0., -1.) + ${s} * vec2(1., -1.)`;break;case"bottom-right":s=`${i} - ${n} - ${s}`;break}return s}function s_e(t,e,r,i,n){n.functions.circleDistanceField=`float circleDistanceField(vec2 point, float radius) {
  return length(point) - radius;
}`,CS(t,e,i,"circle-");let s=null;"circle-opacity"in t&&(s=_r(n,t["circle-opacity"],Xi));let o="coordsPx";"circle-scale"in t&&(o=`coordsPx / ${_r(n,t["circle-scale"],mp)}`);let a=null;"circle-fill-color"in t&&(a=_r(n,t["circle-fill-color"],Qo));let l=null;"circle-stroke-color"in t&&(l=_r(n,t["circle-stroke-color"],Qo));let u=_r(n,t["circle-radius"],Xi),h=null;"circle-stroke-width"in t&&(h=_r(n,t["circle-stroke-width"],Xi),u=`(${u} + ${h} * 0.5)`);const d=`circleDistanceField(${o}, ${u})`,f=zse(d,a,l,h,s);e.setSymbolColorExpression(f)}function o_e(t,e,r,i,n){n.functions.round=`float round(float v) {
  return sign(v) * floor(abs(v) + 0.5);
}`,n.functions.starDistanceField=`float starDistanceField(vec2 point, float numPoints, float radius, float radius2, float angle) {
  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle
  float c = cos(startAngle);
  float s = sin(startAngle);
  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);
  float alpha = TWO_PI / numPoints; // the angle of one sector
  float beta = atan(pointRotated.y, pointRotated.x);
  float gamma = round(beta / alpha) * alpha; // angle in sector
  c = cos(-gamma);
  s = sin(-gamma);
  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));
  vec2 tipToPoint = inSector + vec2(-radius, 0.);
  vec2 edgeNormal = vec2(radius2 * sin(alpha * 0.5), -radius2 * cos(alpha * 0.5) + radius);
  return dot(normalize(edgeNormal), tipToPoint);
}`,n.functions.regularDistanceField=`float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {
  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle
  float c = cos(startAngle);
  float s = sin(startAngle);
  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);
  float alpha = TWO_PI / numPoints; // the angle of one sector
  float radiusIn = radius * cos(PI / numPoints);
  float beta = atan(pointRotated.y, pointRotated.x);
  float gamma = round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid
  c = cos(-gamma);
  s = sin(-gamma);
  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));
  return inSector.x - radiusIn;
}`,CS(t,e,i,"shape-");let s=null;"shape-opacity"in t&&(s=_r(n,t["shape-opacity"],Xi));let o="coordsPx";"shape-scale"in t&&(o=`coordsPx / ${_r(n,t["shape-scale"],mp)}`);let a=null;"shape-fill-color"in t&&(a=_r(n,t["shape-fill-color"],Qo));let l=null;"shape-stroke-color"in t&&(l=_r(n,t["shape-stroke-color"],Qo));let u=null;"shape-stroke-width"in t&&(u=_r(n,t["shape-stroke-width"],Xi));const h=_r(n,t["shape-points"],Xi);let d="0.";"shape-angle"in t&&(d=_r(n,t["shape-angle"],Xi));let f,p=_r(n,t["shape-radius"],Xi);if(u!==null&&(p=`${p} + ${u} * 0.5`),"shape-radius2"in t){let y=_r(n,t["shape-radius2"],Xi);u!==null&&(y=`${y} + ${u} * 0.5`),f=`starDistanceField(${o}, ${h}, ${p}, ${y}, ${d})`}else f=`regularDistanceField(${o}, ${h}, ${p}, ${d})`;const g=zse(f,a,l,u,s);e.setSymbolColorExpression(g)}function a_e(t,e,r,i,n){let s="vec4(1.0)";"icon-color"in t&&(s=_r(n,t["icon-color"],Qo)),"icon-opacity"in t&&(s=`${s} * vec4(1.0, 1.0, 1.0, ${_r(n,t["icon-opacity"],Xi)})`);const o=Dv(t["icon-src"]),a=kS(t,e,r,"icon-",o);if(e.setSymbolColorExpression(`${s} * texture2D(u_texture${o}, v_texCoord)`).setSymbolSizeExpression(a),"icon-width"in t&&"icon-height"in t&&e.setSymbolSizeExpression(`vec2(${_r(i,t["icon-width"],Xi)}, ${_r(i,t["icon-height"],Xi)})`),"icon-offset"in t&&"icon-size"in t){const l=_r(i,t["icon-size"],Tc),u=e.getSymbolSizeExpression();e.setSymbolSizeExpression(l);const h=AS(t,"icon-",i,"v_quadSizePx",l);e.setTextureCoordinateExpression(`(vec4((${h}).xyxy) + vec4(0., 0., ${l})) / (${u}).xyxy`)}if(CS(t,e,i,"icon-"),"icon-anchor"in t){const l=_r(i,t["icon-anchor"],Tc);let u="1.0";"icon-scale"in t&&(u=_r(i,t["icon-scale"],mp));let h;t["icon-anchor-x-units"]==="pixels"&&t["icon-anchor-y-units"]==="pixels"?h=`${l} * ${u}`:t["icon-anchor-x-units"]==="pixels"?h=`${l} * vec2(vec2(${u}).x, v_quadSizePx.y)`:t["icon-anchor-y-units"]==="pixels"?h=`${l} * vec2(v_quadSizePx.x, vec2(${u}).x)`:h=`${l} * v_quadSizePx`;let d=`v_quadSizePx * vec2(0.5, -0.5) + ${h} * vec2(-1., 1.)`;if("icon-anchor-origin"in t)switch(t["icon-anchor-origin"]){case"top-right":d=`v_quadSizePx * -0.5 + ${h}`;break;case"bottom-left":d=`v_quadSizePx * 0.5 - ${h}`;break;case"bottom-right":d=`v_quadSizePx * vec2(-0.5, 0.5) + ${h} * vec2(1., -1.)`;break}e.setSymbolOffsetExpression(`${e.getSymbolOffsetExpression()} + ${d}`)}}function l_e(t,e,r,i,n){if("stroke-color"in t&&e.setStrokeColorExpression(_r(n,t["stroke-color"],Qo)),"stroke-pattern-src"in t){const s=Dv(t["stroke-pattern-src"]),o=kS(t,e,r,"stroke-pattern-",s);let a=o,l="vec2(0.)";"stroke-pattern-offset"in t&&"stroke-pattern-size"in t&&(a=_r(n,t["stroke-pattern-size"],Tc),l=AS(t,"stroke-pattern-",n,o,a));let u="0.";"stroke-pattern-spacing"in t&&(u=_r(n,t["stroke-pattern-spacing"],Xi)),n.functions.sampleStrokePattern=`vec4 sampleStrokePattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, float spacingPx, float currentLengthPx, float currentRadiusRatio, float lineWidth) {
  float currentLengthScaled = currentLengthPx * sampleSize.y / lineWidth;
  float spacingScaled = spacingPx * sampleSize.y / lineWidth;
  float uCoordPx = mod(currentLengthScaled, (sampleSize.x + spacingScaled));
  // make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels
  uCoordPx = clamp(uCoordPx, 0.5, sampleSize.x - 0.5);
  float vCoordPx = (-currentRadiusRatio * 0.5 + 0.5) * sampleSize.y;
  vec2 texCoord = (vec2(uCoordPx, vCoordPx) + textureOffset) / textureSize;
  return texture2D(texture, texCoord);
}`;const h=`u_texture${s}`;let d="1.";"stroke-color"in t&&(d=e.getStrokeColorExpression()),e.setStrokeColorExpression(`${d} * sampleStrokePattern(${h}, ${o}, ${l}, ${a}, ${u}, currentLengthPx, currentRadiusRatio, v_width)`)}if("stroke-width"in t&&e.setStrokeWidthExpression(_r(i,t["stroke-width"],Xi)),"stroke-offset"in t&&e.setStrokeOffsetExpression(_r(i,t["stroke-offset"],Xi)),"stroke-line-cap"in t&&e.setStrokeCapExpression(_r(i,t["stroke-line-cap"],xv)),"stroke-line-join"in t&&e.setStrokeJoinExpression(_r(i,t["stroke-line-join"],xv)),"stroke-miter-limit"in t&&e.setStrokeMiterLimitExpression(_r(i,t["stroke-miter-limit"],Xi)),"stroke-line-dash"in t){n.functions.getSingleDashDistance=`float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {
  float localDistance = mod(distance, dashLengthTotal);
  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;
  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);
  if (capType == ${nu("square")}) {
    distanceSegment -= v_width * 0.5;
  } else if (capType == ${nu("round")}) {
    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);
  }
  return distanceSegment;
}`;let s=t["stroke-line-dash"].map(p=>_r(n,p,Xi));s.length%2===1&&(s=[...s,...s]);let o="0.";"stroke-line-dash-offset"in t&&(o=_r(i,t["stroke-line-dash-offset"],Xi));const l=`dashDistanceField_${Dv(t["stroke-line-dash"])}`,u=s.map((p,g)=>`float dashLength${g} = ${p};`),h=s.map((p,g)=>`dashLength${g}`).join(" + ");let d="0.",f=`getSingleDashDistance(distance, radius, ${d}, dashLength0, totalDashLength, capType)`;for(let p=2;p<s.length;p+=2)d=`${d} + dashLength${p-2} + dashLength${p-1}`,f=`min(${f}, getSingleDashDistance(distance, radius, ${d}, dashLength${p}, totalDashLength, capType))`;n.functions[l]=`float ${l}(float distance, float radius, float capType) {
  ${u.join(`
  `)}
  float totalDashLength = ${h};
  return ${f};
}`,e.setStrokeDistanceFieldExpression(`${l}(currentLengthPx + ${o}, currentRadiusPx, capType)`)}}function u_e(t,e,r,i,n){if("fill-color"in t&&e.setFillColorExpression(_r(n,t["fill-color"],Qo)),"fill-pattern-src"in t){const s=Dv(t["fill-pattern-src"]),o=kS(t,e,r,"fill-pattern-",s);let a=o,l="vec2(0.)";"fill-pattern-offset"in t&&"fill-pattern-size"in t&&(a=_r(n,t["fill-pattern-size"],Tc),l=AS(t,"fill-pattern-",n,o,a)),n.functions.sampleFillPattern=`vec4 sampleFillPattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, vec2 pxOrigin, vec2 pxPosition) {
  float scaleRatio = pow(2., mod(u_zoom + 0.5, 1.) - 0.5);
  vec2 pxRelativePos = pxPosition - pxOrigin;
  // rotate the relative position from origin by the current view rotation
  pxRelativePos = vec2(pxRelativePos.x * cos(u_rotation) - pxRelativePos.y * sin(u_rotation), pxRelativePos.x * sin(u_rotation) + pxRelativePos.y * cos(u_rotation));
  // sample position is computed according to the sample offset & size
  vec2 samplePos = mod(pxRelativePos / scaleRatio, sampleSize);
  // also make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels
  samplePos = clamp(samplePos, vec2(0.5), sampleSize - vec2(0.5));
  samplePos.y = sampleSize.y - samplePos.y; // invert y axis so that images appear upright
  return texture2D(texture, (samplePos + textureOffset) / textureSize);
}`;const u=`u_texture${s}`;let h="1.";"fill-color"in t&&(h=e.getFillColorExpression()),e.setFillColorExpression(`${h} * sampleFillPattern(${u}, ${o}, ${l}, ${a}, pxOrigin, pxPos)`)}}function c_e(t){const e={inFragmentShader:!1,properties:{},variables:{},functions:{},style:t},r={inFragmentShader:!0,variables:e.variables,properties:{},functions:{},style:t},i=new Bse,n={};if("icon-src"in t?a_e(t,i,n,e,r):"shape-points"in t?o_e(t,i,n,e,r):"circle-radius"in t&&s_e(t,i,n,e,r),l_e(t,i,n,e,r),u_e(t,i,n,e,r),t.filter){const o=_r(r,t.filter,Zne);i.setFragmentDiscardExpression(`!${o}`)}for(const o in r.variables){const a=r.variables[o],l=ES(a.name);i.addUniform(`${s_(a.type)} ${l}`),n[l]=()=>{const u=t.variables[a.name];return typeof u=="number"?u:typeof u=="boolean"?u?1:0:a.type===Qo?EQ([...o0(u||"#eee")]):typeof u=="string"?Tv(u):u}}for(const o in r.properties){const a=r.properties[o];e.properties[o]||(e.properties[o]=a);let l=s_(a.type),u=`a_prop_${a.name}`;a.type===Qo&&(l="vec4",u=`unpackColor(${u})`,i.addVertexShaderFunction(n_e)),i.addVarying(`v_prop_${a.name}`,l,u)}for(const o in e.properties){const a=e.properties[o];i.addAttribute(`${s_(a.type)} a_prop_${a.name}`)}for(const o in e.functions)i.addVertexShaderFunction(e.functions[o]);for(const o in r.functions)i.addFragmentShaderFunction(r.functions[o]);const s={};for(const o in e.properties){const a=e.properties[o],l=u=>{const h=a.evaluator?a.evaluator(u):u.get(a.name);return a.type===Qo?EQ([...o0(h||"#eee")]):typeof h=="string"?Tv(h):typeof h=="boolean"?h?1:0:h};s[a.name]={size:jse(a.type),callback:l}}return{builder:i,attributes:s,uniforms:n}}class d_e extends Kne{constructor(e){const r=Object.assign({},e);super(r),this.parseResult_=c_e(e.style),this.styleVariables_=e.style.variables||{},this.hitDetectionDisabled_=!!e.disableHitDetection}createRenderer(){const e=Object.keys(this.parseResult_.attributes).map(r=>({name:r,...this.parseResult_.attributes[r]}));return new Pse(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitDetectionEnabled:!this.hitDetectionDisabled_,uniforms:this.parseResult_.uniforms,attributes:e})}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}const h_e=d_e;function SQ(t,e){const r=`
    attribute vec2 ${Zb.TEXTURE_COORD};
    uniform mat4 ${Pr.TILE_TRANSFORM};
    uniform float ${Pr.TEXTURE_PIXEL_WIDTH};
    uniform float ${Pr.TEXTURE_PIXEL_HEIGHT};
    uniform float ${Pr.TEXTURE_RESOLUTION};
    uniform float ${Pr.TEXTURE_ORIGIN_X};
    uniform float ${Pr.TEXTURE_ORIGIN_Y};
    uniform float ${Pr.DEPTH};

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = ${Zb.TEXTURE_COORD};
      v_mapCoord = vec2(
        ${Pr.TEXTURE_ORIGIN_X} + ${Pr.TEXTURE_RESOLUTION} * ${Pr.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],
        ${Pr.TEXTURE_ORIGIN_Y} - ${Pr.TEXTURE_RESOLUTION} * ${Pr.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]
      );
      gl_Position = ${Pr.TILE_TRANSFORM} * vec4(${Zb.TEXTURE_COORD}, ${Pr.DEPTH}, 1.0);
    }
  `,i={...Wxe(),inFragmentShader:!0,bandCount:e,style:t},n=[];if(t.color!==void 0){const d=_r(i,t.color,Qo);n.push(`color = ${d};`)}if(t.contrast!==void 0){const d=_r(i,t.contrast,Xi);n.push(`color.rgb = clamp((${d} + 1.0) * color.rgb - (${d} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(t.exposure!==void 0){const d=_r(i,t.exposure,Xi);n.push(`color.rgb = clamp((${d} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(t.saturation!==void 0){const d=_r(i,t.saturation,Xi);n.push(`
      float saturation = ${d} + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(t.gamma!==void 0){const d=_r(i,t.gamma,Xi);n.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${d}));`)}if(t.brightness!==void 0){const d=_r(i,t.brightness,Xi);n.push(`color.rgb = clamp(color.rgb + ${d}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const s={},o=Object.keys(i.variables).length;if(o>1&&!t.variables)throw new Error(`Missing variables in style (expected ${i.variables})`);for(let d=0;d<o;++d){const f=i.variables[Object.keys(i.variables)[d]];if(!(f.name in t.variables))throw new Error(`Missing '${f.name}' in style variables`);const p=ES(f.name);s[p]=function(){let g=t.variables[f.name];return typeof g=="string"&&(g=Tv(g)),g!==void 0?g:-9999999}}const a=Object.keys(s).map(function(d){return`uniform float ${d};`}),l=Math.ceil(e/4);a.push(`uniform sampler2D ${Pr.TILE_TEXTURE_ARRAY}[${l}];`),i.paletteTextures&&a.push(`uniform sampler2D ${$se}[${i.paletteTextures.length}];`);const u=Object.keys(i.functions).map(function(d){return i.functions[d]}),h=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 ${Pr.RENDER_EXTENT};
    uniform float ${Pr.TRANSITION_ALPHA};
    uniform float ${Pr.TEXTURE_PIXEL_WIDTH};
    uniform float ${Pr.TEXTURE_PIXEL_HEIGHT};
    uniform float ${Pr.RESOLUTION};
    uniform float ${Pr.ZOOM};

    ${a.join(`
`)}

    ${u.join(`
`)}

    void main() {
      if (
        v_mapCoord[0] < ${Pr.RENDER_EXTENT}[0] ||
        v_mapCoord[1] < ${Pr.RENDER_EXTENT}[1] ||
        v_mapCoord[0] > ${Pr.RENDER_EXTENT}[2] ||
        v_mapCoord[1] > ${Pr.RENDER_EXTENT}[3]
      ) {
        discard;
      }

      vec4 color = texture2D(${Pr.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);

      ${n.join(`
`)}

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= ${Pr.TRANSITION_ALPHA};
    }`;return{vertexShader:r,fragmentShader:h,uniforms:s,paletteTextures:i.paletteTextures}}class Lv extends L0e{constructor(e){e=e?Object.assign({},e):{};const r=e.style||{};delete e.style,super(e),this.sources_=e.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=r,this.styleVariables_=this.style_.variables||{},this.addChangeListener(x2.SOURCE,this.handleSourceUpdate_)}getSources(e,r){const i=this.getSource();return this.sources_?typeof this.sources_=="function"?this.sources_(e,r):this.sources_:i?[i]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const e=this.getRenderSource();return e?e.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();const e=this.getSource();if(e)if(e.getState()==="loading"){const r=()=>{e.getState()==="ready"&&(e.removeEventListener("change",r),this.setStyle(this.style_))};e.addEventListener("change",r)}else this.setStyle(this.style_)}getSourceBandCount_(){const e=Number.MAX_SAFE_INTEGER,r=this.getSources([-e,-e,e,e],e);return r&&r.length&&"bandCount"in r[0]?r[0].bandCount:4}createRenderer(){const e=SQ(this.style_,this.getSourceBandCount_());return new qxe(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.getCacheSize(),paletteTextures:e.paletteTextures})}renderSources(e,r){const i=this.getRenderer();let n;for(let s=0,o=r.length;s<o;++s)this.renderedSource_=r[s],i.prepareFrame(e)&&(n=i.renderFrame(e));return n}render(e,r){this.rendered=!0;const i=e.viewState,n=this.getSources(e.extent,i.resolution);let s=!0;for(let a=0,l=n.length;a<l;++a){const u=n[a],h=u.getState();if(h=="loading"){const d=()=>{u.getState()=="ready"&&(u.removeEventListener("change",d),this.changed())};u.addEventListener("change",d)}s=s&&h=="ready"}const o=this.renderSources(e,n);if(this.getRenderer().renderComplete&&s)return this.renderedResolution_=i.resolution,o;if(this.renderedResolution_>.5*i.resolution){const a=this.getSources(e.extent,this.renderedResolution_).filter(l=>!n.includes(l));if(a.length>0)return this.renderSources(e,a)}return o}setStyle(e){if(this.styleVariables_=e.variables||{},this.style_=e,this.hasRenderer()){const r=SQ(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms,paletteTextures:r.paletteTextures}),this.changed()}}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}Lv.prototype.dispose;const f_e=Object.freeze(Object.defineProperty({__proto__:null,Graticule:hye,Group:_v,Heatmap:e_e,Image:tS,Layer:Kne,Tile:wv,Vector:HE,VectorImage:i_e,VectorTile:Jne,WebGLPoints:h_e,WebGLTile:Lv},Symbol.toStringTag,{value:"Module"}));function p_e(t){const e=t[0],r=new Array(e);let i=1<<e-1,n,s;for(n=0;n<e;++n)s=48,t[1]&i&&(s+=1),t[2]&i&&(s+=2),r[n]=String.fromCharCode(s),i>>=1;return r.join("")}const m_e='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>';class g_e extends wu{constructor(e){const r=e.hidpi!==void 0?e.hidpi:!1;super({cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,projection:Gi("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.hidpi_=r,this.culture_=e.culture!==void 0?e.culture:"en-us",this.maxZoom_=e.maxZoom!==void 0?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,this.placeholderTiles_=e.placeholderTiles;const i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;fetch(i).then(n=>n.json()).then(n=>this.handleImageryMetadataResponse(n))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(e){if(e.statusCode!=200||e.statusDescription!="OK"||e.authenticationResultCode!="ValidCredentials"||e.resourceSets.length!=1||e.resourceSets[0].resources.length!=1){this.setState("error");return}const r=e.resourceSets[0].resources[0],i=this.maxZoom_==-1?r.zoomMax:this.maxZoom_,n=this.getProjection(),s=G0(n),o=this.hidpi_?2:1,a=r.imageWidth==r.imageHeight?r.imageWidth/o:[r.imageWidth/o,r.imageHeight/o],l=W0({extent:s,minZoom:r.zoomMin,maxZoom:i,tileSize:a});this.tileGrid=l;const u=this.culture_,h=this.hidpi_,d=this.placeholderTiles_;if(this.tileUrlFunction=rS(r.imageUrlSubdomains.map(function(f){const p=[0,0,0],g=r.imageUrl.replace("{subdomain}",f).replace("{culture}",u);return function(y,b,x){if(!y)return;_2(y[0],y[1],y[2],p);const w=new URL(g.replace("{quadkey}",p_e(p))),S=w.searchParams;return h&&(S.set("dpi","d1"),S.set("device","mobile")),d===!0?S.delete("n"):d===!1&&S.set("n","z"),w.toString()}})),r.imageryProviders){const f=iS(Gi("EPSG:4326"),this.getProjection());this.setAttributions(p=>{const g=[],y=p.viewState,b=this.getTileGrid(),x=b.getZForResolution(y.resolution,this.zDirection),S=b.getTileCoordForCoordAndZ(y.center,x)[0];return r.imageryProviders.map(function(C){let k=!1;const O=C.coverageAreas;for(let M=0,A=O.length;M<A;++M){const I=O[M];if(S>=I.zoomMin&&S<=I.zoomMax){const R=I.bbox,V=[R[1],R[0],R[3],R[2]],oe=i0(V,f);if(Zf(oe,p.extent)){k=!0;break}}}k&&g.push(C.attribution)}),g.push(m_e),g})}this.setState("ready")}}const y_e=g_e;class b_e extends Kf{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:e.maxZoom!==void 0?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,transition:e.transition,wrapX:e.wrapX,zDirection:e.zDirection}),this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},this.initializeMap_()}getConfig(){return this.config_}updateConfig(e){Object.assign(this.config_,e),this.initializeMap_()}setConfig(e){this.config_=e||{},this.initializeMap_()}initializeMap_(){const e=JSON.stringify(this.config_);if(this.templateCache_[e]){this.applyTemplate_(this.templateCache_[e]);return}let r="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(r+="/named/"+this.mapId_);const i=new XMLHttpRequest;i.addEventListener("load",this.handleInitResponse_.bind(this,e)),i.addEventListener("error",this.handleInitError_.bind(this)),i.open("POST",r),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(this.config_))}handleInitResponse_(e,r){const i=r.target;if(!i.status||i.status>=200&&i.status<300){let n;try{n=JSON.parse(i.responseText)}catch{this.setState("error");return}this.applyTemplate_(n),this.templateCache_[e]=n,this.setState("ready")}else this.setState("error")}handleInitError_(e){this.setState("error")}applyTemplate_(e){const r="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(r)}}const v_e=b_e;class x_e extends G1{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(r){const i=r.getGeometry();return Dl(!i||i.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),i},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,r,i){var n;(n=this.source)==null||n.loadFeatures(e,r,i),r!==this.resolution&&(this.resolution=r,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(va.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(va.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,r){const i=e===0?0:Math.min(r,e)/e,n=e!==this.distance||this.interpolationRatio!==i;this.distance=e,this.minDistance=r,this.interpolationRatio=i,n&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=XE(),r=this.distance*this.resolution,i=this.source.getFeatures(),n={};for(let s=0,o=i.length;s<o;s++){const a=i[s];if(!(hs(a)in n)){const l=this.geometryFunction(a);if(l){const u=l.getCoordinates();O0e(u,e),Hne(e,r,e);const h=this.source.getFeaturesInExtent(e).filter(function(d){const f=hs(d);return f in n?!1:(n[f]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,r){const i=[0,0];for(let a=e.length-1;a>=0;--a){const l=this.geometryFunction(e[a]);l?M0e(i,l.getCoordinates()):e.splice(a,1)}R0e(i,1/e.length);const n=vc(r),s=this.interpolationRatio,o=new qa([i[0]*(1-s)+n[0]*s,i[1]*(1-s)+n[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new na({geometry:o,features:e})}}const __e=x_e;class ax extends X1{constructor(e){const r=e.projection===void 0?"EPSG:3857":e.projection;let i=e.tileGrid;i===void 0&&r&&(i=W0({extent:G0(r),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize})),super({cacheSize:.1,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:r,tileGrid:i,state:e.state,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.tileSize_=e.tileSize?Ya(e.tileSize):null,this.tileSizes_=null,this.tileLoadingKeys_={},this.loader_=e.loader,this.handleTileChange_=this.handleTileChange_.bind(this),this.bandCount=e.bandCount===void 0?4:e.bandCount,this.tileGridForProjection_={},this.crossOrigin_=e.crossOrigin||"anonymous"}setTileSizes(e){this.tileSizes_=e}getTileSize(e){if(this.tileSizes_)return this.tileSizes_[e];if(this.tileSize_)return this.tileSize_;const r=this.getTileGrid();return r?Ya(r.getTileSize(e)):[256,256]}getGutterForProjection(e){const r=this.getProjection();return!r||Yb(r,e)?this.gutter_:0}setLoader(e){this.loader_=e}getReprojTile_(e,r,i,n,s){const o=this.getTileGrid(),a=Math.max.apply(null,o.getResolutions().map((g,y)=>{const b=Ya(o.getTileSize(y)),x=this.getTileSize(y);return Math.max(x[0]/b[0],x[1]/b[1])})),l=this.getTileGridForProjection(s),u=this.getTileGridForProjection(n),h=[e,r,i],d=this.getTileCoordForTileUrlFunction(h,n),f=Object.assign({sourceProj:s,sourceTileGrid:l,targetProj:n,targetTileGrid:u,tileCoord:h,wrappedTileCoord:d,pixelRatio:a,gutter:this.getGutterForProjection(s),getTileFunction:(g,y,b,x)=>this.getTile(g,y,b,x,s)},this.tileOptions),p=new eS(f);return p.key=this.getKey(),p}getTile(e,r,i,n,s){const o=this.getProjection();if(o&&s&&!Yb(o,s))return this.getReprojTile_(e,r,i,s,o);const a=this.getTileSize(e),l=this.loader_,u=new AbortController,h={signal:u.signal,crossOrigin:this.crossOrigin_},d=this.getTileCoordForTileUrlFunction([e,r,i]);if(!d)return null;const f=d[0],p=d[1],g=d[2];function y(){return P0e(function(){return l(f,p,g,h)})}const b=Object.assign({tileCoord:[e,r,i],loader:y,size:a,controller:u},this.tileOptions),x=new Gne(b);return x.key=this.getKey(),x.addEventListener(va.CHANGE,this.handleTileChange_),x}handleTileChange_(e){const r=e.target,i=hs(r),n=r.getState();let s;n==Bn.LOADING?(this.tileLoadingKeys_[i]=!0,s=e_.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=n==Bn.ERROR?e_.TILELOADERROR:n==Bn.LOADED?e_.TILELOADEND:void 0),s&&this.dispatchEvent(new I0e(s,r))}getTileGridForProjection(e){const r=this.getProjection();if(this.tileGrid&&(!r||Yb(r,e)))return this.tileGrid;const i=hs(e);return i in this.tileGridForProjection_||(this.tileGridForProjection_[i]=F0e(e)),this.tileGridForProjection_[i]}setTileGridForProjection(e,r){const i=Gi(e);if(i){const n=hs(i);n in this.tileGridForProjection_||(this.tileGridForProjection_[n]=r)}}}function Ws(t){return(e,...r)=>w_e(t,e,r)}function wp(t,e){return Ws(Use(t,e).get)}const{apply:w_e,construct:GYe,defineProperty:WYe,get:YYe,getOwnPropertyDescriptor:Use,getPrototypeOf:TS,has:ZYe,ownKeys:E_e,set:XYe,setPrototypeOf:KYe}=Reflect,{iterator:X0,species:JYe,toStringTag:S_e,for:QYe}=Symbol,C_e=Object,{create:DS,defineProperty:k_e,freeze:eZe,is:tZe}=C_e,A_e=Array,T_e=A_e.prototype,qse=T_e[X0],D_e=Ws(qse),Hse=ArrayBuffer,L_e=Hse.prototype;wp(L_e,"byteLength");const CQ=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;CQ&&wp(CQ.prototype,"byteLength");const Vse=TS(Uint8Array);Vse.from;const wo=Vse.prototype;wo[X0];Ws(wo.keys);Ws(wo.values);Ws(wo.entries);Ws(wo.set);Ws(wo.reverse);Ws(wo.fill);Ws(wo.copyWithin);Ws(wo.sort);Ws(wo.slice);Ws(wo.subarray);wp(wo,"buffer");wp(wo,"byteOffset");wp(wo,"length");wp(wo,S_e);const O_e=Uint8Array,Gse=Uint16Array,LS=Uint32Array,M_e=Float32Array,u0=TS([][X0]()),Wse=Ws(u0.next),R_e=Ws(function*(){}().next),I_e=TS(u0),F_e=DataView.prototype,P_e=Ws(F_e.getUint16),OS=WeakMap,Yse=OS.prototype,Zse=Ws(Yse.get),N_e=Ws(Yse.set),Xse=new OS,$_e=DS(null,{next:{value:function(){const e=Zse(Xse,this);return Wse(e)}},[X0]:{value:function(){return this}}});function B_e(t){if(t[X0]===qse&&u0.next===Wse)return t;const e=DS($_e);return N_e(Xse,e,D_e(t)),e}const j_e=new OS,z_e=DS(I_e,{next:{value:function(){const e=Zse(j_e,this);return R_e(e)},writable:!0,configurable:!0}});for(const t of E_e(u0))t!=="next"&&k_e(z_e,t,Use(u0,t));const Kse=new Hse(4),U_e=new M_e(Kse),q_e=new LS(Kse),fl=new Gse(512),pl=new O_e(512);for(let t=0;t<256;++t){const e=t-127;e<-24?(fl[t]=0,fl[t|256]=32768,pl[t]=24,pl[t|256]=24):e<-14?(fl[t]=1024>>-e-14,fl[t|256]=1024>>-e-14|32768,pl[t]=-e-1,pl[t|256]=-e-1):e<=15?(fl[t]=e+15<<10,fl[t|256]=e+15<<10|32768,pl[t]=13,pl[t|256]=13):e<128?(fl[t]=31744,fl[t|256]=64512,pl[t]=24,pl[t|256]=24):(fl[t]=31744,fl[t|256]=64512,pl[t]=13,pl[t|256]=13)}const MS=new LS(2048);for(let t=1;t<1024;++t){let e=t<<13,r=0;for(;!(e&8388608);)e<<=1,r-=8388608;e&=-8388609,r+=947912704,MS[t]=e|r}for(let t=1024;t<2048;++t)MS[t]=939524096+(t-1024<<13);const Ep=new LS(64);for(let t=1;t<31;++t)Ep[t]=t<<23;Ep[31]=1199570944;Ep[32]=2147483648;for(let t=33;t<63;++t)Ep[t]=2147483648+(t-32<<23);Ep[63]=3347054592;const Jse=new Gse(64);for(let t=1;t<64;++t)t!==32&&(Jse[t]=1024);function H_e(t){const e=t>>10;return q_e[0]=MS[Jse[e]+(t&1023)]+Ep[e],U_e[0]}function Qse(t,e,...r){return H_e(P_e(t,e,...B_e(r)))}var RS={exports:{}};function eoe(t,e,r){const i=r&&r.debug||!1;i&&console.log("[xml-utils] getting "+e+" in "+t);const n=typeof t=="object"?t.outer:t,s=n.slice(0,n.indexOf(">")+1),o=['"',"'"];for(let a=0;a<o.length;a++){const l=o[a],u=e+"\\="+l+"([^"+l+"]*)"+l;i&&console.log("[xml-utils] pattern:",u);const d=new RegExp(u).exec(s);if(i&&console.log("[xml-utils] match:",d),d)return d[1]}}RS.exports=eoe;RS.exports.default=eoe;var V_e=RS.exports;const o_=Ps(V_e);var IS={exports:{}},FS={exports:{}},PS={exports:{}};function toe(t,e,r){const n=new RegExp(e).exec(t.slice(r));return n?r+n.index:-1}PS.exports=toe;PS.exports.default=toe;var G_e=PS.exports,NS={exports:{}};function roe(t,e,r){const n=new RegExp(e).exec(t.slice(r));return n?r+n.index+n[0].length-1:-1}NS.exports=roe;NS.exports.default=roe;var W_e=NS.exports,$S={exports:{}};function ioe(t,e){const r=new RegExp(e,"g"),i=t.match(r);return i?i.length:0}$S.exports=ioe;$S.exports.default=ioe;var Y_e=$S.exports;const Z_e=G_e,a_=W_e,kQ=Y_e;function noe(t,e,r){const i=r&&r.debug||!1,n=!(r&&typeof r.nested===!1),s=r&&r.startIndex||0;i&&console.log("[xml-utils] starting findTagByName with",e," and ",r);const o=Z_e(t,`<${e}[ 
>/]`,s);if(i&&console.log("[xml-utils] start:",o),o===-1)return;const a=t.slice(o+e.length);let l=a_(a,"^[^<]*[ /]>",0);const u=l!==-1&&a[l-1]==="/";if(i&&console.log("[xml-utils] selfClosing:",u),u===!1)if(n){let p=0,g=1,y=0;for(;(l=a_(a,"[ /]"+e+">",p))!==-1;){const b=a.substring(p,l+1);if(g+=kQ(b,"<"+e+`[ 
	>]`),y+=kQ(b,"</"+e+">"),y>=g)break;p=l}}else l=a_(a,"[ /]"+e+">",0);const h=o+e.length+l+1;if(i&&console.log("[xml-utils] end:",h),h===-1)return;const d=t.slice(o,h);let f;return u?f=null:f=d.slice(d.indexOf(">")+1,d.lastIndexOf("<")),{inner:f,outer:d,start:o,end:h}}FS.exports=noe;FS.exports.default=noe;var X_e=FS.exports;const K_e=X_e;function soe(t,e,r){const i=[],n=r&&r.debug||!1,s=r&&typeof r.nested=="boolean"?r.nested:!0;let o=r&&r.startIndex||0,a;for(;a=K_e(t,e,{debug:n,startIndex:o});)s?o=a.start+1+e.length:o=a.end,i.push(a);return n&&console.log("findTagsByName found",i.length,"tags"),i}IS.exports=soe;IS.exports.default=soe;var J_e=IS.exports;const Q_e=Ps(J_e),Ug={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},ml={};for(const t in Ug)Ug.hasOwnProperty(t)&&(ml[Ug[t]]=parseInt(t,10));const ewe=[ml.BitsPerSample,ml.ExtraSamples,ml.SampleFormat,ml.StripByteCounts,ml.StripOffsets,ml.StripRowCounts,ml.TileByteCounts,ml.TileOffsets,ml.SubIFDs],l_={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},Wr={};for(const t in l_)l_.hasOwnProperty(t)&&(Wr[l_[t]]=parseInt(t,10));const Oo={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},twe={Unspecified:0,Assocalpha:1,Unassalpha:2},rZe={Version:0,AddCompression:1},iZe={None:0,Deflate:1,Zstandard:2},rwe={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function iwe(t,e){const{width:r,height:i}=t,n=new Uint8Array(r*i*3);let s;for(let o=0,a=0;o<t.length;++o,a+=3)s=256-t[o]/e*256,n[a]=s,n[a+1]=s,n[a+2]=s;return n}function nwe(t,e){const{width:r,height:i}=t,n=new Uint8Array(r*i*3);let s;for(let o=0,a=0;o<t.length;++o,a+=3)s=t[o]/e*256,n[a]=s,n[a+1]=s,n[a+2]=s;return n}function swe(t,e){const{width:r,height:i}=t,n=new Uint8Array(r*i*3),s=e.length/3,o=e.length/3*2;for(let a=0,l=0;a<t.length;++a,l+=3){const u=t[a];n[l]=e[u]/65536*256,n[l+1]=e[u+s]/65536*256,n[l+2]=e[u+o]/65536*256}return n}function owe(t){const{width:e,height:r}=t,i=new Uint8Array(e*r*3);for(let n=0,s=0;n<t.length;n+=4,s+=3){const o=t[n],a=t[n+1],l=t[n+2],u=t[n+3];i[s]=255*((255-o)/256)*((255-u)/256),i[s+1]=255*((255-a)/256)*((255-u)/256),i[s+2]=255*((255-l)/256)*((255-u)/256)}return i}function awe(t){const{width:e,height:r}=t,i=new Uint8ClampedArray(e*r*3);for(let n=0,s=0;n<t.length;n+=3,s+=3){const o=t[n],a=t[n+1],l=t[n+2];i[s]=o+1.402*(l-128),i[s+1]=o-.34414*(a-128)-.71414*(l-128),i[s+2]=o+1.772*(a-128)}return i}const lwe=.95047,uwe=1,cwe=1.08883;function dwe(t){const{width:e,height:r}=t,i=new Uint8Array(e*r*3);for(let n=0,s=0;n<t.length;n+=3,s+=3){const o=t[n+0],a=t[n+1]<<24>>24,l=t[n+2]<<24>>24;let u=(o+16)/116,h=a/500+u,d=u-l/200,f,p,g;h=lwe*(h*h*h>.008856?h*h*h:(h-16/116)/7.787),u=uwe*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),d=cwe*(d*d*d>.008856?d*d*d:(d-16/116)/7.787),f=h*3.2406+u*-1.5372+d*-.4986,p=h*-.9689+u*1.8758+d*.0415,g=h*.0557+u*-.204+d*1.057,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,p=p>.0031308?1.055*p**(1/2.4)-.055:12.92*p,g=g>.0031308?1.055*g**(1/2.4)-.055:12.92*g,i[s]=Math.max(0,Math.min(1,f))*255,i[s+1]=Math.max(0,Math.min(1,p))*255,i[s+2]=Math.max(0,Math.min(1,g))*255}return i}const ooe=new Map;function $c(t,e){Array.isArray(t)||(t=[t]),t.forEach(r=>ooe.set(r,e))}async function aoe(t){const e=ooe.get(t.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${t.Compression}`);const r=await e();return new r(t)}$c([void 0,1],()=>Nc(()=>import("./raw-Dt1HMqYc.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>t.default));$c(5,()=>Nc(()=>import("./lzw-DpvbRwG5.js"),__vite__mapDeps([2,1]),import.meta.url).then(t=>t.default));$c(6,()=>{throw new Error("old style JPEG compression is not supported.")});$c(7,()=>Nc(()=>import("./jpeg-CdeCw_eT.js"),__vite__mapDeps([3,1]),import.meta.url).then(t=>t.default));$c([8,32946],()=>Nc(()=>import("./deflate-CUkHh1nh.js"),__vite__mapDeps([4,5,1]),import.meta.url).then(t=>t.default));$c(32773,()=>Nc(()=>import("./packbits-DQnG8s9w.js"),__vite__mapDeps([6,1]),import.meta.url).then(t=>t.default));$c(34887,()=>Nc(()=>import("./lerc-tMI7tzRv.js"),__vite__mapDeps([7,5,8,1,9,10,11,12,13,14,15,16,17,18]),import.meta.url).then(async t=>(await t.zstd.init(),t)).then(t=>t.default));$c(50001,()=>Nc(()=>import("./webimage-BcnuJlio.js"),__vite__mapDeps([19,1]),import.meta.url).then(t=>t.default));function lx(t,e,r,i=1){return new(Object.getPrototypeOf(t)).constructor(e*r*i)}function hwe(t,e,r,i,n){const s=e/i,o=r/n;return t.map(a=>{const l=lx(a,i,n);for(let u=0;u<n;++u){const h=Math.min(Math.round(o*u),r-1);for(let d=0;d<i;++d){const f=Math.min(Math.round(s*d),e-1),p=a[h*e+f];l[u*i+d]=p}}return l})}function Ff(t,e,r){return(1-r)*t+r*e}function fwe(t,e,r,i,n){const s=e/i,o=r/n;return t.map(a=>{const l=lx(a,i,n);for(let u=0;u<n;++u){const h=o*u,d=Math.floor(h),f=Math.min(Math.ceil(h),r-1);for(let p=0;p<i;++p){const g=s*p,y=g%1,b=Math.floor(g),x=Math.min(Math.ceil(g),e-1),w=a[d*e+b],S=a[d*e+x],C=a[f*e+b],k=a[f*e+x],O=Ff(Ff(w,S,y),Ff(C,k,y),h%1);l[u*i+p]=O}}return l})}function pwe(t,e,r,i,n,s="nearest"){switch(s.toLowerCase()){case"nearest":return hwe(t,e,r,i,n);case"bilinear":case"linear":return fwe(t,e,r,i,n);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function mwe(t,e,r,i,n,s){const o=e/i,a=r/n,l=lx(t,i,n,s);for(let u=0;u<n;++u){const h=Math.min(Math.round(a*u),r-1);for(let d=0;d<i;++d){const f=Math.min(Math.round(o*d),e-1);for(let p=0;p<s;++p){const g=t[h*e*s+f*s+p];l[u*i*s+d*s+p]=g}}}return l}function gwe(t,e,r,i,n,s){const o=e/i,a=r/n,l=lx(t,i,n,s);for(let u=0;u<n;++u){const h=a*u,d=Math.floor(h),f=Math.min(Math.ceil(h),r-1);for(let p=0;p<i;++p){const g=o*p,y=g%1,b=Math.floor(g),x=Math.min(Math.ceil(g),e-1);for(let w=0;w<s;++w){const S=t[d*e*s+b*s+w],C=t[d*e*s+x*s+w],k=t[f*e*s+b*s+w],O=t[f*e*s+x*s+w],M=Ff(Ff(S,C,y),Ff(k,O,y),h%1);l[u*i*s+p*s+w]=M}}}return l}function ywe(t,e,r,i,n,s,o="nearest"){switch(o.toLowerCase()){case"nearest":return mwe(t,e,r,i,n,s);case"bilinear":case"linear":return gwe(t,e,r,i,n,s);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function bwe(t,e,r){let i=0;for(let n=e;n<r;++n)i+=t[n];return i}function T2(t,e,r){switch(t){case 1:if(e<=8)return new Uint8Array(r);if(e<=16)return new Uint16Array(r);if(e<=32)return new Uint32Array(r);break;case 2:if(e===8)return new Int8Array(r);if(e===16)return new Int16Array(r);if(e===32)return new Int32Array(r);break;case 3:switch(e){case 16:case 32:return new Float32Array(r);case 64:return new Float64Array(r)}break}throw Error("Unsupported data format/bitsPerSample")}function vwe(t,e){return(t===1||t===2)&&e<=32&&e%8===0?!1:!(t===3&&(e===16||e===32||e===64))}function xwe(t,e,r,i,n,s,o){const a=new DataView(t),l=r===2?o*s:o*s*i,u=r===2?1:i,h=T2(e,n,l),d=parseInt("1".repeat(n),2);if(e===1){let f;r===1?f=i*n:f=n;let p=s*f;p&7&&(p=p+7&-8);for(let g=0;g<o;++g){const y=g*p;for(let b=0;b<s;++b){const x=y+b*u*n;for(let w=0;w<u;++w){const S=x+w*n,C=(g*s+b)*u+w,k=Math.floor(S/8),O=S%8;if(O+n<=8)h[C]=a.getUint8(k)>>8-n-O&d;else if(O+n<=16)h[C]=a.getUint16(k)>>16-n-O&d;else if(O+n<=24){const M=a.getUint16(k)<<8|a.getUint8(k+2);h[C]=M>>24-n-O&d}else h[C]=a.getUint32(k)>>32-n-O&d}}}}return h.buffer}class loe{constructor(e,r,i,n,s,o){this.fileDirectory=e,this.geoKeys=r,this.dataView=i,this.littleEndian=n,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const a=e.PlanarConfiguration;if(this.planarConfiguration=typeof a>"u"?1:a,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=o}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let r=0;r<this.fileDirectory.BitsPerSample.length;++r)e+=this.getSampleByteSize(r);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const r=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,i=this.fileDirectory.BitsPerSample[e];switch(r){case 1:if(i<=8)return DataView.prototype.getUint8;if(i<=16)return DataView.prototype.getUint16;if(i<=32)return DataView.prototype.getUint32;break;case 2:if(i<=8)return DataView.prototype.getInt8;if(i<=16)return DataView.prototype.getInt16;if(i<=32)return DataView.prototype.getInt32;break;case 3:switch(i){case 16:return function(n,s){return Qse(this,n,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,r){const i=this.getSampleFormat(e),n=this.getBitsPerSample(e);return T2(i,n,r)}async getTileOrStrip(e,r,i,n,s){const o=Math.ceil(this.getWidth()/this.getTileWidth()),a=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:u}=this;this.planarConfiguration===1?l=r*o+e:this.planarConfiguration===2&&(l=i*o*a+r*o+e);let h,d;this.isTiled?(h=this.fileDirectory.TileOffsets[l],d=this.fileDirectory.TileByteCounts[l]):(h=this.fileDirectory.StripOffsets[l],d=this.fileDirectory.StripByteCounts[l]);const f=(await this.source.fetch([{offset:h,length:d}],s))[0];let p;return u===null||!u[l]?(p=(async()=>{let g=await n.decode(this.fileDirectory,f);const y=this.getSampleFormat(),b=this.getBitsPerSample();return vwe(y,b)&&(g=xwe(g,y,this.planarConfiguration,this.getSamplesPerPixel(),b,this.getTileWidth(),this.getBlockHeight(r))),g})(),u!==null&&(u[l]=p)):p=u[l],{x:e,y:r,sample:i,data:await p}}async _readRaster(e,r,i,n,s,o,a,l,u){const h=this.getTileWidth(),d=this.getTileHeight(),f=this.getWidth(),p=this.getHeight(),g=Math.max(Math.floor(e[0]/h),0),y=Math.min(Math.ceil(e[2]/h),Math.ceil(f/h)),b=Math.max(Math.floor(e[1]/d),0),x=Math.min(Math.ceil(e[3]/d),Math.ceil(p/d)),w=e[2]-e[0];let S=this.getBytesPerPixel();const C=[],k=[];for(let A=0;A<r.length;++A)this.planarConfiguration===1?C.push(bwe(this.fileDirectory.BitsPerSample,0,r[A])/8):C.push(0),k.push(this.getReaderForSample(r[A]));const O=[],{littleEndian:M}=this;for(let A=b;A<x;++A)for(let I=g;I<y;++I){let R;this.planarConfiguration===1&&(R=this.getTileOrStrip(I,A,0,s,u));for(let V=0;V<r.length;++V){const oe=V,L=r[V];this.planarConfiguration===2&&(S=this.getSampleByteSize(L),R=this.getTileOrStrip(I,A,L,s,u));const F=R.then(U=>{const Y=U.data,G=new DataView(Y),Q=this.getBlockHeight(U.y),J=U.y*d,re=U.x*h,pe=J+Q,ee=(U.x+1)*h,B=k[oe],ge=Math.min(Q,Q-(pe-e[3]),p-J),ve=Math.min(h,h-(ee-e[2]),f-re);for(let ze=Math.max(0,e[1]-J);ze<ge;++ze)for(let it=Math.max(0,e[0]-re);it<ve;++it){const tt=(ze*h+it)*S,Ne=B.call(G,tt+C[oe],M);let Xe;n?(Xe=(ze+J-e[1])*w*r.length+(it+re-e[0])*r.length+oe,i[Xe]=Ne):(Xe=(ze+J-e[1])*w+it+re-e[0],i[oe][Xe]=Ne)}});O.push(F)}}if(await Promise.all(O),o&&e[2]-e[0]!==o||a&&e[3]-e[1]!==a){let A;return n?A=ywe(i,e[2]-e[0],e[3]-e[1],o,a,r.length,l):A=pwe(i,e[2]-e[0],e[3]-e[1],o,a,l),A.width=o,A.height=a,A}return i.width=o||e[2]-e[0],i.height=a||e[3]-e[1],i}async readRasters({window:e,samples:r=[],interleave:i,pool:n=null,width:s,height:o,resampleMethod:a,fillValue:l,signal:u}={}){const h=e||[0,0,this.getWidth(),this.getHeight()];if(h[0]>h[2]||h[1]>h[3])throw new Error("Invalid subsets");const d=h[2]-h[0],f=h[3]-h[1],p=d*f,g=this.getSamplesPerPixel();if(!r||!r.length)for(let w=0;w<g;++w)r.push(w);else for(let w=0;w<r.length;++w)if(r[w]>=g)return Promise.reject(new RangeError(`Invalid sample index '${r[w]}'.`));let y;if(i){const w=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,S=Math.max.apply(null,this.fileDirectory.BitsPerSample);y=T2(w,S,p*r.length),l&&y.fill(l)}else{y=[];for(let w=0;w<r.length;++w){const S=this.getArrayForSample(r[w],p);Array.isArray(l)&&w<l.length?S.fill(l[w]):l&&!Array.isArray(l)&&S.fill(l),y.push(S)}}const b=n||await aoe(this.fileDirectory);return await this._readRaster(h,r,y,i,b,s,o,a,u)}async readRGB({window:e,interleave:r=!0,pool:i=null,width:n,height:s,resampleMethod:o,enableAlpha:a=!1,signal:l}={}){const u=e||[0,0,this.getWidth(),this.getHeight()];if(u[0]>u[2]||u[1]>u[3])throw new Error("Invalid subsets");const h=this.fileDirectory.PhotometricInterpretation;if(h===Oo.RGB){let x=[0,1,2];if(this.fileDirectory.ExtraSamples!==twe.Unspecified&&a){x=[];for(let w=0;w<this.fileDirectory.BitsPerSample.length;w+=1)x.push(w)}return this.readRasters({window:e,interleave:r,samples:x,pool:i,width:n,height:s,resampleMethod:o,signal:l})}let d;switch(h){case Oo.WhiteIsZero:case Oo.BlackIsZero:case Oo.Palette:d=[0];break;case Oo.CMYK:d=[0,1,2,3];break;case Oo.YCbCr:case Oo.CIELab:d=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const f={window:u,interleave:!0,samples:d,pool:i,width:n,height:s,resampleMethod:o,signal:l},{fileDirectory:p}=this,g=await this.readRasters(f),y=2**this.fileDirectory.BitsPerSample[0];let b;switch(h){case Oo.WhiteIsZero:b=iwe(g,y);break;case Oo.BlackIsZero:b=nwe(g,y);break;case Oo.Palette:b=swe(g,p.ColorMap);break;case Oo.CMYK:b=owe(g);break;case Oo.YCbCr:b=awe(g);break;case Oo.CIELab:b=dwe(g);break;default:throw new Error("Unsupported photometric interpretation.")}if(!r){const x=new Uint8Array(b.length/3),w=new Uint8Array(b.length/3),S=new Uint8Array(b.length/3);for(let C=0,k=0;C<b.length;C+=3,++k)x[k]=b[C],w[k]=b[C+1],S[k]=b[C+2];b=[x,w,S]}return b.width=g.width,b.height=g.height,b}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let r=0;r<this.fileDirectory.ModelTiepoint.length;r+=6)e.push({i:this.fileDirectory.ModelTiepoint[r],j:this.fileDirectory.ModelTiepoint[r+1],k:this.fileDirectory.ModelTiepoint[r+2],x:this.fileDirectory.ModelTiepoint[r+3],y:this.fileDirectory.ModelTiepoint[r+4],z:this.fileDirectory.ModelTiepoint[r+5]});return e}getGDALMetadata(e=null){const r={};if(!this.fileDirectory.GDAL_METADATA)return null;const i=this.fileDirectory.GDAL_METADATA;let n=Q_e(i,"Item");e===null?n=n.filter(s=>o_(s,"sample")===void 0):n=n.filter(s=>Number(o_(s,"sample"))===e);for(let s=0;s<n.length;++s){const o=n[s];r[o_(o,"name")]=o.inner}return r}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,r=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(r)return[r[3],r[7],r[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const r=this.fileDirectory.ModelPixelScale,i=this.fileDirectory.ModelTransformation;if(r)return[r[0],-r[1],r[2]];if(i)return i[1]===0&&i[4]===0?[i[0],-i[5],i[10]]:[Math.sqrt(i[0]*i[0]+i[4]*i[4]),-Math.sqrt(i[1]*i[1]+i[5]*i[5]),i[10]];if(e){const[n,s,o]=e.getResolution();return[n*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),o*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const r=this.getHeight(),i=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[n,s,o,a,l,u,h,d]=this.fileDirectory.ModelTransformation,p=[[0,0],[0,r],[i,0],[i,r]].map(([b,x])=>[a+n*b+s*x,d+l*b+u*x]),g=p.map(b=>b[0]),y=p.map(b=>b[1]);return[Math.min(...g),Math.min(...y),Math.max(...g),Math.max(...y)]}else{const n=this.getOrigin(),s=this.getResolution(),o=n[0],a=n[1],l=o+s[0]*i,u=a+s[1]*r;return[Math.min(o,l),Math.min(a,u),Math.max(o,l),Math.max(a,u)]}}}class _we{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,r){const i=this.getUint32(e,r),n=this.getUint32(e+4,r);let s;if(r){if(s=i+2**32*n,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*i+n,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,r){let i=0;const n=(this._dataView.getUint8(e+(r?7:0))&128)>0;let s=!0;for(let o=0;o<8;o++){let a=this._dataView.getUint8(e+(r?o:7-o));n&&(s?a!==0&&(a=~(a-1)&255,s=!1):a=~a&255),i+=a*256**o}return n&&(i=-i),i}getUint8(e,r){return this._dataView.getUint8(e,r)}getInt8(e,r){return this._dataView.getInt8(e,r)}getUint16(e,r){return this._dataView.getUint16(e,r)}getInt16(e,r){return this._dataView.getInt16(e,r)}getUint32(e,r){return this._dataView.getUint32(e,r)}getInt32(e,r){return this._dataView.getInt32(e,r)}getFloat16(e,r){return Qse(this._dataView,e,r)}getFloat32(e,r){return this._dataView.getFloat32(e,r)}getFloat64(e,r){return this._dataView.getFloat64(e,r)}}class wwe{constructor(e,r,i,n){this._dataView=new DataView(e),this._sliceOffset=r,this._littleEndian=i,this._bigTiff=n}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,r){return this.sliceOffset<=e&&this.sliceTop>=e+r}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const r=this.readUint32(e),i=this.readUint32(e+4);let n;if(this._littleEndian){if(n=r+2**32*i,!Number.isSafeInteger(n))throw new Error(`${n} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return n}if(n=2**32*r+i,!Number.isSafeInteger(n))throw new Error(`${n} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return n}readInt64(e){let r=0;const i=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let n=!0;for(let s=0;s<8;s++){let o=this._dataView.getUint8(e+(this._littleEndian?s:7-s));i&&(n?o!==0&&(o=~(o-1)&255,n=!1):o=~o&255),r+=o*256**s}return i&&(r=-r),r}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const Ewe=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class Swe{constructor(e=Ewe,r){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=r?Promise.resolve(r):new Promise(i=>{Nc(()=>import("./decoder-CaSv2t6h.js"),[],import.meta.url).then(n=>{i(n.create)})}),this._awaitingDecoder.then(i=>{this._awaitingDecoder=null,this.workers=[];for(let n=0;n<e;n++)this.workers.push({worker:i(),idle:!0})}))}async decode(e,r){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?aoe(e).then(i=>i.decode(e,r)):new Promise(i=>{const n=this.workers.find(a=>a.idle)||this.workers[Math.floor(Math.random()*this.size)];n.idle=!1;const s=this.messageId++,o=a=>{a.data.id===s&&(n.idle=!0,i(a.data.decoded),n.worker.removeEventListener("message",o))};n.worker.addEventListener("message",o),n.worker.postMessage({fileDirectory:e,buffer:r,id:s},[r])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const AQ=`\r
\r
`;function uoe(t){if(typeof Object.fromEntries<"u")return Object.fromEntries(t);const e={};for(const[r,i]of t)e[r.toLowerCase()]=i;return e}function Cwe(t){const e=t.split(`\r
`).map(r=>{const i=r.split(":").map(n=>n.trim());return i[0]=i[0].toLowerCase(),i});return uoe(e)}function kwe(t){const[e,...r]=t.split(";").map(n=>n.trim()),i=r.map(n=>n.split("="));return{type:e,params:uoe(i)}}function D2(t){let e,r,i;return t&&([,e,r,i]=t.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),r=parseInt(r,10),i=parseInt(i,10)),{start:e,end:r,total:i}}function Awe(t,e){let r=null;const i=new TextDecoder("ascii"),n=[],s=`--${e}`,o=`${s}--`;for(let a=0;a<10;++a)i.decode(new Uint8Array(t,a,s.length))===s&&(r=a);if(r===null)throw new Error("Could not find initial boundary");for(;r<t.byteLength;){const a=i.decode(new Uint8Array(t,r,Math.min(s.length+1024,t.byteLength-r)));if(a.length===0||a.startsWith(o))break;if(!a.startsWith(s))throw new Error("Part does not start with boundary");const l=a.substr(s.length+2);if(l.length===0)break;const u=l.indexOf(AQ),h=Cwe(l.substr(0,u)),{start:d,end:f,total:p}=D2(h["content-range"]),g=r+s.length+u+AQ.length,y=parseInt(f,10)+1-parseInt(d,10);n.push({headers:h,data:t.slice(g,g+y),offset:d,length:y,fileSize:p}),r=g+y+4}return n}class BS{async fetch(e,r=void 0){return Promise.all(e.map(i=>this.fetchSlice(i,r)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class Twe extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[r,i]of e)this.onEviction(r,i.value)}_deleteIfExpired(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,r.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,r){if(this._deleteIfExpired(e,r)===!1)return r.value}_getItemValue(e,r){return r.expiry?this._getOrDeleteIfExpired(e,r):r.value}_peek(e,r){const i=r.get(e);return this._getItemValue(e,i)}_set(e,r){this.cache.set(e,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,r){this.oldCache.delete(e),this._set(e,r)}*_entriesAscending(){for(const e of this.oldCache){const[r,i]=e;this.cache.has(r)||this._deleteIfExpired(r,i)===!1&&(yield e)}for(const e of this.cache){const[r,i]=e;this._deleteIfExpired(r,i)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const r=this.cache.get(e);return this._getItemValue(e,r)}if(this.oldCache.has(e)){const r=this.oldCache.get(e);if(this._deleteIfExpired(e,r)===!1)return this._moveToRecent(e,r),r.value}}set(e,r,{maxAge:i=this.maxAge}={}){const n=typeof i=="number"&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;return this.cache.has(e)?this.cache.set(e,{value:r,expiry:n}):this._set(e,{value:r,expiry:n}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const r=[...this._entriesAscending()],i=r.length-e;i<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(i>0&&this._emitEvictions(r.slice(0,i)),this.oldCache=new Map(r.slice(i)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[r,i]=e;this._deleteIfExpired(r,i)===!1&&(yield[r,i.value])}for(const e of this.oldCache){const[r,i]=e;this.cache.has(r)||this._deleteIfExpired(r,i)===!1&&(yield[r,i.value])}}*entriesDescending(){let e=[...this.cache];for(let r=e.length-1;r>=0;--r){const i=e[r],[n,s]=i;this._deleteIfExpired(n,s)===!1&&(yield[n,s.value])}e=[...this.oldCache];for(let r=e.length-1;r>=0;--r){const i=e[r],[n,s]=i;this.cache.has(n)||this._deleteIfExpired(n,s)===!1&&(yield[n,s.value])}}*entriesAscending(){for(const[e,r]of this._entriesAscending())yield[e,r.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,r=this){for(const[i,n]of this.entriesAscending())e.call(r,n,i,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function Dwe(t){return new Promise(e=>setTimeout(e,t))}function Lwe(t,e){const r=Array.isArray(t)?t:Array.from(t),i=Array.isArray(e)?e:Array.from(e);return r.map((n,s)=>[n,i[s]])}let Ov=class coe extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,coe),this.name="AbortError"}};class Owe extends Error{constructor(e,r){super(r),this.errors=e,this.message=r,this.name="AggregateError"}}const Mwe=Owe;class Rwe{constructor(e,r,i=null){this.offset=e,this.length=r,this.data=i}get top(){return this.offset+this.length}}class TQ{constructor(e,r,i){this.offset=e,this.length=r,this.blockIds=i}}class Iwe extends BS{constructor(e,{blockSize:r=65536,cacheSize:i=100}={}){super(),this.source=e,this.blockSize=r,this.blockCache=new Twe({maxSize:i,onEviction:(n,s)=>{this.evictedBlocks.set(n,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,r){const i=[],n=[],s=[];this.evictedBlocks.clear();for(const{offset:f,length:p}of e){let g=f+p;const{fileSize:y}=this;y!==null&&(g=Math.min(g,y));const b=Math.floor(f/this.blockSize)*this.blockSize;for(let x=b;x<g;x+=this.blockSize){const w=Math.floor(x/this.blockSize);!this.blockCache.has(w)&&!this.blockRequests.has(w)&&(this.blockIdsToFetch.add(w),n.push(w)),this.blockRequests.has(w)&&i.push(this.blockRequests.get(w)),s.push(w)}}await Dwe(),this.fetchBlocks(r);const o=[];for(const f of n)this.blockRequests.has(f)&&o.push(this.blockRequests.get(f));await Promise.allSettled(i),await Promise.allSettled(o);const a=[],l=s.filter(f=>this.abortedBlockIds.has(f)||!this.blockCache.has(f));if(l.forEach(f=>this.blockIdsToFetch.add(f)),l.length>0&&r&&!r.aborted){this.fetchBlocks(null);for(const f of l){const p=this.blockRequests.get(f);if(!p)throw new Error(`Block ${f} is not in the block requests`);a.push(p)}await Promise.allSettled(a)}if(r&&r.aborted)throw new Ov("Request was aborted");const u=s.map(f=>this.blockCache.get(f)||this.evictedBlocks.get(f)),h=u.filter(f=>!f);if(h.length)throw new Mwe(h,"Request failed");const d=new Map(Lwe(s,u));return this.readSliceData(e,d)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const r=this.groupBlocks(this.blockIdsToFetch),i=this.source.fetch(r,e);for(let n=0;n<r.length;++n){const s=r[n];for(const o of s.blockIds)this.blockRequests.set(o,(async()=>{try{const a=(await i)[n],l=o*this.blockSize,u=l-a.offset,h=Math.min(u+this.blockSize,a.data.byteLength),d=a.data.slice(u,h),f=new Rwe(l,d.byteLength,d,o);this.blockCache.set(o,f),this.abortedBlockIds.delete(o)}catch(a){if(a.name==="AbortError")a.signal=e,this.blockCache.delete(o),this.abortedBlockIds.add(o);else throw a}finally{this.blockRequests.delete(o)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const r=Array.from(e).sort((o,a)=>o-a);if(r.length===0)return[];let i=[],n=null;const s=[];for(const o of r)n===null||n+1===o?(i.push(o),n=o):(s.push(new TQ(i[0]*this.blockSize,i.length*this.blockSize,i)),i=[o],n=o);return s.push(new TQ(i[0]*this.blockSize,i.length*this.blockSize,i)),s}readSliceData(e,r){return e.map(i=>{let n=i.offset+i.length;this.fileSize!==null&&(n=Math.min(this.fileSize,n));const s=Math.floor(i.offset/this.blockSize),o=Math.floor(n/this.blockSize),a=new ArrayBuffer(i.length),l=new Uint8Array(a);for(let u=s;u<=o;++u){const h=r.get(u),d=h.offset-i.offset,f=h.top-n;let p=0,g=0,y;d<0?p=-d:d>0&&(g=d),f<0?y=h.length-p:y=n-h.offset-p;const b=new Uint8Array(h.data,p,y);l.set(b,g)}return a})}}class jS{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class zS{constructor(e){this.url=e}async request({headers:e,signal:r}={}){throw new Error("request is not implemented")}}class Fwe extends jS{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class Pwe extends zS{constructor(e,r){super(e),this.credentials=r}async request({headers:e,signal:r}={}){const i=await fetch(this.url,{headers:e,credentials:this.credentials,signal:r});return new Fwe(i)}}class Nwe extends jS{constructor(e,r){super(),this.xhr=e,this.data=r}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class $we extends zS{constructRequest(e,r){return new Promise((i,n)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[o,a]of Object.entries(e))s.setRequestHeader(o,a);s.onload=()=>{const o=s.response;i(new Nwe(s,o))},s.onerror=n,s.onabort=()=>n(new Ov("Request aborted")),s.send(),r&&(r.aborted&&s.abort(),r.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:r}={}){return await this.constructRequest(e,r)}}const u_={};class Bwe extends jS{constructor(e,r){super(),this.response=e,this.dataPromise=r}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class jwe extends zS{constructor(e){super(e),this.parsedUrl=u_.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",u_)}constructRequest(e,r){return new Promise((i,n)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},o=>{const a=new Promise(l=>{const u=[];o.on("data",h=>{u.push(h)}),o.on("end",()=>{const h=Buffer.concat(u).buffer;l(h)}),o.on("error",n)});i(new Bwe(o,a))});s.on("error",n),r&&(r.aborted&&s.destroy(new Ov("Request aborted")),r.addEventListener("abort",()=>s.destroy(new Ov("Request aborted"))))})}async request({headers:e,signal:r}={}){return await this.constructRequest(e,r)}}class US extends BS{constructor(e,r,i,n){super(),this.client=e,this.headers=r,this.maxRanges=i,this.allowFullFile=n,this._fileSize=null}async fetch(e,r){return this.maxRanges>=e.length?this.fetchSlices(e,r):(this.maxRanges>0&&e.length>1,Promise.all(e.map(i=>this.fetchSlice(i,r))))}async fetchSlices(e,r){const i=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:n,length:s})=>`${n}-${n+s}`).join(",")}`},signal:r});if(i.ok)if(i.status===206){const{type:n,params:s}=kwe(i.getHeader("content-type"));if(n==="multipart/byteranges"){const d=Awe(await i.getData(),s.boundary);return this._fileSize=d[0].fileSize||null,d}const o=await i.getData(),{start:a,end:l,total:u}=D2(i.getHeader("content-range"));this._fileSize=u||null;const h=[{data:o,offset:a,length:l-a}];if(e.length>1){const d=await Promise.all(e.slice(1).map(f=>this.fetchSlice(f,r)));return h.concat(d)}return h}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const n=await i.getData();return this._fileSize=n.byteLength,[{data:n,offset:0,length:n.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,r){const{offset:i,length:n}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${i}-${i+n}`},signal:r});if(s.ok)if(s.status===206){const o=await s.getData(),{total:a}=D2(s.getHeader("content-range"));return this._fileSize=a||null,{data:o,offset:i,length:n}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const o=await s.getData();return this._fileSize=o.byteLength,{data:o,offset:0,length:o.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function qS(t,{blockSize:e,cacheSize:r}){return e===null?t:new Iwe(t,{blockSize:e,cacheSize:r})}function zwe(t,{headers:e={},credentials:r,maxRanges:i=0,allowFullFile:n=!1,...s}={}){const o=new Pwe(t,r),a=new US(o,e,i,n);return qS(a,s)}function Uwe(t,{headers:e={},maxRanges:r=0,allowFullFile:i=!1,...n}={}){const s=new $we(t),o=new US(s,e,r,i);return qS(o,n)}function qwe(t,{headers:e={},maxRanges:r=0,allowFullFile:i=!1,...n}={}){const s=new jwe(t),o=new US(s,e,r,i);return qS(o,n)}function L2(t,{forceXHR:e=!1,...r}={}){return typeof fetch=="function"&&!e?zwe(t,r):typeof XMLHttpRequest<"u"?Uwe(t,r):qwe(t,r)}class Hwe extends BS{constructor(e){super(),this.file=e}async fetchSlice(e,r){return new Promise((i,n)=>{const s=this.file.slice(e.offset,e.offset+e.length),o=new FileReader;o.onload=a=>i(a.target.result),o.onerror=n,o.onabort=n,o.readAsArrayBuffer(s),r&&r.addEventListener("abort",()=>o.abort())})}}function Vwe(t){return new Hwe(t)}function O2(t){switch(t){case Wr.BYTE:case Wr.ASCII:case Wr.SBYTE:case Wr.UNDEFINED:return 1;case Wr.SHORT:case Wr.SSHORT:return 2;case Wr.LONG:case Wr.SLONG:case Wr.FLOAT:case Wr.IFD:return 4;case Wr.RATIONAL:case Wr.SRATIONAL:case Wr.DOUBLE:case Wr.LONG8:case Wr.SLONG8:case Wr.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${t}`)}}function Gwe(t){const e=t.GeoKeyDirectory;if(!e)return null;const r={};for(let i=4;i<=e[3]*4;i+=4){const n=rwe[e[i]],s=e[i+1]?Ug[e[i+1]]:null,o=e[i+2],a=e[i+3];let l=null;if(!s)l=a;else{if(l=t[s],typeof l>"u"||l===null)throw new Error(`Could not get value of geoKey '${n}'.`);typeof l=="string"?l=l.substring(a,a+o-1):l.subarray&&(l=l.subarray(a,a+o),o===1&&(l=l[0]))}r[n]=l}return r}function of(t,e,r,i){let n=null,s=null;const o=O2(e);switch(e){case Wr.BYTE:case Wr.ASCII:case Wr.UNDEFINED:n=new Uint8Array(r),s=t.readUint8;break;case Wr.SBYTE:n=new Int8Array(r),s=t.readInt8;break;case Wr.SHORT:n=new Uint16Array(r),s=t.readUint16;break;case Wr.SSHORT:n=new Int16Array(r),s=t.readInt16;break;case Wr.LONG:case Wr.IFD:n=new Uint32Array(r),s=t.readUint32;break;case Wr.SLONG:n=new Int32Array(r),s=t.readInt32;break;case Wr.LONG8:case Wr.IFD8:n=new Array(r),s=t.readUint64;break;case Wr.SLONG8:n=new Array(r),s=t.readInt64;break;case Wr.RATIONAL:n=new Uint32Array(r*2),s=t.readUint32;break;case Wr.SRATIONAL:n=new Int32Array(r*2),s=t.readInt32;break;case Wr.FLOAT:n=new Float32Array(r),s=t.readFloat32;break;case Wr.DOUBLE:n=new Float64Array(r),s=t.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===Wr.RATIONAL||e===Wr.SRATIONAL)for(let a=0;a<r;a+=2)n[a]=s.call(t,i+a*o),n[a+1]=s.call(t,i+(a*o+4));else for(let a=0;a<r;++a)n[a]=s.call(t,i+a*o);return e===Wr.ASCII?new TextDecoder("utf-8").decode(n):n}class Wwe{constructor(e,r,i){this.fileDirectory=e,this.geoKeyDirectory=r,this.nextIFDByteOffset=i}}class sb extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class doe{async readRasters(e={}){const{window:r,width:i,height:n}=e;let{resX:s,resY:o,bbox:a}=e;const l=await this.getImage();let u=l;const h=await this.getImageCount(),d=l.getBoundingBox();if(r&&a)throw new Error('Both "bbox" and "window" passed.');if(i||n){if(r){const[g,y]=l.getOrigin(),[b,x]=l.getResolution();a=[g+r[0]*b,y+r[1]*x,g+r[2]*b,y+r[3]*x]}const p=a||d;if(i){if(s)throw new Error("Both width and resX passed");s=(p[2]-p[0])/i}if(n){if(o)throw new Error("Both width and resY passed");o=(p[3]-p[1])/n}}if(s||o){const p=[];for(let g=0;g<h;++g){const y=await this.getImage(g),{SubfileType:b,NewSubfileType:x}=y.fileDirectory;(g===0||b===2||x&1)&&p.push(y)}p.sort((g,y)=>g.getWidth()-y.getWidth());for(let g=0;g<p.length;++g){const y=p[g],b=(d[2]-d[0])/y.getWidth(),x=(d[3]-d[1])/y.getHeight();if(u=y,s&&s>b||o&&o>x)break}}let f=r;if(a){const[p,g]=l.getOrigin(),[y,b]=u.getResolution(l);f=[Math.round((a[0]-p)/y),Math.round((a[1]-g)/b),Math.round((a[2]-p)/y),Math.round((a[3]-g)/b)],f=[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]}return u.readRasters({...e,window:f})}}class Jf extends doe{constructor(e,r,i,n,s={}){super(),this.source=e,this.littleEndian=r,this.bigTiff=i,this.firstIFDOffset=n,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,r){const i=this.bigTiff?4048:1024;return new wwe((await this.source.fetch([{offset:e,length:typeof r<"u"?r:i}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const r=this.bigTiff?20:12,i=this.bigTiff?8:2;let n=await this.getSlice(e);const s=this.bigTiff?n.readUint64(e):n.readUint16(e),o=s*r+(this.bigTiff?16:6);n.covers(e,o)||(n=await this.getSlice(e,o));const a={};let l=e+(this.bigTiff?8:2);for(let d=0;d<s;l+=r,++d){const f=n.readUint16(l),p=n.readUint16(l+2),g=this.bigTiff?n.readUint64(l+4):n.readUint32(l+4);let y,b;const x=O2(p),w=l+(this.bigTiff?12:8);if(x*g<=(this.bigTiff?8:4))y=of(n,p,g,w);else{const S=n.readOffset(w),C=O2(p)*g;if(n.covers(S,C))y=of(n,p,g,S);else{const k=await this.getSlice(S,C);y=of(k,p,g,S)}}g===1&&ewe.indexOf(f)===-1&&!(p===Wr.RATIONAL||p===Wr.SRATIONAL)?b=y[0]:b=y,a[Ug[f]]=b}const u=Gwe(a),h=n.readOffset(e+i+r*s);return new Wwe(a,u,h)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(r){throw r instanceof sb?new sb(e):r}return this.ifdRequests[e]=(async()=>{const r=await this.ifdRequests[e-1];if(r.nextIFDByteOffset===0)throw new sb(e);return this.parseFileDirectoryAt(r.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const r=await this.requestIFD(e);return new loe(r.fileDirectory,r.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,r=!0;for(;r;)try{await this.requestIFD(e),++e}catch(i){if(i instanceof sb)r=!1;else throw i}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const r="GDAL_STRUCTURAL_METADATA_SIZE=",i=r.length+100;let n=await this.getSlice(e,i);if(r===of(n,Wr.ASCII,r.length,e)){const o=of(n,Wr.ASCII,i,e).split(`
`)[0],a=Number(o.split("=")[1].split(" ")[0])+o.length;a>i&&(n=await this.getSlice(e,a));const l=of(n,Wr.ASCII,a,e);this.ghostValues={},l.split(`
`).filter(u=>u.length>0).map(u=>u.split("=")).forEach(([u,h])=>{this.ghostValues[u]=h})}return this.ghostValues}static async fromSource(e,r,i){const n=(await e.fetch([{offset:0,length:1024}],i))[0],s=new _we(n),o=s.getUint16(0,0);let a;if(o===18761)a=!0;else if(o===19789)a=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,a);let u;if(l===42)u=!1;else if(l===43){if(u=!0,s.getUint16(4,a)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const h=u?s.getUint64(8,a):s.getUint32(4,a);return new Jf(e,a,u,h,r)}close(){return typeof this.source.close=="function"?this.source.close():!1}}class Ywe extends doe{constructor(e,r){super(),this.mainFile=e,this.overviewFiles=r,this.imageFiles=[e].concat(r),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(r=>r.parseFileDirectoryAt(r.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let r=0,i=0;for(let n=0;n<this.imageFiles.length;n++){const s=this.imageFiles[n];for(let o=0;o<this.imageCounts[n];o++){if(e===r){const a=await s.requestIFD(i);return new loe(a.fileDirectory,a.geoKeyDirectory,s.dataView,s.littleEndian,s.cache,s.source)}r++,i++}i=0}throw new RangeError("Invalid image index")}async getImageCount(){if(this.imageCount!==null)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(r=>r.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((r,i)=>r+i,0),this.imageCount}}async function Zwe(t,e={},r){return Jf.fromSource(L2(t,e),r)}async function Xwe(t,e){return Jf.fromSource(Vwe(t),e)}async function Kwe(t,e=[],r={},i){const n=await Jf.fromSource(L2(t,r),i),s=await Promise.all(e.map(o=>Jf.fromSource(L2(o,r))));return new Ywe(n,s)}function Jwe(t){return((t.fileDirectory.NewSubfileType||0)&4)===4}function Qwe(t,e){if(!t)return!1;if(t===!0)return!0;if(e.getSamplesPerPixel()!==3)return!1;const r=e.fileDirectory.PhotometricInterpretation,i=Oo;return r===i.CMYK||r===i.YCbCr||r===i.CIELab||r===i.ICCLab}const DQ="STATISTICS_MAXIMUM",LQ="STATISTICS_MINIMUM",c_=256;let d_;function e2e(){return d_||(d_=new Swe),d_}function t2e(t){try{return t.getBoundingBox()}catch{return[0,0,t.getWidth(),t.getHeight()]}}function r2e(t){try{return t.getOrigin().slice(0,2)}catch{return[0,t.getHeight()]}}function i2e(t,e){try{return t.getResolution(e)}catch{return[e.getWidth()/t.getWidth(),e.getHeight()/t.getHeight()]}}function n2e(t){const e=t.geoKeys;if(!e)return null;if(e.ProjectedCSTypeGeoKey&&e.ProjectedCSTypeGeoKey!==32767){const r="EPSG:"+e.ProjectedCSTypeGeoKey;let i=Gi(r);if(!i){const n=IJ(e.ProjLinearUnitsGeoKey);n&&(i=new FJ({code:r,units:n}))}return i}if(e.GeographicTypeGeoKey&&e.GeographicTypeGeoKey!==32767){const r="EPSG:"+e.GeographicTypeGeoKey;let i=Gi(r);if(!i){const n=IJ(e.GeogAngularUnitsGeoKey);n&&(i=new FJ({code:r,units:n}))}return i}return null}function s2e(t){return t.getImageCount().then(function(e){const r=new Array(e);for(let i=0;i<e;++i)r[i]=t.getImage(i);return Promise.all(r)})}function o2e(t,e){let r;return t.blob?r=Xwe(t.blob):t.overviews?r=Kwe(t.url,t.overviews,e):r=Zwe(t.url,e),r.then(s2e)}function kg(t,e,r,i,n){if(Array.isArray(t)){const s=t.length;if(!Array.isArray(e)||s!=e.length){const o=new Error(i);throw n(o),o}for(let o=0;o<s;++o)kg(t[o],e[o],r,i,n);return}if(e=e,Math.abs(t-e)>r*t)throw new Error(i)}function a2e(t){return t instanceof Int8Array?-128:t instanceof Int16Array?-32768:t instanceof Int32Array?-2147483648:t instanceof Float32Array?12e-39:0}function l2e(t){return t instanceof Int8Array?127:t instanceof Uint8Array||t instanceof Uint8ClampedArray?255:t instanceof Int16Array?32767:t instanceof Uint16Array?65535:t instanceof Int32Array?2147483647:t instanceof Uint32Array?4294967295:t instanceof Float32Array?34e37:255}class HS extends ax{constructor(e){super({state:"loading",tileGrid:null,projection:e.projection||null,transition:e.transition,interpolate:e.interpolate!==!1,wrapX:e.wrapX}),this.sourceInfo_=e.sources;const r=this.sourceInfo_.length;this.sourceOptions_=e.sourceOptions,this.sourceImagery_=new Array(r),this.sourceMasks_=new Array(r),this.resolutionFactors_=new Array(r),this.samplesPerPixel_,this.nodataValues_,this.metadata_,this.normalize_=e.normalize!==!1,this.addAlpha_=!1,this.error_=null,this.convertToRGB_=e.convertToRGB||!1,this.setKey(this.sourceInfo_.map(s=>s.url).join(","));const i=this,n=new Array(r);for(let s=0;s<r;++s)n[s]=o2e(this.sourceInfo_[s],this.sourceOptions_);Promise.all(n).then(function(s){i.configure_(s)}).catch(function(s){a0(s),i.error_=s,i.setState("error")})}getError(){return this.error_}determineProjection(e){const r=e[0];for(let i=r.length-1;i>=0;--i){const n=r[i],s=n2e(n);if(s){this.projection=s;break}}}configure_(e){let r,i,n,s,o;const a=new Array(e.length),l=new Array(e.length),u=new Array(e.length);let h=0;const d=e.length;for(let y=0;y<d;++y){const b=[],x=[];e[y].forEach(A=>{Jwe(A)?x.push(A):b.push(A)});const w=b.length;if(x.length>0&&x.length!==w)throw new Error(`Expected one mask per image found ${x.length} masks and ${w} images`);let S,C;const k=new Array(w),O=new Array(w),M=new Array(w);l[y]=new Array(w),u[y]=new Array(w);for(let A=0;A<w;++A){const I=b[A],R=I.getGDALNoData();u[y][A]=I.getGDALMetadata(0),l[y][A]=R;const V=this.sourceInfo_[y].bands;a[y]=V?V.length:I.getSamplesPerPixel();const oe=w-(A+1);S||(S=t2e(I)),C||(C=r2e(I));const L=i2e(I,b[0]);M[oe]=L[0];const F=[I.getTileWidth(),I.getTileHeight()];F[0]!==F[1]&&F[1]<c_&&(F[0]=c_,F[1]=c_),k[oe]=F;const U=L[0]/Math.abs(L[1]);O[oe]=[F[0],F[1]/U]}if(r?Qd(r,S,r):r=S,!i)i=C;else{const A=`Origin mismatch for source ${y}, got [${C}] but expected [${i}]`;kg(i,C,0,A,this.viewRejector)}if(!o)o=M,this.resolutionFactors_[y]=1;else{o.length-h>M.length&&(h=o.length-M.length);const A=o[o.length-1]/M[M.length-1];this.resolutionFactors_[y]=A;const I=M.map(V=>V*=A),R=`Resolution mismatch for source ${y}, got [${I}] but expected [${o}]`;kg(o.slice(h,o.length),I,.02,R,this.viewRejector)}n?kg(n.slice(h,n.length),O,.01,`Tile size mismatch for source ${y}`,this.viewRejector):n=O,s?kg(s.slice(h,s.length),k,0,`Tile size mismatch for source ${y}`,this.viewRejector):s=k,this.sourceImagery_[y]=b.reverse(),this.sourceMasks_[y]=x.reverse()}for(let y=0,b=this.sourceImagery_.length;y<b;++y){const x=this.sourceImagery_[y];for(;x.length<o.length;)x.unshift(void 0)}this.getProjection()||this.determineProjection(e),this.samplesPerPixel_=a,this.nodataValues_=l,this.metadata_=u;e:for(let y=0;y<d;++y){if(this.sourceInfo_[y].nodata!==void 0){this.addAlpha_=!0;break}if(this.sourceMasks_[y].length){this.addAlpha_=!0;break}const b=l[y],x=this.sourceInfo_[y].bands;if(x){for(let w=0;w<x.length;++w)if(b[x[w]-1]!==null){this.addAlpha_=!0;break e}continue}for(let w=0;w<b.length;++w)if(b[w]!==null){this.addAlpha_=!0;break e}}let f=this.addAlpha_?1:0;for(let y=0;y<d;++y)f+=a[y];this.bandCount=f;const p=new K1({extent:r,minZoom:h,origin:i,resolutions:o,tileSizes:n});this.tileGrid=p,this.setTileSizes(s),this.setLoader(this.loadTile_.bind(this)),this.setState("ready");const g=1;o.length===2?o=[o[0],o[1],o[1]/2]:o.length===1&&(o=[o[0]*2,o[0],o[0]/2]),this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:o,center:N0e(vc(r),this.projection),extent:$0e(r,this.projection),zoom:g})}loadTile_(e,r,i,n){const s=this.getTileSize(e),o=this.sourceImagery_.length,a=new Array(o*2),l=this.nodataValues_,u=this.sourceInfo_,h=e2e();for(let d=0;d<o;++d){const f=u[d],p=this.resolutionFactors_[d],g=[Math.round(r*(s[0]*p)),Math.round(i*(s[1]*p)),Math.round((r+1)*(s[0]*p)),Math.round((i+1)*(s[1]*p))],y=this.sourceImagery_[d][e];let b;f.bands&&(b=f.bands.map(function(k){return k-1}));let x;"nodata"in f&&f.nodata!==null?x=f.nodata:b?x=b.map(function(k){return l[d][k]}):x=l[d];const w={window:g,width:s[0],height:s[1],samples:b,fillValue:x,pool:h,interleave:!1,signal:n.signal};Qwe(this.convertToRGB_,y)?a[d]=y.readRGB(w):a[d]=y.readRasters(w);const S=o+d,C=this.sourceMasks_[d][e];if(!C){a[S]=Promise.resolve(null);continue}a[S]=C.readRasters({window:g,width:s[0],height:s[1],samples:[0],pool:h,interleave:!1})}return Promise.all(a).then(this.composeTile_.bind(this,s)).catch(function(d){throw a0(d),d})}composeTile_(e,r){const i=this.metadata_,n=this.sourceInfo_,s=this.sourceImagery_.length,o=this.bandCount,a=this.samplesPerPixel_,l=this.nodataValues_,u=this.normalize_,h=this.addAlpha_,d=e[0]*e[1],f=d*o;let p;u?p=new Uint8Array(f):p=new Float32Array(f);let g=0;for(let y=0;y<d;++y){let b=h;for(let x=0;x<s;++x){const w=n[x];let S=w.min,C=w.max,k,O;if(u){const M=i[x][0];S===void 0&&(M&&LQ in M?S=parseFloat(M[LQ]):S=a2e(r[x][0])),C===void 0&&(M&&DQ in M?C=parseFloat(M[DQ]):C=l2e(r[x][0])),k=255/(C-S),O=-S*k}for(let M=0;M<a[x];++M){const A=r[x][M][y];let I;if(u?I=Pn(k*A+O,0,255):I=A,!h)p[g]=I;else{let R=w.nodata;if(R===void 0){let oe;w.bands?oe=w.bands[M]-1:oe=M,R=l[x][oe]}const V=isNaN(R);(!V&&A!==R||V&&!isNaN(A))&&(b=!1,p[g]=I)}g++}if(!b){const M=s+x,A=r[M];A&&!A[0][y]&&(b=!0)}}h&&(b||(p[g]=255),g++)}return p}}HS.prototype.getView;const u2e="https://tile.googleapis.com/v1/createSession",c2e="https://tile.googleapis.com/v1/2dtiles",d2e="https://tile.googleapis.com/tile/v1/viewport",h2e=22;class f2e extends wu{constructor(e){const r=!!e.highDpi;super({attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,projection:"EPSG:3857",reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.apiKey_=e.key,this.error_=null;const i={mapType:e.mapType||"roadmap",language:e.language||"en-US",region:e.region||"US"};e.imageFormat&&(i.imageFormat=e.imageFormat),e.scale&&(i.scale=e.scale),r&&(i.highDpi=!0),e.layerTypes&&(i.layerTypes=e.layerTypes),e.styles&&(i.styles=e.styles),e.overlay===!0&&(i.overlay=!0),e.apiOptions&&(i.apiOptions=e.apiOptions),this.sessionTokenRequest_=i,this.sessionTokenValue_,this.sessionRefreshId_,this.previousViewportAttribution_,this.previousViewportExtent_,this.createSession_()}getError(){return this.error_}fetchSessionToken(e,r){return fetch(e,r)}async createSession_(){const e=u2e+"?key="+this.apiKey_,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.sessionTokenRequest_)},i=await this.fetchSessionToken(e,r);if(!i.ok){try{const d=await i.json();this.error_=new Error(d.error.message)}catch{this.error_=new Error("Error fetching session token")}this.setState("error");return}const n=await i.json(),s=this.getTilePixelRatio(1),o=[n.tileWidth/s,n.tileHeight/s];this.tileGrid=W0({extent:G0(this.getProjection()),maxZoom:h2e,tileSize:o});const a=n.session;this.sessionTokenValue_=a;const l=this.apiKey_;this.tileUrlFunction=function(d,f,p){const g=d[0],y=d[1],b=d[2];return`${c2e}/${g}/${y}/${b}?session=${a}&key=${l}`};const u=parseInt(n.expiry,10)*1e3,h=Math.max(u-Date.now()-60*1e3,1);this.sessionRefreshId_=setTimeout(()=>this.createSession_(),h),this.setAttributions(this.fetchAttributions_.bind(this)),this.setState("ready")}async fetchAttributions_(e){if(e.viewHints[Xf.ANIMATING]||e.viewHints[Xf.INTERACTING]||e.animate)return this.previousViewportAttribution_;const[r,i]=PJ(B0e(e.extent),e.viewState.projection),[n,s]=PJ(j0e(e.extent),e.viewState.projection),l=`zoom=${this.getTileGrid().getZForResolution(e.viewState.resolution,this.zDirection)}&north=${s}&south=${i}&east=${n}&west=${r}`;if(this.previousViewportExtent_==l)return this.previousViewportAttribution_;this.previousViewportExtent_=l;const u=this.sessionTokenValue_,h=this.apiKey_,d=`${d2e}?session=${u}&key=${h}&${l}`;return this.previousViewportAttribution_=await fetch(d).then(f=>f.json()).then(f=>f.copyright),this.previousViewportAttribution_}disposeInternal(){clearTimeout(this.sessionRefreshId_),super.disposeInternal()}}const p2e=f2e;let hoe=class extends JE{constructor(e,r,i,n,s,o,a){super(r,i,n,s,o,a),this.zoomifyImage_=null,this.tileSize_=e}getImage(){if(this.zoomifyImage_)return this.zoomifyImage_;const e=super.getImage();if(this.state==Bn.LOADED){const r=this.tileSize_;if(e.width==r[0]&&e.height==r[1])return this.zoomifyImage_=e,e;const i=eh(r[0],r[1]);return i.drawImage(e,0,0),this.zoomifyImage_=i.canvas,i.canvas}return e}};class m2e extends wu{constructor(e){const r=e.size,i=e.tierSizeCalculation!==void 0?e.tierSizeCalculation:"default",n=e.tilePixelRatio||1,s=r[0],o=r[1],a=[],l=e.tileSize||w2;let u=l*n;switch(i){case"default":for(;s>u||o>u;)a.push([Math.ceil(s/u),Math.ceil(o/u)]),u+=u;break;case"truncated":let O=s,M=o;for(;O>u||M>u;)a.push([Math.ceil(O/u),Math.ceil(M/u)]),O>>=1,M>>=1;break;default:throw new Error("Unknown `tierSizeCalculation` configured")}a.push([1,1]),a.reverse();const h=[n],d=[0];for(let O=1,M=a.length;O<M;O++)h.push(n<<O),d.push(a[O-1][0]*a[O-1][1]+d[O-1]);h.reverse();const f=new K1({tileSize:l,extent:e.extent||[0,-o,s,0],resolutions:h});let p=e.url;p&&!p.includes("{TileGroup}")&&!p.includes("{tileIndex}")&&(p+="{TileGroup}/{z}-{x}-{y}.jpg");const g=Qne(p);let y=l*n;function b(O){return function(M,A,I){if(!M)return;const R=M[0],V=M[1],oe=M[2],L=V+oe*a[R][0],F=(L+d[R])/y|0,U={z:R,x:V,y:oe,tileIndex:L,TileGroup:"TileGroup"+F};return O.replace(/\{(\w+?)\}/g,function(Y,G){return U[G]})}}const x=rS(g.map(b)),w=hoe.bind(null,Ya(l*n));super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,tilePixelRatio:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:w,tileGrid:f,tileUrlFunction:x,transition:e.transition}),this.zDirection=e.zDirection;const S=f.getTileCoordForCoordAndResolution(vc(f.getExtent()),h[h.length-1]),C=x(S,1,null),k=new Image;k.addEventListener("error",()=>{y=l,this.changed()}),k.src=C}}const g2e=m2e;function mg(t){return t.toLocaleString("en",{maximumFractionDigits:10})}class y2e extends wu{constructor(e){const r=e||{};let i=r.url||"";i=i+(i.lastIndexOf("/")===i.length-1||i===""?"":"/");const n=r.version||us.VERSION2,s=r.sizes||[],o=r.size;Dl(o!=null&&Array.isArray(o)&&o.length==2&&!isNaN(o[0])&&o[0]>0&&!isNaN(o[1])&&o[1]>0,"Missing or invalid `size`");const a=o[0],l=o[1],u=r.tileSize,h=r.tilePixelRatio||1,d=r.format||"jpg",f=r.quality||(r.version==us.VERSION1?"native":"default");let p=r.resolutions||[];const g=r.supports||[],y=r.extent||[0,-l,a,0],b=s!=null&&Array.isArray(s)&&s.length>0,x=u!==void 0&&(typeof u=="number"&&Number.isInteger(u)&&u>0||Array.isArray(u)&&u.length>0),w=g!=null&&Array.isArray(g)&&(g.includes("regionByPx")||g.includes("regionByPct"))&&(g.includes("sizeByWh")||g.includes("sizeByH")||g.includes("sizeByW")||g.includes("sizeByPct"));let S,C,k;if(p.sort(function(I,R){return R-I}),x||w)if(u!=null&&(typeof u=="number"&&Number.isInteger(u)&&u>0?(S=u,C=u):Array.isArray(u)&&u.length>0&&((u.length==1||u[1]==null&&Number.isInteger(u[0]))&&(S=u[0],C=u[0]),u.length==2&&(Number.isInteger(u[0])&&Number.isInteger(u[1])?(S=u[0],C=u[1]):u[0]==null&&Number.isInteger(u[1])&&(S=u[1],C=u[1])))),(S===void 0||C===void 0)&&(S=w2,C=w2),p.length==0){k=Math.max(Math.ceil(Math.log(a/S)/Math.LN2),Math.ceil(Math.log(l/C)/Math.LN2));for(let I=k;I>=0;I--)p.push(Math.pow(2,I))}else{const I=Math.max(...p);k=Math.round(Math.log(I)/Math.LN2)}else if(S=a,C=l,p=[],b){s.sort(function(R,V){return R[0]-V[0]}),k=-1;const I=[];for(let R=0;R<s.length;R++){const V=a/s[R][0];if(p.length>0&&p[p.length-1]==V){I.push(R);continue}p.push(V),k++}if(I.length>0)for(let R=0;R<I.length;R++)s.splice(I[R]-R,1)}else p.push(1),s.push([a,l]),k=0;const O=new K1({tileSize:[S,C],extent:y,origin:z0e(y),resolutions:p}),M=function(I,R,V){let oe,L;const F=I[0];if(F>k)return;const U=I[1],Y=I[2],G=p[F];if(!(U===void 0||Y===void 0||G===void 0||U<0||Math.ceil(a/G/S)<=U||Y<0||Math.ceil(l/G/C)<=Y)){if(w||x){const Q=U*S*G,J=Y*C*G;let re=S*G,pe=C*G,ee=S,B=C;if(Q+re>a&&(re=a-Q),J+pe>l&&(pe=l-J),Q+S*G>a&&(ee=Math.floor((a-Q+G-1)/G)),J+C*G>l&&(B=Math.floor((l-J+G-1)/G)),Q==0&&re==a&&J==0&&pe==l)oe="full";else if(!w||g.includes("regionByPx"))oe=Q+","+J+","+re+","+pe;else if(g.includes("regionByPct")){const ge=mg(Q/a*100),ve=mg(J/l*100),ze=mg(re/a*100),it=mg(pe/l*100);oe="pct:"+ge+","+ve+","+ze+","+it}n==us.VERSION3&&(!w||g.includes("sizeByWh"))?L=ee+","+B:!w||g.includes("sizeByW")?L=ee+",":g.includes("sizeByH")?L=","+B:g.includes("sizeByWh")?L=ee+","+B:g.includes("sizeByPct")&&(L="pct:"+mg(100/G))}else if(oe="full",b){const Q=s[F][0],J=s[F][1];n==us.VERSION3?Q==a&&J==l?L="max":L=Q+","+J:Q==a?L="full":L=Q+","}else L=n==us.VERSION3?"max":"full";return i+oe+"/"+L+"/0/"+f+"."+d}},A=hoe.bind(null,Ya(u||256).map(function(I){return I*h}));super({attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:r.interpolate,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,state:r.state,tileClass:A,tileGrid:O,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:M,transition:r.transition}),this.zDirection=r.zDirection}}const b2e=y2e;function foe(t,e,r,i,n,s){const o=n.getCode().split(/:(?=\d+$)/).pop(),a=r/i,l=[NJ(Ko(e)/a,$J),NJ(Dc(e)/a,$J)];s.SIZE=l[0]+","+l[1],s.BBOX=e.join(","),s.BBOXSR=o,s.IMAGESR=o,s.DPI=Math.round(s.DPI?s.DPI*i:90*i);const u=t.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Ev(u,s)}function poe(t){const e=t.load?t.load:gp,r=Gi(t.projection||"EPSG:3857"),i=t.ratio??1.5,n=t.crossOrigin??null;return function(s,o,a){a=t.hidpi?a:1;const l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(l,t.params),s=ese(s,o,a,i);const u=foe(t.url,s,o,a,r,l),h=new Image;return h.crossOrigin=n,e(h,u).then(d=>{const f=Ko(s)/d.width*a;return{image:d,extent:s,resolution:f,pixelRatio:a}})}}class v2e extends fh{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:nS,this.params_=Object.assign({},e.params),this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getParams(){return this.params_}getImageInternal(e,r,i,n){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==n)&&(this.loaderProjection_=n,this.loader=poe({crossOrigin:this.crossOrigin_,params:this.params_,projection:n,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(s,o)=>(this.image.setImage(s),this.imageLoadFunction_(this.image,o),gp(s))})),super.getImageInternal(e,r,i,n))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const x2e=v2e;class _2e extends fh{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5}getImageInternal(e,r,i,n){r=this.findNearestResolution(r);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==r&&s.getPixelRatio()==i&&pv(s.getExtent(),e))return s;e=e.slice(),Xne(e,this.ratio_);const o=Ko(e)/r,a=Dc(e)/r,l=[o*i,a*i],u=this.canvasFunction_.call(this,e,r,i,l,n);return u&&(s=new oS(e,r,i,u)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s}}const w2e=_2e;function E2e(t,e,r,i){const n=Ko(t),s=Dc(t),o=e[0],a=e[1],l=.0254/i;return a*n>o*s?n*r/(o*l):s*r/(a*l)}function S2e(t,e,r,i,n,s,o){const a=E2e(r,i,s,o),l=vc(r),u={OPERATION:n?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:o,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:a,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};return Object.assign(u,e),Ev(t,u)}function moe(t){const e=t.load||gp,r=t.useOverlay??!1,i=t.metersPerUnit||1,n=t.displayDpi||96,s=t.ratio??1,o=t.crossOrigin??null;return function(a,l,u){const h=new Image;h.crossOrigin=o,a=ese(a,l,u,s);const d=Ko(a)/l,f=Dc(a)/l,p=[d*u,f*u],g=S2e(t.url,t.params,a,p,r,i,n);return e(h,g).then(y=>({image:y,extent:a,pixelRatio:u}))}}class C2e extends fh{constructor(e){super({interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.displayDpi_=e.displayDpi!==void 0?e.displayDpi:96,this.params_=Object.assign({},e.params),this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:nS,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.metersPerUnit_=e.metersPerUnit!==void 0?e.metersPerUnit:1,this.ratio_=e.ratio!==void 0?e.ratio:1,this.useOverlay_=e.useOverlay!==void 0?e.useOverlay:!1,this.renderedRevision_=0,this.loaderProjection_=null}getParams(){return this.params_}getImageInternal(e,r,i,n){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==n)&&(this.loaderProjection_=n,this.loader=moe({crossOrigin:this.crossOrigin_,params:this.params_,hidpi:this.hidpi_,metersPerUnit:this.metersPerUnit_,url:this.url_,useOverlay:this.useOverlay_,ratio:this.ratio_,load:(s,o)=>(this.image.setImage(s),this.imageLoadFunction_(this.image,o),gp(s))})),super.getImageInternal(e,r,i,n))}getImageLoadFunction(){return this.imageLoadFunction_}updateParams(e){Object.assign(this.params_,e),this.changed()}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}changed(){this.image=null,super.changed()}}const k2e=C2e;function goe(t){const e=t.load||gp,r=t.imageExtent,i=t.crossOrigin??null;return()=>{const n=new Image;return n.crossOrigin=i,e(n,t.url).then(s=>{const o=Ko(r)/s.width,a=Dc(r)/s.height;return{image:s,extent:r,resolution:o!==a?[o,a]:a,pixelRatio:1}})}}class yoe extends fh{constructor(e){const r=e.crossOrigin!==void 0?e.crossOrigin:null,i=e.imageLoadFunction!==void 0?e.imageLoadFunction:nS;super({attributions:e.attributions,interpolate:e.interpolate,projection:Gi(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new Pne(this.imageExtent_,void 0,1,goe({url:e.url,imageExtent:e.imageExtent,crossOrigin:r,load:(n,s)=>(this.image.setImage(n),i(this.image,s),gp(n))})),this.image.addEventListener(va.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,r,i,n){return Zf(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}const A2e=new Error("Image failed to load");function boe(t,e,r,i,n){return new Promise((s,o)=>{const a=new Image;a.crossOrigin=n.crossOrigin??null,a.addEventListener("load",()=>s(a)),a.addEventListener("error",()=>o(A2e)),a.src=q0e(t,e,r,i,n.maxY)})}function OQ(t){return function(e,r,i,n){const s=U0e(t,e,r,i);return boe(s,e,r,i,n)}}function T2e(t){return function(e,r,i,n){const s=t(e,r,i,n);return boe(s,e,r,i,n)}}function MQ(t){let e;if(Array.isArray(t))e=OQ(t);else if(typeof t=="string"){const r=Qne(t);e=OQ(r)}else if(typeof t=="function")e=T2e(t);else throw new Error("The url option must be a single template, an array of templates, or a function for getting a URL");return e}let RQ=0;function IQ(t){return Array.isArray(t)?t.join(`
`):typeof t=="string"?t:(++RQ,"url-function-key-"+RQ)}class D2e extends ax{constructor(e){e=e||{};let r=e.loader,i;e.url&&(r=MQ(e.url),i=IQ(e.url));const n=r?e.state:"loading",s=e.wrapX===void 0?!0:e.wrapX;super({loader:r,key:i,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize,gutter:e.gutter,maxResolution:e.maxResolution,projection:e.projection,tileGrid:e.tileGrid,state:n,wrapX:s,transition:e.transition,interpolate:e.interpolate!==!1,crossOrigin:e.crossOrigin})}setUrl(e){const r=MQ(e);this.setLoader(r),this.setKey(IQ(e)),this.getState()!=="ready"&&this.setState("ready")}}const L2e=D2e;function VS(t,e,r,i){const n=document.createElement("script"),s="olc_"+hs(e);function o(){delete window[s],n.parentNode.removeChild(n)}n.async=!0,n.src=t+(t.includes("?")?"&":"?")+"callback="+s;const a=setTimeout(function(){o(),r&&r()},1e4);window[s]=function(l){clearTimeout(a),o(),e(l)},document.head.appendChild(n)}class O2e extends Error{constructor(e){const r="Unexpected response status: "+e.status;super(r),this.name="ResponseError",this.response=e}}class M2e extends Error{constructor(e){super("Failed to issue request"),this.name="ClientError",this.client=e}}function voe(t){return new Promise(function(e,r){function i(o){const a=o.target;if(!a.status||a.status>=200&&a.status<300){let l;try{l=JSON.parse(a.responseText)}catch(u){const h="Error parsing response text as JSON: "+u.message;r(new Error(h));return}e(l);return}r(new O2e(a))}function n(o){r(new M2e(o.target))}const s=new XMLHttpRequest;s.addEventListener("load",i),s.addEventListener("error",n),s.open("GET",t),s.setRequestHeader("Accept","application/json"),s.send()})}function xoe(t,e){return e.includes("://")?e:new URL(e,t).href}const R2e={"image/png":!0,"image/jpeg":!0,"image/gif":!0,"image/webp":!0},I2e={"application/vnd.mapbox-vector-tile":!0,"application/geo+json":!0};function _oe(t,e){if(!e.length)return t;const r=new URL(t,"file:/");if(r.pathname.split("/").includes("collections"))return a0('The "collections" query parameter cannot be added to collection endpoints'),t;const i=e.map(o=>encodeURIComponent(o)).join(",");r.searchParams.append("collections",i);const n=t.split("?")[0],s=decodeURIComponent(r.searchParams.toString());return`${n}?${s}`}function F2e(t,e,r){let i,n;for(let s=0;s<t.length;++s){const o=t[s];if(o.rel==="item"){if(o.type===e){i=o.href;break}(R2e[o.type]||!n&&o.type.startsWith("image/"))&&(n=o.href)}}if(!i)if(n)i=n;else throw new Error('Could not find "item" link');return r&&(i=_oe(i,r)),i}function P2e(t,e,r,i){let n,s;const o={};for(let a=0;a<t.length;++a){const l=t[a];if(o[l.type]=l.href,l.rel==="item"){if(l.type===e){n=l.href;break}I2e[l.type]&&(s=l.href)}}if(!n&&r)for(let a=0;a<r.length;++a){const l=r[a];if(o[l]){n=o[l];break}}if(!n)if(s)n=s;else throw new Error('Could not find "item" link');return i&&(n=_oe(n,i)),n}function FQ(t,e,r,i){let n=t.projection;if(!n&&(n=Gi(e.crs),!n))throw new Error(`Unsupported CRS: ${e.crs}`);const s=e.orderedAxes,a=!(s?s.slice(0,2).map(O=>O.replace(/E|X|Lon/i,"e").replace(/N|Y|Lat/i,"n")).join(""):n.getAxisOrientation()).startsWith("en"),l=e.tileMatrices,u={};for(let O=0;O<l.length;++O){const M=l[O];u[M.id]=M}const h={},d=[];if(i)for(let O=0;O<i.length;++O){const M=i[O],A=M.tileMatrix;d.push(A),h[A]=M}else for(let O=0;O<l.length;++O){const M=l[O].id;d.push(M)}const f=d.length,p=new Array(f),g=new Array(f),y=new Array(f),b=new Array(f),x=[-1/0,-1/0,1/0,1/0];for(let O=0;O<f;++O){const M=d[O],A=u[M],I=A.pointOfOrigin;a?p[O]=[I[1],I[0]]:p[O]=I,g[O]=A.cellSize,y[O]=[A.matrixWidth,A.matrixHeight],b[O]=[A.tileWidth,A.tileHeight];const R=h[M];if(R){const V=A.cellSize*A.tileWidth,oe=p[O][0]+R.minTileCol*V,L=p[O][0]+(R.maxTileCol+1)*V,F=A.cellSize*A.tileHeight,U=A.cornerOfOrigin==="bottomLeft";let Y,G;U?(Y=p[O][1]+R.minTileRow*F,G=p[O][1]+(R.maxTileRow+1)*F):(Y=p[O][1]-(R.maxTileRow+1)*F,G=p[O][1]-R.minTileRow*F),Qd(x,[oe,Y,L,G],x)}}const w=new K1({origins:p,resolutions:g,sizes:y,tileSizes:b,extent:i?x:void 0}),S=t.context,C=t.url;function k(O,M,A){if(!O)return;const I=d[O[0]],R=u[I],V=R.cornerOfOrigin==="bottomLeft",oe={tileMatrix:I,tileCol:O[1],tileRow:V?-O[2]-1:O[2]};if(i){const F=h[R.id];if(oe.tileCol<F.minTileCol||oe.tileCol>F.maxTileCol||oe.tileRow<F.minTileRow||oe.tileRow>F.maxTileRow)return}Object.assign(oe,S);const L=r.replace(/\{(\w+?)\}/g,function(F,U){return oe[U]});return xoe(C,L)}return{grid:w,urlTemplate:r,urlFunction:k}}function N2e(t,e){const r=e.tileMatrixSetLimits;let i;if(e.dataType==="map")i=F2e(e.links,t.mediaType,t.collections);else if(e.dataType==="vector")i=P2e(e.links,t.mediaType,t.supportedMediaTypes,t.collections);else throw new Error('Expected tileset data type to be "map" or "vector"');if(e.tileMatrixSet)return FQ(t,e.tileMatrixSet,i,r);const n=e.links.find(a=>a.rel==="http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme");if(!n)throw new Error("Expected http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme link or tileMatrixSet");const s=n.href,o=xoe(t.url,s);return voe(o).then(function(a){return FQ(t,a,i,r)})}function woe(t){return voe(t.url).then(function(e){return N2e(t,e)})}class $2e extends wu{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition});const r={url:e.url,projection:this.getProjection(),mediaType:e.mediaType,context:e.context||null,collections:e.collections};woe(r).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this))}handleTileSetInfo_(e){this.tileGrid=e.grid,this.setTileUrlFunction(e.urlFunction,e.urlTemplate),this.setState("ready")}handleError_(e){a0(e),this.setState("error")}}const B2e=$2e;class j2e extends J1{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,format:e.format,overlaps:e.overlaps,projection:e.projection,tileClass:e.tileClass,transition:e.transition,wrapX:e.wrapX,zDirection:e.zDirection,state:"loading"});const r={url:e.url,projection:this.getProjection(),mediaType:e.mediaType,supportedMediaTypes:e.format.supportedMediaTypes,context:e.context||null,collections:e.collections};woe(r).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this))}handleTileSetInfo_(e){this.tileGrid=e.grid,this.setTileUrlFunction(e.urlFunction,e.urlTemplate),this.setState("ready")}handleError_(e){a0(e),this.setState("error")}}const z2e=j2e;function Eoe(t){return function(e){const r=e.buffers,i=e.meta,n=e.imageOps,s=e.width,o=e.height,a=r.length,l=r[0].byteLength;if(n){const f=new Array(a);for(let g=0;g<a;++g)f[g]=new ImageData(new Uint8ClampedArray(r[g]),s,o);return t(f,i).data.buffer}const u=new Uint8ClampedArray(l),h=new Array(a),d=new Array(a);for(let f=0;f<a;++f)h[f]=new Uint8ClampedArray(r[f]),d[f]=[0,0,0,0];for(let f=0;f<l;f+=4){for(let g=0;g<a;++g){const y=h[g];d[g][0]=y[f],d[g][1]=y[f+1],d[g][2]=y[f+2],d[g][3]=y[f+3]}const p=t(d,i);u[f]=p[0],u[f+1]=p[1],u[f+2]=p[2],u[f+3]=p[3]}return u.buffer}}function U2e(t,e){const i=Object.keys(t.lib||{}).map(function(s){return"const "+s+" = "+t.lib[s].toString()+";"}).concat(["const __minion__ = ("+Eoe.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(i.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(i,{type:"text/javascript"})));return n.addEventListener("message",e),n}function q2e(t,e){const r=Eoe(t.operation);let i=!1;return{postMessage:function(n){setTimeout(function(){i||e({data:{buffer:r(n),meta:n.meta}})},0)},terminate:function(){i=!0}}}class H2e extends qne{constructor(e){super(),this.imageOps_=!!e.imageOps;let r;e.threads===0?r=0:this.imageOps_?r=1:r=e.threads||1;const i=new Array(r);if(r)for(let n=0;n<r;++n)i[n]=U2e(e,this.onWorkerMessage_.bind(this,n));else i[0]=q2e(e,this.onWorkerMessage_.bind(this,0));this.workers_=i,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,r,i){this.enqueue_({inputs:e,meta:r,callback:i}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const r=e.inputs[0].width,i=e.inputs[0].height,n=e.inputs.map(function(l){return l.data.buffer}),s=this.workers_.length;if(this.running_=s,s===1){this.workers_[0].postMessage({buffers:n,meta:e.meta,imageOps:this.imageOps_,width:r,height:i},n);return}const o=e.inputs[0].data.length,a=4*Math.ceil(o/4/s);for(let l=0;l<s;++l){const u=l*a,h=[];for(let d=0,f=n.length;d<f;++d)h.push(n[d].slice(u,u+a));this.workers_[l].postMessage({buffers:h,meta:e.meta,imageOps:this.imageOps_,width:r,height:i},h)}}onWorkerMessage_(e,r){this.disposed||(this.dataLookup_[e]=r.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,r=this.workers_.length;let i,n;if(r===1)i=new Uint8ClampedArray(this.dataLookup_[0].buffer),n=this.dataLookup_[0].meta;else{const s=e.inputs[0].data.length;i=new Uint8ClampedArray(s),n=new Array(r);const o=4*Math.ceil(s/4/r);for(let a=0;a<r;++a){const l=this.dataLookup_[a].buffer,u=a*o;i.set(new Uint8ClampedArray(l),u),n[a]=this.dataLookup_[a].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(i,e.inputs[0].width,e.inputs[0].height),n),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const PQ={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class NQ extends tse{constructor(e,r,i){super(e),this.extent=r.extent,this.resolution=r.viewState.resolution/r.pixelRatio,this.data=i}}class Soe extends fh{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=W2e(e.sources);const r=this.changed.bind(this);for(let i=0,n=this.layers_.length;i<n;++i)this.layers_[i].addEventListener(va.CHANGE,r);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new H0e(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Va(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:G2e(this.layers_),pixelRatio:1,pixelToCoordinateTransform:Va(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:hs(this),renderTargets:{}},this.setAttributions(function(i){var s;const n=[];for(let o=0,a=e.sources.length;o<a;++o){const l=e.sources[o],u=l instanceof sS?l:l.getSource();if(!u)continue;const h=(s=u.getAttributions())==null?void 0:s(i);typeof h=="string"?n.push(h):h!==void 0&&n.push(...h)}return n}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,r){this.processor_&&this.processor_.dispose(),this.processor_=new H2e({operation:e,imageOps:this.operationType_==="image",queue:1,lib:r,threads:this.threads_}),this.changed()}updateFrameState_(e,r,i){const n=Object.assign({},this.frameState_);n.viewState=Object.assign({},n.viewState);const s=vc(e);n.size[0]=Math.ceil(Ko(e)/r),n.size[1]=Math.ceil(Dc(e)/r),n.extent=[s[0]-n.size[0]*r/2,s[1]-n.size[1]*r/2,s[0]+n.size[0]*r/2,s[1]+n.size[1]*r/2],n.time=Date.now();const o=n.viewState;return o.center=s,o.projection=i,o.resolution=r,n}allSourcesReady_(){let e=!0,r;for(let i=0,n=this.layers_.length;i<n;++i)if(r=this.layers_[i].getSource(),!r||r.getState()!=="ready"){e=!1;break}return e}getImage(e,r,i,n){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),r=this.findNearestResolution(r);const s=this.updateFrameState_(e,r,n);if(this.requestedFrameState_=s,this.renderedImageCanvas_){const o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();(r!==o||!fv(s.extent,a))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),s.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,r=this.layers_.length,i=new Array(r);for(let s=0;s<r;++s){e.layerIndex=s,e.renderTargets={};const o=V2e(this.layers_[s],e);if(o)i[s]=o;else return}const n={};this.dispatchEvent(new NQ(PQ.BEFOREOPERATIONS,e,n)),this.processor_.process(i,n,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,r,i,n){if(r||!i)return;const s=e.extent,o=e.viewState.resolution;if(o!==this.requestedFrameState_.viewState.resolution||!fv(s,this.requestedFrameState_.extent))return;let a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{const l=Math.round(Ko(s)/o),u=Math.round(Dc(s)/o);a=eh(l,u),this.renderedImageCanvas_=new oS(s,o,1,a.canvas)}a.putImageData(i,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new NQ(PQ.AFTEROPERATIONS,e,n))}getResolutions(e){if(!this.useResolutions_)return null;let r=super.getResolutions();if(!r)for(let i=0,n=this.layers_.length;i<n&&(r=this.layers_[i].getSource().getResolutions(e),!r);++i);return r}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}Soe.prototype.dispose;let _d=null;function V2e(t,e){const r=t.getRenderer();if(!r)throw new Error("Unsupported layer type: "+t);if(!r.prepareFrame(e))return null;const i=e.size[0],n=e.size[1];if(i===0||n===0)return null;const s=r.renderFrame(e,null);let o;if(s instanceof HTMLCanvasElement)o=s;else{if(s&&(o=s.firstElementChild),!(o instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+o);if(o.width===i&&o.height===n)return o.getContext("2d").getImageData(0,0,i,n)}if(!_d)_d=eh(i,n,void 0,{willReadFrequently:!0});else{const a=_d.canvas;a.width!==i||a.height!==n?_d=eh(i,n,void 0,{willReadFrequently:!0}):_d.clearRect(0,0,i,n)}return _d.drawImage(o,0,0,i,n),_d.getImageData(0,0,i,n)}function G2e(t){return t.map(function(e){return e.getLayerState()})}function W2e(t){const e=t.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=Y2e(t[i]);return r}function Y2e(t){let e;return t instanceof sS?t instanceof X1?e=new wv({source:t}):t instanceof fh&&(e=new tS({source:t})):e=t,e}const Z2e=Soe,X2e='&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>',K2e='&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',J2e='&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>',Q2e={stamen_terrain:{extension:"png"},stamen_terrain_background:{extension:"png"},stamen_terrain_labels:{extension:"png"},stamen_terrain_lines:{extension:"png"},stamen_toner_background:{extension:"png"},stamen_toner:{extension:"png"},stamen_toner_labels:{extension:"png"},stamen_toner_lines:{extension:"png"},stamen_toner_lite:{extension:"png"},stamen_watercolor:{extension:"jpg"},alidade_smooth:{extension:"png"},alidade_smooth_dark:{extension:"png"},alidade_satellite:{extension:"png"},outdoors:{extension:"png"},osm_bright:{extension:"png"}},eEe={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class tEe extends Kf{constructor(e){const r=e.layer.indexOf("-"),i=r==-1?e.layer:e.layer.slice(0,r),n=eEe[i]||{minZoom:0,maxZoom:20,retina:!0},s=Q2e[e.layer],o=e.apiKey?"?api_key="+e.apiKey:"",a=n.retina&&e.retina?"@2x":"",l=e.url!==void 0?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+a+"."+s.extension+o,u=[X2e,K2e,V0e];e.layer.startsWith("stamen_")&&u.splice(1,0,J2e),super({attributions:u,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:n.maxZoom,minZoom:e.minZoom!==void 0?e.minZoom:n.minZoom,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:l,tilePixelRatio:a?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}}const rEe=tEe;class iEe extends wu{constructor(e){e=e||{},super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.params_=Object.assign({},e.params),this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=XE(),this.setKey(this.getKeyForParams_())}getKeyForParams_(){let e=0;const r=[];for(const i in this.params_)r[e++]=i+"-"+this.params_[i];return r.join("/")}getParams(){return this.params_}getRequestUrl_(e,r,i,n,s,o){const a=this.urls;if(!a)return;let l;if(a.length==1)l=a[0];else{const u=G0e(W0e(e),a.length);l=a[u]}return foe(l,i,(this.tileGrid||this.getTileGridForProjection(s)).getResolution(e[0]),n,s,o)}getTilePixelRatio(e){return this.hidpi_?e:1}updateParams(e){Object.assign(this.params_,e),this.setKey(this.getKeyForParams_())}tileUrlFunction(e,r,i){let n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),n.getResolutions().length<=e[0])return;r!=1&&!this.hidpi_&&(r=1);const s=n.getTileCoordExtent(e,this.tmpExtent_);let o=Ya(n.getTileSize(e[0]),this.tmpSize);r!=1&&(o=Y0e(o,r,this.tmpSize));const a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object.assign(a,this.params_),this.getRequestUrl_(e,o,s,r,i,a)}}const nEe=iEe;class sEe extends Kf{constructor(e){e=e||{},super({projection:e.projection,tileGrid:e.tileGrid,wrapX:e.wrapX!==void 0?e.wrapX:!0,zDirection:e.zDirection,url:e.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(r,i)=>{const n=r.getTileCoord()[0],s=Ya(this.tileGrid.getTileSize(n)),o=eh(s[0],s[1]);o.strokeStyle="grey",o.strokeRect(.5,.5,s[0]+.5,s[1]+.5),o.fillStyle="grey",o.strokeStyle="white",o.textAlign="center",o.textBaseline="middle",o.font="24px sans-serif",o.lineWidth=4,o.strokeText(i,s[0]/2,s[1]/2,s[0]),o.fillText(i,s[0]/2,s[1]/2,s[0]),r.setImage(o.canvas)}})}}const oEe=sEe;class Coe extends wu{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:Gi("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)VS(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const r=new XMLHttpRequest;r.addEventListener("load",this.onXHRLoad_.bind(this)),r.addEventListener("error",this.onXHRError_.bind(this)),r.open("GET",e.url),r.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const r=e.target;if(!r.status||r.status>=200&&r.status<300){let i;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const r=Gi("EPSG:4326"),i=this.getProjection();let n;if(e.bounds!==void 0){const u=iS(r,i);n=i0(e.bounds,u)}const s=G0(i),o=e.minzoom||0,a=e.maxzoom||22,l=W0({extent:s,maxZoom:a,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=rse(e.tiles,l),e.attribution&&!this.getAttributions()){const u=n!==void 0?n:s;this.setAttributions(function(h){return Zf(u,h.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class aEe extends X0e{constructor(e,r,i,n,s,o){super(e,r),this.src_=i,this.extent_=n,this.preemptive_=s,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=o}getImage(){return null}getData(e){if(!this.grid_||!this.keys_)return null;const r=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),i=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-i)*this.grid_.length)];if(typeof n!="string")return null;let s=n.charCodeAt(Math.floor(r*n.length));s>=93&&s--,s>=35&&s--,s-=32;let o=null;if(s in this.keys_){const a=this.keys_[s];this.data_&&a in this.data_?o=this.data_[a]:o=a}return o}forDataAtCoordinate(e,r,i){this.state==Bn.EMPTY&&i===!0?(this.state=Bn.IDLE,K0e(this,va.CHANGE,n=>{r(this.getData(e))}),this.loadInternal_()):i===!0?setTimeout(()=>{r(this.getData(e))},0):r(this.getData(e))}getKey(){return this.src_}handleError_(){this.state=Bn.ERROR,this.changed()}handleLoad_(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=Bn.LOADED,this.changed()}loadInternal_(){if(this.state==Bn.IDLE)if(this.state=Bn.LOADING,this.jsonp_)VS(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{const e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}}onXHRLoad_(e){const r=e.target;if(!r.status||r.status>=200&&r.status<300){let i;try{i=JSON.parse(r.responseText)}catch{this.handleError_();return}this.handleLoad_(i)}else this.handleError_()}onXHRError_(e){this.handleError_()}load(){this.preemptive_?this.loadInternal_():this.setState(Bn.EMPTY)}}class lEe extends X1{constructor(e){if(super({projection:Gi("EPSG:3857"),state:"loading",wrapX:e.wrapX!==void 0?e.wrapX:!0,zDirection:e.zDirection}),this.preemptive_=e.preemptive!==void 0?e.preemptive:!0,this.tileUrlFunction_=Z0e,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)VS(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const r=new XMLHttpRequest;r.addEventListener("load",this.onXHRLoad_.bind(this)),r.addEventListener("error",this.onXHRError_.bind(this)),r.open("GET",e.url),r.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const r=e.target;if(!r.status||r.status>=200&&r.status<300){let i;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTemplate(){return this.template_}forDataAtCoordinateAndResolution(e,r,i,n){if(this.tileGrid){const s=this.tileGrid.getZForResolution(r,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(e,s);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(e,i,n)}else n===!0?setTimeout(function(){i(null)},0):i(null)}handleTileJSONError(){this.setState("error")}handleTileJSONResponse(e){const r=Gi("EPSG:4326"),i=this.getProjection();let n;if(e.bounds!==void 0){const h=iS(r,i);n=i0(e.bounds,h)}const s=G0(i),o=e.minzoom||0,a=e.maxzoom||22,l=W0({extent:s,maxZoom:a,minZoom:o});this.tileGrid=l,this.template_=e.template;const u=e.grids;if(!u){this.setState("error");return}if(this.tileUrlFunction_=rse(u,l),e.attribution){const h=n!==void 0?n:s;this.setAttributions(function(d){return Zf(h,d.extent)?[e.attribution]:null})}this.setState("ready")}getTile(e,r,i,n,s){const o=[e,r,i],a=this.getTileCoordForTileUrlFunction(o,s),l=this.tileUrlFunction_(a,n,s);return new aEe(o,l!==void 0?Bn.IDLE:Bn.EMPTY,l!==void 0?l:"",this.tileGrid.getTileCoordExtent(o),this.preemptive_,this.jsonp_)}}const uEe=lEe;function cEe(t,e){const r=new Wne(32),i=t.getExtent();return function(n,s){r.expireCache(),i&&(n=Qd(i,n));const o=t.getZForResolution(s),a=[];return t.forEachTileCoord(n,o,l=>{const u=l.toString();if(!r.containsKey(u)){const h=e(l);r.set(u,h)}a.push(r.get(u))}),a}}const dEe=Object.freeze(Object.defineProperty({__proto__:null,BingMaps:y_e,CartoDB:v_e,Cluster:__e,DataTile:ax,GeoTIFF:HS,Google:p2e,IIIF:b2e,Image:fh,ImageArcGISRest:x2e,ImageCanvas:w2e,ImageMapGuide:k2e,ImageStatic:yoe,ImageTile:L2e,ImageWMS:J0e,OGCMapTile:B2e,OGCVectorTile:z2e,OSM:Q0e,Raster:Z2e,Source:sS,StadiaMaps:rEe,Tile:X1,TileArcGISRest:nEe,TileDebug:oEe,TileImage:wu,TileJSON:Coe,TileWMS:ise,UTFGrid:uEe,UrlTile:eye,Vector:G1,VectorTile:J1,WMTS:nse,XYZ:Kf,Zoomify:g2e,createArcGISRestLoader:poe,createMapGuideLoader:moe,createStaticLoader:goe,createWMSLoader:tye,sourcesFromTileGrid:cEe},Symbol.toStringTag,{value:"Module"})),hEe="1.0.0",fEe="",pEe=[{kind:"javascript-module",path:"elements/drawtools/src/main.js",declarations:[{kind:"class",description:"Manage drawn features on a map",name:"EOxDrawTools",members:[{kind:"field",name:"#eoxMap",privacy:"private",type:{text:"EOxMap"}},{kind:"field",name:"#olMap",privacy:"private",type:{text:"Map"}},{kind:"field",name:"#geoJSON",privacy:"private",type:{text:"string"}},{kind:"method",name:"handleStartDrawing"},{kind:"method",name:"handleDiscardDrawing"},{kind:"method",name:"handleFeatureChange",parameters:[{name:"text",description:"The string representation of the features to be parsed.",type:{text:"string"}},{name:"replaceFeatures",default:"false",description:"A boolean flag indicating whether to replace the existing features.",type:{text:"boolean"}}]},{kind:"method",name:"handleFilesChange",parameters:[{name:"evt",description:"The event object from the file input interaction.",type:{text:"DragEvent | Event"}}]},{kind:"method",name:"onModifyEnd"},{kind:"method",name:"updateGeoJSON",description:"Update #geoJSON with stringify feature."},{kind:"method",name:"emitDrawnFeatures",description:"Triggers different events when the drawing of a shape is completed."},{kind:"field",name:"eoxMap"},{kind:"field",name:"allowModify",privacy:"public",type:{text:"boolean"},description:"Allow modifying the drawn feature(s)",default:"false",attribute:"allow-modify"},{kind:"field",name:"for",privacy:"public",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',attribute:"for"},{kind:"field",name:"currentlyDrawing",privacy:"public",type:{text:"boolean"},description:"Whether the user is currently in the process of drawing or not",default:"false"},{kind:"field",name:"draw",privacy:"public",type:{text:"Draw"},description:"The current native OpenLayers `draw` interaction",default:"null"},{kind:"field",name:"drawLayer",privacy:"public",type:{text:"default<default>"},description:"The current native OpenLayers draw `layer`",default:"null"},{kind:"field",name:"drawnFeatures",privacy:"public",type:{text:"Array<Feature>"},description:"The array of drawn native OpenLayers features. Normally includes only one feature, until multiple feature drawing is enabled.",default:"[]"},{kind:"field",name:"modify",privacy:"public",type:{text:"Modify"},description:"The current native OpenLayers `modify` interaction",default:"null"},{kind:"field",name:"multipleFeatures",privacy:"public",type:{text:"boolean"},description:"Allow adding more than one feature at a time",default:"false",attribute:"multiple-features"},{kind:"field",name:"importFeatures",privacy:"public",type:{text:"boolean"},description:"Allow import features using drag-drop and upload button",default:"false",attribute:"import-features"},{kind:"field",name:"showEditor",privacy:"public",type:{text:"boolean"},description:"Show geo-json editor for draw tool",default:"false",attribute:"show-editor"},{kind:"field",name:"showList",privacy:"public",type:{text:"boolean"},description:"Show list of features",default:"false",attribute:"show-list"},{kind:"field",name:"type",privacy:"public",type:{text:'"Polygon" | "Point" | "LineString" | "Circle" | "Box"'},description:"Type of the drawn feature",default:'"Polygon"',attribute:"type"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"boolean"},description:"Render the element without additional styles",default:"false",attribute:"unstyled"},{kind:"field",name:"noShadow",privacy:"public",type:{text:"Boolean"},description:"Renders the element without a shadow root",default:"false",attribute:"noShadow"}],events:[{name:"drawupdate",type:{text:"Array<Feature>"},description:"Fires whenever features are added, modified or discarded, where the event detail\nis the `drawnFeatures` array"}],attributes:[{name:"allow-modify",type:{text:"boolean"},description:"Allow modifying the drawn feature(s)",default:"false",fieldName:"allowModify"},{name:"for",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',fieldName:"for"},{name:"multiple-features",type:{text:"boolean"},description:"Allow adding more than one feature at a time",default:"false",fieldName:"multipleFeatures"},{name:"import-features",type:{text:"boolean"},description:"Allow import features using drag-drop and upload button",default:"false",fieldName:"importFeatures"},{name:"show-editor",type:{text:"boolean"},description:"Show geo-json editor for draw tool",default:"false",fieldName:"showEditor"},{name:"show-list",type:{text:"boolean"},description:"Show list of features",default:"false",fieldName:"showList"},{name:"noShadow",type:{text:"Boolean"},description:"Renders the element without a shadow root",default:"false",fieldName:"noShadow"},{name:"type",type:{text:'"Polygon" | "Point" | "LineString" | "Circle" | "Box"'},description:"Type of the drawn feature",default:'"Polygon"',fieldName:"type"},{name:"unstyled",type:{text:"boolean"},description:"Render the element without additional styles",default:"false",fieldName:"unstyled"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-drawtools",customElement:!0}],exports:[{kind:"js",name:"EOxDrawTools",declaration:{name:"EOxDrawTools",module:"elements/drawtools/src/main.js"}},{kind:"custom-element-definition",name:"eox-drawtools",declaration:{name:"EOxDrawTools",module:"elements/drawtools/src/main.js"}}]},{kind:"javascript-module",path:"elements/geosearch/src/main.js",declarations:[{kind:"class",description:"",name:"EOxGeoSearch",members:[{kind:"field",name:"#eoxMap",privacy:"private",type:{text:"EOxMap"}},{kind:"method",name:"onInput",parameters:[{name:"e"}]},{kind:"method",name:"onInputBlur"},{kind:"method",name:"onButtonClick"},{kind:"method",name:"getFlexDirection"},{kind:"method",name:"getResultsDirection"},{kind:"method",name:"getVerticalAlign"},{kind:"method",name:"getMarginDirection",parameters:[{name:"direction"}]},{kind:"method",name:"handleSelect",parameters:[{name:"event"}]},{kind:"method",name:"updateMap"},{kind:"field",name:"eoxMap"},{kind:"field",name:"_data",privacy:"private",description:"Internal storage of OpenCage API data after a successful API request.",type:{text:"array"},default:"[]"},{kind:"field",name:"_isListVisible",privacy:"private",description:"Whether or not the list dropdown is visible.",type:{text:"boolean"},default:"false"},{kind:"field",name:"_isInputVisible",privacy:"private",description:"Whether or not the input field is visible.",type:{text:"boolean"},default:"false"},{kind:"field",name:"_query",privacy:"private",description:"The search query, which is bound to the input field.",type:{text:"string"},default:'""'},{kind:"field",name:"_isLoading",privacy:"private",description:"Returns true if the element is currently loading data from the API.",type:{text:"boolean"},default:"false"},{kind:"field",name:"for",privacy:"public",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',attribute:"for"},{kind:"field",name:"listDirection",type:{text:"string"},default:'"right"'},{kind:"field",name:"resultsDirection",privacy:"public",type:{text:"string"},description:"The direction of the results box relative to the input, with the following options:\n\n- `left`\n- `top`\n- `right`\n- `bottom`",default:'"down"',attribute:"results-direction"},{kind:"field",name:"interval",privacy:"public",type:{text:"number"},description:"Set a custom interval for the debounce function.",default:"800",attribute:"interval"},{kind:"field",name:"loaderSvg",privacy:"public",type:{text:"string"},default:'` <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" width="50" height="50" style="shape-rendering: auto; display: block; background: transparent;" xmlns:xlink="http://www.w3.org/1999/xlink" > <g> <circle stroke-dasharray="164.93361431346415 56.97787143782138" r="35" stroke-width="12" stroke="#1a467c" fill="none" cy="50" cx="50" > <animateTransform keyTimes="0;1" values="0 50 50;360 50 50" dur="1.2222222222222223s" repeatCount="indefinite" type="rotate" attributeName="transform" ></animateTransform> </circle> <g></g> </g> </svg> `',attribute:"loader-svg"},{kind:"field",name:"fetchDebounced"},{kind:"field",name:"endpoint",privacy:"public",type:{text:"string"},description:"The OpenCage API endpoint to use for the search, including the key but without the query parameter.",attribute:"endpoint"},{kind:"field",name:"queryParameter",privacy:"public",type:{text:"string"},description:"The name of the query parameter to use for the search query in the endpoint URI.",attribute:"queryParameter"},{kind:"field",name:"button",privacy:"public",type:{text:"boolean"},description:`Whether or not to enable button mode, which hides and shows the input field
similar to how a modal works.`,attribute:"button"},{kind:"field",name:"small",privacy:"public",type:{text:"boolean"},description:"Enables a smaller version of the button for use in map controls.",attribute:"small"},{kind:"field",name:"label",privacy:"public",type:{text:"string"},description:"Which text to use for the button if it is enabled.",attribute:"label"},{kind:"field",name:"direction",privacy:"public",type:{text:"string"},description:"The direction of the search input relative to the button, with the following options:\n\n- `left`\n- `top`\n- `right`\n- `bottom`",attribute:"list-direction"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"boolean"},attribute:"unstyled"}],events:[{name:"geosearchSelect",type:{text:"CustomEvent"},description:"The select event, including the details of the selected item"}],attributes:[{name:"endpoint",type:{text:"string"},description:"The OpenCage API endpoint to use for the search, including the key but without the query parameter.",fieldName:"endpoint"},{name:"for",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',fieldName:"for"},{name:"queryParameter",type:{text:"string"},description:"The name of the query parameter to use for the search query in the endpoint URI.",fieldName:"queryParameter"},{name:"button",type:{text:"boolean"},description:`Whether or not to enable button mode, which hides and shows the input field
similar to how a modal works.`,fieldName:"button"},{name:"interval",type:{text:"number"},description:"Set a custom interval for the debounce function.",default:"800",fieldName:"interval"},{name:"small",type:{text:"boolean"},description:"Enables a smaller version of the button for use in map controls.",fieldName:"small"},{name:"label",type:{text:"string"},description:"Which text to use for the button if it is enabled.",fieldName:"label"},{name:"list-direction",type:{text:"string"},description:"The direction of the search input relative to the button, with the following options:\n\n- `left`\n- `top`\n- `right`\n- `bottom`",fieldName:"direction"},{name:"results-direction",type:{text:"string"},description:"The direction of the results box relative to the input, with the following options:\n\n- `left`\n- `top`\n- `right`\n- `bottom`",default:'"down"',fieldName:"resultsDirection"},{name:"unstyled",type:{text:"boolean"},fieldName:"unstyled"},{name:"loader-svg",type:{text:"string"},default:"loaderSvg",fieldName:"loaderSvg"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-geosearch",customElement:!0},{kind:"class",description:"",name:"EOxGeoSearchItem",members:[{kind:"field",name:"item",privacy:"public",type:{text:"object"},attribute:"item"},{kind:"field",name:"onClick",privacy:"public",type:{text:"function"},attribute:"onClick"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"boolean"},attribute:"unstyled"}],attributes:[{name:"item",type:{text:"object"},fieldName:"item"},{name:"onClick",type:{text:"function"},fieldName:"onClick"},{name:"unstyled",type:{text:"boolean"},fieldName:"unstyled"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-geosearch-item",customElement:!0}],exports:[{kind:"custom-element-definition",name:"eox-geosearch",declaration:{name:"EOxGeoSearch",module:"elements/geosearch/src/main.js"}},{kind:"custom-element-definition",name:"eox-geosearch-item",declaration:{name:"EOxGeoSearchItem",module:"elements/geosearch/src/main.js"}},{kind:"js",name:"EOxGeoSearch",declaration:{name:"EOxGeoSearch",module:"elements/geosearch/src/main.js"}}]},{kind:"javascript-module",path:"elements/itemfilter/src/main.js",declarations:[{kind:"class",description:`EOxItemFilter is a custom web component that provides a comprehensive item filtering system.
It includes methods for applying filters, searching, sorting results, and resetting filters.
The component supports both inline and dropdown modes for filter display.`,name:"EOxItemFilter",members:[{kind:"field",name:"#resultAggregation",privacy:"private",type:{text:"Array<string>"},default:"[]"},{kind:"field",name:"#items",privacy:"private",type:{text:"Array<object>"},default:"[]"},{kind:"field",name:"#config",privacy:"private",default:"ELEMENT_CONFIG",type:{text:"Object"}},{kind:"method",name:"apply",description:"Applies the filters to the items and updates the result aggregation."},{kind:"method",name:"searchHandler",description:`Performs a search based on the current configuration and items.
Requests an update after the search completes.`},{kind:"method",name:"sortResults",parameters:[{name:"items",description:"The items to be sorted.",type:{text:"Array<object>"}}],description:"Sorts the given items based on the current configuration.",return:{type:{text:"Array<object>"}}},{kind:"method",name:"#createFilter",privacy:"private",parameters:[{name:"filterObject",description:"The filter object.",type:{text:"Object"}},{name:"tabIndex",description:"The tab index for the filter element.",type:{text:"number"}}],description:"Creates a filter element based on the given filter object and tab index.",return:{type:{text:'import("lit")'}}},{kind:"method",name:"#createReset",privacy:"private",parameters:[{name:"filterObject",description:"The filter object.",type:{text:"Object"}},{name:"tabIndex",description:"The tab index for the reset element.",type:{text:"number"}}],description:"Creates a reset element for the given filter object and tab index.",return:{type:{text:'import("lit")'}}},{kind:"method",name:"resetFilters",description:"Resets all applied filters."},{kind:"method",name:"updateResult",parameters:[{name:"evt",description:'"result" event triggered by result component',type:{text:"{detail: Object}"}}],description:'Updates selected result when result component triggers the "result" event.'},{kind:"field",name:"items",privacy:"public",type:{text:"Array<Object>"},description:"The items to be filtered",default:"null"},{kind:"field",name:"filters",privacy:"public",type:{text:"Object"},description:"The state object containing the applied filters.",default:"{}"},{kind:"field",name:"results",privacy:"public",type:{text:"Array<Object>"},description:"The state object containing the filtered results.",default:"[]"},{kind:"field",name:"selectedResult",privacy:"public",type:{text:"Object"},description:"The currently selected result",default:"null"},{kind:"field",name:"search",type:{text:"Function"},privacy:"private"},{kind:"field",name:"aggregateResults",privacy:"public",type:{text:"String"},description:"Aggregate results by a property key",default:"undefined",attribute:"aggregate-results"},{kind:"field",name:"autoSpreadSingle",privacy:"public",type:{text:"Boolean"},description:`Automatically spread single item summaries
removing the summary header`,default:"false",attribute:"auto-spread-single"},{kind:"field",name:"enableHighlighting",privacy:"public",type:{text:"Boolean"},description:"Highlighting of search result character matches",default:"false",attribute:"enable-highlighting"},{kind:"field",name:"externalFilter",privacy:"public",type:{text:"Function"},description:`Use an external search endpoint instead of fuse search.
Passed properties: input string, filters object`,default:"null"},{kind:"field",name:"filterProperties",privacy:"public",type:{text:"Array<{key?: String, keys?: Array<String>, title: String, type: String, placeholder?: String, format?: String, state?: Object}>"},description:"The filter properties.",default:"[]"},{kind:"field",name:"fuseConfig",privacy:"public",type:{text:"Object"},description:"Native fuse.js config override",default:"{}"},{kind:"field",name:"inlineMode",privacy:"public",type:{text:"Boolean"},description:`Inline mode, for rendering the itemfilter in a very condensed space.
Expects showResults to be false`,default:"false",attribute:"inline-mode"},{kind:"field",name:"matchAllWhenEmpty",privacy:"public",type:{text:"Boolean"},description:"Show all result items if nothing is input by the user",default:"true",attribute:"match-all-when-empty"},{kind:"field",name:"showResults",privacy:"public",type:{text:"Boolean"},description:"Display results list",default:"true",attribute:"show-result"},{kind:"field",name:"titleProperty",privacy:"public",type:{text:"String"},description:"The property of the result items used for display",default:'"title"',attribute:"title-property"},{kind:"field",name:"subTitleProperty",privacy:"public",type:{text:"String"},description:"The property of the result items used for a subtitle",default:"undefined",attribute:"sub-title-property"},{kind:"field",name:"idProperty",privacy:"public",type:{text:"String"},description:"Unique id property of items",default:'"id"',attribute:"id-property"},{kind:"field",name:"expandMultipleFilters",privacy:"public",type:{text:"Boolean"},description:"Allow opening multiple filter accordions in parallel",default:"true",attribute:"enable-multiple-filter"},{kind:"field",name:"expandResults",privacy:"public",type:{text:"Boolean"},description:"Initialize result accordions expanded",default:"true",attribute:"expand-result"},{kind:"field",name:"expandMultipleResults",privacy:"public",type:{text:"Boolean"},description:"Allow opening multiple result accordions in parallel",default:"true",attribute:"expand-multiple-results"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"boolean"},description:"Render the element without additional styles",default:"false",attribute:"unstyled"}],events:[{name:"filter",type:{text:"CustomEvent"},description:"Fires when the filters are changed; event detail includes `filters` and `results`"},{name:"select",type:{text:"CustomEvent"},description:"Fires when a result is selected; event detail is `selectedResult`"}],attributes:[{name:"aggregate-results",type:{text:"String"},description:"Aggregate results by a property key",default:"undefined",fieldName:"aggregateResults"},{name:"auto-spread-single",type:{text:"Boolean"},description:`Automatically spread single item summaries
removing the summary header`,default:"false",fieldName:"autoSpreadSingle"},{name:"enable-highlighting",type:{text:"Boolean"},description:"Highlighting of search result character matches",default:"false",fieldName:"enableHighlighting"},{name:"inline-mode",type:{text:"Boolean"},description:`Inline mode, for rendering the itemfilter in a very condensed space.
Expects showResults to be false`,default:"false",fieldName:"inlineMode"},{name:"match-all-when-empty",type:{text:"Boolean"},description:"Show all result items if nothing is input by the user",default:"true",fieldName:"matchAllWhenEmpty"},{name:"show-result",type:{text:"Boolean"},description:"Display results list",default:"true",fieldName:"showResults"},{name:"id-property",type:{text:"String"},description:"Unique id property of items",default:'"id"',fieldName:"idProperty"},{name:"title-property",type:{text:"String"},description:"The property of the result items used for display",default:'"title"',fieldName:"titleProperty"},{name:"sub-title-property",type:{text:"String"},description:"The property of the result items used for a subtitle",default:"undefined",fieldName:"subTitleProperty"},{name:"enable-multiple-filter",type:{text:"Boolean"},description:"Allow opening multiple filter accordions in parallel",default:"true",fieldName:"expandMultipleFilters"},{name:"expand-result",type:{text:"Boolean"},description:"Initialize result accordions expanded",default:"true",fieldName:"expandResults"},{name:"expand-multiple-results",type:{text:"Boolean"},description:"Allow opening multiple result accordions in parallel",default:"true",fieldName:"expandMultipleResults"},{name:"unstyled",type:{text:"boolean"},description:"Render the element without additional styles",default:"false",fieldName:"unstyled"}],superclass:{name:"TemplateElement",module:"/utils/templateElement"},tagName:"eox-itemfilter",customElement:!0}],exports:[{kind:"js",name:"EOxItemFilter",declaration:{name:"EOxItemFilter",module:"elements/itemfilter/src/main.js"}},{kind:"custom-element-definition",name:"eox-itemfilter",declaration:{name:"EOxItemFilter",module:"elements/itemfilter/src/main.js"}}]},{kind:"javascript-module",path:"elements/jsonform/src/main.js",declarations:[{kind:"class",description:"",name:"EOxJSONForm",members:[{kind:"field",name:"#editor",privacy:"private",type:{text:"{[key: string]: any}"},default:"null",description:"editor instance generated through - JSONEditor"},{kind:"field",name:"editor",description:"Getter for the JSONEditor instance",readonly:!0},{kind:"field",name:"schema",privacy:"public",type:{text:"object"},description:"Setter for the JSON schema used to render the form",return:{type:{text:"JsonSchema | String"}},parameters:[{name:"newSchema",type:{text:"JsonSchema"}}]},{kind:"field",name:"value",privacy:"public",type:{text:"object"},description:"Setter for the default values to fill the form",parameters:[{name:"newVal",type:{text:"JsonSchema"}}]},{kind:"method",name:"#emitValue",privacy:"private",description:"Value object has been changed"},{kind:"method",name:"#dispatchEvent",privacy:"private",description:"Dispatch same function for multiple event type"},{kind:"field",name:"options",privacy:"public",type:{text:"object"},description:"Default values for the form editor",default:"{ show_opt_in: false, disable_collapse: true, disable_edit_json: true, disable_properties: true, disable_array_delete_all_rows: true, disable_array_delete_last_row: true, array_controls_top: true, }"},{kind:"field",name:"noShadow",privacy:"public",type:{text:"Boolean"},description:"Renders the element without a shadow root",default:"false",attribute:"no-shadow"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"Boolean"},description:"Render the element without additional styles",default:"false",attribute:"unstyled"}],events:[{name:"change",type:{text:"CustomEvent"}}],attributes:[{name:"no-shadow",type:{text:"Boolean"},description:"Renders the element without a shadow root",default:"false",fieldName:"noShadow"},{name:"unstyled",type:{text:"Boolean"},description:"Render the element without additional styles",default:"false",fieldName:"unstyled"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-jsonform",customElement:!0}],exports:[{kind:"js",name:"EOxJSONForm",declaration:{name:"EOxJSONForm",module:"elements/jsonform/src/main.js"}},{kind:"custom-element-definition",name:"eox-jsonform",declaration:{name:"EOxJSONForm",module:"elements/jsonform/src/main.js"}}]},{kind:"javascript-module",path:"elements/layercontrol/src/main.js",declarations:[{kind:"class",description:`Display layers and groups of a connected OpenLayers map

## Layer properties
In order to be displayed correctly, the OpenLayers map layers need some custom properties (using e.g. \`layer.set(property, value)\`).

#### \`id?: string\`
The layer id. Not required but recommended. Can also be any other layer property (defined via the \`idProperty\` property or \`id-property\`attribute - see API).

#### \`title?: string\`
The title of the layer displayed in the layer control. Not required, but recommended in order to display human-readable layer titles. Can be any other layer property (defined via the \`titleProperty\` property or \`title-property\`attribute - see API).

#### \`layerControlHide?: Boolean\`
Completely hide a layer from the layer control.

#### \`layerControlOptional?: Boolean\`
Initially hide a layer from the layer control, but make it available as an optional layer. If the layer is selected and added, it will be set to visible and pushed to the top of the layer list or (if originally configured within a layer group) to the top of the layer group.

#### \`layerControlExclusive?: Boolean\`
Make layers mutually exclusive. If two or more layers (on the same level, i.e. at root or inside a layer group) have this property, then only one of them can be visualized at a time.

#### \`layerControlExpand?: Boolean\`
Pre-expand a layer dropdown so that it is always open when the component initializes.

#### \`layerControlToolsExpand?: Boolean\`
Pre-expand the layer tools so they are visible when the component initializes.

#### \`layerConfig?: Object\`
Configuration options for the layer (displayed in the layer tools' "config" tab)

#### \`layerDateTime?: Object\`
Partial eox-timecontrol config passed to the "datetime" tool`,name:"EOxLayerControl",members:[{kind:"field",name:"#eoxMap",privacy:"private",description:"Instance of `eox-map` which is a wrapper for the OL",type:{text:"EOxMap"}},{kind:"field",name:"eoxMap"},{kind:"method",name:"#handleLayerControlLayerListChange",privacy:"private",parameters:[{name:"evt",type:{text:"CustomEvent & {target: Element}"}}],description:"Event handler for changes in the layer list"},{kind:"method",name:"#handleDatetimeUpdate",privacy:"private",parameters:[{name:"evt",type:{text:"CustomEvent"}}],description:"Dispatches datetime updates from layer datetime to the layercontrol"},{kind:"field",name:"#styleEOX",privacy:"private",default:"` :host, :root { font-family: Roboto, sans-serif; --padding: 0.5rem; display: block; padding: var(--padding) 0; } `"},{kind:"field",name:"for",privacy:"public",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',attribute:"for"},{kind:"field",name:"idProperty",privacy:"public",type:{text:"String"},description:"Layer id property",default:'"id"',attribute:"id-property"},{kind:"field",name:"map",privacy:"public",type:{text:"Map"},description:"The native OL map instance",default:"null"},{kind:"field",name:"titleProperty",privacy:"public",type:{text:"String"},description:"Layer title property",default:'"title"',attribute:"title-property"},{kind:"field",name:"showLayerZoomState",privacy:"public",type:{text:"Boolean"},description:"Show layer state based on zoom level or not",default:"false",attribute:"show-layer-zoom-state"},{kind:"field",name:"tools",privacy:"public",type:{text:"Array<String>"},description:"Layer tools",default:'["info", "opacity", "datetime", "config", "remove", "sort"]'},{kind:"field",name:"addExternalLayers",privacy:"public",type:{text:"Boolean"},description:"Enable-disable external layer",default:"false"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"Boolean"},description:"Render the element without additional styles",default:"false",attribute:"unstyled"},{kind:"field",name:"styleOverride",privacy:"public",type:{text:"String"},description:"Overrides elements current CSS.",default:'""',attribute:"styleOverride"},{kind:"field",name:"toolsAsList",privacy:"public",type:{text:"Boolean"},description:"If enabled, the tools section will be rendered as list.",default:"false",attribute:"toolsAsList"}],events:[{name:"layerchange",type:{text:"CustomEvent"},description:"A generic layer change event; could be a layer visibility, group length updates and others.\nPasses the changed layer in the `detail`."},{name:"datetime:updated",type:{text:"CustomEvent"}}],attributes:[{name:"for",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',fieldName:"for"},{name:"id-property",type:{text:"String"},description:"Layer id property",default:'"id"',fieldName:"idProperty"},{name:"title-property",type:{text:"String"},description:"Layer title property",default:'"title"',fieldName:"titleProperty"},{name:"show-layer-zoom-state",type:{text:"Boolean"},description:"Show layer state based on zoom level or not",default:"false",fieldName:"showLayerZoomState"},{name:"unstyled",type:{text:"Boolean"},description:"Render the element without additional styles",default:"false",fieldName:"unstyled"},{name:"styleOverride",type:{text:"String"},description:"Overrides elements current CSS.",default:'""',fieldName:"styleOverride"},{name:"toolsAsList",type:{text:"Boolean"},description:"If enabled, the tools section will be rendered as list.",default:"false",fieldName:"toolsAsList"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-layercontrol",customElement:!0}],exports:[{kind:"js",name:"EOxLayerControl",declaration:{name:"EOxLayerControl",module:"elements/layercontrol/src/main.js"}},{kind:"custom-element-definition",name:"eox-layercontrol",declaration:{name:"EOxLayerControl",module:"elements/layercontrol/src/main.js"}}]},{kind:"javascript-module",path:"elements/layout/src/main.js",declarations:[{kind:"class",description:"This element allows to quickly set up an app layout using a 12x12 grid. It consists of two elements:\n- `eox-layout`: the container holding all the items\n- `eox-layout-item`: the individual items placed on the grid, with a defined x/y coordinate, and a w(idth) and h(eight)",name:"EOxLayout",members:[],attributes:[{name:"gap"}],superclass:{name:"HTMLElement"},tagName:"eox-layout",customElement:!0},{kind:"class",description:"",name:"EOxLayoutItem",members:[],attributes:[{name:"x"},{name:"y"},{name:"w"},{name:"h"}],superclass:{name:"HTMLElement"},tagName:"eox-layout-item",customElement:!0}],exports:[{kind:"js",name:"EOxLayout",declaration:{name:"EOxLayout",module:"elements/layout/src/main.js"}},{kind:"js",name:"EOxLayoutItem",declaration:{name:"EOxLayoutItem",module:"elements/layout/src/main.js"}},{kind:"custom-element-definition",name:"eox-layout",declaration:{name:"EOxLayout",module:"elements/layout/src/main.js"}},{kind:"custom-element-definition",name:"eox-layout-item",declaration:{name:"EOxLayoutItem",module:"elements/layout/src/main.js"}}]},{kind:"javascript-module",path:"elements/map/src/main.js",declarations:[{kind:"class",description:'The `eox-map` is a wrapper for the library [OpenLayers](https://openlayers.org/) with additional features and helper functions.\n\nBasic usage:\n\n```\nimport "@eox/map"\n\n<eox-map [...]></eox-map>\n```\n\nSome basic layers, sources and formats are included in the default bundle, for advanced usage it is\nrequired to import the `advanced-layers-and-sources` plugin.\n\nIncluded in the base bundle:\n- Formats: `GeoJSON`, `MVT`\n- Layers: `Group`, `Image`, `Tile`, `Vector`, `VectorTile`\n- Sources: `ImageWMS`, `OSM`, `Tile`, `TileWMS`, `Vector`, `VectorTile`, `WMTS`, `XYZ`\n\nIn order to use the rest of the layers and sources provided by OpenLayers, import the plugin as well:\n\n```\nimport "@eox/map/dist/eox-map-advanced-layers-and-sources.js"\nimport "@eox/map/dist/eox-map.js"\n\n<eox-map [...]></eox-map>\n```\nIncluded in the advanced plugin bundle:\n- Layers:\n  - All OpenLayers layer types\n  - [`STAC`](https://github.com/m-mohr/ol-stac)\n- Sources:\n  - All OpenLayers source types\n  - [`WMTSCapabilities`](https://github.com/EOX-A/EOxElements/tree/main/elements/map/src/custom/sources/WMTSCapabilities.ts)\n- Reprojection through [proj4](https://github.com/proj4js/proj4js)',name:"EOxMap",members:[{kind:"field",name:"#zoomExtent",privacy:"private",description:`The current zoom extent of the map.
This is used to define the maximum and minimum zoom levels.`,type:{text:"Extent"}},{kind:"field",name:"#controls",privacy:"private",description:"Stores the controls applied to the map, such as zoom and navigation tools.",type:{text:"ControlDictionary"}},{kind:"field",name:"#layers",privacy:"private",description:"The array of layers currently added to the map.",type:{text:"Array<EoxLayer>"}},{kind:"field",name:"#preventScroll",privacy:"private",description:"Indicates whether the map's scroll interactions (zooming, panning) are prevented.",type:{text:"Boolean"}},{kind:"field",name:"#config",privacy:"private",description:"Holds the configuration object for initializing and managing the map's settings.",type:{text:"ConfigObject"}},{kind:"field",name:"#animationOptions",privacy:"private",description:"Options for animating changes to the map's view, such as panning or zooming.",type:{text:"EOxAnimationOptions"}},{kind:"field",name:"#sync",privacy:"private",description:"Represents the sync state of the map with another map instance.",type:{text:"String"}},{kind:"field",name:"#center",privacy:"private",type:{text:"Array<number>"},default:"[0, 0]",description:`The current center coordinates of the map.
Stored as an array of two numbers representing the x and y coordinates.`},{kind:"field",name:"#zoom",privacy:"private",type:{text:"number"},default:"0",description:"The current zoom level of the map."},{kind:"field",name:"#projection",privacy:"private",type:{text:"ProjectionLike"},default:'"EPSG:3857"',description:`The map's projection system, specifying how coordinates are mapped on the globe.
Defaults to "EPSG:3857".`},{kind:"field",name:"center",privacy:"public",type:{text:"array"},description:"Gets the current center coordinates of the map.",parameters:[{description:"The new center coordinates [x, y].",name:"center",type:{text:"Array<number>"}}],return:{type:{text:"Array<number>"}}},{kind:"field",name:"lonLatCenter",description:"Gets the current center of the map in longitude and latitude.",return:{type:{text:"Array<number>"}},readonly:!0},{kind:"field",name:"lonLatExtent",description:"Gets the current extent of the map in longitude and latitude.",return:{type:{text:"Array<number>"}},readonly:!0},{kind:"field",name:"zoom",description:"Gets the current zoom level of the map.",parameters:[{description:"The new zoom level.",name:"zoom",type:{text:"number"}}],return:{type:{text:"number"}}},{kind:"field",name:"zoomExtent",description:"Sets the zoom extent of the map.",parameters:[{description:"The new zoom extent.",name:"extent",type:{text:"Extent"}}]},{kind:"field",name:"controls",description:"Gets the current map controls.",parameters:[{description:"An array of control configurations.",name:"controls",type:{text:"ControlDictionary"}}],return:{type:{text:"Object"}}},{kind:"field",name:"layers",privacy:"public",type:{text:"array"},description:"Gets the current layers of the map.",parameters:[{description:"An array of layer configurations.",name:"layers",type:{text:"Array<EoxLayer>"}}],return:{type:{text:"Array<EoxLayer>"}}},{kind:"field",name:"preventScroll",privacy:"public",type:{text:"boolean"},description:"Gets the current scroll interaction state.",parameters:[{description:"Whether to prevent scroll interactions.",name:"preventScroll",type:{text:"Boolean"}}],return:{type:{text:"Boolean"}},attribute:"prevent-scroll"},{kind:"field",name:"config",privacy:"public",type:{text:"object"},description:"Gets the current configuration of the map.",parameters:[{description:"The configuration object.",name:"config",type:{text:"ConfigObject"}}],return:{type:{text:"ConfigObject"}}},{kind:"field",name:"animationOptions",description:"Gets the current animation options.",parameters:[{description:"The animation options.",name:"animationOptions",type:{text:"EOxAnimationOptions"}}],return:{type:{text:"EOxAnimationOptions"}}},{kind:"field",name:"projection",privacy:"public",type:{text:"string"},description:"Gets the current map projection.",parameters:[{description:'The projection code (e.g., "EPSG:3857").',name:"projection",type:{text:"ProjectionLike"}}],return:{type:{text:"ProjectionLike"}},attribute:"projection"},{kind:"field",name:"sync",privacy:"public",type:{text:"string"},description:"Gets the current sync state of the map.",parameters:[{description:"The ID of the map to sync with.",name:"sync",type:{text:"string"}}],return:{type:{text:"string"}},attribute:"sync"},{kind:"method",name:"addOrUpdateLayer",parameters:[{name:"json",description:"The layer configuration in JSON format.",type:{text:"EoxLayer"}}],description:"Adds or updates a layer on the map.",return:{type:{text:"Object"}}},{kind:"method",name:"removeInteraction",parameters:[{name:"id",description:"The ID of the interaction to remove.",type:{text:"string | number"}}],description:"Removes an interaction from the map by its ID."},{kind:"method",name:"removeSelect",parameters:[{name:"id",description:"The ID of the select interaction to remove.",type:{text:"string"}}],description:"Removes a select interaction from the map by its ID."},{kind:"method",name:"removeControl",parameters:[{name:"id",description:"The ID of the control to remove.",type:{text:"string"}}],description:"Removes a control from the map by its ID."},{kind:"method",name:"getLayerById",parameters:[{name:"layerId",description:"The ID of the layer to retrieve.",type:{text:"string"}}],description:"Retrieves a layer from the map by its ID.",return:{type:{text:"AnyLayerWithSource"}}},{kind:"field",name:"parseFeature",default:"parseFeature",description:"Parses a feature from the input data.",type:{text:"Function"}},{kind:"field",name:"parseTextToFeature",default:"parseTextToFeature",description:"Parses text into a feature."},{kind:"field",name:"registerProjectionFromCode",default:"registerProjectionFromCode",description:"Registers a projection from an EPSG code."},{kind:"field",name:"registerProjection",default:"registerProjection",description:"Registers a custom projection."},{kind:"field",name:"getFlatLayersArray",default:"getFlatLayersArray",description:"Retrieves all layers in a flat array."},{kind:"field",name:"transform",default:"transform",description:"Transforms coordinates between different projections."},{kind:"field",name:"transformExtent",default:"transformExtent",description:"Transforms the extent between different projections."},{kind:"field",name:"buffer",default:"buffer",description:"Applies a buffer around an extent."},{kind:"field",name:"map",privacy:"public",description:"The OpenLayers map instance.",type:{text:"default"},default:"new Map({ controls: [], layers: [], view: new View({ center: [0, 0], zoom: 0, projection: this.projection, }), })"},{kind:"field",name:"interactions",type:{text:"Object.<string, default>"},description:"Object to store various map interactions (e.g., drag, zoom).",default:"{}"},{kind:"field",name:"selectInteractions",privacy:"public",type:{text:"Object.<string, EOxSelectInteraction>"},description:"Object to store selection interactions for the map.",default:"{}"},{kind:"field",name:"mapControls",privacy:"public",type:{text:"Object.<string, default>"},description:"Object to store map controls (e.g., custom buttons, geolocation).",default:"{}"},{kind:"field",name:"intersections",privacy:"public",type:{text:"object"}}],attributes:[{name:"prevent-scroll",type:{text:"boolean"},description:"Gets the current scroll interaction state.",parameters:[{description:"Whether to prevent scroll interactions.",name:"preventScroll",type:{text:"Boolean"}}],return:{type:{text:"Boolean"}},fieldName:"preventScroll"},{name:"sync",type:{text:"string"},description:"Gets the current sync state of the map.",parameters:[{description:"The ID of the map to sync with.",name:"sync",type:{text:"string"}}],return:{type:{text:"string"}},fieldName:"sync"},{name:"projection",type:{text:"string"},description:"Gets the current map projection.",parameters:[{description:'The projection code (e.g., "EPSG:3857").',name:"projection",type:{text:"ProjectionLike"}}],return:{type:{text:"ProjectionLike"}},fieldName:"projection"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-map",customElement:!0}],exports:[{kind:"js",name:"EOxMap",declaration:{name:"EOxMap",module:"elements/map/src/main.js"}},{kind:"custom-element-definition",name:"eox-map",declaration:{name:"EOxMap",module:"elements/map/src/main.js"}}]},{kind:"javascript-module",path:"elements/stacinfo/src/main.js",declarations:[{kind:"class",description:`### Introduction
Working with STAC catalogs, collections and items often times requires
to fetch a JSON file, parse its contents and display some of its fields
in some formatted way. To make these steps reusable, the \`eox-stacinfo\`
element offers a set of functionalities:
- **automatically fetch a STAC file** as soon as the element loads
- offer a **property whitelist** functionality to choose which properties to display
- display the properties in **configurable sections** (header, body, featured, footer)
- allow to **override** any property display for application-specific custom needs

The use case for this element is alongside a map which displays STAC files
or in a catalog browsing scenario where a quick look at the most important properties
is needed.

#### Technology
Under the hood, this element uses [stac-fields](https://github.com/stac-utils/stac-fields) for parsing and pre-formatting properties.`,name:"EOxStacInfo",members:[{kind:"field",name:"allowHtml",privacy:"public",type:{text:"boolean"},description:"Whether to allow HTML in the property display",default:"false",attribute:"allow-html"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"boolean"},description:"Whether to use unstyled mode",default:"false",attribute:"unstyled"},{kind:"field",name:"for",privacy:"public",type:{text:"string"},description:"The identifier for the STAC resource to fetch",default:'""',attribute:"for"},{kind:"field",name:"header",privacy:"public",type:{text:"Array<any>"},description:"Keys of properties to display in the header",default:"[]"},{kind:"field",name:"tags",privacy:"public",type:{text:"Array<any>"},description:"Keys of properties to display to display as tags",default:"[]"},{kind:"field",name:"body",privacy:"public",type:{text:"Array<any>"},description:"Keys of properties to display to display in the main body",default:"[]"},{kind:"field",name:"featured",privacy:"public",type:{text:"Array<any>"},description:"Keys of properties to display in the featured section",default:"[]"},{kind:"field",name:"footer",privacy:"public",type:{text:"Array<any>"},description:"Keys of properties to display in the footer",default:"[]"},{kind:"field",name:"stacInfo",privacy:"public",type:{text:"Array<any>"},description:"The state object containing the fetched STAC information",default:"[]"},{kind:"field",name:"stacProperties",privacy:"public",type:{text:"Array<any>"},description:"The state object containing the parsed STAC properties",default:"[]"}],attributes:[{name:"allow-html",type:{text:"boolean"},description:"Whether to allow HTML in the property display",default:"false",fieldName:"allowHtml"},{name:"unstyled",type:{text:"boolean"},description:"Whether to use unstyled mode",default:"false",fieldName:"unstyled"},{name:"for",type:{text:"string"},description:"The identifier for the STAC resource to fetch",default:'""',fieldName:"for"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-stacinfo",customElement:!0}],exports:[{kind:"js",name:"EOxStacInfo",declaration:{name:"EOxStacInfo",module:"elements/stacinfo/src/main.js"}},{kind:"custom-element-definition",name:"eox-stacinfo",declaration:{name:"EOxStacInfo",module:"elements/stacinfo/src/main.js"}}]},{kind:"javascript-module",path:"elements/storytelling/src/main.js",declarations:[{kind:"class",description:"Manage drawn features on a map",name:"EOxStoryTelling",members:[{kind:"field",name:"#html",privacy:"private",description:"Generated HTML string using markdown",type:{text:"String"},default:"undefined"},{kind:"field",name:"#config",privacy:"private",type:{text:"Object"},default:"{}",description:"Basic config"},{kind:"field",name:"#debounceUpdateMarkdown",privacy:"private",type:{text:"Object"},default:"null",description:"Debounce update markdown"},{kind:"method",name:"#dispatchInitEvent",privacy:"private",parameters:[{name:"element",description:"Dom element",type:{text:"Element"}}]},{kind:"method",name:"handleSlotChange",description:"Handles changes to the slot's content, updating the component's internal state."},{kind:"method",name:"waitForHtmlInitialization"},{kind:"field",name:"markdown",privacy:"public",type:{text:"String"},description:"Markdown Content",default:'""',attribute:"markdown"},{kind:"field",name:"markdownURL",privacy:"public",type:{text:"String"},description:"Markdown Content URL",default:"null",attribute:"markdown-url"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"Boolean"},description:"Render the element without additional styles",default:"false",attribute:"unstyled"},{kind:"field",name:"noShadow",privacy:"public",type:{text:"Boolean"},description:"Renders the element without a shadow root",default:"false",attribute:"no-shadow"},{kind:"field",name:"showEditor",privacy:"public",type:{text:'String | "closed" | undefined'},description:"Enable or disable editor",default:"undefined",attribute:"show-editor"},{kind:"field",name:"showNav",privacy:"public",type:{text:"Boolean"},description:"Enable or disable navigation",default:"false",attribute:"show-nav"},{kind:"field",name:"nav",privacy:"public",type:{text:"Array<Object>"},description:"List of items in navigation",default:"[]"},{kind:"field",name:"addCustomSectionIndex",privacy:"public",type:{text:"Number"},description:"custom section index",default:"-1",attribute:"addCustomSectionIndex"},{kind:"field",name:"selectedCustomElement",privacy:"public",type:{text:"Object | null"},description:"Selected custom element object",default:"null",attribute:"selectedCustomElement"}],events:[{name:"init",type:{text:"CustomEvent"}}],attributes:[{name:"markdown",type:{text:"String"},description:"Markdown Content",default:'""',fieldName:"markdown"},{name:"markdown-url",type:{text:"String"},description:"Markdown Content URL",default:"null",fieldName:"markdownURL"},{name:"show-nav",type:{text:"Boolean"},description:"Enable or disable navigation",default:"false",fieldName:"showNav"},{name:"show-editor",type:{text:'String | "closed" | undefined'},description:"Enable or disable editor",default:"undefined",fieldName:"showEditor"},{name:"no-shadow",type:{text:"Boolean"},description:"Renders the element without a shadow root",default:"false",fieldName:"noShadow"},{name:"unstyled",type:{text:"Boolean"},description:"Render the element without additional styles",default:"false",fieldName:"unstyled"},{name:"addCustomSectionIndex",type:{text:"Number"},description:"custom section index",default:"-1",fieldName:"addCustomSectionIndex"},{name:"selectedCustomElement",type:{text:"Object | null"},description:"Selected custom element object",default:"null",fieldName:"selectedCustomElement"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-storytelling",customElement:!0}],exports:[{kind:"js",name:"EOxStoryTelling",declaration:{name:"EOxStoryTelling",module:"elements/storytelling/src/main.js"}},{kind:"custom-element-definition",name:"eox-storytelling",declaration:{name:"EOxStoryTelling",module:"elements/storytelling/src/main.js"}}]},{kind:"javascript-module",path:"elements/timecontrol/src/main.js",declarations:[{kind:"class",description:"",name:"EOxTimeControl",members:[{kind:"method",name:"next",description:"Go to next step"},{kind:"method",name:"previous",description:"Go to previous step"},{kind:"method",name:"playAnimation",parameters:[{name:"on",description:"animation on/off",type:{text:"boolean"}}],description:"Toggle play animation"},{kind:"method",name:"setConfig",parameters:[{name:"config",type:{text:`@param {string} [config.layer]
   * @param {string} [config.controlProperty]
   * @param {Array<string>} [config.controlValues]`}}],description:"Set the config at a later point"},{kind:"field",name:"currentStep",privacy:"public",type:{text:"string"},description:"The currently selected step",attribute:"current-step"},{kind:"method",name:"updateMap"},{kind:"field",name:"eoxMap"},{kind:"method",name:"_updateStep",parameters:[{name:"step",default:"1",optional:!0,type:{text:"number"}}],privacy:"private"},{kind:"method",name:"getFlatLayersArray",parameters:[{name:"layers",type:{text:"default[]"}}],description:`TEMP / TO-DO, this is a copy of the function defined in the eox-map:
https://github.com/EOX-A/EOxElements/blob/main/elements/map/src/layer.ts#L25
Consider a way to properly export that function and use it here
See also:
https://github.com/EOX-A/EOxElements/issues/974`,return:{type:{text:"default[]"}}},{kind:"field",name:"controlValues",privacy:"public",type:{text:"string[]"},description:"The list of available values for the animation property",default:"[]",attribute:"control-values"},{kind:"field",name:"_newStepIndex",privacy:"public",type:{text:"number"},default:"0",attribute:"_newStepIndex"},{kind:"field",name:"unstyled",privacy:"public",type:{text:"boolean"},default:"false",attribute:"unstyled"},{kind:"field",name:"disablePlay",privacy:"public",type:{text:"boolean"},description:"Hides the play button if set",default:"false",attribute:"disable-play"},{kind:"field",name:"slider",privacy:"public",type:{text:"boolean"},description:"Display a slider for the values",default:"false",attribute:"slider"},{kind:"field",name:"for",privacy:"public",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',attribute:"for"},{kind:"field",name:"layer",privacy:"public",type:{text:"string"},description:"The layerid of the animated layer",default:'""',attribute:"layer"},{kind:"field",name:"controlProperty",privacy:"public",type:{text:"string | undefined"},description:"The WMS parameter to update",default:"undefined",attribute:"control-property"},{kind:"field",name:"_eoxMap",privacy:"public",type:{text:"HTMLElement |undefined"},default:"undefined",attribute:"_eoxMap"},{kind:"field",name:"_width",privacy:"public",type:{text:"number"},default:"300",attribute:"_width"},{kind:"field",name:"_originalParams",privacy:"public",type:{text:"object"},description:"Original params of layer source",attribute:"_originalParams"},{kind:"field",name:"_animationInterval",privacy:"public",attribute:"_animationInterval"},{kind:"field",name:"_controlSource",privacy:"public",attribute:"_controlSource"},{kind:"field",name:"_isAnimationPlaying",privacy:"public",attribute:"_isAnimationPlaying"}],events:[{name:"stepchange",type:{text:"CustomEvent"},description:"Triggers when *currentStep* is updated.\n`event.detail.currentStep` returns the new *currentStep* value."}],attributes:[{name:"control-property",type:{text:"string | undefined"},description:"The WMS parameter to update",default:"undefined",fieldName:"controlProperty"},{name:"control-values",type:{text:"string[]"},description:"The list of available values for the animation property",default:"[]",fieldName:"controlValues"},{name:"for",type:{text:"String|HTMLElement"},description:"Query selector of an `eox-map` (`String`, passed as an attribute or property)\nor an `eox-map` DOM element (`HTMLElement`, passed as property)",default:'"eox-map"',fieldName:"for"},{name:"layer",type:{text:"string"},description:"The layerid of the animated layer",default:'""',fieldName:"layer"},{name:"slider",type:{text:"boolean"},description:"Display a slider for the values",default:"false",fieldName:"slider"},{name:"_originalParams",type:{text:"object"},description:"Original params of layer source",fieldName:"_originalParams"},{name:"disable-play",type:{text:"boolean"},description:"Hides the play button if set",default:"false",fieldName:"disablePlay"},{name:"current-step",type:{text:"string"},description:"The currently selected step",fieldName:"currentStep"},{name:"_animationInterval",fieldName:"_animationInterval"},{name:"_controlSource",fieldName:"_controlSource"},{name:"_isAnimationPlaying",fieldName:"_isAnimationPlaying"},{name:"_newStepIndex",type:{text:"number"},default:"0",fieldName:"_newStepIndex"},{name:"_eoxMap",type:{text:"HTMLElement |undefined"},default:"undefined",fieldName:"_eoxMap"},{name:"_width",type:{text:"number"},default:"300",fieldName:"_width"},{name:"unstyled",type:{text:"boolean"},default:"false",fieldName:"unstyled"}],superclass:{name:"LitElement",package:"lit"},tagName:"eox-timecontrol",customElement:!0}],exports:[{kind:"js",name:"EOxTimeControl",declaration:{name:"EOxTimeControl",module:"elements/timecontrol/src/main.js"}},{kind:"custom-element-definition",name:"eox-timecontrol",declaration:{name:"EOxTimeControl",module:"elements/timecontrol/src/main.js"}}]},{kind:"javascript-module",path:"elements/chart/src/main.ts",declarations:[{kind:"class",description:"",name:"EOxChart",members:[{kind:"field",name:"shadowRoot",type:{text:"ShadowRoot"}},{kind:"field",name:"chart",type:{text:"Chart"},description:`The native chart.js object.
See [https://www.chartjs.org/docs/latest/developers/api.html](https://www.chartjs.org/docs/latest/developers/api.html)`},{kind:"field",name:"setData",type:{text:"(body: { datasets: ChartDataset[] }) => void"},description:"Set chart data, TODO description"},{kind:"field",name:"setOptions",type:{text:"(body: object) => void"}},{kind:"field",name:"setSignalsData",type:{text:"(body: object) => void"}},{kind:"field",name:"setSignalsEndpoint",type:{text:`(options: {
    source: string;
    endpoint: string;
    active: string[];
    features: string[][];
    geometry: object;
    timeInterval: object;
    startTime?: string;
    endTime?: string;
  }) => void`}},{kind:"field",name:"setSignalsGeometry",type:{text:"(geometry: object) => void"}},{kind:"field",name:"setGeoDBEndpoint",type:{text:`(options: {
    source: string;
    endpoint: string;
    active: string[];
    features: string[][];
    geometry: object;
    timeInterval: object;
    startTime?: string;
    endTime?: string;
  }) => void`}}],superclass:{name:"HTMLElement"},tagName:"eox-chart",customElement:!0}],exports:[{kind:"js",name:"EOxChart",declaration:{name:"EOxChart",module:"elements/chart/src/main.ts"}},{kind:"custom-element-definition",name:"eox-chart",declaration:{name:"EOxChart",module:"elements/chart/src/main.ts"}}]}],mEe={schemaVersion:hEe,readme:fEe,modules:pEe};function $Q(t){const e={h3:"h3",...Rne(),...t.components};return ma.jsxs(ma.Fragment,{children:[`
`,`
`,ma.jsx($ge,{isTemplate:!0}),`
`,ma.jsx(Bge,{}),`
`,ma.jsx(jge,{}),`
`,ma.jsx(zge,{}),`
`,ma.jsx(Uge,{}),`
`,ma.jsx(e.h3,{id:"api",children:"API"}),`
`,ma.jsx(qge,{}),`
`,ma.jsx(Hge,{includePrimary:!1})]})}function gEe(t={}){const{wrapper:e}={...Rne(),...t.components};return e?ma.jsx(e,{...t,children:ma.jsx($Q,{...t})}):$Q(t)}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function K0(t){return t+.5|0}const hc=(t,e,r)=>Math.max(Math.min(t,r),e);function Ag(t){return hc(K0(t*2.55),0,255)}function _c(t){return hc(K0(t*255),0,255)}function su(t){return hc(K0(t/2.55)/100,0,1)}function BQ(t){return hc(K0(t*100),0,100)}const fa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},M2=[..."0123456789ABCDEF"],yEe=t=>M2[t&15],bEe=t=>M2[(t&240)>>4]+M2[t&15],ob=t=>(t&240)>>4===(t&15),vEe=t=>ob(t.r)&&ob(t.g)&&ob(t.b)&&ob(t.a);function xEe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&fa[t[1]]*17,g:255&fa[t[2]]*17,b:255&fa[t[3]]*17,a:e===5?fa[t[4]]*17:255}:(e===7||e===9)&&(r={r:fa[t[1]]<<4|fa[t[2]],g:fa[t[3]]<<4|fa[t[4]],b:fa[t[5]]<<4|fa[t[6]],a:e===9?fa[t[7]]<<4|fa[t[8]]:255})),r}const _Ee=(t,e)=>t<255?e(t):"";function wEe(t){var e=vEe(t)?yEe:bEe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+_Ee(t.a,e):void 0}const EEe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function koe(t,e,r){const i=e*Math.min(r,1-r),n=(s,o=(s+t/30)%12)=>r-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function SEe(t,e,r){const i=(n,s=(n+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function CEe(t,e,r){const i=koe(t,1,.5);let n;for(e+r>1&&(n=1/(e+r),e*=n,r*=n),n=0;n<3;n++)i[n]*=1-e-r,i[n]+=e;return i}function kEe(t,e,r,i,n){return t===n?(e-r)/i+(e<r?6:0):e===n?(r-t)/i+2:(t-e)/i+4}function GS(t){const r=t.r/255,i=t.g/255,n=t.b/255,s=Math.max(r,i,n),o=Math.min(r,i,n),a=(s+o)/2;let l,u,h;return s!==o&&(h=s-o,u=a>.5?h/(2-s-o):h/(s+o),l=kEe(r,i,n,h,s),l=l*60+.5),[l|0,u||0,a]}function WS(t,e,r,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,i)).map(_c)}function YS(t,e,r){return WS(koe,t,e,r)}function AEe(t,e,r){return WS(CEe,t,e,r)}function TEe(t,e,r){return WS(SEe,t,e,r)}function Aoe(t){return(t%360+360)%360}function DEe(t){const e=EEe.exec(t);let r=255,i;if(!e)return;e[5]!==i&&(r=e[6]?Ag(+e[5]):_c(+e[5]));const n=Aoe(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=AEe(n,s,o):e[1]==="hsv"?i=TEe(n,s,o):i=YS(n,s,o),{r:i[0],g:i[1],b:i[2],a:r}}function LEe(t,e){var r=GS(t);r[0]=Aoe(r[0]+e),r=YS(r),t.r=r[0],t.g=r[1],t.b=r[2]}function OEe(t){if(!t)return;const e=GS(t),r=e[0],i=BQ(e[1]),n=BQ(e[2]);return t.a<255?`hsla(${r}, ${i}%, ${n}%, ${su(t.a)})`:`hsl(${r}, ${i}%, ${n}%)`}const jQ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zQ={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MEe(){const t={},e=Object.keys(zQ),r=Object.keys(jQ);let i,n,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],n=0;n<r.length;n++)s=r[n],a=a.replace(s,jQ[s]);s=parseInt(zQ[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let ab;function REe(t){ab||(ab=MEe(),ab.transparent=[0,0,0,0]);const e=ab[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const IEe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FEe(t){const e=IEe.exec(t);let r=255,i,n,s;if(e){if(e[7]!==i){const o=+e[7];r=e[8]?Ag(o):hc(o*255,0,255)}return i=+e[1],n=+e[3],s=+e[5],i=255&(e[2]?Ag(i):hc(i,0,255)),n=255&(e[4]?Ag(n):hc(n,0,255)),s=255&(e[6]?Ag(s):hc(s,0,255)),{r:i,g:n,b:s,a:r}}}function PEe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${su(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const h_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,af=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function NEe(t,e,r){const i=af(su(t.r)),n=af(su(t.g)),s=af(su(t.b));return{r:_c(h_(i+r*(af(su(e.r))-i))),g:_c(h_(n+r*(af(su(e.g))-n))),b:_c(h_(s+r*(af(su(e.b))-s))),a:t.a+r*(e.a-t.a)}}function lb(t,e,r){if(t){let i=GS(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*r,e===0?360:1)),i=YS(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Toe(t,e){return t&&Object.assign(e||{},t)}function UQ(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_c(t[3]))):(e=Toe(t,{r:0,g:0,b:0,a:1}),e.a=_c(e.a)),e}function $Ee(t){return t.charAt(0)==="r"?FEe(t):DEe(t)}class c0{constructor(e){if(e instanceof c0)return e;const r=typeof e;let i;r==="object"?i=UQ(e):r==="string"&&(i=xEe(e)||REe(e)||$Ee(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Toe(this._rgb);return e&&(e.a=su(e.a)),e}set rgb(e){this._rgb=UQ(e)}rgbString(){return this._valid?PEe(this._rgb):void 0}hexString(){return this._valid?wEe(this._rgb):void 0}hslString(){return this._valid?OEe(this._rgb):void 0}mix(e,r){if(e){const i=this.rgb,n=e.rgb;let s;const o=r===s?.5:r,a=2*o-1,l=i.a-n.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*n.r+.5,i.g=255&u*i.g+s*n.g+.5,i.b=255&u*i.b+s*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,r){return e&&(this._rgb=NEe(this._rgb,e._rgb,r)),this}clone(){return new c0(this.rgb)}alpha(e){return this._rgb.a=_c(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=K0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lb(this._rgb,2,e),this}darken(e){return lb(this._rgb,2,-e),this}saturate(e){return lb(this._rgb,1,e),this}desaturate(e){return lb(this._rgb,1,-e),this}rotate(e){return LEe(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Jl(){}const BEe=(()=>{let t=0;return()=>t++})();function Di(t){return t===null||typeof t>"u"}function Sn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ci(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Go(t,e){return zn(t)?t:e}function Ur(t,e){return typeof t>"u"?e:t}const jEe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Doe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function un(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Zi(t,e,r,i){let n,s,o;if(Sn(t))for(s=t.length,n=0;n<s;n++)e.call(r,t[n],n);else if(ci(t))for(o=Object.keys(t),s=o.length,n=0;n<s;n++)e.call(r,t[o[n]],o[n])}function Mv(t,e){let r,i,n,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,i=t.length;r<i;++r)if(n=t[r],s=e[r],n.datasetIndex!==s.datasetIndex||n.index!==s.index)return!1;return!0}function Rv(t){if(Sn(t))return t.map(Rv);if(ci(t)){const e=Object.create(null),r=Object.keys(t),i=r.length;let n=0;for(;n<i;++n)e[r[n]]=Rv(t[r[n]]);return e}return t}function Loe(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zEe(t,e,r,i){if(!Loe(t))return;const n=e[t],s=r[t];ci(n)&&ci(s)?sa(n,s,i):e[t]=Rv(s)}function sa(t,e,r){const i=Sn(e)?e:[e],n=i.length;if(!ci(t))return t;r=r||{};const s=r.merger||zEe;let o;for(let a=0;a<n;++a){if(o=i[a],!ci(o))continue;const l=Object.keys(o);for(let u=0,h=l.length;u<h;++u)s(l[u],t,o,r)}return t}function qg(t,e){return sa(t,e,{merger:UEe})}function UEe(t,e,r){if(!Loe(t))return;const i=e[t],n=r[t];ci(i)&&ci(n)?qg(i,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Rv(n))}const qQ={"":t=>t,x:t=>t.x,y:t=>t.y};function qEe(t){const e=t.split("."),r=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function HEe(t){const e=qEe(t);return r=>{for(const i of e){if(i==="")break;r=r&&r[i]}return r}}function Lc(t,e){return(qQ[e]||(qQ[e]=HEe(e)))(t)}function ZS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const d0=t=>typeof t<"u",Oc=t=>typeof t=="function",HQ=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function VEe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _n=Math.PI,xn=2*_n,GEe=xn+_n,Iv=Number.POSITIVE_INFINITY,WEe=_n/180,Qn=_n/2,wd=_n/4,VQ=_n*2/3,fc=Math.log10,El=Math.sign;function Hg(t,e,r){return Math.abs(t-e)<r}function GQ(t){const e=Math.round(t);t=Hg(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(fc(t))),i=t/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function YEe(t){const e=[],r=Math.sqrt(t);let i;for(i=1;i<r;i++)t%i===0&&(e.push(i),e.push(t/i));return r===(r|0)&&e.push(r),e.sort((n,s)=>n-s).pop(),e}function Qf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ZEe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Ooe(t,e,r){let i,n,s;for(i=0,n=t.length;i<n;i++)s=t[i][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ga(t){return t*(_n/180)}function XS(t){return t*(180/_n)}function WQ(t){if(!zn(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Moe(t,e){const r=e.x-t.x,i=e.y-t.y,n=Math.sqrt(r*r+i*i);let s=Math.atan2(i,r);return s<-.5*_n&&(s+=xn),{angle:s,distance:n}}function R2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function XEe(t,e){return(t-e+GEe)%xn-_n}function Yo(t){return(t%xn+xn)%xn}function h0(t,e,r,i){const n=Yo(t),s=Yo(e),o=Yo(r),a=Yo(s-n),l=Yo(o-n),u=Yo(n-s),h=Yo(n-o);return n===s||n===o||i&&s===o||a>l&&u<h}function Is(t,e,r){return Math.max(e,Math.min(r,t))}function KEe(t){return Is(t,-32768,32767)}function au(t,e,r,i=1e-6){return t>=Math.min(e,r)-i&&t<=Math.max(e,r)+i}function KS(t,e,r){r=r||(o=>t[o]<e);let i=t.length-1,n=0,s;for(;i-n>1;)s=n+i>>1,r(s)?n=s:i=s;return{lo:n,hi:i}}const lu=(t,e,r,i)=>KS(t,r,i?n=>{const s=t[n][e];return s<r||s===r&&t[n+1][e]===r}:n=>t[n][e]<r),JEe=(t,e,r)=>KS(t,r,i=>t[i][e]>=r);function QEe(t,e,r){let i=0,n=t.length;for(;i<n&&t[i]<e;)i++;for(;n>i&&t[n-1]>r;)n--;return i>0||n<t.length?t.slice(i,n):t}const Roe=["push","pop","shift","splice","unshift"];function eSe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Roe.forEach(r=>{const i="_onData"+ZS(r),n=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const o=n.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function YQ(t,e){const r=t._chartjs;if(!r)return;const i=r.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&(Roe.forEach(s=>{delete t[s]}),delete t._chartjs)}function Ioe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Foe=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Poe(t,e){let r=[],i=!1;return function(...n){r=n,i||(i=!0,Foe.call(window,()=>{i=!1,t.apply(e,r)}))}}function tSe(t,e){let r;return function(...i){return e?(clearTimeout(r),r=setTimeout(t,e,i)):t.apply(this,i),e}}const JS=t=>t==="start"?"left":t==="end"?"right":"center",io=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,rSe=(t,e,r,i)=>t===(i?"left":"right")?r:t==="center"?(e+r)/2:e;function Noe(t,e,r){const i=e.length;let n=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:u,max:h,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(n=Is(Math.min(lu(a,l,u).lo,r?i:lu(e,l,o.getPixelForValue(u)).lo),0,i-1)),f?s=Is(Math.max(lu(a,o.axis,h,!0).hi+1,r?0:lu(e,l,o.getPixelForValue(h),!0).hi+1),n,i)-n:s=i-n}return{start:n,count:s}}function $oe(t){const{xScale:e,yScale:r,_scaleRanges:i}=t,n={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!i)return t._scaleRanges=n,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,n),s}const ub=t=>t===0||t===1,ZQ=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*xn/r)),XQ=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*xn/r)+1,Vg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Qn)+1,easeOutSine:t=>Math.sin(t*Qn),easeInOutSine:t=>-.5*(Math.cos(_n*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ub(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ub(t)?t:ZQ(t,.075,.3),easeOutElastic:t=>ub(t)?t:XQ(t,.075,.3),easeInOutElastic(t){return ub(t)?t:t<.5?.5*ZQ(t*2,.1125,.45):.5+.5*XQ(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vg.easeInBounce(t*2)*.5:Vg.easeOutBounce(t*2-1)*.5+.5};function QS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Fv(t){return QS(t)?t:new c0(t)}function f_(t){return QS(t)?t:new c0(t).saturate(.5).darken(.1).hexString()}const iSe=["x","y","borderWidth","radius","tension"],nSe=["color","borderColor","backgroundColor"];function sSe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nSe},numbers:{type:"number",properties:iSe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function oSe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const KQ=new Map;function aSe(t,e){e=e||{};const r=t+JSON.stringify(e);let i=KQ.get(r);return i||(i=new Intl.NumberFormat(t,e),KQ.set(r,i)),i}function J0(t,e,r){return aSe(e,r).format(t)}const Boe={values(t){return Sn(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const i=this.chart.options.locale;let n,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(n="scientific"),s=lSe(t,r)}const o=fc(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),J0(t,i,l)},logarithmic(t,e,r){if(t===0)return"0";const i=r[e].significand||t/Math.pow(10,Math.floor(fc(t)));return[1,2,3,5,10,15].includes(i)||e>.8*r.length?Boe.numeric.call(this,t,e,r):""}};function lSe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var ux={formatters:Boe};function uSe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ux.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rh=Object.create(null),I2=Object.create(null);function Gg(t,e){if(!e)return t;const r=e.split(".");for(let i=0,n=r.length;i<n;++i){const s=r[i];t=t[s]||(t[s]=Object.create(null))}return t}function p_(t,e,r){return typeof e=="string"?sa(Gg(t,e),r):sa(Gg(t,""),e)}class cSe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>f_(n.backgroundColor),this.hoverBorderColor=(i,n)=>f_(n.borderColor),this.hoverColor=(i,n)=>f_(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return p_(this,e,r)}get(e){return Gg(this,e)}describe(e,r){return p_(I2,e,r)}override(e,r){return p_(rh,e,r)}route(e,r,i,n){const s=Gg(this,e),o=Gg(this,i),a="_"+r;Object.defineProperties(s,{[a]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],u=o[n];return ci(l)?Object.assign({},u,l):Ur(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(r=>r(this))}}var Un=new cSe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sSe,oSe,uSe]);function dSe(t){return!t||Di(t.size)||Di(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Pv(t,e,r,i,n){let s=e[n];return s||(s=e[n]=t.measureText(n).width,r.push(n)),s>i&&(i=s),i}function hSe(t,e,r,i){i=i||{};let n=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=r.length;let l,u,h,d,f;for(l=0;l<a;l++)if(d=r[l],d!=null&&!Sn(d))o=Pv(t,n,s,o,d);else if(Sn(d))for(u=0,h=d.length;u<h;u++)f=d[u],f!=null&&!Sn(f)&&(o=Pv(t,n,s,o,f));t.restore();const p=s.length/2;if(p>r.length){for(l=0;l<p;l++)delete n[s[l]];s.splice(0,p)}return o}function Ed(t,e,r){const i=t.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((e-n)*i)/i+n}function JQ(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function F2(t,e,r,i){joe(t,e,r,i,null)}function joe(t,e,r,i,n){let s,o,a,l,u,h,d,f;const p=e.pointStyle,g=e.rotation,y=e.radius;let b=(g||0)*WEe;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,i),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:n?t.ellipse(r,i,n/2,y,0,0,xn):t.arc(r,i,y,0,xn),t.closePath();break;case"triangle":h=n?n/2:y,t.moveTo(r+Math.sin(b)*h,i-Math.cos(b)*y),b+=VQ,t.lineTo(r+Math.sin(b)*h,i-Math.cos(b)*y),b+=VQ,t.lineTo(r+Math.sin(b)*h,i-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(b+wd)*l,d=Math.cos(b+wd)*(n?n/2-u:l),a=Math.sin(b+wd)*l,f=Math.sin(b+wd)*(n?n/2-u:l),t.arc(r-d,i-a,u,b-_n,b-Qn),t.arc(r+f,i-o,u,b-Qn,b),t.arc(r+d,i+a,u,b,b+Qn),t.arc(r-f,i+o,u,b+Qn,b+_n),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,h=n?n/2:l,t.rect(r-h,i-l,2*h,2*l);break}b+=wd;case"rectRot":d=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(n?n/2:y),t.moveTo(r-d,i-a),t.lineTo(r+f,i-o),t.lineTo(r+d,i+a),t.lineTo(r-f,i+o),t.closePath();break;case"crossRot":b+=wd;case"cross":d=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(n?n/2:y),t.moveTo(r-d,i-a),t.lineTo(r+d,i+a),t.moveTo(r+f,i-o),t.lineTo(r-f,i+o);break;case"star":d=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(n?n/2:y),t.moveTo(r-d,i-a),t.lineTo(r+d,i+a),t.moveTo(r+f,i-o),t.lineTo(r-f,i+o),b+=wd,d=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(n?n/2:y),t.moveTo(r-d,i-a),t.lineTo(r+d,i+a),t.moveTo(r+f,i-o),t.lineTo(r-f,i+o);break;case"line":o=n?n/2:Math.cos(b)*y,a=Math.sin(b)*y,t.moveTo(r-o,i-a),t.lineTo(r+o,i+a);break;case"dash":t.moveTo(r,i),t.lineTo(r+Math.cos(b)*(n?n/2:y),i+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function uu(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function cx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dx(t){t.restore()}function fSe(t,e,r,i,n){if(!e)return t.lineTo(r.x,r.y);if(n==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else n==="after"!=!!i?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function pSe(t,e,r,i){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function mSe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Di(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function gSe(t,e,r,i,n){if(n.strikethrough||n.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,h=n.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function ySe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function ih(t,e,r,i,n,s={}){const o=Sn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=n.string,mSe(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&ySe(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Di(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,i,s.maxWidth)),t.fillText(u,r,i,s.maxWidth),gSe(t,r,i,u,s),i+=Number(n.lineHeight);t.restore()}function f0(t,e){const{x:r,y:i,w:n,h:s,radius:o}=e;t.arc(r+o.topLeft,i+o.topLeft,o.topLeft,1.5*_n,_n,!0),t.lineTo(r,i+s-o.bottomLeft),t.arc(r+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,_n,Qn,!0),t.lineTo(r+n-o.bottomRight,i+s),t.arc(r+n-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Qn,0,!0),t.lineTo(r+n,i+o.topRight),t.arc(r+n-o.topRight,i+o.topRight,o.topRight,0,-Qn,!0),t.lineTo(r+o.topLeft,i)}const bSe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vSe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xSe(t,e){const r=(""+t).match(bSe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const _Se=t=>+t||0;function eC(t,e){const r={},i=ci(e),n=i?Object.keys(e):e,s=ci(t)?i?o=>Ur(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of n)r[o]=_Se(s(o));return r}function zoe(t){return eC(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Hd(t){return eC(t,["topLeft","topRight","bottomLeft","bottomRight"])}function lo(t){const e=zoe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function As(t,e){t=t||{},e=e||Un.font;let r=Ur(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let i=Ur(t.style,e.style);i&&!(""+i).match(vSe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:Ur(t.family,e.family),lineHeight:xSe(Ur(t.lineHeight,e.lineHeight),r),size:r,style:i,weight:Ur(t.weight,e.weight),string:""};return n.string=dSe(n),n}function Tg(t,e,r,i){let n,s,o;for(n=0,s=t.length;n<s;++n)if(o=t[n],o!==void 0&&o!==void 0)return o}function wSe(t,e,r){const{min:i,max:n}=t,s=Doe(e,(n-i)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(n,s)}}function Bc(t,e){return Object.assign(Object.create(t),e)}function tC(t,e=[""],r,i,n=()=>t[0]){const s=r||t;typeof i>"u"&&(i=Voe("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:n,override:a=>tC([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return qoe(a,l,()=>LSe(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return eee(a).includes(l)},ownKeys(a){return eee(a)},set(a,l,u){const h=a._storage||(a._storage=n());return a[l]=h[l]=u,delete a._keys,!0}})}function ep(t,e,r,i){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Uoe(t,i),setContext:s=>ep(t,s,r,i),override:s=>ep(t.override(s),e,r,i)};return new Proxy(n,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return qoe(s,o,()=>SSe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function Uoe(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:r,indexable:i,isScriptable:Oc(r)?r:()=>r,isIndexable:Oc(i)?i:()=>i}}const ESe=(t,e)=>t?t+ZS(e):e,rC=(t,e)=>ci(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qoe(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=r();return t[e]=i,i}function SSe(t,e,r){const{_proxy:i,_context:n,_subProxy:s,_descriptors:o}=t;let a=i[e];return Oc(a)&&o.isScriptable(e)&&(a=CSe(e,a,t,r)),Sn(a)&&a.length&&(a=kSe(e,a,t,o.isIndexable)),rC(e,a)&&(a=ep(a,n,s&&s[e],o)),a}function CSe(t,e,r,i){const{_proxy:n,_context:s,_subProxy:o,_stack:a}=r;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),rC(t,l)&&(l=iC(n._scopes,n,t,l)),l}function kSe(t,e,r,i){const{_proxy:n,_context:s,_subProxy:o,_descriptors:a}=r;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(ci(e[0])){const l=e,u=n._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=iC(u,n,t,h);e.push(ep(d,s,o&&o[t],a))}}return e}function Hoe(t,e,r){return Oc(t)?t(e,r):t}const ASe=(t,e)=>t===!0?e:typeof t=="string"?Lc(e,t):void 0;function TSe(t,e,r,i,n){for(const s of e){const o=ASe(r,s);if(o){t.add(o);const a=Hoe(o._fallback,r,n);if(typeof a<"u"&&a!==r&&a!==i)return a}else if(o===!1&&typeof i<"u"&&r!==i)return null}return!1}function iC(t,e,r,i){const n=e._rootScopes,s=Hoe(e._fallback,r,i),o=[...t,...n],a=new Set;a.add(i);let l=QQ(a,o,r,s||r,i);return l===null||typeof s<"u"&&s!==r&&(l=QQ(a,o,s,l,i),l===null)?!1:tC(Array.from(a),[""],n,s,()=>DSe(e,r,i))}function QQ(t,e,r,i,n){for(;r;)r=TSe(t,e,r,i,n);return r}function DSe(t,e,r){const i=t._getTarget();e in i||(i[e]={});const n=i[e];return Sn(n)&&ci(r)?r:n||{}}function LSe(t,e,r,i){let n;for(const s of e)if(n=Voe(ESe(s,t),r),typeof n<"u")return rC(t,n)?iC(r,i,t,n):n}function Voe(t,e){for(const r of e){if(!r)continue;const i=r[t];if(typeof i<"u")return i}}function eee(t){let e=t._keys;return e||(e=t._keys=OSe(t._scopes)),e}function OSe(t){const e=new Set;for(const r of t)for(const i of Object.keys(r).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}function Goe(t,e,r,i){const{iScale:n}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,u,h;for(a=0,l=i;a<l;++a)u=a+r,h=e[u],o[a]={r:n.parse(Lc(h,s),u)};return o}const MSe=Number.EPSILON||1e-14,tp=(t,e)=>e<t.length&&!t[e].skip&&t[e],Woe=t=>t==="x"?"y":"x";function RSe(t,e,r,i){const n=t.skip?e:t,s=e,o=r.skip?e:r,a=R2(s,n),l=R2(o,s);let u=a/(a+l),h=l/(a+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const d=i*u,f=i*h;return{previous:{x:s.x-d*(o.x-n.x),y:s.y-d*(o.y-n.y)},next:{x:s.x+f*(o.x-n.x),y:s.y+f*(o.y-n.y)}}}function ISe(t,e,r){const i=t.length;let n,s,o,a,l,u=tp(t,0);for(let h=0;h<i-1;++h)if(l=u,u=tp(t,h+1),!(!l||!u)){if(Hg(e[h],0,MSe)){r[h]=r[h+1]=0;continue}n=r[h]/e[h],s=r[h+1]/e[h],a=Math.pow(n,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),r[h]=n*o*e[h],r[h+1]=s*o*e[h])}}function FSe(t,e,r="x"){const i=Woe(r),n=t.length;let s,o,a,l=tp(t,0);for(let u=0;u<n;++u){if(o=a,a=l,l=tp(t,u+1),!a)continue;const h=a[r],d=a[i];o&&(s=(h-o[r])/3,a[`cp1${r}`]=h-s,a[`cp1${i}`]=d-s*e[u]),l&&(s=(l[r]-h)/3,a[`cp2${r}`]=h+s,a[`cp2${i}`]=d+s*e[u])}}function PSe(t,e="x"){const r=Woe(e),i=t.length,n=Array(i).fill(0),s=Array(i);let o,a,l,u=tp(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=tp(t,o+1),!!l){if(u){const h=u[e]-l[e];n[o]=h!==0?(u[r]-l[r])/h:0}s[o]=a?u?El(n[o-1])!==El(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}ISe(t,n,s),FSe(t,s,e)}function cb(t,e,r){return Math.max(Math.min(t,r),e)}function NSe(t,e){let r,i,n,s,o,a=uu(t[0],e);for(r=0,i=t.length;r<i;++r)o=s,s=a,a=r<i-1&&uu(t[r+1],e),s&&(n=t[r],o&&(n.cp1x=cb(n.cp1x,e.left,e.right),n.cp1y=cb(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=cb(n.cp2x,e.left,e.right),n.cp2y=cb(n.cp2y,e.top,e.bottom)))}function $Se(t,e,r,i,n){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")PSe(t,n);else{let u=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=RSe(u,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&NSe(t,r)}function nC(){return typeof window<"u"&&typeof document<"u"}function sC(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Nv(t,e,r){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[r])):i=t,i}const hx=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function BSe(t,e){return hx(t).getPropertyValue(e)}const jSe=["top","right","bottom","left"];function Vd(t,e,r){const i={};r=r?"-"+r:"";for(let n=0;n<4;n++){const s=jSe[n];i[s]=parseFloat(t[e+"-"+s+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const zSe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function USe(t,e){const r=t.touches,i=r&&r.length?r[0]:t,{offsetX:n,offsetY:s}=i;let o=!1,a,l;if(zSe(n,s,t.target))a=n,l=s;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Fd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:i}=e,n=hx(r),s=n.boxSizing==="border-box",o=Vd(n,"padding"),a=Vd(n,"border","width"),{x:l,y:u,box:h}=USe(t,r),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/p*r.width/i),y:Math.round((u-f)/g*r.height/i)}}function qSe(t,e,r){let i,n;if(e===void 0||r===void 0){const s=t&&sC(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const o=s.getBoundingClientRect(),a=hx(s),l=Vd(a,"border","width"),u=Vd(a,"padding");e=o.width-u.width-l.width,r=o.height-u.height-l.height,i=Nv(a.maxWidth,s,"clientWidth"),n=Nv(a.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:i||Iv,maxHeight:n||Iv}}const db=t=>Math.round(t*10)/10;function HSe(t,e,r,i){const n=hx(t),s=Vd(n,"margin"),o=Nv(n.maxWidth,t,"clientWidth")||Iv,a=Nv(n.maxHeight,t,"clientHeight")||Iv,l=qSe(t,e,r);let{width:u,height:h}=l;if(n.boxSizing==="content-box"){const f=Vd(n,"border","width"),p=Vd(n,"padding");u-=p.width+f.width,h-=p.height+f.height}return u=Math.max(0,u-s.width),h=Math.max(0,i?u/i:h-s.height),u=db(Math.min(u,o,l.maxWidth)),h=db(Math.min(h,a,l.maxHeight)),u&&!h&&(h=db(u/2)),(e!==void 0||r!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,u=db(Math.floor(h*i))),{width:u,height:h}}function tee(t,e,r){const i=e||1,n=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==n||o.width!==s?(t.currentDevicePixelRatio=i,o.height=n,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const VSe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};nC()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ree(t,e){const r=BSe(t,e),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Pd(t,e,r,i){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function GSe(t,e,r,i){return{x:t.x+r*(e.x-t.x),y:i==="middle"?r<.5?t.y:e.y:i==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function WSe(t,e,r,i){const n={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Pd(t,n,r),a=Pd(n,s,r),l=Pd(s,e,r),u=Pd(o,a,r),h=Pd(a,l,r);return Pd(u,h,r)}const YSe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},ZSe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Pf(t,e,r){return t?YSe(e,r):ZSe()}function Yoe(t,e){let r,i;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Zoe(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Xoe(t){return t==="angle"?{between:h0,compare:XEe,normalize:Yo}:{between:au,compare:(e,r)=>e-r,normalize:e=>e}}function iee({start:t,end:e,count:r,loop:i,style:n}){return{start:t%r,end:e%r,loop:i&&(e-t+1)%r===0,style:n}}function XSe(t,e,r){const{property:i,start:n,end:s}=r,{between:o,normalize:a}=Xoe(i),l=e.length;let{start:u,end:h,loop:d}=t,f,p;if(d){for(u+=l,h+=l,f=0,p=l;f<p&&o(a(e[u%l][i]),n,s);++f)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:d,style:t.style}}function Koe(t,e,r){if(!r)return[t];const{property:i,start:n,end:s}=r,o=e.length,{compare:a,between:l,normalize:u}=Xoe(i),{start:h,end:d,loop:f,style:p}=XSe(t,e,r),g=[];let y=!1,b=null,x,w,S;const C=()=>l(n,S,x)&&a(n,S)!==0,k=()=>a(s,x)===0||l(s,S,x),O=()=>y||C(),M=()=>!y||k();for(let A=h,I=h;A<=d;++A)w=e[A%o],!w.skip&&(x=u(w[i]),x!==S&&(y=l(x,n,s),b===null&&O()&&(b=a(x,n)===0?A:I),b!==null&&M()&&(g.push(iee({start:b,end:A,loop:f,count:o,style:p})),b=null),I=A,S=x));return b!==null&&g.push(iee({start:b,end:d,loop:f,count:o,style:p})),g}function Joe(t,e){const r=[],i=t.segments;for(let n=0;n<i.length;n++){const s=Koe(i[n],t.points,e);s.length&&r.push(...s)}return r}function KSe(t,e,r,i){let n=0,s=e-1;if(r&&!i)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,r&&(s+=n);s>n&&t[s%e].skip;)s--;return s%=e,{start:n,end:s}}function JSe(t,e,r,i){const n=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%n];u.skip||u.stop?a.skip||(i=!1,s.push({start:e%n,end:(l-1)%n,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%n,end:o%n,loop:i}),s}function QSe(t,e){const r=t.points,i=t.options.spanGaps,n=r.length;if(!n)return[];const s=!!t._loop,{start:o,end:a}=KSe(r,n,s,i);if(i===!0)return nee(t,[{start:o,end:a,loop:s}],r,e);const l=a<o?a+n:a,u=!!t._fullLoop&&o===0&&a===n-1;return nee(t,JSe(r,o,l,u),r,e)}function nee(t,e,r,i){return!i||!i.setContext||!r?e:eCe(t,e,r,i)}function eCe(t,e,r,i){const n=t._chart.getContext(),s=see(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=r.length,u=[];let h=s,d=e[0].start,f=d;function p(g,y,b,x){const w=a?-1:1;if(g!==y){for(g+=l;r[g%l].skip;)g-=w;for(;r[y%l].skip;)y+=w;g%l!==y%l&&(u.push({start:g%l,end:y%l,loop:b,style:x}),h=x,d=y%l)}}for(const g of e){d=a?d:g.start;let y=r[d%l],b;for(f=d+1;f<=g.end;f++){const x=r[f%l];b=see(i.setContext(Bc(n,{type:"segment",p0:y,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),tCe(b,h)&&p(d,f-1,g.loop,h),y=x,h=b}d<f-1&&p(d,f-1,g.loop,h)}return u}function see(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tCe(t,e){if(!e)return!1;const r=[],i=function(n,s){return QS(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class rCe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,i,n){const s=r.listeners[n],o=r.duration;s.forEach(a=>a({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(i-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Foe.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),s.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let i=r.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,i)),i}listen(e,r,i){this._getAnims(e).listeners[r].push(i)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const i=r.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tu=new rCe;const oee="transparent",iCe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const i=Fv(t||oee),n=i.valid&&Fv(e||oee);return n&&n.valid?n.mix(i,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class nCe{constructor(e,r,i,n){const s=r[i];n=Tg([e.to,n,s,e.from]);const o=Tg([e.from,s,n]);this._active=!0,this._fn=e.fn||iCe[e.type||typeof o],this._easing=Vg[e.easing]||Vg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,r,i){if(this._active){this._notify(!1);const n=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Tg([e.to,r,n,e.from]),this._from=Tg([e.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,i=this._duration,n=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||r<i),!this._active){this._target[n]=a,this._notify(!0);return}if(r<0){this._target[n]=s;return}l=r/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,i)=>{e.push({res:r,rej:i})})}_notify(e){const r=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][r]()}}class Qoe{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!ci(e))return;const r=Object.keys(Un.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const s=e[n];if(!ci(s))return;const o={};for(const a of r)o[a]=s[a];(Sn(s.properties)&&s.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,r){const i=r.options,n=oCe(e,i);if(!n)return[];const s=this._createAnimations(n,i);return i.$shared&&sCe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,r){const i=this._properties,n=[],s=e.$animations||(e.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){n.push(...this._animateOptions(e,r));continue}const h=r[u];let d=s[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[u]=h;continue}s[u]=d=new nCe(f,e,u,h),n.push(d)}return n}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const i=this._createAnimations(e,r);if(i.length)return tu.add(this._chart,i),!0}}function sCe(t,e){const r=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const s=t[i[n]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function oCe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function aee(t,e){const r=t&&t.options||{},i=r.reverse,n=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:i?s:n,end:i?n:s}}function aCe(t,e,r){if(r===!1)return!1;const i=aee(t,r),n=aee(e,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function lCe(t){let e,r,i,n;return ci(t)?(e=t.top,r=t.right,i=t.bottom,n=t.left):e=r=i=n=t,{top:e,right:r,bottom:i,left:n,disabled:t===!1}}function eae(t,e){const r=[],i=t._getSortedDatasetMetas(e);let n,s;for(n=0,s=i.length;n<s;++n)r.push(i[n].index);return r}function lee(t,e,r,i={}){const n=t.keys,s=i.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===r){if(i.all)continue;break}u=t.values[l],zn(u)&&(s||e===0||El(e)===El(u))&&(e+=u)}return e}}function uCe(t,e){const{iScale:r,vScale:i}=e,n=r.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,h;for(l=0,u=o.length;l<u;++l)h=o[l],a[l]={[n]:h,[s]:t[h]};return a}function uee(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function cCe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function dCe(t){const{min:e,max:r,minDefined:i,maxDefined:n}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function hCe(t,e,r){const i=t[e]||(t[e]={});return i[r]||(i[r]={})}function cee(t,e,r,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const s=t[n.index];if(r&&s>0||!r&&s<0)return n.index}return null}function dee(t,e){const{chart:r,_cachedMeta:i}=t,n=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,h=cCe(s,o,i),d=e.length;let f;for(let p=0;p<d;++p){const g=e[p],{[l]:y,[u]:b}=g,x=g._stacks||(g._stacks={});f=x[u]=hCe(n,h,y),f[a]=b,f._top=cee(f,o,!0,i.type),f._bottom=cee(f,o,!1,i.type);const w=f._visualValues||(f._visualValues={});w[a]=b}}function m_(t,e){const r=t.scales;return Object.keys(r).filter(i=>r[i].axis===e).shift()}function fCe(t,e){return Bc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pCe(t,e,r){return Bc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function gg(t,e){const r=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const n of e){const s=n._stacks;if(!s||s[i]===void 0||s[i][r]===void 0)return;delete s[i][r],s[i]._visualValues!==void 0&&s[i]._visualValues[r]!==void 0&&delete s[i]._visualValues[r]}}}const g_=t=>t==="reset"||t==="none",hee=(t,e)=>e?t:Object.assign({},t),mCe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:eae(r,!0),values:null};class Za{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=uee(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),n=(d,f,p,g)=>d==="x"?f:d==="r"?g:p,s=r.xAxisID=Ur(i.xAxisID,m_(e,"x")),o=r.yAxisID=Ur(i.yAxisID,m_(e,"y")),a=r.rAxisID=Ur(i.rAxisID,m_(e,"r")),l=r.indexAxis,u=r.iAxisID=n(l,s,o,a),h=r.vAxisID=n(l,o,s,a);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&YQ(this._data,this),e._stacked&&gg(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(ci(r)){const n=this._cachedMeta;this._data=uCe(r,n)}else if(i!==r){if(i){YQ(i,this);const n=this._cachedMeta;gg(n),n._parsed=[]}r&&Object.isExtensible(r)&&eSe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const s=r._stacked;r._stacked=uee(r.vScale,r),r.stack!==i.stack&&(n=!0,gg(r),r.stack=i.stack),this._resyncElements(e),(n||s!==r._stacked)&&dee(this,r._parsed)}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:n}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&r===n.length?!0:i._sorted,u=e>0&&i._parsed[e-1],h,d,f;if(this._parsing===!1)i._parsed=n,i._sorted=!0,f=n;else{Sn(n[e])?f=this.parseArrayData(i,n,e,r):ci(n[e])?f=this.parseObjectData(i,n,e,r):f=this.parsePrimitiveData(i,n,e,r);const p=()=>d[a]===null||u&&d[a]<u[a];for(h=0;h<r;++h)i._parsed[h+e]=d=f[h],l&&(p()&&(l=!1),u=d);i._sorted=l}o&&dee(this,f)}parsePrimitiveData(e,r,i,n){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),h=s===o,d=new Array(n);let f,p,g;for(f=0,p=n;f<p;++f)g=f+i,d[f]={[a]:h||s.parse(u[g],g),[l]:o.parse(r[g],g)};return d}parseArrayData(e,r,i,n){const{xScale:s,yScale:o}=e,a=new Array(n);let l,u,h,d;for(l=0,u=n;l<u;++l)h=l+i,d=r[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,r,i,n){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(n);let h,d,f,p;for(h=0,d=n;h<d;++h)f=h+i,p=r[f],u[h]={x:s.parse(Lc(p,a),f),y:o.parse(Lc(p,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const n=this.chart,s=this._cachedMeta,o=r[e.axis],a={keys:eae(n,!0),values:r._stacks[e.axis]._visualValues};return lee(a,o,s.index,{mode:i})}updateRangeFromParsed(e,r,i,n){const s=i[r.axis];let o=s===null?NaN:s;const a=n&&i._stacks[r.axis];n&&a&&(n.values=a,o=lee(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const i=this._cachedMeta,n=i._parsed,s=i._sorted&&e===i.iScale,o=n.length,a=this._getOtherScale(e),l=mCe(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=dCe(a);let f,p;function g(){p=n[f];const y=p[a.axis];return!zn(p[e.axis])||h>y||d<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(u,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let n,s,o;for(n=0,s=r.length;n<s;++n)o=r[n][e.axis],zn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,n=r.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=lCe(Ur(this.options.clip,aCe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,i=this._cachedMeta,n=i.data||[],s=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,u=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=n[h];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,r){const i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=pCe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=fCe(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const n=r==="active",s=this._cachedDataOpts,o=e+"-"+r,a=s[o],l=this.enableOptionSharing&&d0(i);if(a)return hee(a,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),h),p=Object.keys(Un.elements[e]),g=()=>this.getContext(i,n,r),y=u.resolveNamedOptions(f,p,g,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(hee(y,l))),y}_resolveAnimations(e,r,i){const n=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,a=s[o];if(a)return a;let l;if(n.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,r),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,i,r))}const u=new Qoe(n,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||g_(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),n=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(r,s)||s!==n;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:o}}updateElement(e,r,i,n){g_(n)?Object.assign(e,i):this._resolveAnimations(r,n).update(e,i)}updateSharedOptions(e,r,i){e&&!g_(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,n){e.active=n;const s=this.getStyle(r,n);this._resolveAnimations(r,i,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const n=i.length,s=r.length,o=Math.min(s,n);o&&this.parse(0,o),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,r,i=!0){const n=this._cachedMeta,s=n.data,o=e+r;let a;const l=u=>{for(u.length+=r,a=u.length-1;a>=o;a--)u[a]=u[a-r]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,r),i&&this.updateElements(s,e,r,"reset")}updateElements(e,r,i,n){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,r);i._stacked&&gg(i,n)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,n]=e;this[r](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ge(Za,"defaults",{}),Ge(Za,"datasetElementType",null),Ge(Za,"dataElementType",null);function gCe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let i=[];for(let n=0,s=r.length;n<s;n++)i=i.concat(r[n].controller.getAllParsedValues(t));t._cache.$bar=Ioe(i.sort((n,s)=>n-s))}return t._cache.$bar}function yCe(t){const e=t.iScale,r=gCe(e,t.type);let i=e._length,n,s,o,a;const l=()=>{o===32767||o===-32768||(d0(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(n=0,s=r.length;n<s;++n)o=e.getPixelForValue(r[n]),l();for(a=void 0,n=0,s=e.ticks.length;n<s;++n)o=e.getPixelForTick(n),l();return i}function bCe(t,e,r,i){const n=r.barThickness;let s,o;return Di(n)?(s=e.min*r.categoryPercentage,o=r.barPercentage):(s=n*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function vCe(t,e,r,i){const n=e.pixels,s=n[t];let o=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null;const l=r.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:r.barPercentage,start:u}}function xCe(t,e,r,i){const n=r.parse(t[0],i),s=r.parse(t[1],i),o=Math.min(n,s),a=Math.max(n,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[r.axis]=u,e._custom={barStart:l,barEnd:u,start:n,end:s,min:o,max:a}}function tae(t,e,r,i){return Sn(t)?xCe(t,e,r,i):e[r.axis]=r.parse(t,i),e}function fee(t,e,r,i){const n=t.iScale,s=t.vScale,o=n.getLabels(),a=n===s,l=[];let u,h,d,f;for(u=r,h=r+i;u<h;++u)f=e[u],d={},d[n.axis]=a||n.parse(o[u],u),l.push(tae(f,d,s,u));return l}function y_(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function _Ce(t,e,r){return t!==0?El(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function wCe(t){let e,r,i,n,s;return t.horizontal?(e=t.base>t.x,r="left",i="right"):(e=t.base<t.y,r="bottom",i="top"),e?(n="end",s="start"):(n="start",s="end"),{start:r,end:i,reverse:e,top:n,bottom:s}}function ECe(t,e,r,i){let n=e.borderSkipped;const s={};if(!n){t.borderSkipped=s;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:h}=wCe(t);n==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===i?n=u:(r._bottom||0)===i?n=h:(s[pee(h,o,a,l)]=!0,n=u)),s[pee(n,o,a,l)]=!0,t.borderSkipped=s}function pee(t,e,r,i){return i?(t=SCe(t,e,r),t=mee(t,r,e)):t=mee(t,e,r),t}function SCe(t,e,r){return t===e?r:t===r?e:t}function mee(t,e,r){return t==="start"?e:t==="end"?r:t}function CCe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class wc extends Za{parsePrimitiveData(e,r,i,n){return fee(e,r,i,n)}parseArrayData(e,r,i,n){return fee(e,r,i,n)}parseObjectData(e,r,i,n){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,h=o.axis==="x"?a:l,d=[];let f,p,g,y;for(f=i,p=i+n;f<p;++f)y=r[f],g={},g[s.axis]=s.parse(Lc(y,u),f),d.push(tae(Lc(y,h),g,o,f));return d}updateRangeFromParsed(e,r,i,n){super.updateRangeFromParsed(e,r,i,n);const s=i._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:i,vScale:n}=r,s=this.getParsed(e),o=s._custom,a=y_(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,i,n){const s=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,n);for(let p=r;p<r+i;p++){const g=this.getParsed(p),y=s||Di(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,h),x=(g._stacks||{})[a.axis],w={horizontal:u,base:y.base,enableBorderRadius:!x||y_(g._custom)||o===x._top||o===x._bottom,x:u?y.head:b.center,y:u?b.center:y.head,height:u?b.size:Math.abs(y.size),width:u?Math.abs(y.size):b.size};f&&(w.options=d||this.resolveDataElementOptions(p,e[p].active?"active":n));const S=w.options||e[p].options;ECe(w,S,x,o),CCe(w,S,h.ratio),this.updateElement(e[p],p,w,n)}}_getStacks(e,r){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(r),l=a&&a[i.axis],u=h=>{const d=h._parsed.find(p=>p[i.axis]===l),f=d&&d[h.vScale.axis];if(Di(f)||isNaN(f))return!0};for(const h of n)if(!(r!==void 0&&u(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,i){const n=this._getStacks(e,i),s=r!==void 0?n.indexOf(r):-1;return s===-1?n.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,i=r.iScale,n=[];let s,o;for(s=0,o=r.data.length;s<o;++s)n.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||yCe(r),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:i,index:n},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),u=l._custom,h=y_(u);let d=l[r.axis],f=0,p=i?this.applyStack(r,l,i):d,g,y;p!==d&&(f=p-d,p=d),h&&(d=u.barStart,p=u.barEnd-u.barStart,d!==0&&El(d)!==El(u.barEnd)&&(f=0),f+=d);const b=!Di(s)&&!h?s:f;let x=r.getPixelForValue(b);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(f+p):g=x,y=g-x,Math.abs(y)<o){y=_Ce(y,r,a)*o,d===a&&(x-=y/2);const w=r.getPixelForDecimal(0),S=r.getPixelForDecimal(1),C=Math.min(w,S),k=Math.max(w,S);x=Math.max(Math.min(x,k),C),g=x+y,i&&!h&&(l._stacks[r.axis]._visualValues[n]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(a)){const w=El(y)*r.getLineWidthForValue(a)/2;x+=w,y-=w}return{size:y,base:x,head:g,center:g+y/2}}_calculateBarIndexPixels(e,r){const i=r.scale,n=this.options,s=n.skipNull,o=Ur(n.maxBarThickness,1/0);let a,l;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,h=n.barThickness==="flex"?vCe(e,r,n,u):bCe(e,r,n,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=h.start+h.chunk*d+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,r.min*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,i=e.data,n=i.length;let s=0;for(;s<n;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Ge(wc,"id","bar"),Ge(wc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ge(wc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Kb extends Za{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,i,n){const s=super.parsePrimitiveData(e,r,i,n);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,r,i,n){const s=super.parseArrayData(e,r,i,n);for(let o=0;o<s.length;o++){const a=r[i+o];s[o]._custom=Ur(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,r,i,n){const s=super.parseObjectData(e,r,i,n);for(let o=0;o<s.length;o++){const a=r[i+o];s[o]._custom=Ur(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=r,o=this.getParsed(e),a=n.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,i,n){const s=n==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,n),h=o.axis,d=a.axis;for(let f=r;f<r+i;f++){const p=e[f],g=!s&&this.getParsed(f),y={},b=y[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[h]),x=y[d]=s?a.getBasePixel():a.getPixelForValue(g[d]);y.skip=isNaN(b)||isNaN(x),u&&(y.options=l||this.resolveDataElementOptions(f,p.active?"active":n),s&&(y.options.radius=0)),this.updateElement(p,f,y,n)}}resolveDataElementOptions(e,r){const i=this.getParsed(e);let n=super.resolveDataElementOptions(e,r);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const s=n.radius;return r!=="active"&&(n.radius=0),n.radius+=Ur(i&&i._custom,s),n}}Ge(Kb,"id","bubble"),Ge(Kb,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ge(Kb,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function kCe(t,e,r){let i=1,n=1,s=0,o=0;if(e<xn){const a=t,l=a+e,u=Math.cos(a),h=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(S,C,k)=>h0(S,a,l,!0)?1:Math.max(C,C*r,k,k*r),g=(S,C,k)=>h0(S,a,l,!0)?-1:Math.min(C,C*r,k,k*r),y=p(0,u,d),b=p(Qn,h,f),x=g(_n,u,d),w=g(_n+Qn,h,f);i=(y-x)/2,n=(b-w)/2,s=-(y+x)/2,o=-(b+w)/2}return{ratioX:i,ratioY:n,offsetX:s,offsetY:o}}class zd extends Za{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let s=l=>+i[l];if(ci(i[e])){const{key:l="value"}=this._parsing;s=u=>+Lc(i[u],l)}let o,a;for(o=e,a=e+r;o<a;++o)n._parsed[o]=s(o)}}_getRotation(){return Ga(this.options.rotation-90)}_getCircumference(){return Ga(this.options.circumference)}_getRotationExtents(){let e=xn,r=-xn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,s=n._getRotation(),o=n._getCircumference();e=Math.min(e,s),r=Math.max(r,s+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,n=this._cachedMeta,s=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(jEe(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:y}=kCe(d,h,l),b=(i.width-o)/f,x=(i.height-o)/p,w=Math.max(Math.min(b,x)/2,0),S=Doe(this.options.radius,w),C=Math.max(S*l,0),k=(S-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*S,this.offsetY=y*S,n.total=this.calculateTotal(),this.outerRadius=S-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const i=this.options,n=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/xn)}updateElements(e,r,i,n){const s=n==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(r,n);let x=this._getRotation(),w;for(w=0;w<r;++w)x+=this._circumference(w,s);for(w=r;w<r+i;++w){const S=this._circumference(w,s),C=e[w],k={x:h+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+S,circumference:S,outerRadius:g,innerRadius:p};b&&(k.options=y||this.resolveDataElementOptions(w,C.active?"active":n)),x+=S,this.updateElement(C,w,k,n)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let i=0,n;for(n=0;n<r.length;n++){const s=e._parsed[n];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(n)&&!r[n].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?xn*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=J0(r._parsed[e],i.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const i=this.chart;let n,s,o,a,l;if(!e){for(n=0,s=i.data.datasets.length;n<s;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,a=o.controller;break}}if(!e)return 0;for(n=0,s=e.length;n<s;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,n=e.length;i<n;++i){const s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(Ur(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ge(zd,"id","doughnut"),Ge(zd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ge(zd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ge(zd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}});class pu extends Za{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:i,data:n=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=Noe(r,n,o);this._drawStart=a,this._drawCount=l,$oe(r)&&(a=0,l=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(n,a,l,e)}updateElements(e,r,i,n){const s=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(r,n),f=o.axis,p=a.axis,{spanGaps:g,segment:y}=this.options,b=Qf(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||n==="none",w=r+i,S=e.length;let C=r>0&&this.getParsed(r-1);for(let k=0;k<S;++k){const O=e[k],M=x?O:{};if(k<r||k>=w){M.skip=!0;continue}const A=this.getParsed(k),I=Di(A[p]),R=M[f]=o.getPixelForValue(A[f],k),V=M[p]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[p],k);M.skip=isNaN(R)||isNaN(V)||I,M.stop=k>0&&Math.abs(A[f]-C[f])>b,y&&(M.parsed=A,M.raw=u.data[k]),d&&(M.options=h||this.resolveDataElementOptions(k,O.active?"active":n)),x||this.updateElement(O,k,M,n),C=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,i=r.options&&r.options.borderWidth||0,n=e.data||[];if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ge(pu,"id","line"),Ge(pu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ge(pu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Sl extends Za{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=J0(r._parsed[e].r,i.options.locale);return{label:n[e]||"",value:s}}parseObjectData(e,r,i,n){return Goe.bind(this)(e,r,i,n)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,n)=>{const s=this.getParsed(n).r;!isNaN(s)&&this.chart.getDataVisibility(n)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,i=e.options,n=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,r,i,n){const s=n==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,d=u.yCenter,f=u.getIndexAngle(0)-.5*_n;let p=f,g;const y=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,n,y);for(g=r;g<r+i;g++){const b=e[g];let x=p,w=p+this._computeAngle(g,n,y),S=o.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=w,s&&(l.animateScale&&(S=0),l.animateRotate&&(x=w=f));const C={x:h,y:d,innerRadius:0,outerRadius:S,startAngle:x,endAngle:w,options:this.resolveDataElementOptions(g,b.active?"active":n)};this.updateElement(b,g,C,n)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&r++}),r}_computeAngle(e,r,i){return this.chart.getDataVisibility(e)?Ga(this.resolveDataElementOptions(e,r).angle||i):0}}Ge(Sl,"id","polarArea"),Ge(Sl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ge(Sl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class P2 extends zd{}Ge(P2,"id","pie"),Ge(P2,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Jb extends Za{getLabelAndValue(e){const r=this._cachedMeta.vScale,i=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(e,r,i,n){return Goe.bind(this)(e,r,i,n)}update(e){const r=this._cachedMeta,i=r.dataset,n=r.data||[],s=r.iScale.getLabels();if(i.points=n,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===n.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,r,i,n){const s=this._cachedMeta.rScale,o=n==="reset";for(let a=r;a<r+i;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":n),h=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:h.x,f=o?s.yCenter:h.y,p={x:d,y:f,angle:h.angle,skip:isNaN(d)||isNaN(f),options:u};this.updateElement(l,a,p,n)}}}Ge(Jb,"id","radar"),Ge(Jb,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ge(Jb,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Gd extends Za{getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=r,o=this.getParsed(e),a=n.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,n=this.chart._animationsDisabled;let{start:s,count:o}=Noe(r,i,n);if(this._drawStart=s,this._drawCount=o,$oe(r)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=r;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,n){const s=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(r,n),d=this.getSharedOptions(h),f=this.includeOptions(n,d),p=o.axis,g=a.axis,{spanGaps:y,segment:b}=this.options,x=Qf(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||n==="none";let S=r>0&&this.getParsed(r-1);for(let C=r;C<r+i;++C){const k=e[C],O=this.getParsed(C),M=w?k:{},A=Di(O[g]),I=M[p]=o.getPixelForValue(O[p],C),R=M[g]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[g],C);M.skip=isNaN(I)||isNaN(R)||A,M.stop=C>0&&Math.abs(O[p]-S[p])>x,b&&(M.parsed=O,M.raw=u.data[C]),f&&(M.options=d||this.resolveDataElementOptions(C,k.active?"active":n)),w||this.updateElement(k,C,M,n),S=O}this.updateSharedOptions(d,n,h)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let a=0;for(let l=r.length-1;l>=0;--l)a=Math.max(a,r[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,o)/2}}Ge(Gd,"id","scatter"),Ge(Gd,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ge(Gd,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ACe=Object.freeze({__proto__:null,BarController:wc,BubbleController:Kb,DoughnutController:zd,LineController:pu,PieController:P2,PolarAreaController:Sl,RadarController:Jb,ScatterController:Gd});function Sd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oC{constructor(e){Ge(this,"options");this.options=e||{}}static override(e){Object.assign(oC.prototype,e)}init(){}formats(){return Sd()}parse(){return Sd()}format(){return Sd()}add(){return Sd()}diff(){return Sd()}startOf(){return Sd()}endOf(){return Sd()}}var rae={_date:oC};function TCe(t,e,r,i){const{controller:n,data:s,_sorted:o}=t,a=n._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?JEe:lu;if(i){if(n._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=l(s,e,r-h),f=l(s,e,r+h);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,r)}return{lo:0,hi:s.length-1}}function Q0(t,e,r,i,n){const s=t.getSortedVisibleDatasetMetas(),o=r[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:h}=s[a],{lo:d,hi:f}=TCe(s[a],e,o,n);for(let p=d;p<=f;++p){const g=h[p];g.skip||i(g,u,p)}}}function DCe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(i,n){const s=e?Math.abs(i.x-n.x):0,o=r?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function b_(t,e,r,i,n){const s=[];return!n&&!t.isPointInArea(e)||Q0(t,r,e,function(a,l,u){!n&&!uu(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function LCe(t,e,r,i){let n=[];function s(o,a,l){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Moe(o,{x:e.x,y:e.y});h0(d,u,h)&&n.push({element:o,datasetIndex:a,index:l})}return Q0(t,r,e,s),n}function OCe(t,e,r,i,n,s){let o=[];const a=DCe(r);let l=Number.POSITIVE_INFINITY;function u(h,d,f){const p=h.inRange(e.x,e.y,n);if(i&&!p)return;const g=h.getCenterPoint(n);if(!(!!s||t.isPointInArea(g))&&!p)return;const b=a(e,g);b<l?(o=[{element:h,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:h,datasetIndex:d,index:f})}return Q0(t,r,e,u),o}function v_(t,e,r,i,n,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!i?LCe(t,e,r,n):OCe(t,e,r,i,n,s)}function gee(t,e,r,i,n){const s=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return Q0(t,r,e,(l,u,h)=>{l[o]&&l[o](e[r],n)&&(s.push({element:l,datasetIndex:u,index:h}),a=a||l.inRange(e.x,e.y,n))}),i&&!a?[]:s}var MCe={evaluateInteractionItems:Q0,modes:{index(t,e,r,i){const n=Fd(e,t),s=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?b_(t,n,s,i,o):v_(t,n,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=a[0].index,d=u.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:h})}),l):[]},dataset(t,e,r,i){const n=Fd(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?b_(t,n,s,i,o):v_(t,n,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:l,index:h})}return a},point(t,e,r,i){const n=Fd(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return b_(t,n,s,i,o)},nearest(t,e,r,i){const n=Fd(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return v_(t,n,s,r.intersect,i,o)},x(t,e,r,i){const n=Fd(e,t);return gee(t,n,"x",r.intersect,i)},y(t,e,r,i){const n=Fd(e,t);return gee(t,n,"y",r.intersect,i)}}};const iae=["left","top","right","bottom"];function yg(t,e){return t.filter(r=>r.pos===e)}function yee(t,e){return t.filter(r=>iae.indexOf(r.pos)===-1&&r.box.axis===e)}function bg(t,e){return t.sort((r,i)=>{const n=e?i:r,s=e?r:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight})}function RCe(t){const e=[];let r,i,n,s,o,a;for(r=0,i=(t||[]).length;r<i;++r)n=t[r],{position:s,options:{stack:o,stackWeight:a=1}}=n,e.push({index:r,box:n,pos:s,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&s+o,stackWeight:a});return e}function ICe(t){const e={};for(const r of t){const{stack:i,pos:n,stackWeight:s}=r;if(!i||!iae.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function FCe(t,e){const r=ICe(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=r[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=n):(a.width=i,a.height=h?h*n:l&&e.availableHeight)}return r}function PCe(t){const e=RCe(t),r=bg(e.filter(u=>u.box.fullSize),!0),i=bg(yg(e,"left"),!0),n=bg(yg(e,"right")),s=bg(yg(e,"top"),!0),o=bg(yg(e,"bottom")),a=yee(e,"x"),l=yee(e,"y");return{fullSize:r,leftAndTop:i.concat(s),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:yg(e,"chartArea"),vertical:i.concat(n).concat(l),horizontal:s.concat(o).concat(a)}}function bee(t,e,r,i){return Math.max(t[r],e[r])+Math.max(t[i],e[i])}function nae(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function NCe(t,e,r,i){const{pos:n,box:s}=r,o=t.maxPadding;if(!ci(n)){r.size&&(t[n]-=r.size);const d=i[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?s.height:s.width),r.size=d.size/d.count,t[n]+=r.size}s.getPadding&&nae(o,s.getPadding());const a=Math.max(0,e.outerWidth-bee(o,t,"left","right")),l=Math.max(0,e.outerHeight-bee(o,t,"top","bottom")),u=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,r.horizontal?{same:u,other:h}:{same:h,other:u}}function $Ce(t){const e=t.maxPadding;function r(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function BCe(t,e){const r=e.maxPadding;function i(n){const s={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{s[o]=Math.max(e[o],r[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Dg(t,e,r,i){const n=[];let s,o,a,l,u,h;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,BCe(a.horizontal,e));const{same:d,other:f}=NCe(e,r,a,i);u|=d&&n.length,h=h||f,l.fullSize||n.push(a)}return u&&Dg(n,e,r,i)||h}function hb(t,e,r,i,n){t.top=r,t.left=e,t.right=e+i,t.bottom=r+n,t.width=i,t.height=n}function vee(t,e,r,i){const n=r.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*h,f=u.size||l.height;d0(u.start)&&(o=u.start),l.fullSize?hb(l,n.left,o,r.outerWidth-n.right-n.left,f):hb(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*h,f=u.size||l.width;d0(u.start)&&(s=u.start),l.fullSize?hb(l,s,n.top,f,r.outerHeight-n.bottom-n.top):hb(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var ao={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,i){if(!t)return;const n=lo(t.options.layout.padding),s=Math.max(e-n.width,0),o=Math.max(r-n.height,0),a=PCe(t.boxes),l=a.vertical,u=a.horizontal;Zi(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:n,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},n);nae(f,lo(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:n.left,y:n.top},n),g=FCe(l.concat(u),d);Dg(a.fullSize,p,d,g),Dg(l,p,d,g),Dg(u,p,d,g)&&Dg(l,p,d,g),$Ce(p),vee(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,vee(a.rightAndBottom,p,d,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Zi(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class sae{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,i){}removeEventListener(e,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,i,n){return r=Math.max(0,r||e.width),i=i||e.height,{width:r,height:Math.max(0,n?Math.floor(r/n):i)}}isAttached(e){return!0}updateConfig(e){}}class jCe extends sae{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qb="$chartjs",zCe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xee=t=>t===null||t==="";function UCe(t,e){const r=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[Qb]={initial:{height:i,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",xee(n)){const s=ree(t,"width");s!==void 0&&(t.width=s)}if(xee(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=ree(t,"height");s!==void 0&&(t.height=s)}return t}const oae=VSe?{passive:!0}:!1;function qCe(t,e,r){t&&t.addEventListener(e,r,oae)}function HCe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,oae)}function VCe(t,e){const r=zCe[t.type]||t.type,{x:i,y:n}=Fd(t,e);return{type:r,chart:e,native:t,x:i!==void 0?i:null,y:n!==void 0?n:null}}function $v(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function GCe(t,e,r){const i=t.canvas,n=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||$v(a.addedNodes,i),o=o&&!$v(a.removedNodes,i);o&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function WCe(t,e,r){const i=t.canvas,n=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||$v(a.removedNodes,i),o=o&&!$v(a.addedNodes,i);o&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}const p0=new Map;let _ee=0;function aae(){const t=window.devicePixelRatio;t!==_ee&&(_ee=t,p0.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function YCe(t,e){p0.size||window.addEventListener("resize",aae),p0.set(t,e)}function ZCe(t){p0.delete(t),p0.size||window.removeEventListener("resize",aae)}function XCe(t,e,r){const i=t.canvas,n=i&&sC(i);if(!n)return;const s=Poe((a,l)=>{const u=n.clientWidth;r(a,l),u<n.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||s(u,h)});return o.observe(n),YCe(t,s),o}function x_(t,e,r){r&&r.disconnect(),e==="resize"&&ZCe(t)}function KCe(t,e,r){const i=t.canvas,n=Poe(s=>{t.ctx!==null&&r(VCe(s,t))},t);return qCe(i,e,n),n}class JCe extends sae{acquireContext(e,r){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(UCe(e,r),i):null}releaseContext(e){const r=e.canvas;if(!r[Qb])return!1;const i=r[Qb].initial;["height","width"].forEach(s=>{const o=i[s];Di(o)?r.removeAttribute(s):r.setAttribute(s,o)});const n=i.style||{};return Object.keys(n).forEach(s=>{r.style[s]=n[s]}),r.width=r.width,delete r[Qb],!0}addEventListener(e,r,i){this.removeEventListener(e,r);const n=e.$proxies||(e.$proxies={}),o={attach:GCe,detach:WCe,resize:XCe}[r]||KCe;n[r]=o(e,r,i)}removeEventListener(e,r){const i=e.$proxies||(e.$proxies={}),n=i[r];if(!n)return;({attach:x_,detach:x_,resize:x_}[r]||HCe)(e,r,n),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,i,n){return HSe(e,r,i,n)}isAttached(e){const r=e&&sC(e);return!!(r&&r.isConnected)}}function QCe(t){return!nC()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jCe:JCe}var Wb;let Eu=(Wb=class{constructor(){Ge(this,"x");Ge(this,"y");Ge(this,"active",!1);Ge(this,"options");Ge(this,"$animations")}tooltipPosition(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}hasValue(){return Qf(this.x)&&Qf(this.y)}getProps(e,r){const i=this.$animations;if(!r||!i)return this;const n={};return e.forEach(s=>{n[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),n}},Ge(Wb,"defaults",{}),Ge(Wb,"defaultRoutes"),Wb);function eke(t,e){const r=t.options.ticks,i=tke(t),n=Math.min(r.maxTicksLimit||i,i),s=r.major.enabled?ike(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>n)return nke(e,u,s,o/n),u;const h=rke(s,e,n);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(fb(e,u,h,Di(p)?0:a-p,a),d=0,f=o-1;d<f;d++)fb(e,u,h,s[d],s[d+1]);return fb(e,u,h,l,Di(p)?e.length:l+p),u}return fb(e,u,h),u}function tke(t){const e=t.options.offset,r=t._tickSize(),i=t._length/r+(e?0:1),n=t._maxLength/r;return Math.floor(Math.min(i,n))}function rke(t,e,r){const i=ske(t),n=e.length/r;if(!i)return Math.max(n,1);const s=YEe(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>n)return l}return Math.max(n,1)}function ike(t){const e=[];let r,i;for(r=0,i=t.length;r<i;r++)t[r].major&&e.push(r);return e}function nke(t,e,r,i){let n=0,s=r[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),n++,s=r[n*i])}function fb(t,e,r,i,n){const s=Ur(i,0),o=Math.min(Ur(n,t.length),t.length);let a=0,l,u,h;for(r=Math.ceil(r),n&&(l=n-i,r=l/Math.floor(l/r)),h=s;h<0;)a++,h=Math.round(s+a*r);for(u=Math.max(s,0);u<o;u++)u===h&&(e.push(t[u]),a++,h=Math.round(s+a*r))}function ske(t){const e=t.length;let r,i;if(e<2)return!1;for(i=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==i)return!1;return i}const oke=t=>t==="left"?"right":t==="right"?"left":t,wee=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Eee=(t,e)=>Math.min(e||t,t);function See(t,e){const r=[],i=t.length/e,n=t.length;let s=0;for(;s<n;s+=i)r.push(t[Math.floor(s)]);return r}function ake(t,e,r){const i=t.ticks.length,n=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(n),u;if(!(r&&(i===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(n-1))/2,l+=n<e?u:-u,l<s-a||l>o+a)))return l}function lke(t,e){Zi(t,r=>{const i=r.gc,n=i.length/2;let s;if(n>e){for(s=0;s<n;++s)delete r.data[i[s]];i.splice(0,n)}})}function vg(t){return t.drawTicks?t.tickLength:0}function Cee(t,e){if(!t.display)return 0;const r=As(t.font,e),i=lo(t.padding);return(Sn(t.text)?t.text.length:1)*r.lineHeight+i.height}function uke(t,e){return Bc(t,{scale:e,type:"scale"})}function cke(t,e,r){return Bc(t,{tick:r,index:e,type:"tick"})}function dke(t,e,r){let i=JS(t);return(r&&e!=="right"||!r&&e==="right")&&(i=oke(i)),i}function hke(t,e,r,i){const{top:n,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:h}=l;let d=0,f,p,g;const y=o-n,b=a-s;if(t.isHorizontal()){if(p=io(i,s,a),ci(r)){const x=Object.keys(r)[0],w=r[x];g=h[x].getPixelForValue(w)+y-e}else r==="center"?g=(u.bottom+u.top)/2+y-e:g=wee(t,r,e);f=a-s}else{if(ci(r)){const x=Object.keys(r)[0],w=r[x];p=h[x].getPixelForValue(w)-b+e}else r==="center"?p=(u.left+u.right)/2-b+e:p=wee(t,r,e);g=io(i,o,n),d=r==="left"?-Qn:Qn}return{titleX:p,titleY:g,maxWidth:f,rotation:d}}class ph extends Eu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:i,_suggestedMax:n}=this;return e=Go(e,Number.POSITIVE_INFINITY),r=Go(r,Number.NEGATIVE_INFINITY),i=Go(i,Number.POSITIVE_INFINITY),n=Go(n,Number.NEGATIVE_INFINITY),{min:Go(e,i),max:Go(r,n),minDefined:zn(e),maxDefined:zn(r)}}getMinMax(e){let{min:r,max:i,minDefined:n,maxDefined:s}=this.getUserBounds(),o;if(n&&s)return{min:r,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),n||(r=Math.min(r,o.min)),s||(i=Math.max(i,o.max));return r=s&&r>i?i:r,i=n&&r>i?r:i,{min:Go(r,Go(i,r)),max:Go(i,Go(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){un(this.options.beforeUpdate,[this])}update(e,r,i){const{beginAtZero:n,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wSe(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?See(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eke(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,e=!e),this._startPixel=r,this._endPixel=i,this._reversePixels=e,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){un(this.options.afterUpdate,[this])}beforeSetDimensions(){un(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){un(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),un(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){un(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let i,n,s;for(i=0,n=e.length;i<n;i++)s=e[i],s.label=un(r.callback,[s.value,i,e],this)}afterTickToLabelConversion(){un(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){un(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,i=Eee(this.ticks.length,e.ticks.maxTicksLimit),n=r.minRotation||0,s=r.maxRotation;let o=n,a,l,u;if(!this._isVisible()||!r.display||n>=s||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,p=Is(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),d+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-vg(e.grid)-r.padding-Cee(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=XS(Math.min(Math.asin(Is((h.highest.height+6)/a,-1,1)),Math.asin(Is(l/u,-1,1))-Math.asin(Is(f/u,-1,1)))),o=Math.max(n,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){un(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){un(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:i,title:n,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Cee(n,r.options.font);if(a?(e.width=this.maxWidth,e.height=vg(s)+l):(e.height=this.maxHeight,e.width=vg(s)+l),i.display&&this.ticks.length){const{first:u,last:h,widest:d,highest:f}=this._getLabelSizes(),p=i.padding*2,g=Ga(this.labelRotation),y=Math.cos(g),b=Math.sin(g);if(a){const x=i.mirror?0:b*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=i.mirror?0:y*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(u,h,b,y)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,i,n){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=n*e.width,p=i*r.height):(f=i*e.height,p=n*r.width):s==="start"?p=r.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let h=r.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=r.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){un(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)Di(e[r].label)&&(e.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let i=this.ticks;r<i.length&&(i=See(i,r)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,i){const{ctx:n,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(r/Eee(r,i));let u=0,h=0,d,f,p,g,y,b,x,w,S,C,k;for(d=0;d<r;d+=l){if(g=e[d].label,y=this._resolveTickFontOptions(d),n.font=b=y.string,x=s[b]=s[b]||{data:{},gc:[]},w=y.lineHeight,S=C=0,!Di(g)&&!Sn(g))S=Pv(n,x.data,x.gc,S,g),C=w;else if(Sn(g))for(f=0,p=g.length;f<p;++f)k=g[f],!Di(k)&&!Sn(k)&&(S=Pv(n,x.data,x.gc,S,k),C+=w);o.push(S),a.push(C),u=Math.max(S,u),h=Math.max(C,h)}lke(s,r);const O=o.indexOf(u),M=a.indexOf(h),A=I=>({width:o[I]||0,height:a[I]||0});return{first:A(0),last:A(r-1),widest:A(O),highest:A(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return KEe(this._alignToPixels?Ed(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=cke(this.getContext(),e,i))}return this.$context||(this.$context=uke(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Ga(this.labelRotation),i=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,i=this.chart,n=this.options,{grid:s,position:o,border:a}=n,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=vg(s),p=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,b=y/2,x=function(Y){return Ed(i,Y,y)};let w,S,C,k,O,M,A,I,R,V,oe,L;if(o==="top")w=x(this.bottom),M=this.bottom-f,I=w-b,V=x(e.top)+b,L=e.bottom;else if(o==="bottom")w=x(this.top),V=e.top,L=x(e.bottom)-b,M=w+b,I=this.top+f;else if(o==="left")w=x(this.right),O=this.right-f,A=w-b,R=x(e.left)+b,oe=e.right;else if(o==="right")w=x(this.left),R=e.left,oe=x(e.right)-b,O=w+b,A=this.left+f;else if(r==="x"){if(o==="center")w=x((e.top+e.bottom)/2+.5);else if(ci(o)){const Y=Object.keys(o)[0],G=o[Y];w=x(this.chart.scales[Y].getPixelForValue(G))}V=e.top,L=e.bottom,M=w+b,I=M+f}else if(r==="y"){if(o==="center")w=x((e.left+e.right)/2);else if(ci(o)){const Y=Object.keys(o)[0],G=o[Y];w=x(this.chart.scales[Y].getPixelForValue(G))}O=w-b,A=O-f,R=e.left,oe=e.right}const F=Ur(n.ticks.maxTicksLimit,d),U=Math.max(1,Math.ceil(d/F));for(S=0;S<d;S+=U){const Y=this.getContext(S),G=s.setContext(Y),Q=a.setContext(Y),J=G.lineWidth,re=G.color,pe=Q.dash||[],ee=Q.dashOffset,B=G.tickWidth,ge=G.tickColor,ve=G.tickBorderDash||[],ze=G.tickBorderDashOffset;C=ake(this,S,l),C!==void 0&&(k=Ed(i,C,J),u?O=A=R=oe=k:M=I=V=L=k,p.push({tx1:O,ty1:M,tx2:A,ty2:I,x1:R,y1:V,x2:oe,y2:L,width:J,color:re,borderDash:pe,borderDashOffset:ee,tickWidth:B,tickColor:ge,tickBorderDash:ve,tickBorderDashOffset:ze}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,i=this.options,{position:n,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:h,mirror:d}=s,f=vg(i.grid),p=f+h,g=d?-h:p,y=-Ga(this.labelRotation),b=[];let x,w,S,C,k,O,M,A,I,R,V,oe,L="middle";if(n==="top")O=this.bottom-g,M=this._getXAxisLabelAlignment();else if(n==="bottom")O=this.top+g,M=this._getXAxisLabelAlignment();else if(n==="left"){const U=this._getYAxisLabelAlignment(f);M=U.textAlign,k=U.x}else if(n==="right"){const U=this._getYAxisLabelAlignment(f);M=U.textAlign,k=U.x}else if(r==="x"){if(n==="center")O=(e.top+e.bottom)/2+p;else if(ci(n)){const U=Object.keys(n)[0],Y=n[U];O=this.chart.scales[U].getPixelForValue(Y)+p}M=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")k=(e.left+e.right)/2-p;else if(ci(n)){const U=Object.keys(n)[0],Y=n[U];k=this.chart.scales[U].getPixelForValue(Y)}M=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const F=this._getLabelSizes();for(x=0,w=a.length;x<w;++x){S=a[x],C=S.label;const U=s.setContext(this.getContext(x));A=this.getPixelForTick(x)+s.labelOffset,I=this._resolveTickFontOptions(x),R=I.lineHeight,V=Sn(C)?C.length:1;const Y=V/2,G=U.color,Q=U.textStrokeColor,J=U.textStrokeWidth;let re=M;o?(k=A,M==="inner"&&(x===w-1?re=this.options.reverse?"left":"right":x===0?re=this.options.reverse?"right":"left":re="center"),n==="top"?u==="near"||y!==0?oe=-V*R+R/2:u==="center"?oe=-F.highest.height/2-Y*R+R:oe=-F.highest.height+R/2:u==="near"||y!==0?oe=R/2:u==="center"?oe=F.highest.height/2-Y*R:oe=F.highest.height-V*R,d&&(oe*=-1),y!==0&&!U.showLabelBackdrop&&(k+=R/2*Math.sin(y))):(O=A,oe=(1-V)*R/2);let pe;if(U.showLabelBackdrop){const ee=lo(U.backdropPadding),B=F.heights[x],ge=F.widths[x];let ve=oe-ee.top,ze=0-ee.left;switch(L){case"middle":ve-=B/2;break;case"bottom":ve-=B;break}switch(M){case"center":ze-=ge/2;break;case"right":ze-=ge;break;case"inner":x===w-1?ze-=ge:x>0&&(ze-=ge/2);break}pe={left:ze,top:ve,width:ge+ee.width,height:B+ee.height,color:U.backdropColor}}b.push({label:C,font:I,textOffset:oe,options:{rotation:y,color:G,strokeColor:Q,strokeWidth:J,textAlign:re,textBaseline:L,translation:[k,O],backdrop:pe}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Ga(this.labelRotation))return e==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:i,mirror:n,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,h;return r==="left"?n?(h=this.right+s,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-a,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h=this.left)):r==="right"?n?(h=this.left+s,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+a,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:i,top:n,width:s,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(i,n,s,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const n=this.ticks.findIndex(s=>s.value===e);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const r=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(r.display)for(s=0,o=n.length;s<o;++s){const l=n[s];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:i,grid:n}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,d,f;this.isHorizontal()?(u=Ed(e,this.left,o)-o/2,h=Ed(e,this.right,a)+a/2,d=f=l):(d=Ed(e,this.top,o)-o/2,f=Ed(e,this.bottom,a)+a/2,u=h=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,d),r.lineTo(h,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&cx(i,n);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,h=o.textOffset;ih(i,u,0,h,l,a)}n&&dx(i)}drawTitle(){const{ctx:e,options:{position:r,title:i,reverse:n}}=this;if(!i.display)return;const s=As(i.font),o=lo(i.padding),a=i.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||ci(r)?(l+=o.bottom,Sn(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:h,maxWidth:d,rotation:f}=hke(this,l,r,a);ih(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:dke(a,r,n),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,i=Ur(e.grid&&e.grid.z,-1),n=Ur(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ph.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];a[i]===this.id&&(!e||a.type===e)&&n.push(a)}return n}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return As(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pb{constructor(e,r,i){this.type=e,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let i;mke(r)&&(i=this.register(r));const n=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,fke(e,o,i),this.override&&Un.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,i=e.id,n=this.scope;i in r&&delete r[i],n&&i in Un[n]&&(delete Un[n][i],this.override&&delete rh[i])}}function fke(t,e,r){const i=sa(Object.create(null),[r?Un.get(r):{},Un.get(e),t.defaults]);Un.set(e,i),t.defaultRoutes&&pke(e,t.defaultRoutes),t.descriptors&&Un.describe(e,t.descriptors)}function pke(t,e){Object.keys(e).forEach(r=>{const i=r.split("."),n=i.pop(),s=[t].concat(i).join("."),o=e[r].split("."),a=o.pop(),l=o.join(".");Un.route(s,n,l,a)})}function mke(t){return"id"in t&&"defaults"in t}let gke=class{constructor(){this.controllers=new pb(Za,"datasets",!0),this.elements=new pb(Eu,"elements"),this.plugins=new pb(Object,"plugins"),this.scales=new pb(ph,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,i){[...r].forEach(n=>{const s=i||this._getRegistryForType(n);i||s.isForType(n)||s===this.plugins&&n.id?this._exec(e,s,n):Zi(n,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,r,i){const n=ZS(e);un(i["before"+n],[],i),r[e](i),un(i["after"+n],[],i)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const i=this._typedRegistries[r];if(i.isForType(e))return i}return this.plugins}_get(e,r,i){const n=r.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}};var bo=new gke;class yke{constructor(){this._init=[]}notify(e,r,i,n){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(s,e,r,i);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,i,n){n=n||{};for(const s of e){const o=s.plugin,a=o[i],l=[r,n,s.options];if(un(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Di(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const i=e&&e.config,n=Ur(i.options&&i.options.plugins,{}),s=bke(i);return n===!1&&!r?[]:xke(e,s,n,r)}_notifyStateChanges(e){const r=this._oldCache||[],i=this._cache,n=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(r,i),e,"stop"),this._notify(n(i,r),e,"start")}}function bke(t){const e={},r=[],i=Object.keys(bo.plugins.items);for(let s=0;s<i.length;s++)r.push(bo.getPlugin(i[s]));const n=t.plugins||[];for(let s=0;s<n.length;s++){const o=n[s];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function vke(t,e){return!e&&t===!1?null:t===!0?{}:t}function xke(t,{plugins:e,localIds:r},i,n){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=vke(i[l],n);u!==null&&s.push({plugin:a,options:_ke(t.config,{plugin:a,local:r[l]},u,o)})}return s}function _ke(t,{plugin:e,local:r},i,n){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function N2(t,e){const r=Un.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function wke(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Eke(t,e){return t===e?"_index_":"_value_"}function kee(t){if(t==="x"||t==="y"||t==="r")return t}function Ske(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $2(t,...e){if(kee(t))return t;for(const r of e){const i=r.axis||Ske(r.position)||t.length>1&&kee(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Aee(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Cke(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(r.length)return Aee(t,"x",r[0])||Aee(t,"y",r[0])}return{}}function kke(t,e){const r=rh[t.type]||{scales:{}},i=e.scales||{},n=N2(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ci(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=$2(o,a,Cke(o,t),Un.scales[a.type]),u=Eke(l,n),h=r.scales||{};s[o]=qg(Object.create(null),[{axis:l},a,h[l],h[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||N2(a,e),h=(rh[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=wke(d,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),qg(s[p],[{axis:f},i[p],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];qg(a,[Un.scales[a.type],Un.scale])}),s}function lae(t){const e=t.options||(t.options={});e.plugins=Ur(e.plugins,{}),e.scales=kke(t,e)}function uae(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ake(t){return t=t||{},t.data=uae(t.data),lae(t),t}const Tee=new Map,cae=new Set;function mb(t,e){let r=Tee.get(t);return r||(r=e(),Tee.set(t,r),cae.add(r)),r}const xg=(t,e,r)=>{const i=Lc(e,r);i!==void 0&&t.add(i)};let Tke=class{constructor(e){this._config=Ake(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uae(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lae(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return mb(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return mb(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,i=this.type;return mb(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const i=this._scopeCache;let n=i.get(e);return(!n||r)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,r,i){const{options:n,type:s}=this,o=this._cachedScopes(e,i),a=o.get(r);if(a)return a;const l=new Set;r.forEach(h=>{e&&(l.add(e),h.forEach(d=>xg(l,e,d))),h.forEach(d=>xg(l,n,d)),h.forEach(d=>xg(l,rh[s]||{},d)),h.forEach(d=>xg(l,Un,d)),h.forEach(d=>xg(l,I2,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),cae.has(r)&&o.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,rh[r]||{},Un.datasets[r]||{},{type:r},Un,I2]}resolveNamedOptions(e,r,i,n=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Dee(this._resolverCache,e,n);let l=o;if(Lke(o,r)){s.$shared=!1,i=Oc(i)?i():i;const u=this.createResolver(e,i,a);l=ep(o,i,u)}for(const u of r)s[u]=l[u];return s}createResolver(e,r,i=[""],n){const{resolver:s}=Dee(this._resolverCache,e,i);return ci(r)?ep(s,r,void 0,n):s}};function Dee(t,e,r){let i=t.get(e);i||(i=new Map,t.set(e,i));const n=r.join();let s=i.get(n);return s||(s={resolver:tC(e,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,s)),s}const Dke=t=>ci(t)&&Object.getOwnPropertyNames(t).some(e=>Oc(t[e]));function Lke(t,e){const{isScriptable:r,isIndexable:i}=Uoe(t);for(const n of e){const s=r(n),o=i(n),a=(o||s)&&t[n];if(s&&(Oc(a)||Dke(a))||o&&Sn(a))return!0}return!1}var Oke="4.4.4";const Mke=["top","bottom","left","right","chartArea"];function Lee(t,e){return t==="top"||t==="bottom"||Mke.indexOf(t)===-1&&e==="x"}function Oee(t,e){return function(r,i){return r[t]===i[t]?r[e]-i[e]:r[t]-i[t]}}function Mee(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),un(r&&r.onComplete,[t],e)}function Rke(t){const e=t.chart,r=e.options.animation;un(r&&r.onProgress,[t],e)}function dae(t){return nC()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ev={},Ree=t=>{const e=dae(t);return Object.values(ev).filter(r=>r.canvas===e).pop()};function Ike(t,e,r){const i=Object.keys(t);for(const n of i){const s=+n;if(s>=e){const o=t[n];delete t[n],(r>0||s>e)&&(t[s+r]=o)}}}function Fke(t,e,r,i){return!r||t.type==="mouseout"?null:i?e:t}function gb(t,e,r){return t.options.clip?t[r]:e[r]}function Pke(t,e){const{xScale:r,yScale:i}=t;return r&&i?{left:gb(r,e,"left"),right:gb(r,e,"right"),top:gb(i,e,"top"),bottom:gb(i,e,"bottom")}:e}class Po{static register(...e){bo.add(...e),Iee()}static unregister(...e){bo.remove(...e),Iee()}constructor(e,r){const i=this.config=new Tke(r),n=dae(e),s=Ree(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QCe(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,h=l&&l.width;if(this.id=BEe(),this.ctx=a,this.canvas=l,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yke,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tSe(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],ev[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}tu.listen(this,"complete",Mee),tu.listen(this,"progress",Rke),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:n,_aspectRatio:s}=this;return Di(e)?r&&s?s:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tee(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return JQ(this.canvas,this.ctx),this}stop(){return tu.stop(this),this}resize(e,r){tu.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,r,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tee(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),un(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Zi(r,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];r&&(s=s.concat(Object.keys(r).map(o=>{const a=r[o],l=$2(o,a),u=l==="r",h=l==="x";return{options:a,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Zi(s,o=>{const a=o.options,l=a.id,u=$2(l,a),h=Ur(a.type,o.dtype);(a.position===void 0||Lee(a.position,u)!==Lee(o.dposition))&&(a.position=o.dposition),n[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const f=bo.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Zi(n,(o,a)=>{o||delete i[a]}),Zi(i,o=>{ao.configure(this,o,o.options),ao.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((n,s)=>n.index-s.index),i>r){for(let n=r;n<i;++n)this._destroyDatasetMeta(n);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(Oee("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,n)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=r.length;i<n;i++){const s=r[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||N2(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=bo.getController(a),{datasetElementType:u,dataElementType:h}=Un.datasets[a];Object.assign(l,{dataElementType:bo.getElement(h),datasetElementType:u&&bo.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Zi(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:d}=this.getDatasetMeta(u),f=!n&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||Zi(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Oee("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Zi(this.scales,e=>{ao.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!HQ(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:s}of r){const o=i==="_removeElements"?-s:s;Ike(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let s=1;s<r;s++)if(!HQ(n,i(s)))return;return Array.from(n).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ao.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],Zi(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,s)=>{n._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Oc(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(r),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tu.has(this)?this.attached&&!tu.running(this)&&tu.start(this):(this.draw(),Mee({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let n,s;for(n=0,s=r.length;n<s;++n){const o=r[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i=e._clip,n=!i.disabled,s=Pke(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&cx(r,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),n&&dx(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return uu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,n){const s=MCe.modes[r];return typeof s=="function"?s(this,e,i,n):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let n=i.filter(s=>s&&s._dataset===r).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Bc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){const i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const n=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,n);d0(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?n:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),tu.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),JQ(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ev[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(s,o)=>{r.addEventListener(this,s,o),e[s]=o},n=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Zi(this.options.events,s=>i(s,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},n=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),i("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){Zi(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Zi(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const n=i?"set":"remove";let s,o,a,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Mv(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){const n=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(r,e),a=i?e:s(e,r);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const s=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:n=[],options:s}=this,o=r,a=this._getActiveElements(e,n,i,o),l=VEe(e),u=Fke(e,this._lastEvent,i,l);i&&(this._lastEvent=null,un(s.onHover,[e,a,this],this),l&&un(s.onClick,[e,a,this],this));const h=!Mv(a,n);return(h||r)&&(this._active=a,this._updateHoverStyles(a,n,r)),this._lastEvent=u,h}_getActiveElements(e,r,i,n){if(e.type==="mouseout")return[];if(!i)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}Ge(Po,"defaults",Un),Ge(Po,"instances",ev),Ge(Po,"overrides",rh),Ge(Po,"registry",bo),Ge(Po,"version",Oke),Ge(Po,"getChart",Ree);function Iee(){return Zi(Po.instances,t=>t._plugins.invalidate())}function Nke(t,e,r){const{startAngle:i,pixelMargin:n,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=n/a;t.beginPath(),t.arc(s,o,a,i-u,r+u),l>n?(u=n/l,t.arc(s,o,l,r+u,i-u,!0)):t.arc(s,o,n,r+Qn,i-Qn),t.closePath(),t.clip()}function $ke(t){return eC(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Bke(t,e,r,i){const n=$ke(t.options.borderRadius),s=(r-e)/2,o=Math.min(s,i*e/2),a=l=>{const u=(r-Math.min(s,l))*i/2;return Is(l,0,Math.min(s,u))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:Is(n.innerStart,0,o),innerEnd:Is(n.innerEnd,0,o)}}function lf(t,e,r,i){return{x:r+t*Math.cos(e),y:i+t*Math.sin(e)}}function Bv(t,e,r,i,n,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:h}=e,d=Math.max(e.outerRadius+i+r-u,0),f=h>0?h+i+r+u:0;let p=0;const g=n-l;if(i){const U=h>0?h-i:0,Y=d>0?d-i:0,G=(U+Y)/2,Q=G!==0?g*G/(G+i):g;p=(g-Q)/2}const y=Math.max(.001,g*d-r/_n)/d,b=(g-y)/2,x=l+b+p,w=n-b-p,{outerStart:S,outerEnd:C,innerStart:k,innerEnd:O}=Bke(e,f,d,w-x),M=d-S,A=d-C,I=x+S/M,R=w-C/A,V=f+k,oe=f+O,L=x+k/V,F=w-O/oe;if(t.beginPath(),s){const U=(I+R)/2;if(t.arc(o,a,d,I,U),t.arc(o,a,d,U,R),C>0){const J=lf(A,R,o,a);t.arc(J.x,J.y,C,R,w+Qn)}const Y=lf(oe,w,o,a);if(t.lineTo(Y.x,Y.y),O>0){const J=lf(oe,F,o,a);t.arc(J.x,J.y,O,w+Qn,F+Math.PI)}const G=(w-O/f+(x+k/f))/2;if(t.arc(o,a,f,w-O/f,G,!0),t.arc(o,a,f,G,x+k/f,!0),k>0){const J=lf(V,L,o,a);t.arc(J.x,J.y,k,L+Math.PI,x-Qn)}const Q=lf(M,x,o,a);if(t.lineTo(Q.x,Q.y),S>0){const J=lf(M,I,o,a);t.arc(J.x,J.y,S,x-Qn,I)}}else{t.moveTo(o,a);const U=Math.cos(I)*d+o,Y=Math.sin(I)*d+a;t.lineTo(U,Y);const G=Math.cos(R)*d+o,Q=Math.sin(R)*d+a;t.lineTo(G,Q)}t.closePath()}function jke(t,e,r,i,n){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Bv(t,e,r,i,l,n);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%xn||xn))}return Bv(t,e,r,i,l,n),t.fill(),l}function zke(t,e,r,i,n){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let g=e.endAngle;if(s){Bv(t,e,r,i,g,n);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(g=o+(a%xn||xn))}p&&Nke(t,e,g),s||(Bv(t,e,r,i,g,n),t.stroke())}class pc extends Eu{constructor(r){super();Ge(this,"circumference");Ge(this,"endAngle");Ge(this,"fullCircles");Ge(this,"innerRadius");Ge(this,"outerRadius");Ge(this,"pixelMargin");Ge(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,i,n){const s=this.getProps(["x","y"],n),{angle:o,distance:a}=Moe(s,{x:r,y:i}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=(this.options.spacing+this.options.borderWidth)/2,g=Ur(f,u-l),y=h0(o,l,u)&&l!==u,b=g>=xn||y,x=au(a,h+p,d+p);return b&&x}getCenterPoint(r){const{x:i,y:n,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:h}=this.options,d=(s+o)/2,f=(a+l+h+u)/2;return{x:i+Math.cos(d)*f,y:n+Math.sin(d)*f}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:i,circumference:n}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>xn?Math.floor(n/xn):0,n===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(_n,n||0)),h=s*u;r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,jke(r,this,h,o,a),zke(r,this,h,o,a),r.restore()}}Ge(pc,"id","arc"),Ge(pc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ge(pc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ge(pc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function hae(t,e,r=e){t.lineCap=Ur(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Ur(r.borderDash,e.borderDash)),t.lineDashOffset=Ur(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Ur(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ur(r.borderWidth,e.borderWidth),t.strokeStyle=Ur(r.borderColor,e.borderColor)}function Uke(t,e,r){t.lineTo(r.x,r.y)}function qke(t){return t.stepped?fSe:t.tension||t.cubicInterpolationMode==="monotone"?pSe:Uke}function fae(t,e,r={}){const i=t.length,{start:n=0,end:s=i-1}=r,{start:o,end:a}=e,l=Math.max(n,o),u=Math.min(s,a),h=n<o&&s<o||n>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!h?i+u-l:u-l}}function Hke(t,e,r,i){const{points:n,options:s}=e,{count:o,start:a,loop:l,ilen:u}=fae(n,r,i),h=qke(s);let{move:d=!0,reverse:f}=i||{},p,g,y;for(p=0;p<=u;++p)g=n[(a+(f?u-p:p))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):h(t,y,g,f,s.stepped),y=g);return l&&(g=n[(a+(f?u:0))%o],h(t,y,g,f,s.stepped)),!!l}function Vke(t,e,r,i){const n=e.points,{count:s,start:o,ilen:a}=fae(n,r,i),{move:l=!0,reverse:u}=i||{};let h=0,d=0,f,p,g,y,b,x;const w=C=>(o+(u?a-C:C))%s,S=()=>{y!==b&&(t.lineTo(h,b),t.lineTo(h,y),t.lineTo(h,x))};for(l&&(p=n[w(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=n[w(f)],p.skip)continue;const C=p.x,k=p.y,O=C|0;O===g?(k<y?y=k:k>b&&(b=k),h=(d*h+C)/++d):(S(),t.lineTo(C,k),g=O,d=0,y=b=k),x=k}S()}function B2(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Vke:Hke}function Gke(t){return t.stepped?GSe:t.tension||t.cubicInterpolationMode==="monotone"?WSe:Pd}function Wke(t,e,r,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,r,i)&&n.closePath()),hae(t,e.options),t.stroke(n)}function Yke(t,e,r,i){const{segments:n,options:s}=e,o=B2(e);for(const a of n)hae(t,s,a.style),t.beginPath(),o(t,e,a,{start:r,end:r+i-1})&&t.closePath(),t.stroke()}const Zke=typeof Path2D=="function";function Xke(t,e,r,i){Zke&&!e.options.segment?Wke(t,e,r,i):Yke(t,e,r,i)}class mc extends Eu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;$Se(this._points,i,e,n,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QSe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){const i=this.options,n=e[r],s=this.points,o=Joe(this,{property:r,start:n,end:n});if(!o.length)return;const a=[],l=Gke(i);let u,h;for(u=0,h=o.length;u<h;++u){const{start:d,end:f}=o[u],p=s[d],g=s[f];if(p===g){a.push(p);continue}const y=Math.abs((n-p[r])/(g[r]-p[r])),b=l(p,g,y,i.stepped);b[r]=e[r],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,r,i){return B2(this)(e,this,r,i)}path(e,r,i){const n=this.segments,s=B2(this);let o=this._loop;r=r||0,i=i||this.points.length-r;for(const a of n)o&=s(e,this,a,{start:r,end:r+i-1});return!!o}draw(e,r,i,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Xke(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ge(mc,"id","line"),Ge(mc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ge(mc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ge(mc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Fee(t,e,r,i){const n=t.options,{[r]:s}=t.getProps([r],i);return Math.abs(e-s)<n.radius+n.hitRadius}class Wd extends Eu{constructor(r){super();Ge(this,"parsed");Ge(this,"skip");Ge(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,n){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(r-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,i){return Fee(this,r,"x",i)}inYRange(r,i){return Fee(this,r,"y",i)}getCenterPoint(r){const{x:i,y:n}=this.getProps(["x","y"],r);return{x:i,y:n}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const n=i&&r.borderWidth||0;return(i+n)*2}draw(r,i){const n=this.options;this.skip||n.radius<.1||!uu(this,i,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,F2(r,n,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Ge(Wd,"id","point"),Ge(Wd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ge(Wd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pae(t,e){const{x:r,y:i,base:n,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,h,d;return t.horizontal?(d=o/2,a=Math.min(r,n),l=Math.max(r,n),u=i-d,h=i+d):(d=s/2,a=r-d,l=r+d,u=Math.min(i,n),h=Math.max(i,n)),{left:a,top:u,right:l,bottom:h}}function gc(t,e,r,i){return t?0:Is(e,r,i)}function Kke(t,e,r){const i=t.options.borderWidth,n=t.borderSkipped,s=zoe(i);return{t:gc(n.top,s.top,0,r),r:gc(n.right,s.right,0,e),b:gc(n.bottom,s.bottom,0,r),l:gc(n.left,s.left,0,e)}}function Jke(t,e,r){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,s=Hd(n),o=Math.min(e,r),a=t.borderSkipped,l=i||ci(n);return{topLeft:gc(!l||a.top||a.left,s.topLeft,0,o),topRight:gc(!l||a.top||a.right,s.topRight,0,o),bottomLeft:gc(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:gc(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Qke(t){const e=pae(t),r=e.right-e.left,i=e.bottom-e.top,n=Kke(t,r/2,i/2),s=Jke(t,r/2,i/2);return{outer:{x:e.left,y:e.top,w:r,h:i,radius:s},inner:{x:e.left+n.l,y:e.top+n.t,w:r-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,s.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(n.b,n.r))}}}}function __(t,e,r,i){const n=e===null,s=r===null,a=t&&!(n&&s)&&pae(t,i);return a&&(n||au(e,a.left,a.right))&&(s||au(r,a.top,a.bottom))}function eAe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function tAe(t,e){t.rect(e.x,e.y,e.w,e.h)}function w_(t,e,r={}){const i=t.x!==r.x?-e:0,n=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-i,o=(t.y+t.h!==r.y+r.h?e:0)-n;return{x:t.x+i,y:t.y+n,w:t.w+s,h:t.h+o,radius:t.radius}}class Yd extends Eu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:i,backgroundColor:n}}=this,{inner:s,outer:o}=Qke(this),a=eAe(o.radius)?f0:tAe;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,w_(o,r,s)),e.clip(),a(e,w_(s,-r,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,w_(s,r)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,r,i){return __(this,e,r,i)}inXRange(e,r){return __(this,e,null,r)}inYRange(e,r){return __(this,null,e,r)}getCenterPoint(e){const{x:r,y:i,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+n)/2:r,y:s?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ge(Yd,"id","bar"),Ge(Yd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ge(Yd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var rAe=Object.freeze({__proto__:null,ArcElement:pc,BarElement:Yd,LineElement:mc,PointElement:Wd});const j2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Pee=j2.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function mae(t){return j2[t%j2.length]}function gae(t){return Pee[t%Pee.length]}function iAe(t,e){return t.borderColor=mae(e),t.backgroundColor=gae(e),++e}function nAe(t,e){return t.backgroundColor=t.data.map(()=>mae(e++)),e}function sAe(t,e){return t.backgroundColor=t.data.map(()=>gae(e++)),e}function oAe(t){let e=0;return(r,i)=>{const n=t.getDatasetMeta(i).controller;n instanceof zd?e=nAe(r,e):n instanceof Sl?e=sAe(r,e):n&&(e=iAe(r,e))}}function Nee(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function aAe(t){return t&&(t.borderColor||t.backgroundColor)}var lAe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:i},options:n}=t.config,{elements:s}=n;if(!r.forceOverride&&(Nee(i)||aAe(n)||s&&Nee(s)))return;const o=oAe(t);i.forEach(o)}};function uAe(t,e,r,i,n){const s=n.samples||i;if(s>=r)return t.slice(e,e+r);const o=[],a=(r-2)/(s-2);let l=0;const u=e+r-1;let h=e,d,f,p,g,y;for(o[l++]=t[h],d=0;d<s-2;d++){let b=0,x=0,w;const S=Math.floor((d+1)*a)+1+e,C=Math.min(Math.floor((d+2)*a)+1,r)+e,k=C-S;for(w=S;w<C;w++)b+=t[w].x,x+=t[w].y;b/=k,x/=k;const O=Math.floor(d*a)+1+e,M=Math.min(Math.floor((d+1)*a)+1,r)+e,{x:A,y:I}=t[h];for(p=g=-1,w=O;w<M;w++)g=.5*Math.abs((A-b)*(t[w].y-I)-(A-t[w].x)*(x-I)),g>p&&(p=g,f=t[w],y=w);o[l++]=f,h=y}return o[l++]=t[u],o}function cAe(t,e,r,i){let n=0,s=0,o,a,l,u,h,d,f,p,g,y;const b=[],x=e+r-1,w=t[e].x,C=t[x].x-w;for(o=e;o<e+r;++o){a=t[o],l=(a.x-w)/C*i,u=a.y;const k=l|0;if(k===h)u<g?(g=u,d=o):u>y&&(y=u,f=o),n=(s*n+a.x)/++s;else{const O=o-1;if(!Di(d)&&!Di(f)){const M=Math.min(d,f),A=Math.max(d,f);M!==p&&M!==O&&b.push({...t[M],x:n}),A!==p&&A!==O&&b.push({...t[A],x:n})}o>0&&O!==p&&b.push(t[O]),b.push(a),h=k,s=0,g=y=u,d=f=p=o}}return b}function yae(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function $ee(t){t.data.datasets.forEach(e=>{yae(e)})}function dAe(t,e){const r=e.length;let i=0,n;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(i=Is(lu(e,s.axis,o).lo,0,r-1)),u?n=Is(lu(e,s.axis,a).hi+1,i,r)-i:n=r-i,{start:i,count:n}}var hAe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){$ee(t);return}const i=t.width;t.data.datasets.forEach((n,s)=>{const{_data:o,indexAxis:a}=n,l=t.getDatasetMeta(s),u=o||n.data;if(Tg([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=t.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:d,count:f}=dAe(l,u);const p=r.threshold||4*i;if(f<=p){yae(n);return}Di(o)&&(n._data=u,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(r.algorithm){case"lttb":g=uAe(u,d,f,i,r);break;case"min-max":g=cAe(u,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}n._decimated=g})},destroy(t){$ee(t)}};function fAe(t,e,r){const i=t.segments,n=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:u}=a;u=aC(l,u,n);const h=z2(r,n[l],n[u],a.loop);if(!e.segments){o.push({source:a,target:h,start:n[l],end:n[u]});continue}const d=Joe(e,h);for(const f of d){const p=z2(r,s[f.start],s[f.end],f.loop),g=Koe(a,n,p);for(const y of g)o.push({source:y,target:f,start:{[r]:Bee(h,p,"start",Math.max)},end:{[r]:Bee(h,p,"end",Math.min)}})}}return o}function z2(t,e,r,i){if(i)return;let n=e[t],s=r[t];return t==="angle"&&(n=Yo(n),s=Yo(s)),{property:t,start:n,end:s}}function pAe(t,e){const{x:r=null,y:i=null}=t||{},n=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=aC(o,a,n);const l=n[o],u=n[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:u.x,y:i})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:u.y}))}),s}function aC(t,e,r){for(;e>t;e--){const i=r[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Bee(t,e,r,i){return t&&e?i(t[r],e[r]):t?t[r]:e?e[r]:0}function bae(t,e){let r=[],i=!1;return Sn(t)?(i=!0,r=t):r=pAe(t,e),r.length?new mc({points:r,options:{tension:0},_loop:i,_fullLoop:i}):null}function jee(t){return t&&t.fill!==!1}function mAe(t,e,r){let n=t[e].fill;const s=[e];let o;if(!r)return n;for(;n!==!1&&s.indexOf(n)===-1;){if(!zn(n))return n;if(o=t[n],!o)return!1;if(o.visible)return n;s.push(n),n=o.fill}return!1}function gAe(t,e,r){const i=xAe(t);if(ci(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return zn(n)&&Math.floor(n)===n?yAe(i[0],e,n,r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yAe(t,e,r,i){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=i?!1:r}function bAe(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:ci(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function vAe(t,e,r){let i;return t==="start"?i=r:t==="end"?i=e.options.reverse?e.min:e.max:ci(t)?i=t.value:i=e.getBaseValue(),i}function xAe(t){const e=t.options,r=e.fill;let i=Ur(r&&r.target,r);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function _Ae(t){const{scale:e,index:r,line:i}=t,n=[],s=i.segments,o=i.points,a=wAe(e,r);a.push(bae({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const u=s[l];for(let h=u.start;h<=u.end;h++)EAe(n,o[h],a)}return new mc({points:n,options:{}})}function wAe(t,e){const r=[],i=t.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const s=i[n];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function EAe(t,e,r){const i=[];for(let n=0;n<r.length;n++){const s=r[n],{first:o,last:a,point:l}=SAe(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function SAe(t,e,r){const i=t.interpolate(e,r);if(!i)return{};const n=i[r],s=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const h=s[u],d=o[h.start][r],f=o[h.end][r];if(au(n,d,f)){a=n===d,l=n===f;break}}return{first:a,last:l,point:i}}class vae{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,i){const{x:n,y:s,radius:o}=this;return r=r||{start:0,end:xn},e.arc(n,s,o,r.end,r.start,!0),!i.bounds}interpolate(e){const{x:r,y:i,radius:n}=this,s=e.angle;return{x:r+Math.cos(s)*n,y:i+Math.sin(s)*n,angle:s}}}function CAe(t){const{chart:e,fill:r,line:i}=t;if(zn(r))return kAe(e,r);if(r==="stack")return _Ae(t);if(r==="shape")return!0;const n=AAe(t);return n instanceof vae?n:bae(n,i)}function kAe(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function AAe(t){return(t.scale||{}).getPointPositionForValue?DAe(t):TAe(t)}function TAe(t){const{scale:e={},fill:r}=t,i=bAe(r,e);if(zn(i)){const n=e.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function DAe(t){const{scale:e,fill:r}=t,i=e.options,n=e.getLabels().length,s=i.reverse?e.max:e.min,o=vAe(r,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new vae({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(e.getPointPositionForValue(l,o));return a}function E_(t,e,r){const i=CAe(e),{line:n,scale:s,axis:o}=e,a=n.options,l=a.fill,u=a.backgroundColor,{above:h=u,below:d=u}=l||{};i&&n.points.length&&(cx(t,r),LAe(t,{line:n,target:i,above:h,below:d,area:r,scale:s,axis:o}),dx(t))}function LAe(t,e){const{line:r,target:i,above:n,below:s,area:o,scale:a}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&s!==n&&(zee(t,i,o.top),Uee(t,{line:r,target:i,color:n,scale:a,property:l}),t.restore(),t.save(),zee(t,i,o.bottom)),Uee(t,{line:r,target:i,color:s,scale:a,property:l}),t.restore()}function zee(t,e,r){const{segments:i,points:n}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,h=n[l],d=n[aC(l,u,n)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,r),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function Uee(t,e){const{line:r,target:i,property:n,color:s,scale:o}=e,a=fAe(r,i,n);for(const{source:l,target:u,start:h,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,p=i!==!0;t.save(),t.fillStyle=f,OAe(t,o,p&&z2(n,h,d)),t.beginPath();const g=!!r.pathSegment(t,l);let y;if(p){g?t.closePath():qee(t,i,d,n);const b=!!i.pathSegment(t,u,{move:g,reverse:!0});y=g&&b,y||qee(t,i,h,n)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function OAe(t,e,r){const{top:i,bottom:n}=e.chart.chartArea,{property:s,start:o,end:a}=r||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,n-i),t.clip())}function qee(t,e,r,i){const n=e.interpolate(r,i);n&&t.lineTo(n.x,n.y)}var MAe={id:"filler",afterDatasetsUpdate(t,e,r){const i=(t.data.datasets||[]).length,n=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof mc&&(l={visible:t.isDatasetVisible(o),index:o,fill:gAe(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=mAe(n,o,r.propagate))},beforeDraw(t,e,r){const i=r.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&E_(t.ctx,a,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const s=i[n].$filler;jee(s)&&E_(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const i=e.meta.$filler;!jee(i)||r.drawTime!=="beforeDatasetDraw"||E_(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hee=(t,e)=>{let{boxHeight:r=e,boxWidth:i=e}=t;return t.usePointStyle&&(r=Math.min(r,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(e,r)}},RAe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Vee extends Eu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,i){this.maxWidth=e,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=un(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(i=>e.filter(i,this.chart.data))),e.sort&&(r=r.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=As(i.font),s=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Hee(i,s);let u,h;r.font=n.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,u=this._fitCols(o,n,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,r,i,n){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=n+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-h;return this.legendItems.forEach((g,y)=>{const b=i+r/2+s.measureText(g.text).width;(y===0||u[u.length-1]+b+2*a>o)&&(d+=h,u[u.length-(y>0?0:1)]=0,p+=h,f++),l[y]={left:0,top:p,row:f,width:b,height:n},u[u.length-1]+=b+a}),d}_fitCols(e,r,i,n){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let d=a,f=0,p=0,g=0,y=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:w,itemHeight:S}=IAe(i,r,s,b,n);x>0&&p+S+2*a>h&&(d+=f+a,u.push({width:f,height:p}),g+=f+a,y++,f=p=0),l[x]={left:g,top:p,col:y,width:w,height:S},f=Math.max(f,w),p+=S+a}),d+=f,u.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:n},rtl:s}}=this,o=Pf(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=io(i,this.left+n,this.right-this.lineWidths[a]);for(const u of r)a!==u.row&&(a=u.row,l=io(i,this.left+n,this.right-this.lineWidths[a])),u.top+=this.top+e+n,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+n}else{let a=0,l=io(i,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const u of r)u.col!==a&&(a=u.col,l=io(i,this.top+e+n,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+n,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cx(e,this),this._draw(),dx(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:i,ctx:n}=this,{align:s,labels:o}=e,a=Un.color,l=Pf(e.rtl,this.left,this.width),u=As(o.font),{padding:h}=o,d=u.size,f=d/2;let p;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:b}=Hee(o,d),x=function(O,M,A){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;n.save();const I=Ur(A.lineWidth,1);if(n.fillStyle=Ur(A.fillStyle,a),n.lineCap=Ur(A.lineCap,"butt"),n.lineDashOffset=Ur(A.lineDashOffset,0),n.lineJoin=Ur(A.lineJoin,"miter"),n.lineWidth=I,n.strokeStyle=Ur(A.strokeStyle,a),n.setLineDash(Ur(A.lineDash,[])),o.usePointStyle){const R={radius:y*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},V=l.xPlus(O,g/2),oe=M+f;joe(n,R,V,oe,o.pointStyleWidth&&g)}else{const R=M+Math.max((d-y)/2,0),V=l.leftForLtr(O,g),oe=Hd(A.borderRadius);n.beginPath(),Object.values(oe).some(L=>L!==0)?f0(n,{x:V,y:R,w:g,h:y,radius:oe}):n.rect(V,R,g,y),n.fill(),I!==0&&n.stroke()}n.restore()},w=function(O,M,A){ih(n,A.text,O,M+b/2,u,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},S=this.isHorizontal(),C=this._computeTitleHeight();S?p={x:io(s,this.left+h,this.right-i[0]),y:this.top+h+C,line:0}:p={x:this.left+h,y:io(s,this.top+C+h,this.bottom-r[0].height),line:0},Yoe(this.ctx,e.textDirection);const k=b+h;this.legendItems.forEach((O,M)=>{n.strokeStyle=O.fontColor,n.fillStyle=O.fontColor;const A=n.measureText(O.text).width,I=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),R=g+f+A;let V=p.x,oe=p.y;l.setWidth(this.width),S?M>0&&V+R+h>this.right&&(oe=p.y+=k,p.line++,V=p.x=io(s,this.left+h,this.right-i[p.line])):M>0&&oe+k>this.bottom&&(V=p.x=V+r[p.line].width+h,p.line++,oe=p.y=io(s,this.top+C+h,this.bottom-r[p.line].height));const L=l.x(V);if(x(L,oe,O),V=rSe(I,V+g+f,S?V+R:this.right,e.rtl),w(l.x(V),oe,O),S)p.x+=R+h;else if(typeof O.text!="string"){const F=u.lineHeight;p.y+=xae(O,F)+h}else p.y+=k}),Zoe(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,i=As(r.font),n=lo(r.padding);if(!r.display)return;const s=Pf(e.rtl,this.left,this.width),o=this.ctx,a=r.position,l=i.size/2,u=n.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+u,d=io(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);h=u+io(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=io(a,d,d+f);o.textAlign=s.textAlign(JS(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=i.string,ih(o,r.text,p,h,i)}_computeTitleHeight(){const e=this.options.title,r=As(e.font),i=lo(e.padding);return e.display?r.lineHeight+i.height:0}_getLegendItemAt(e,r){let i,n,s;if(au(e,this.left,this.right)&&au(r,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(n=s[i],au(e,n.left,n.left+n.width)&&au(r,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const r=this.options;if(!NAe(e.type,r))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,s=RAe(n,i);n&&!s&&un(r.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!s&&un(r.onHover,[e,i,this],this)}else i&&un(r.onClick,[e,i,this],this)}}function IAe(t,e,r,i,n){const s=FAe(i,t,e,r),o=PAe(n,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function FAe(t,e,r,i){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((s,o)=>s.length>o.length?s:o)),e+r.size/2+i.measureText(n).width}function PAe(t,e,r){let i=t;return typeof e.text!="string"&&(i=xae(e,r)),i}function xae(t,e){const r=t.text?t.text.length:0;return e*r}function NAe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var $Ae={id:"legend",_element:Vee,start(t,e,r){const i=t.legend=new Vee({ctx:t.ctx,options:r,chart:t});ao.configure(t,i,r),ao.addBox(t,i)},stop(t){ao.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const i=t.legend;ao.configure(t,i,r),i.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const i=e.datasetIndex,n=r.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:n,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(r?0:void 0),h=lo(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:n||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class lC extends Eu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const n=Sn(i.text)?i.text.length:1;this._padding=lo(i.padding);const s=n*As(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:i,bottom:n,right:s,options:o}=this,a=o.align;let l=0,u,h,d;return this.isHorizontal()?(h=io(a,i,s),d=r+e,u=s-i):(o.position==="left"?(h=i+e,d=io(a,n,r),l=_n*-.5):(h=s-e,d=io(a,r,n),l=_n*.5),u=n-r),{titleX:h,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const i=As(r.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);ih(e,r.text,0,0,i,{color:r.color,maxWidth:l,rotation:u,textAlign:JS(r.align),textBaseline:"middle",translation:[o,a]})}}function BAe(t,e){const r=new lC({ctx:t.ctx,options:e,chart:t});ao.configure(t,r,e),ao.addBox(t,r),t.titleBlock=r}var jAe={id:"title",_element:lC,start(t,e,r){BAe(t,r)},stop(t){const e=t.titleBlock;ao.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const i=t.titleBlock;ao.configure(t,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yb=new WeakMap;var zAe={id:"subtitle",start(t,e,r){const i=new lC({ctx:t.ctx,options:r,chart:t});ao.configure(t,i,r),ao.addBox(t,i),yb.set(t,i)},stop(t){ao.removeBox(t,yb.get(t)),yb.delete(t)},beforeUpdate(t,e,r){const i=yb.get(t);ao.configure(t,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lg={average(t){if(!t.length)return!1;let e,r,i=new Set,n=0,s=0;for(e=0,r=t.length;e<r;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),n+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,i=e.y,n=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=R2(e,u);h<n&&(n=h,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,i=l.y}return{x:r,y:i}}};function gl(t,e){return e&&(Sn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ru(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function UAe(t,e){const{element:r,datasetIndex:i,index:n}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(n);return{chart:t,label:o,parsed:s.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:a,dataset:s.getDataset(),dataIndex:n,datasetIndex:i,element:r}}function Gee(t,e){const r=t.chart.ctx,{body:i,footer:n,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=As(e.bodyFont),u=As(e.titleFont),h=As(e.footerFont),d=s.length,f=n.length,p=i.length,g=lo(e.padding);let y=g.height,b=0,x=i.reduce((C,k)=>C+k.before.length+k.lines.length+k.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*C+(x-p)*l.lineHeight+(x-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let w=0;const S=function(C){b=Math.max(b,r.measureText(C).width+w)};return r.save(),r.font=u.string,Zi(t.title,S),r.font=l.string,Zi(t.beforeBody.concat(t.afterBody),S),w=e.displayColors?o+2+e.boxPadding:0,Zi(i,C=>{Zi(C.before,S),Zi(C.lines,S),Zi(C.after,S)}),w=0,r.font=h.string,Zi(t.footer,S),r.restore(),b+=g.width,{width:b,height:y}}function qAe(t,e){const{y:r,height:i}=e;return r<i/2?"top":r>t.height-i/2?"bottom":"center"}function HAe(t,e,r,i){const{x:n,width:s}=i,o=r.caretSize+r.caretPadding;if(t==="left"&&n+s+o>e.width||t==="right"&&n-s-o<0)return!0}function VAe(t,e,r,i){const{x:n,width:s}=r,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=n<=(a+l)/2?"left":"right":n<=s/2?u="left":n>=o-s/2&&(u="right"),HAe(u,t,e,r)&&(u="center"),u}function Wee(t,e,r){const i=r.yAlign||e.yAlign||qAe(t,r);return{xAlign:r.xAlign||e.xAlign||VAe(t,e,r,i),yAlign:i}}function GAe(t,e){let{x:r,width:i}=t;return e==="right"?r-=i:e==="center"&&(r-=i/2),r}function WAe(t,e,r){let{y:i,height:n}=t;return e==="top"?i+=r:e==="bottom"?i-=n+r:i-=n/2,i}function Yee(t,e,r,i){const{caretSize:n,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=r,u=n+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=Hd(o);let g=GAe(e,a);const y=WAe(e,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(h,f)+n:a==="right"&&(g+=Math.max(d,p)+n),{x:Is(g,0,i.width-e.width),y:Is(y,0,i.height-e.height)}}function bb(t,e,r){const i=lo(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Zee(t){return gl([],ru(t))}function YAe(t,e,r){return Bc(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Xee(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const _ae={beforeTitle:Jl,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return r[e.dataIndex]}return""},afterTitle:Jl,beforeBody:Jl,beforeLabel:Jl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Di(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Jl,afterBody:Jl,beforeFooter:Jl,footer:Jl,afterFooter:Jl};function Do(t,e,r,i){const n=t[e].call(r,i);return typeof n>"u"?_ae[e].call(r,i):n}class U2 extends Eu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&r.options.animation&&i.animations,s=new Qoe(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YAe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,n=Do(i,"beforeTitle",this,e),s=Do(i,"title",this,e),o=Do(i,"afterTitle",this,e);let a=[];return a=gl(a,ru(n)),a=gl(a,ru(s)),a=gl(a,ru(o)),a}getBeforeBody(e,r){return Zee(Do(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,n=[];return Zi(e,s=>{const o={before:[],lines:[],after:[]},a=Xee(i,s);gl(o.before,ru(Do(a,"beforeLabel",this,s))),gl(o.lines,Do(a,"label",this,s)),gl(o.after,ru(Do(a,"afterLabel",this,s))),n.push(o)}),n}getAfterBody(e,r){return Zee(Do(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,n=Do(i,"beforeFooter",this,e),s=Do(i,"footer",this,e),o=Do(i,"afterFooter",this,e);let a=[];return a=gl(a,ru(n)),a=gl(a,ru(s)),a=gl(a,ru(o)),a}_createItems(e){const r=this._active,i=this.chart.data,n=[],s=[],o=[];let a=[],l,u;for(l=0,u=r.length;l<u;++l)a.push(UAe(this.chart,r[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,i))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,i))),Zi(a,h=>{const d=Xee(e.callbacks,h);n.push(Do(d,"labelColor",this,h)),s.push(Do(d,"labelPointStyle",this,h)),o.push(Do(d,"labelTextColor",this,h))}),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,r){const i=this.options.setContext(this.getContext()),n=this._active;let s,o=[];if(!n.length)this.opacity!==0&&(s={opacity:0});else{const a=Lg[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Gee(this,i),u=Object.assign({},a,l),h=Wee(this.chart,i,u),d=Yee(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,n){const s=this.getCaretPosition(e,i,n);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,i){const{xAlign:n,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:d}=Hd(a),{x:f,y:p}=e,{width:g,height:y}=r;let b,x,w,S,C,k;return s==="center"?(C=p+y/2,n==="left"?(b=f,x=b-o,S=C+o,k=C-o):(b=f+g,x=b+o,S=C-o,k=C+o),w=b):(n==="left"?x=f+Math.max(l,h)+o:n==="right"?x=f+g-Math.max(u,d)-o:x=this.caretX,s==="top"?(S=p,C=S-o,b=x-o,w=x+o):(S=p+y,C=S+o,b=x+o,w=x-o),k=S),{x1:b,x2:x,x3:w,y1:S,y2:C,y3:k}}drawTitle(e,r,i){const n=this.title,s=n.length;let o,a,l;if(s){const u=Pf(i.rtl,this.x,this.width);for(e.x=bb(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",o=As(i.titleFont),a=i.titleSpacing,r.fillStyle=i.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(n[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,r,i,n,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,h=As(s.bodyFont),d=bb(this,"left",s),f=n.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=n.leftForLtr(f,u)+u/2,x=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,F2(e,y,b,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,F2(e,y,b,x)}else{e.lineWidth=ci(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=n.leftForLtr(f,u),b=n.leftForLtr(n.xPlus(f,1),u-2),x=Hd(o.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,f0(e,{x:y,y:g,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),f0(e,{x:b,y:g+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,u,l),e.strokeRect(y,g,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:n}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:h}=i,d=As(i.bodyFont);let f=d.lineHeight,p=0;const g=Pf(i.rtl,this.x,this.width),y=function(A){r.fillText(A,g.x(e.x+p),e.y+f/2),e.y+=f+s},b=g.textAlign(o);let x,w,S,C,k,O,M;for(r.textAlign=o,r.textBaseline="middle",r.font=d.string,e.x=bb(this,b,i),r.fillStyle=i.bodyColor,Zi(this.beforeBody,y),p=a&&b!=="right"?o==="center"?u/2+h:u+2+h:0,C=0,O=n.length;C<O;++C){for(x=n[C],w=this.labelTextColors[C],r.fillStyle=w,Zi(x.before,y),S=x.lines,a&&S.length&&(this._drawColorBox(r,e,C,g,i),f=Math.max(d.lineHeight,l)),k=0,M=S.length;k<M;++k)y(S[k]),f=d.lineHeight;Zi(x.after,y)}p=0,f=d.lineHeight,Zi(this.afterBody,y),e.y-=s}drawFooter(e,r,i){const n=this.footer,s=n.length;let o,a;if(s){const l=Pf(i.rtl,this.x,this.width);for(e.x=bb(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",o=As(i.footerFont),r.fillStyle=i.footerColor,r.font=o.string,a=0;a<s;++a)r.fillText(n[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,r,i,n){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:h}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=Hd(n.cornerRadius);r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.beginPath(),r.moveTo(a+d,l),o==="top"&&this.drawCaret(e,r,i,n),r.lineTo(a+u-f,l),r.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,r,i,n),r.lineTo(a+u,l+h-g),r.quadraticCurveTo(a+u,l+h,a+u-g,l+h),o==="bottom"&&this.drawCaret(e,r,i,n),r.lineTo(a+p,l+h),r.quadraticCurveTo(a,l+h,a,l+h-p),o==="center"&&s==="left"&&this.drawCaret(e,r,i,n),r.lineTo(a,l+d),r.quadraticCurveTo(a,l,a+d,l),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){const o=Lg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Gee(this,e),l=Object.assign({},o,this._size),u=Wee(r,e,l),h=Yee(e,l,u,r);(n._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=lo(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,n,r),Yoe(e,r.textDirection),s.y+=o.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Zoe(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,n=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!Mv(i,n),o=this._positionChanged(n,r);(s||o)&&(this._active=n,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],o=this._getActiveElements(e,s,r,i),a=this._positionChanged(o,e),l=r||!Mv(o,s)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,i,n){const s=this.options;if(e.type==="mouseout")return[];if(!n)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:i,caretY:n,options:s}=this,o=Lg[s.position].call(this,e,r);return o!==!1&&(i!==o.x||n!==o.y)}}Ge(U2,"positioners",Lg);var wae={id:"tooltip",_element:U2,positioners:Lg,afterInit(t,e,r){r&&(t.tooltip=new U2({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_ae},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ZAe=Object.freeze({__proto__:null,Colors:lAe,Decimation:hAe,Filler:MAe,Legend:$Ae,SubTitle:zAe,Title:jAe,Tooltip:wae});const XAe=(t,e,r,i)=>(typeof e=="string"?(r=t.push(e)-1,i.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function KAe(t,e,r,i){const n=t.indexOf(e);if(n===-1)return XAe(t,e,r,i);const s=t.lastIndexOf(e);return n!==s?r:n}const JAe=(t,e)=>t===null?null:Is(Math.round(t),0,e);function Kee(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class rp extends ph{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:n,label:s}of r)i[n]===s&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Di(e))return null;const i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:KAe(i,e,Ur(r,e),this._addedLabels),JAe(r,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,n=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=r;o++)n.push({value:o});return n}getLabelForValue(e){return Kee.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ge(rp,"id","category"),Ge(rp,"defaults",{ticks:{callback:Kee}});function QAe(t,e){const r=[],{bounds:n,step:s,min:o,max:a,precision:l,count:u,maxTicks:h,maxDigits:d,includeBounds:f}=t,p=s||1,g=h-1,{min:y,max:b}=e,x=!Di(o),w=!Di(a),S=!Di(u),C=(b-y)/(d+1);let k=GQ((b-y)/g/p)*p,O,M,A,I;if(k<1e-14&&!x&&!w)return[{value:y},{value:b}];I=Math.ceil(b/k)-Math.floor(y/k),I>g&&(k=GQ(I*k/g/p)*p),Di(l)||(O=Math.pow(10,l),k=Math.ceil(k*O)/O),n==="ticks"?(M=Math.floor(y/k)*k,A=Math.ceil(b/k)*k):(M=y,A=b),x&&w&&s&&ZEe((a-o)/s,k/1e3)?(I=Math.round(Math.min((a-o)/k,h)),k=(a-o)/I,M=o,A=a):S?(M=x?o:M,A=w?a:A,I=u-1,k=(A-M)/I):(I=(A-M)/k,Hg(I,Math.round(I),k/1e3)?I=Math.round(I):I=Math.ceil(I));const R=Math.max(WQ(k),WQ(M));O=Math.pow(10,Di(l)?R:l),M=Math.round(M*O)/O,A=Math.round(A*O)/O;let V=0;for(x&&(f&&M!==o?(r.push({value:o}),M<o&&V++,Hg(Math.round((M+V*k)*O)/O,o,Jee(o,C,t))&&V++):M<o&&V++);V<I;++V){const oe=Math.round((M+V*k)*O)/O;if(w&&oe>a)break;r.push({value:oe})}return w&&f&&A!==a?r.length&&Hg(r[r.length-1].value,a,Jee(a,C,t))?r[r.length-1].value=a:r.push({value:a}):(!w||A===a)&&r.push({value:A}),r}function Jee(t,e,{horizontal:r,minRotation:i}){const n=Ga(i),s=(r?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class jv extends ph{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Di(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this;const o=l=>n=r?n:l,a=l=>s=i?s:l;if(e){const l=El(n),u=El(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(n===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(n-l)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,o=QAe(n,s);return e.bounds==="ticks"&&Ooe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-r)/Math.max(e.length-1,1)/2;r-=n,i+=n}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(e){return J0(e,this.chart.options.locale,this.options.ticks.format)}}class nh extends jv{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zn(e)?e:0,this.max=zn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,i=Ga(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ge(nh,"id","linear"),Ge(nh,"defaults",{ticks:{callback:ux.formatters.numeric}});const m0=t=>Math.floor(fc(t)),Cd=(t,e)=>Math.pow(10,m0(t)+e);function Qee(t){return t/Math.pow(10,m0(t))===1}function ete(t,e,r){const i=Math.pow(10,r),n=Math.floor(t/i);return Math.ceil(e/i)-n}function eTe(t,e){const r=e-t;let i=m0(r);for(;ete(t,e,i)>10;)i++;for(;ete(t,e,i)<10;)i--;return Math.min(i,m0(t))}function tTe(t,{min:e,max:r}){e=Go(t.min,e);const i=[],n=m0(e);let s=eTe(e,r),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=n>s?Math.pow(10,n):0,u=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((u-h)/Math.pow(10,s)),f=Go(t.min,Math.round((l+h+d*Math.pow(10,s))*o)/o);for(;f<r;)i.push({value:f,major:Qee(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+h+d*Math.pow(10,s))*o)/o;const p=Go(t.max,f);return i.push({value:p,major:Qee(p),significand:d}),i}class q2 extends ph{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const i=jv.prototype.parse.apply(this,[e,r]);if(i===0){this._zero=!0;return}return zn(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zn(e)?Math.max(0,e):null,this.max=zn(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zn(this._userMin)&&(this.min=e===Cd(this.min,0)?Cd(this.min,-1):Cd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let i=this.min,n=this.max;const s=a=>i=e?i:a,o=a=>n=r?n:a;i===n&&(i<=0?(s(1),o(10)):(s(Cd(i,-1)),o(Cd(n,1)))),i<=0&&s(Cd(n,-1)),n<=0&&o(Cd(i,1)),this.min=i,this.max=n}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},i=tTe(r,this);return e.bounds==="ticks"&&Ooe(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":J0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=fc(e),this._valueRange=fc(this.max)-fc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}Ge(q2,"id","logarithmic"),Ge(q2,"defaults",{ticks:{callback:ux.formatters.logarithmic,major:{enabled:!0}}});function H2(t){const e=t.ticks;if(e.display&&t.display){const r=lo(e.backdropPadding);return Ur(e.font&&e.font.size,Un.font.size)+r.height}return 0}function rTe(t,e,r){return r=Sn(r)?r:[r],{w:hSe(t,e.string,r),h:r.length*e.lineHeight}}function tte(t,e,r,i,n){return t===i||t===n?{start:e-r/2,end:e+r/2}:t<i||t>n?{start:e-r,end:e}:{start:e,end:e+r}}function iTe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),i=[],n=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?_n/s:0;for(let l=0;l<s;l++){const u=o.setContext(t.getPointLabelContext(l));n[l]=u.padding;const h=t.getPointPosition(l,t.drawingArea+n[l],a),d=As(u.font),f=rTe(t.ctx,d,t._pointLabels[l]);i[l]=f;const p=Yo(t.getIndexAngle(l)+a),g=Math.round(XS(p)),y=tte(g,h.x,f.w,0,180),b=tte(g,h.y,f.h,90,270);nTe(r,e,p,y,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=aTe(t,i,n)}function nTe(t,e,r,i,n){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),n.start<e.t?(l=(e.t-n.start)/o,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function sTe(t,e,r){const i=t.drawingArea,{extra:n,additionalAngle:s,padding:o,size:a}=r,l=t.getPointPosition(e,i+n+o,s),u=Math.round(XS(Yo(l.angle+Qn))),h=cTe(l.y,a.h,u),d=lTe(u),f=uTe(l.x,a.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:f,top:h,right:f+a.w,bottom:h+a.h}}function oTe(t,e){if(!e)return!0;const{left:r,top:i,right:n,bottom:s}=t;return!(uu({x:r,y:i},e)||uu({x:r,y:s},e)||uu({x:n,y:i},e)||uu({x:n,y:s},e))}function aTe(t,e,r){const i=[],n=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:H2(s)/2,additionalAngle:o?_n/n:0};let u;for(let h=0;h<n;h++){l.padding=r[h],l.size=e[h];const d=sTe(t,h,l);i.push(d),a==="auto"&&(d.visible=oTe(d,u),d.visible&&(u=d))}return i}function lTe(t){return t===0||t===180?"center":t<180?"left":"right"}function uTe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function cTe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function dTe(t,e,r){const{left:i,top:n,right:s,bottom:o}=r,{backdropColor:a}=e;if(!Di(a)){const l=Hd(e.borderRadius),u=lo(e.backdropPadding);t.fillStyle=a;const h=i-u.left,d=n-u.top,f=s-i+u.width,p=o-n+u.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),f0(t,{x:h,y:d,w:f,h:p,radius:l}),t.fill()):t.fillRect(h,d,f,p)}}function hTe(t,e){const{ctx:r,options:{pointLabels:i}}=t;for(let n=e-1;n>=0;n--){const s=t._pointLabelItems[n];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(n));dTe(r,o,s);const a=As(o.font),{x:l,y:u,textAlign:h}=s;ih(r,t._pointLabels[n],l,u+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function Eae(t,e,r,i){const{ctx:n}=t;if(r)n.arc(t.xCenter,t.yCenter,e,0,xn);else{let s=t.getPointPosition(0,e);n.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),n.lineTo(s.x,s.y)}}function fTe(t,e,r,i,n){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||r<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(n.dash),s.lineDashOffset=n.dashOffset,s.beginPath(),Eae(t,r,o,i),s.closePath(),s.stroke(),s.restore())}function pTe(t,e,r){return Bc(t,{label:r,index:e,type:"pointLabel"})}class Tf extends jv{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=lo(H2(this.options)/2),r=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(r,i)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=zn(e)&&!isNaN(e)?e:0,this.max=zn(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/H2(this.options))}generateTickLabels(e){jv.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,i)=>{const n=un(this.options.pointLabels.callback,[r,i],this);return n||n===0?n:""}).filter((r,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?iTe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,i,n){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,i,n))}getIndexAngle(e){const r=xn/(this._pointLabels.length||1),i=this.options.startAngle||0;return Yo(e*r+Ga(i))}getDistanceFromCenterForValue(e){if(Di(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Di(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const i=r[e];return pTe(this.getContext(),e,i)}}getPointPosition(e,r,i=0){const n=this.getIndexAngle(e)-Qn+i;return{x:Math.cos(n)*r+this.xCenter,y:Math.sin(n)*r+this.yCenter,angle:n}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:i,right:n,bottom:s}=this._pointLabelItems[e];return{left:r,top:i,right:n,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Eae(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:i,grid:n,border:s}=r,o=this._pointLabels.length;let a,l,u;if(r.pointLabels.display&&hTe(this,o),n.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(d),p=n.setContext(f),g=s.setContext(f);fTe(this,p,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=h;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,i=r.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const u=i.setContext(this.getContext(l)),h=As(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const d=lo(u.backdropPadding);e.fillRect(-o/2-d.left,-s-h.size/2-d.top,o+d.width,h.size+d.height)}ih(e,a.label,0,-s,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Ge(Tf,"id","radialLinear"),Ge(Tf,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ux.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ge(Tf,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ge(Tf,"descriptors",{angleLines:{_fallback:"grid"}});const fx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},No=Object.keys(fx);function rte(t,e){return t-e}function ite(t,e){if(Di(e))return null;const r=t._adapter,{parser:i,round:n,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),zn(o)||(o=typeof i=="string"?r.parse(o,i):r.parse(o)),o===null?null:(n&&(o=n==="week"&&(Qf(s)||s===!0)?r.startOf(o,"isoWeek",s):r.startOf(o,n)),+o)}function nte(t,e,r,i){const n=No.length;for(let s=No.indexOf(t);s<n-1;++s){const o=fx[No[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(a*o.size))<=i)return No[s]}return No[n-1]}function mTe(t,e,r,i,n){for(let s=No.length-1;s>=No.indexOf(r);s--){const o=No[s];if(fx[o].common&&t._adapter.diff(n,i,o)>=e-1)return o}return No[r?No.indexOf(r):0]}function gTe(t){for(let e=No.indexOf(t)+1,r=No.length;e<r;++e)if(fx[No[e]].common)return No[e]}function ste(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:i,hi:n}=KS(r,e),s=r[i]>=e?r[i]:r[n];t[s]=!0}}function yTe(t,e,r,i){const n=t._adapter,s=+n.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+n.add(a,1,i))l=r[a],l>=0&&(e[l].major=!0);return e}function ote(t,e,r){const i=[],n={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],n[a]=o,i.push({value:a,major:!1});return s===0||!r?i:yTe(t,i,n,r)}class g0 extends ph{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),n=this._adapter=new rae._date(e.adapters.date);n.init(r),qg(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ite(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:n,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(n=Math.min(n,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=zn(n)&&!isNaN(n)?n:+r.startOf(Date.now(),i),s=zn(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,o=this.max,a=QEe(n,s,o);return this._unit=r.unit||(i.autoSkip?nte(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):mTe(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:gTe(this._unit),this.initOffsets(n),e.reverse&&a.reverse(),ote(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,n,s;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?r=1-n:r=(this.getDecimalForValue(e[1])-n)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Is(r,0,o),i=Is(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,n=this.options,s=n.time,o=s.unit||nte(s.minUnit,r,i,this._getLabelCapacity(r)),a=Ur(n.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Qf(l)||l===!0,h={};let d=r,f,p;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(i,r,o)>1e5*a)throw new Error(r+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<i;f=+e.add(f,a,o),p++)ste(h,f,g);return(f===i||n.bounds==="ticks"||p===1)&&ste(h,f,g),Object.keys(h).sort(rte).map(y=>+y)}getLabelForValue(e){const r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){const n=this.options.time.displayFormats,s=this._unit,o=r||n[s];return this._adapter.format(e,o)}_tickFormatFunction(e,r,i,n){const s=this.options,o=s.ticks.callback;if(o)return un(o,[e,r,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&a[l],d=u&&a[u],f=i[r],p=u&&d&&f&&f.major;return this._adapter.format(e,n||(p?d:h))}generateTickLabels(e){let r,i,n;for(r=0,i=e.length;r<i;++r)n=e[r],n.label=this._tickFormatFunction(n.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,n=Ga(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,n=i[r.unit]||i.millisecond,s=this._tickFormatFunction(e,0,ote(this,[e],this._majorUnit),n),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(r=0,i=n.length;r<i;++r)e=e.concat(n[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const n=this.getLabels();for(r=0,i=n.length;r<i;++r)e.push(ite(this,n[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ioe(e.sort(rte))}}Ge(g0,"id","time"),Ge(g0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vb(t,e,r){let i=0,n=t.length-1,s,o,a,l;r?(e>=t[i].pos&&e<=t[n].pos&&({lo:i,hi:n}=lu(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[n]):(e>=t[i].time&&e<=t[n].time&&({lo:i,hi:n}=lu(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[n]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class V2 extends g0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=vb(r,this.min),this._tableRange=vb(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:i}=this,n=[],s=[];let o,a,l,u,h;for(o=0,a=e.length;o<a;++o)u=e[o],u>=r&&u<=i&&n.push(u);if(n.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)h=n[o+1],l=n[o-1],u=n[o],Math.round((h+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,r=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((n,s)=>n-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?e=this.normalize(r.concat(i)):e=r.length?r:i,e=this._cache.all=e,e}getDecimalForValue(e){return(vb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return vb(this._table,i*this._tableRange+this._minPos,!0)}}Ge(V2,"id","timeseries"),Ge(V2,"defaults",g0.defaults);var bTe=Object.freeze({__proto__:null,CategoryScale:rp,LinearScale:nh,LogarithmicScale:q2,RadialLinearScale:Tf,TimeScale:g0,TimeSeriesScale:V2});const vTe=[ACe,rAe,ZAe,bTe];Po.register(...vTe);class mh extends Error{}class xTe extends mh{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class _Te extends mh{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class wTe extends mh{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Df extends mh{}class Sae extends mh{constructor(e){super(`Invalid unit ${e}`)}}class no extends mh{}class Qu extends mh{constructor(){super("Zone is an abstract class")}}const Tt="numeric",Qa="short",ea="long",zv={year:Tt,month:Tt,day:Tt},Cae={year:Tt,month:Qa,day:Tt},ETe={year:Tt,month:Qa,day:Tt,weekday:Qa},kae={year:Tt,month:ea,day:Tt},Aae={year:Tt,month:ea,day:Tt,weekday:ea},Tae={hour:Tt,minute:Tt},Dae={hour:Tt,minute:Tt,second:Tt},Lae={hour:Tt,minute:Tt,second:Tt,timeZoneName:Qa},Oae={hour:Tt,minute:Tt,second:Tt,timeZoneName:ea},Mae={hour:Tt,minute:Tt,hourCycle:"h23"},Rae={hour:Tt,minute:Tt,second:Tt,hourCycle:"h23"},Iae={hour:Tt,minute:Tt,second:Tt,hourCycle:"h23",timeZoneName:Qa},Fae={hour:Tt,minute:Tt,second:Tt,hourCycle:"h23",timeZoneName:ea},Pae={year:Tt,month:Tt,day:Tt,hour:Tt,minute:Tt},Nae={year:Tt,month:Tt,day:Tt,hour:Tt,minute:Tt,second:Tt},$ae={year:Tt,month:Qa,day:Tt,hour:Tt,minute:Tt},Bae={year:Tt,month:Qa,day:Tt,hour:Tt,minute:Tt,second:Tt},STe={year:Tt,month:Qa,day:Tt,weekday:Qa,hour:Tt,minute:Tt},jae={year:Tt,month:ea,day:Tt,hour:Tt,minute:Tt,timeZoneName:Qa},zae={year:Tt,month:ea,day:Tt,hour:Tt,minute:Tt,second:Tt,timeZoneName:Qa},Uae={year:Tt,month:ea,day:Tt,weekday:ea,hour:Tt,minute:Tt,timeZoneName:ea},qae={year:Tt,month:ea,day:Tt,weekday:ea,hour:Tt,minute:Tt,second:Tt,timeZoneName:ea};class ey{get type(){throw new Qu}get name(){throw new Qu}get ianaName(){return this.name}get isUniversal(){throw new Qu}offsetName(e,r){throw new Qu}formatOffset(e,r){throw new Qu}offset(e){throw new Qu}equals(e){throw new Qu}get isValid(){throw new Qu}}let S_=null;class px extends ey{static get instance(){return S_===null&&(S_=new px),S_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return Jae(e,r,i)}formatOffset(e,r){return Wg(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let tv={};function CTe(t){return tv[t]||(tv[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),tv[t]}const kTe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ATe(t,e){const r=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,n,s,o,a,l,u,h]=i;return[o,n,s,a,l,u,h]}function TTe(t,e){const r=t.formatToParts(e),i=[];for(let n=0;n<r.length;n++){const{type:s,value:o}=r[n],a=kTe[s];s==="era"?i[a]=o:kr(a)||(i[a]=parseInt(o,10))}return i}let xb={};class yu extends ey{static create(e){return xb[e]||(xb[e]=new yu(e)),xb[e]}static resetCache(){xb={},tv={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=yu.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return Jae(e,r,i,this.name)}formatOffset(e,r){return Wg(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const i=CTe(this.name);let[n,s,o,a,l,u,h]=i.formatToParts?TTe(i,r):ATe(i,r);a==="BC"&&(n=-Math.abs(n)+1);const f=gx({year:n,month:s,day:o,hour:l===24?0:l,minute:u,second:h,millisecond:0});let p=+r;const g=p%1e3;return p-=g>=0?g:1e3+g,(f-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ate={};function DTe(t,e={}){const r=JSON.stringify([t,e]);let i=ate[r];return i||(i=new Intl.ListFormat(t,e),ate[r]=i),i}let G2={};function W2(t,e={}){const r=JSON.stringify([t,e]);let i=G2[r];return i||(i=new Intl.DateTimeFormat(t,e),G2[r]=i),i}let Y2={};function LTe(t,e={}){const r=JSON.stringify([t,e]);let i=Y2[r];return i||(i=new Intl.NumberFormat(t,e),Y2[r]=i),i}let Z2={};function OTe(t,e={}){const{base:r,...i}=e,n=JSON.stringify([t,i]);let s=Z2[n];return s||(s=new Intl.RelativeTimeFormat(t,e),Z2[n]=s),s}let Og=null;function MTe(){return Og||(Og=new Intl.DateTimeFormat().resolvedOptions().locale,Og)}let lte={};function RTe(t){let e=lte[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,lte[t]=e}return e}function ITe(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let i,n;try{i=W2(t).resolvedOptions(),n=t}catch{const l=t.substring(0,r);i=W2(l).resolvedOptions(),n=l}const{numberingSystem:s,calendar:o}=i;return[n,s,o]}}function FTe(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function PTe(t){const e=[];for(let r=1;r<=12;r++){const i=Nt.utc(2009,r,1);e.push(t(i))}return e}function NTe(t){const e=[];for(let r=1;r<=7;r++){const i=Nt.utc(2016,11,13+r);e.push(t(i))}return e}function _b(t,e,r,i){const n=t.listingMode();return n==="error"?null:n==="en"?r(e):i(e)}function $Te(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class BTe{constructor(e,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:s,...o}=i;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=LTe(e,a)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):fC(e,3);return ls(r,this.padTo)}}}class jTe{constructor(e,r,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&yu.create(a).valid?(n=a,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=W2(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class zTe{constructor(e,r,i){this.opts={style:"long",...i},!r&&Xae()&&(this.rtf=OTe(e,i))}format(e,r){return this.rtf?this.rtf.format(e,r):cDe(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const UTe={firstDay:1,minimalDays:4,weekend:[6,7]};class Vi{static fromOpts(e){return Vi.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,i,n,s=!1){const o=e||$n.defaultLocale,a=o||(s?"en-US":MTe()),l=r||$n.defaultNumberingSystem,u=i||$n.defaultOutputCalendar,h=X2(n)||$n.defaultWeekSettings;return new Vi(a,l,u,h,o)}static resetCache(){Og=null,G2={},Y2={},Z2={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:i,weekSettings:n}={}){return Vi.create(e,r,i,n)}constructor(e,r,i,n,s){const[o,a,l]=ITe(e);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=i||l||null,this.weekSettings=n,this.intl=FTe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=$Te(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Vi.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,X2(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return _b(this,e,tle,()=>{const i=r?{month:e,day:"numeric"}:{month:e},n=r?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=PTe(s=>this.extract(s,i,"month"))),this.monthsCache[n][e]})}weekdays(e,r=!1){return _b(this,e,nle,()=>{const i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=r?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=NTe(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return _b(this,void 0,()=>sle,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Nt.utc(2016,11,13,9),Nt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return _b(this,e,ole,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Nt.utc(-40,1,1),Nt.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,r,i){const n=this.dtFormatter(e,r),s=n.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new BTe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new jTe(e,this.intl,r)}relFormatter(e={}){return new zTe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return DTe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Kae()?RTe(this.locale):UTe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let C_=null;class _o extends ey{static get utcInstance(){return C_===null&&(C_=new _o(0)),C_}static instance(e){return e===0?_o.utcInstance:new _o(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new _o(yx(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Wg(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Wg(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Wg(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class qTe extends ey{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ac(t,e){if(kr(t)||t===null)return e;if(t instanceof ey)return t;if(ZTe(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?px.instance:r==="utc"||r==="gmt"?_o.utcInstance:_o.parseSpecifier(r)||yu.create(t)}else return Ec(t)?_o.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new qTe(t)}const uC={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ute={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},HTe=uC.hanidec.replace(/[\[|\]]/g,"").split("");function VTe(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(t[r].search(uC.hanidec)!==-1)e+=HTe.indexOf(t[r]);else for(const n in ute){const[s,o]=ute[n];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}let xf={};function GTe(){xf={}}function Pa({numberingSystem:t},e=""){const r=t||"latn";return xf[r]||(xf[r]={}),xf[r][e]||(xf[r][e]=new RegExp(`${uC[r]}${e}`)),xf[r][e]}let cte=()=>Date.now(),dte="system",hte=null,fte=null,pte=null,mte=60,gte,yte=null;class $n{static get now(){return cte}static set now(e){cte=e}static set defaultZone(e){dte=e}static get defaultZone(){return ac(dte,px.instance)}static get defaultLocale(){return hte}static set defaultLocale(e){hte=e}static get defaultNumberingSystem(){return fte}static set defaultNumberingSystem(e){fte=e}static get defaultOutputCalendar(){return pte}static set defaultOutputCalendar(e){pte=e}static get defaultWeekSettings(){return yte}static set defaultWeekSettings(e){yte=X2(e)}static get twoDigitCutoffYear(){return mte}static set twoDigitCutoffYear(e){mte=e%100}static get throwOnInvalid(){return gte}static set throwOnInvalid(e){gte=e}static resetCaches(){Vi.resetCache(),yu.resetCache(),Nt.resetCache(),GTe()}}class Wa{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Hae=[0,31,59,90,120,151,181,212,243,273,304,334],Vae=[0,31,60,91,121,152,182,213,244,274,305,335];function xa(t,e){return new Wa("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function cC(t,e,r){const i=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function Gae(t,e,r){return r+(ty(t)?Vae:Hae)[e-1]}function Wae(t,e){const r=ty(t)?Vae:Hae,i=r.findIndex(s=>s<e),n=e-r[i];return{month:i+1,day:n}}function dC(t,e){return(t-e+7)%7+1}function Uv(t,e=4,r=1){const{year:i,month:n,day:s}=t,o=Gae(i,n,s),a=dC(cC(i,n,s),r);let l=Math.floor((o-a+14-e)/7),u;return l<1?(u=i-1,l=y0(u,e,r)):l>y0(i,e,r)?(u=i+1,l=1):u=i,{weekYear:u,weekNumber:l,weekday:a,...bx(t)}}function bte(t,e=4,r=1){const{weekYear:i,weekNumber:n,weekday:s}=t,o=dC(cC(i,1,e),r),a=Nf(i);let l=n*7+s-o-7+e,u;l<1?(u=i-1,l+=Nf(u)):l>a?(u=i+1,l-=Nf(i)):u=i;const{month:h,day:d}=Wae(u,l);return{year:u,month:h,day:d,...bx(t)}}function k_(t){const{year:e,month:r,day:i}=t,n=Gae(e,r,i);return{year:e,ordinal:n,...bx(t)}}function vte(t){const{year:e,ordinal:r}=t,{month:i,day:n}=Wae(e,r);return{year:e,month:i,day:n,...bx(t)}}function xte(t,e){if(!kr(t.localWeekday)||!kr(t.localWeekNumber)||!kr(t.localWeekYear)){if(!kr(t.weekday)||!kr(t.weekNumber)||!kr(t.weekYear))throw new Df("Cannot mix locale-based week fields with ISO-based week fields");return kr(t.localWeekday)||(t.weekday=t.localWeekday),kr(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),kr(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function WTe(t,e=4,r=1){const i=mx(t.weekYear),n=_a(t.weekNumber,1,y0(t.weekYear,e,r)),s=_a(t.weekday,1,7);return i?n?s?!1:xa("weekday",t.weekday):xa("week",t.weekNumber):xa("weekYear",t.weekYear)}function YTe(t){const e=mx(t.year),r=_a(t.ordinal,1,Nf(t.year));return e?r?!1:xa("ordinal",t.ordinal):xa("year",t.year)}function Yae(t){const e=mx(t.year),r=_a(t.month,1,12),i=_a(t.day,1,qv(t.year,t.month));return e?r?i?!1:xa("day",t.day):xa("month",t.month):xa("year",t.year)}function Zae(t){const{hour:e,minute:r,second:i,millisecond:n}=t,s=_a(e,0,23)||e===24&&r===0&&i===0&&n===0,o=_a(r,0,59),a=_a(i,0,59),l=_a(n,0,999);return s?o?a?l?!1:xa("millisecond",n):xa("second",i):xa("minute",r):xa("hour",e)}function kr(t){return typeof t>"u"}function Ec(t){return typeof t=="number"}function mx(t){return typeof t=="number"&&t%1===0}function ZTe(t){return typeof t=="string"}function XTe(t){return Object.prototype.toString.call(t)==="[object Date]"}function Xae(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Kae(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function KTe(t){return Array.isArray(t)?t:[t]}function _te(t,e,r){if(t.length!==0)return t.reduce((i,n)=>{const s=[e(n),n];return i&&r(i[0],s[0])===i[0]?i:s},null)[1]}function JTe(t,e){return e.reduce((r,i)=>(r[i]=t[i],r),{})}function ip(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function X2(t){if(t==null)return null;if(typeof t!="object")throw new no("Week settings must be an object");if(!_a(t.firstDay,1,7)||!_a(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!_a(e,1,7)))throw new no("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function _a(t,e,r){return mx(t)&&t>=e&&t<=r}function QTe(t,e){return t-e*Math.floor(t/e)}function ls(t,e=2){const r=t<0;let i;return r?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function ic(t){if(!(kr(t)||t===null||t===""))return parseInt(t,10)}function kd(t){if(!(kr(t)||t===null||t===""))return parseFloat(t)}function hC(t){if(!(kr(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function fC(t,e,r=!1){const i=10**e;return(r?Math.trunc:Math.round)(t*i)/i}function ty(t){return t%4===0&&(t%100!==0||t%400===0)}function Nf(t){return ty(t)?366:365}function qv(t,e){const r=QTe(e-1,12)+1,i=t+(e-r)/12;return r===2?ty(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function gx(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function wte(t,e,r){return-dC(cC(t,1,e),r)+e-1}function y0(t,e=4,r=1){const i=wte(t,e,r),n=wte(t+1,e,r);return(Nf(t)-i+n)/7}function K2(t){return t>99?t:t>$n.twoDigitCutoffYear?1900+t:2e3+t}function Jae(t,e,r,i=null){const n=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function yx(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const i=parseInt(e,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function Qae(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new no(`Invalid unit value ${t}`);return e}function Hv(t,e){const r={};for(const i in t)if(ip(t,i)){const n=t[i];if(n==null)continue;r[e(i)]=Qae(n)}return r}function Wg(t,e){const r=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),n=t>=0?"+":"-";switch(e){case"short":return`${n}${ls(r,2)}:${ls(i,2)}`;case"narrow":return`${n}${r}${i>0?`:${i}`:""}`;case"techie":return`${n}${ls(r,2)}${ls(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function bx(t){return JTe(t,["hour","minute","second","millisecond"])}const eDe=["January","February","March","April","May","June","July","August","September","October","November","December"],ele=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tDe=["J","F","M","A","M","J","J","A","S","O","N","D"];function tle(t){switch(t){case"narrow":return[...tDe];case"short":return[...ele];case"long":return[...eDe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const rle=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ile=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rDe=["M","T","W","T","F","S","S"];function nle(t){switch(t){case"narrow":return[...rDe];case"short":return[...ile];case"long":return[...rle];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const sle=["AM","PM"],iDe=["Before Christ","Anno Domini"],nDe=["BC","AD"],sDe=["B","A"];function ole(t){switch(t){case"narrow":return[...sDe];case"short":return[...nDe];case"long":return[...iDe];default:return null}}function oDe(t){return sle[t.hour<12?0:1]}function aDe(t,e){return nle(e)[t.weekday-1]}function lDe(t,e){return tle(e)[t.month-1]}function uDe(t,e){return ole(e)[t.year<0?0:1]}function cDe(t,e,r="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${n[t][0]}`;case-1:return d?"yesterday":`last ${n[t][0]}`;case 0:return d?"today":`this ${n[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,u=n[t],h=i?l?u[1]:u[2]||u[1]:l?n[t][0]:t;return o?`${a} ${h} ago`:`in ${a} ${h}`}function Ete(t,e){let r="";for(const i of t)i.literal?r+=i.val:r+=e(i.val);return r}const dDe={D:zv,DD:Cae,DDD:kae,DDDD:Aae,t:Tae,tt:Dae,ttt:Lae,tttt:Oae,T:Mae,TT:Rae,TTT:Iae,TTTT:Fae,f:Pae,ff:$ae,fff:jae,ffff:Uae,F:Nae,FF:Bae,FFF:zae,FFFF:qae};class oo{static create(e,r={}){return new oo(e,r)}static parseFormat(e){let r=null,i="",n=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),r=null,i="",n=!n):n||a===r?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,r=a)}return i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return dDe[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return ls(e,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,r){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(p,g)=>this.loc.extract(e,p,g),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>i?oDe(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,g)=>i?lDe(e,p):s(g?{month:p}:{month:p,day:"numeric"},"month"),u=(p,g)=>i?aDe(e,p):s(g?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),h=p=>{const g=oo.macroTokenToFormatOpts(p);return g?this.formatWithSystemDefault(e,g):p},d=p=>i?uDe(e,p):s({era:p},"era"),f=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return n?s({day:"numeric"},"day"):this.num(e.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(e.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(e.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return h(p)}};return Ete(oo.parseFormat(r),f)}formatDurationFromString(e,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>u=>{const h=i(u);return h?this.num(l.get(h),u.length):u},s=oo.parseFormat(r),o=s.reduce((l,{literal:u,val:h})=>u?l:l.concat(h),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return Ete(s,n(a))}}const ale=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Sp(...t){const e=t.reduce((r,i)=>r+i.source,"");return RegExp(`^${e}$`)}function Cp(...t){return e=>t.reduce(([r,i,n],s)=>{const[o,a,l]=s(e,n);return[{...r,...o},a||i,l]},[{},null,1]).slice(0,2)}function kp(t,...e){if(t==null)return[null,null];for(const[r,i]of e){const n=r.exec(t);if(n)return i(n)}return[null,null]}function lle(...t){return(e,r)=>{const i={};let n;for(n=0;n<t.length;n++)i[t[n]]=ic(e[r+n]);return[i,null,r+n]}}const ule=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,hDe=`(?:${ule.source}?(?:\\[(${ale.source})\\])?)?`,pC=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,cle=RegExp(`${pC.source}${hDe}`),mC=RegExp(`(?:T${cle.source})?`),fDe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,pDe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,mDe=/(\d{4})-?(\d{3})/,gDe=lle("weekYear","weekNumber","weekDay"),yDe=lle("year","ordinal"),bDe=/(\d{4})-(\d\d)-(\d\d)/,dle=RegExp(`${pC.source} ?(?:${ule.source}|(${ale.source}))?`),vDe=RegExp(`(?: ${dle.source})?`);function $f(t,e,r){const i=t[e];return kr(i)?r:ic(i)}function xDe(t,e){return[{year:$f(t,e),month:$f(t,e+1,1),day:$f(t,e+2,1)},null,e+3]}function Ap(t,e){return[{hours:$f(t,e,0),minutes:$f(t,e+1,0),seconds:$f(t,e+2,0),milliseconds:hC(t[e+3])},null,e+4]}function ry(t,e){const r=!t[e]&&!t[e+1],i=yx(t[e+1],t[e+2]),n=r?null:_o.instance(i);return[{},n,e+3]}function iy(t,e){const r=t[e]?yu.create(t[e]):null;return[{},r,e+1]}const _De=RegExp(`^T?${pC.source}$`),wDe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function EDe(t){const[e,r,i,n,s,o,a,l,u]=t,h=e[0]==="-",d=l&&l[0]==="-",f=(p,g=!1)=>p!==void 0&&(g||p&&h)?-p:p;return[{years:f(kd(r)),months:f(kd(i)),weeks:f(kd(n)),days:f(kd(s)),hours:f(kd(o)),minutes:f(kd(a)),seconds:f(kd(l),l==="-0"),milliseconds:f(hC(u),d)}]}const SDe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gC(t,e,r,i,n,s,o){const a={year:e.length===2?K2(ic(e)):ic(e),month:ele.indexOf(r)+1,day:ic(i),hour:ic(n),minute:ic(s)};return o&&(a.second=ic(o)),t&&(a.weekday=t.length>3?rle.indexOf(t)+1:ile.indexOf(t)+1),a}const CDe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function kDe(t){const[,e,r,i,n,s,o,a,l,u,h,d]=t,f=gC(e,n,i,r,s,o,a);let p;return l?p=SDe[l]:u?p=0:p=yx(h,d),[f,new _o(p)]}function ADe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const TDe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,DDe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,LDe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ste(t){const[,e,r,i,n,s,o,a]=t;return[gC(e,n,i,r,s,o,a),_o.utcInstance]}function ODe(t){const[,e,r,i,n,s,o,a]=t;return[gC(e,a,r,i,n,s,o),_o.utcInstance]}const MDe=Sp(fDe,mC),RDe=Sp(pDe,mC),IDe=Sp(mDe,mC),FDe=Sp(cle),hle=Cp(xDe,Ap,ry,iy),PDe=Cp(gDe,Ap,ry,iy),NDe=Cp(yDe,Ap,ry,iy),$De=Cp(Ap,ry,iy);function BDe(t){return kp(t,[MDe,hle],[RDe,PDe],[IDe,NDe],[FDe,$De])}function jDe(t){return kp(ADe(t),[CDe,kDe])}function zDe(t){return kp(t,[TDe,Ste],[DDe,Ste],[LDe,ODe])}function UDe(t){return kp(t,[wDe,EDe])}const qDe=Cp(Ap);function HDe(t){return kp(t,[_De,qDe])}const VDe=Sp(bDe,vDe),GDe=Sp(dle),WDe=Cp(Ap,ry,iy);function YDe(t){return kp(t,[VDe,hle],[GDe,WDe])}const Cte="Invalid Duration",fle={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ZDe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...fle},pa=146097/400,uf=146097/4800,XDe={years:{quarters:4,months:12,weeks:pa/7,days:pa,hours:pa*24,minutes:pa*24*60,seconds:pa*24*60*60,milliseconds:pa*24*60*60*1e3},quarters:{months:3,weeks:pa/28,days:pa/4,hours:pa*24/4,minutes:pa*24*60/4,seconds:pa*24*60*60/4,milliseconds:pa*24*60*60*1e3/4},months:{weeks:uf/7,days:uf,hours:uf*24,minutes:uf*24*60,seconds:uf*24*60*60,milliseconds:uf*24*60*60*1e3},...fle},Ud=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],KDe=Ud.slice(0).reverse();function ec(t,e,r=!1){const i={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ti(i)}function ple(t,e){let r=e.milliseconds??0;for(const i of KDe.slice(1))e[i]&&(r+=e[i]*t[i].milliseconds);return r}function kte(t,e){const r=ple(t,e)<0?-1:1;Ud.reduceRight((i,n)=>{if(kr(e[n]))return i;if(i){const s=e[i]*r,o=t[n][i],a=Math.floor(s/o);e[n]+=a*r,e[i]-=a*o*r}return n},null),Ud.reduce((i,n)=>{if(kr(e[n]))return i;if(i){const s=e[i]%1;e[i]-=s,e[n]+=s*t[i][n]}return n},null)}function JDe(t){const e={};for(const[r,i]of Object.entries(t))i!==0&&(e[r]=i);return e}class Ti{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let i=r?XDe:ZDe;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Vi.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,r){return Ti.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new no(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Ti({values:Hv(e,Ti.normalizeUnit),loc:Vi.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Ec(e))return Ti.fromMillis(e);if(Ti.isDuration(e))return e;if(typeof e=="object")return Ti.fromObject(e);throw new no(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[i]=UDe(e);return i?Ti.fromObject(i,r):Ti.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[i]=HDe(e);return i?Ti.fromObject(i,r):Ti.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new no("need to specify a reason the Duration is invalid");const i=e instanceof Wa?e:new Wa(e,r);if($n.throwOnInvalid)throw new wTe(i);return new Ti({invalid:i})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new Sae(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?oo.create(this.loc,i).formatDurationFromString(this,e):Cte}toHuman(e={}){if(!this.isValid)return Cte;const r=Ud.map(i=>{const n=this.values[i];return kr(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=fC(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Nt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ple(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=Ti.fromDurationLike(e),i={};for(const n of Ud)(ip(r.values,n)||ip(this.values,n))&&(i[n]=r.get(n)+this.get(n));return ec(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const r=Ti.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=Qae(e(this.values[i],i));return ec(this,{values:r},!0)}get(e){return this[Ti.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...Hv(e,Ti.normalizeUnit)};return ec(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:i,matrix:n}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:n,conversionAccuracy:i};return ec(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return kte(this.matrix,e),ec(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=JDe(this.normalize().shiftToAll().toObject());return ec(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Ti.normalizeUnit(o));const r={},i={},n=this.toObject();let s;for(const o of Ud)if(e.indexOf(o)>=0){s=o;let a=0;for(const u in i)a+=this.matrix[u][o]*i[u],i[u]=0;Ec(n[o])&&(a+=n[o]);const l=Math.trunc(a);r[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else Ec(n[o])&&(i[o]=n[o]);for(const o in i)i[o]!==0&&(r[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return kte(this.matrix,r),ec(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ec(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of Ud)if(!r(this.values[i],e.values[i]))return!1;return!0}}const cf="Invalid Interval";function QDe(t,e){return!t||!t.isValid?Nn.invalid("missing or invalid start"):!e||!e.isValid?Nn.invalid("missing or invalid end"):e<t?Nn.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Nn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new no("need to specify a reason the Interval is invalid");const i=e instanceof Wa?e:new Wa(e,r);if($n.throwOnInvalid)throw new _Te(i);return new Nn({invalid:i})}static fromDateTimes(e,r){const i=_g(e),n=_g(r),s=QDe(i,n);return s??new Nn({start:i,end:n})}static after(e,r){const i=Ti.fromDurationLike(r),n=_g(e);return Nn.fromDateTimes(n,n.plus(i))}static before(e,r){const i=Ti.fromDurationLike(r),n=_g(e);return Nn.fromDateTimes(n.minus(i),n)}static fromISO(e,r){const[i,n]=(e||"").split("/",2);if(i&&n){let s,o;try{s=Nt.fromISO(i,r),o=s.isValid}catch{o=!1}let a,l;try{a=Nt.fromISO(n,r),l=a.isValid}catch{l=!1}if(o&&l)return Nn.fromDateTimes(s,a);if(o){const u=Ti.fromISO(n,r);if(u.isValid)return Nn.after(s,u)}else if(l){const u=Ti.fromISO(i,r);if(u.isValid)return Nn.before(a,u)}}return Nn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(e,r);let n;return r!=null&&r.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(e,r),Math.floor(n.diff(i,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?Nn.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(_g).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:n}=this,s=0;for(;n<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;i.push(Nn.fromDateTimes(n,a)),n=a,s+=1}return i}splitBy(e){const r=Ti.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,n=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(r.mapUnits(l=>l*n));s=+a>+this.e?this.e:a,o.push(Nn.fromDateTimes(i,s)),i=s,n+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return r>=i?null:Nn.fromDateTimes(r,i)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Nn.fromDateTimes(r,i)}static merge(e){const[r,i]=e.sort((n,s)=>n.s-s.s).reduce(([n,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[n,s.union(o)]:[n.concat([s]),o]:[n,o],[[],null]);return i&&r.push(i),r}static xor(e){let r=null,i=0;const n=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,u)=>l.time-u.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&n.push(Nn.fromDateTimes(r,l.time)),r=null);return Nn.merge(n)}difference(...e){return Nn.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:cf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=zv,r={}){return this.isValid?oo.create(this.s.loc.clone(r),e).formatInterval(this):cf}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:cf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cf}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:cf}toFormat(e,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:cf}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Ti.invalid(this.invalidReason)}mapEndpoints(e){return Nn.fromDateTimes(e(this.s),e(this.e))}}class wb{static hasDST(e=$n.defaultZone){const r=Nt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return yu.isValidZone(e)}static normalizeZone(e){return ac(e,$n.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Vi.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Vi.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Vi.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Vi.create(r,i,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Vi.create(r,i,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Vi.create(r,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Vi.create(r,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Vi.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Vi.create(r,null,"gregory").eras(e)}static features(){return{relative:Xae(),localeWeek:Kae()}}}function Ate(t,e){const r=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(e)-r(t);return Math.floor(Ti.fromMillis(i).as("days"))}function e3e(t,e,r){const i=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const h=Ate(l,u);return(h-h%7)/7}],["days",Ate]],n={},s=t;let o,a;for(const[l,u]of i)r.indexOf(l)>=0&&(o=l,n[l]=u(t,e),a=s.plus(n),a>e?(n[l]--,t=s.plus(n),t>e&&(a=t,n[l]--,t=s.plus(n))):t=a);return[t,n,a,o]}function t3e(t,e,r,i){let[n,s,o,a]=e3e(t,e,r);const l=e-n,u=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);u.length===0&&(o<e&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const h=Ti.fromObject(s,i);return u.length>0?Ti.fromMillis(l,i).shiftTo(...u).plus(h):h}const r3e="missing Intl.DateTimeFormat.formatToParts support";function Pi(t,e=r=>r){return{regex:t,deser:([r])=>e(VTe(r))}}const i3e=" ",mle=`[ ${i3e}]`,gle=new RegExp(mle,"g");function n3e(t){return t.replace(/\./g,"\\.?").replace(gle,mle)}function Tte(t){return t.replace(/\./g,"").replace(gle," ").toLowerCase()}function Na(t,e){return t===null?null:{regex:RegExp(t.map(n3e).join("|")),deser:([r])=>t.findIndex(i=>Tte(r)===Tte(i))+e}}function Dte(t,e){return{regex:t,deser:([,r,i])=>yx(r,i),groups:e}}function Eb(t){return{regex:t,deser:([e])=>e}}function s3e(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o3e(t,e){const r=Pa(e),i=Pa(e,"{2}"),n=Pa(e,"{3}"),s=Pa(e,"{4}"),o=Pa(e,"{6}"),a=Pa(e,"{1,2}"),l=Pa(e,"{1,3}"),u=Pa(e,"{1,6}"),h=Pa(e,"{1,9}"),d=Pa(e,"{2,4}"),f=Pa(e,"{4,6}"),p=b=>({regex:RegExp(s3e(b.val)),deser:([x])=>x,literal:!0}),y=(b=>{if(t.literal)return p(b);switch(b.val){case"G":return Na(e.eras("short"),0);case"GG":return Na(e.eras("long"),0);case"y":return Pi(u);case"yy":return Pi(d,K2);case"yyyy":return Pi(s);case"yyyyy":return Pi(f);case"yyyyyy":return Pi(o);case"M":return Pi(a);case"MM":return Pi(i);case"MMM":return Na(e.months("short",!0),1);case"MMMM":return Na(e.months("long",!0),1);case"L":return Pi(a);case"LL":return Pi(i);case"LLL":return Na(e.months("short",!1),1);case"LLLL":return Na(e.months("long",!1),1);case"d":return Pi(a);case"dd":return Pi(i);case"o":return Pi(l);case"ooo":return Pi(n);case"HH":return Pi(i);case"H":return Pi(a);case"hh":return Pi(i);case"h":return Pi(a);case"mm":return Pi(i);case"m":return Pi(a);case"q":return Pi(a);case"qq":return Pi(i);case"s":return Pi(a);case"ss":return Pi(i);case"S":return Pi(l);case"SSS":return Pi(n);case"u":return Eb(h);case"uu":return Eb(a);case"uuu":return Pi(r);case"a":return Na(e.meridiems(),0);case"kkkk":return Pi(s);case"kk":return Pi(d,K2);case"W":return Pi(a);case"WW":return Pi(i);case"E":case"c":return Pi(r);case"EEE":return Na(e.weekdays("short",!1),1);case"EEEE":return Na(e.weekdays("long",!1),1);case"ccc":return Na(e.weekdays("short",!0),1);case"cccc":return Na(e.weekdays("long",!0),1);case"Z":case"ZZ":return Dte(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return Dte(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Eb(/[a-z_+-/]{1,256}?/i);case" ":return Eb(/[^\S\n\r]/);default:return p(b)}})(t)||{invalidReason:r3e};return y.token=t,y}const a3e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function l3e(t,e,r){const{type:i,value:n}=t;if(i==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=a3e[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function u3e(t){return[`^${t.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,t]}function c3e(t,e,r){const i=t.match(e);if(i){const n={};let s=1;for(const o in r)if(ip(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,n]}else return[i,{}]}function d3e(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return kr(t.z)||(r=yu.create(t.z)),kr(t.Z)||(r||(r=new _o(t.Z)),i=t.Z),kr(t.q)||(t.M=(t.q-1)*3+1),kr(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),kr(t.u)||(t.S=hC(t.u)),[Object.keys(t).reduce((s,o)=>{const a=e(o);return a&&(s[a]=t[o]),s},{}),r,i]}let A_=null;function h3e(){return A_||(A_=Nt.fromMillis(1555555555555)),A_}function f3e(t,e){if(t.literal)return t;const r=oo.macroTokenToFormatOpts(t.val),i=xle(r,e);return i==null||i.includes(void 0)?t:i}function yle(t,e){return Array.prototype.concat(...t.map(r=>f3e(r,e)))}class ble{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=yle(oo.parseFormat(r),e),this.units=this.tokens.map(i=>o3e(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,n]=u3e(this.units);this.regex=RegExp(i,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[r,i]=c3e(e,this.regex,this.handlers),[n,s,o]=i?d3e(i):[null,null,void 0];if(ip(i,"a")&&ip(i,"H"))throw new Df("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:n,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function vle(t,e,r){return new ble(t,r).explainFromTokens(e)}function p3e(t,e,r){const{result:i,zone:n,specificOffset:s,invalidReason:o}=vle(t,e,r);return[i,n,s,o]}function xle(t,e){if(!t)return null;const i=oo.create(e,t).dtFormatter(h3e()),n=i.formatToParts(),s=i.resolvedOptions();return n.map(o=>l3e(o,t,s))}const T_="Invalid DateTime",Lte=864e13;function Mg(t){return new Wa("unsupported zone",`the zone "${t.name}" is not supported`)}function D_(t){return t.weekData===null&&(t.weekData=Uv(t.c)),t.weekData}function L_(t){return t.localWeekData===null&&(t.localWeekData=Uv(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Ad(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Nt({...r,...e,old:r})}function _le(t,e,r){let i=t-e*60*1e3;const n=r.offset(i);if(e===n)return[i,e];i-=(n-e)*60*1e3;const s=r.offset(i);return n===s?[i,n]:[t-Math.min(n,s)*60*1e3,Math.max(n,s)]}function Sb(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function rv(t,e,r){return _le(gx(t),e,r)}function Ote(t,e){const r=t.o,i=t.c.year+Math.trunc(e.years),n=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:i,month:n,day:Math.min(t.c.day,qv(i,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Ti.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=gx(s);let[l,u]=_le(a,r,t.zone);return o!==0&&(l+=o,u=t.zone.offset(l)),{ts:l,o:u}}function df(t,e,r,i,n,s){const{setZone:o,zone:a}=r;if(t&&Object.keys(t).length!==0||e){const l=e||a,u=Nt.fromObject(t,{...r,zone:l,specificOffset:s});return o?u:u.setZone(a)}else return Nt.invalid(new Wa("unparsable",`the input "${n}" can't be parsed as ${i}`))}function Cb(t,e,r=!0){return t.isValid?oo.create(Vi.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function O_(t,e){const r=t.c.year>9999||t.c.year<0;let i="";return r&&t.c.year>=0&&(i+="+"),i+=ls(t.c.year,r?6:4),e?(i+="-",i+=ls(t.c.month),i+="-",i+=ls(t.c.day)):(i+=ls(t.c.month),i+=ls(t.c.day)),i}function Mte(t,e,r,i,n,s){let o=ls(t.c.hour);return e?(o+=":",o+=ls(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(o+=":")):o+=ls(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(o+=ls(t.c.second),(t.c.millisecond!==0||!i)&&(o+=".",o+=ls(t.c.millisecond,3))),n&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=ls(Math.trunc(-t.o/60)),o+=":",o+=ls(Math.trunc(-t.o%60))):(o+="+",o+=ls(Math.trunc(t.o/60)),o+=":",o+=ls(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const wle={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},m3e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},g3e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ele=["year","month","day","hour","minute","second","millisecond"],y3e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],b3e=["year","ordinal","hour","minute","second","millisecond"];function v3e(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Sae(t);return e}function Rte(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return v3e(t)}}function x3e(t){return nv[t]||(iv===void 0&&(iv=$n.now()),nv[t]=t.offset(iv)),nv[t]}function Ite(t,e){const r=ac(e.zone,$n.defaultZone);if(!r.isValid)return Nt.invalid(Mg(r));const i=Vi.fromObject(e);let n,s;if(kr(t.year))n=$n.now();else{for(const l of Ele)kr(t[l])&&(t[l]=wle[l]);const o=Yae(t)||Zae(t);if(o)return Nt.invalid(o);const a=x3e(r);[n,s]=rv(t,a,r)}return new Nt({ts:n,zone:r,loc:i,o:s})}function Fte(t,e,r){const i=kr(r.round)?!0:r.round,n=(o,a)=>(o=fC(o,i||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return n(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return n(a,o)}return n(t>e?-0:0,r.units[r.units.length-1])}function Pte(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let iv,nv={};class Nt{constructor(e){const r=e.zone||$n.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Wa("invalid input"):null)||(r.isValid?null:Mg(r));this.ts=kr(e.ts)?$n.now():e.ts;let n=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[n,s]=[e.old.c,e.old.o];else{const a=Ec(e.o)&&!e.old?e.o:r.offset(this.ts);n=Sb(this.ts,a),i=Number.isNaN(n.year)?new Wa("invalid input"):null,n=i?null:n,s=i?null:a}this._zone=r,this.loc=e.loc||Vi.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new Nt({})}static local(){const[e,r]=Pte(arguments),[i,n,s,o,a,l,u]=r;return Ite({year:i,month:n,day:s,hour:o,minute:a,second:l,millisecond:u},e)}static utc(){const[e,r]=Pte(arguments),[i,n,s,o,a,l,u]=r;return e.zone=_o.utcInstance,Ite({year:i,month:n,day:s,hour:o,minute:a,second:l,millisecond:u},e)}static fromJSDate(e,r={}){const i=XTe(e)?e.valueOf():NaN;if(Number.isNaN(i))return Nt.invalid("invalid input");const n=ac(r.zone,$n.defaultZone);return n.isValid?new Nt({ts:i,zone:n,loc:Vi.fromObject(r)}):Nt.invalid(Mg(n))}static fromMillis(e,r={}){if(Ec(e))return e<-Lte||e>Lte?Nt.invalid("Timestamp out of range"):new Nt({ts:e,zone:ac(r.zone,$n.defaultZone),loc:Vi.fromObject(r)});throw new no(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Ec(e))return new Nt({ts:e*1e3,zone:ac(r.zone,$n.defaultZone),loc:Vi.fromObject(r)});throw new no("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const i=ac(r.zone,$n.defaultZone);if(!i.isValid)return Nt.invalid(Mg(i));const n=Vi.fromObject(r),s=Hv(e,Rte),{minDaysInFirstWeek:o,startOfWeek:a}=xte(s,n),l=$n.now(),u=kr(r.specificOffset)?i.offset(l):r.specificOffset,h=!kr(s.ordinal),d=!kr(s.year),f=!kr(s.month)||!kr(s.day),p=d||f,g=s.weekYear||s.weekNumber;if((p||h)&&g)throw new Df("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&h)throw new Df("Can't mix ordinal dates with month/day");const y=g||s.weekday&&!p;let b,x,w=Sb(l,u);y?(b=y3e,x=m3e,w=Uv(w,o,a)):h?(b=b3e,x=g3e,w=k_(w)):(b=Ele,x=wle);let S=!1;for(const R of b){const V=s[R];kr(V)?S?s[R]=x[R]:s[R]=w[R]:S=!0}const C=y?WTe(s,o,a):h?YTe(s):Yae(s),k=C||Zae(s);if(k)return Nt.invalid(k);const O=y?bte(s,o,a):h?vte(s):s,[M,A]=rv(O,u,i),I=new Nt({ts:M,zone:i,o:A,loc:n});return s.weekday&&p&&e.weekday!==I.weekday?Nt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${I.toISO()}`):I.isValid?I:Nt.invalid(I.invalid)}static fromISO(e,r={}){const[i,n]=BDe(e);return df(i,n,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[i,n]=jDe(e);return df(i,n,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[i,n]=zDe(e);return df(i,n,r,"HTTP",r)}static fromFormat(e,r,i={}){if(kr(e)||kr(r))throw new no("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=i,o=Vi.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[a,l,u,h]=p3e(o,e,r);return h?Nt.invalid(h):df(a,l,i,`format ${r}`,e,u)}static fromString(e,r,i={}){return Nt.fromFormat(e,r,i)}static fromSQL(e,r={}){const[i,n]=YDe(e);return df(i,n,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new no("need to specify a reason the DateTime is invalid");const i=e instanceof Wa?e:new Wa(e,r);if($n.throwOnInvalid)throw new xTe(i);return new Nt({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const i=xle(e,Vi.fromObject(r));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(e,r={}){return yle(oo.parseFormat(e),Vi.fromObject(r)).map(n=>n.val).join("")}static resetCache(){iv=void 0,nv={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?D_(this).weekYear:NaN}get weekNumber(){return this.isValid?D_(this).weekNumber:NaN}get weekday(){return this.isValid?D_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?L_(this).weekday:NaN}get localWeekNumber(){return this.isValid?L_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?L_(this).weekYear:NaN}get ordinal(){return this.isValid?k_(this.c).ordinal:NaN}get monthShort(){return this.isValid?wb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?wb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?wb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?wb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,i=gx(this.c),n=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-n*r),a=this.zone.offset(i-s*r);if(o===a)return[this];const l=i-o*r,u=i-a*r,h=Sb(l,o),d=Sb(u,a);return h.hour===d.hour&&h.minute===d.minute&&h.second===d.second&&h.millisecond===d.millisecond?[Ad(this,{ts:l}),Ad(this,{ts:u})]:[this]}get isInLeapYear(){return ty(this.year)}get daysInMonth(){return qv(this.year,this.month)}get daysInYear(){return this.isValid?Nf(this.year):NaN}get weeksInWeekYear(){return this.isValid?y0(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?y0(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:i,calendar:n}=oo.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:n}}toUTC(e=0,r={}){return this.setZone(_o.instance(e),r)}toLocal(){return this.setZone($n.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(e=ac(e,$n.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(r||i){const s=e.offset(this.ts),o=this.toObject();[n]=rv(o,s,e)}return Ad(this,{ts:n,zone:e})}else return Nt.invalid(Mg(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:i}={}){const n=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:i});return Ad(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=Hv(e,Rte),{minDaysInFirstWeek:i,startOfWeek:n}=xte(r,this.loc),s=!kr(r.weekYear)||!kr(r.weekNumber)||!kr(r.weekday),o=!kr(r.ordinal),a=!kr(r.year),l=!kr(r.month)||!kr(r.day),u=a||l,h=r.weekYear||r.weekNumber;if((u||o)&&h)throw new Df("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Df("Can't mix ordinal dates with month/day");let d;s?d=bte({...Uv(this.c,i,n),...r},i,n):kr(r.ordinal)?(d={...this.toObject(),...r},kr(r.day)&&(d.day=Math.min(qv(d.year,d.month),d.day))):d=vte({...k_(this.c),...r});const[f,p]=rv(d,this.o,this.zone);return Ad(this,{ts:f,o:p})}plus(e){if(!this.isValid)return this;const r=Ti.fromDurationLike(e);return Ad(this,Ote(this,r))}minus(e){if(!this.isValid)return this;const r=Ti.fromDurationLike(e).negate();return Ad(this,Ote(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},n=Ti.normalizeUnit(e);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?oo.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):T_}toLocaleString(e=zv,r={}){return this.isValid?oo.create(this.loc.clone(r),e).formatDateTime(this):T_}toLocaleParts(e={}){return this.isValid?oo.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=O_(this,o);return a+="T",a+=Mte(this,o,r,i,n,s),a}toISODate({format:e="extended"}={}){return this.isValid?O_(this,e==="extended"):null}toISOWeekDate(){return Cb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+Mte(this,o==="extended",r,e,i,s):null}toRFC2822(){return Cb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Cb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?O_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(r||e)&&(i&&(n+=" "),r?n+="z":e&&(n+="ZZ")),Cb(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():T_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",i={}){if(!this.isValid||!e.isValid)return Ti.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=KTe(r).map(Ti.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,u=t3e(a,l,s,n);return o?u.negate():u}diffNow(e="milliseconds",r={}){return this.diff(Nt.now(),e,r)}until(e){return this.isValid?Nn.fromDateTimes(this,e):this}hasSame(e,r,i){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(r,i)<=n&&n<=s.endOf(r,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Nt.fromObject({},{zone:this.zone}),i=e.padding?this<r?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(n=e.unit,s=void 0),Fte(r,this.plus(i),{...e,numeric:"always",units:n,unit:s})}toRelativeCalendar(e={}){return this.isValid?Fte(e.base||Nt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Nt.isDateTime))throw new no("min requires all arguments be DateTimes");return _te(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Nt.isDateTime))throw new no("max requires all arguments be DateTimes");return _te(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,i={}){const{locale:n=null,numberingSystem:s=null}=i,o=Vi.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return vle(o,e,r)}static fromStringExplain(e,r,i={}){return Nt.fromFormatExplain(e,r,i)}static buildFormatParser(e,r={}){const{locale:i=null,numberingSystem:n=null}=r,s=Vi.fromOpts({locale:i,numberingSystem:n,defaultToEN:!0});return new ble(s,e)}static fromFormatParser(e,r,i={}){if(kr(e)||kr(r))throw new no("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=i,o=Vi.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!o.equals(r.locale))throw new no(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:u,invalidReason:h}=r.explainFromTokens(e);return h?Nt.invalid(h):df(a,l,i,`format ${r.format}`,e,u)}static get DATE_SHORT(){return zv}static get DATE_MED(){return Cae}static get DATE_MED_WITH_WEEKDAY(){return ETe}static get DATE_FULL(){return kae}static get DATE_HUGE(){return Aae}static get TIME_SIMPLE(){return Tae}static get TIME_WITH_SECONDS(){return Dae}static get TIME_WITH_SHORT_OFFSET(){return Lae}static get TIME_WITH_LONG_OFFSET(){return Oae}static get TIME_24_SIMPLE(){return Mae}static get TIME_24_WITH_SECONDS(){return Rae}static get TIME_24_WITH_SHORT_OFFSET(){return Iae}static get TIME_24_WITH_LONG_OFFSET(){return Fae}static get DATETIME_SHORT(){return Pae}static get DATETIME_SHORT_WITH_SECONDS(){return Nae}static get DATETIME_MED(){return $ae}static get DATETIME_MED_WITH_SECONDS(){return Bae}static get DATETIME_MED_WITH_WEEKDAY(){return STe}static get DATETIME_FULL(){return jae}static get DATETIME_FULL_WITH_SECONDS(){return zae}static get DATETIME_HUGE(){return Uae}static get DATETIME_HUGE_WITH_SECONDS(){return qae}}function _g(t){if(Nt.isDateTime(t))return t;if(t&&t.valueOf&&Ec(t.valueOf()))return Nt.fromJSDate(t);if(t&&typeof t=="object")return Nt.fromObject(t);throw new no(`Unknown datetime argument: ${t}, of type ${typeof t}`)}/*!
 * chartjs-adapter-luxon v1.3.1
 * https://www.chartjs.org
 * (c) 2023 chartjs-adapter-luxon Contributors
 * Released under the MIT license
 */const _3e={datetime:Nt.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:Nt.TIME_WITH_SECONDS,minute:Nt.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};rae._date.override({_id:"luxon",_create:function(t){return Nt.fromMillis(t,this.options)},init(t){this.options.locale||(this.options.locale=t.locale)},formats:function(){return _3e},parse:function(t,e){const r=this.options,i=typeof t;return t===null||i==="undefined"?null:(i==="number"?t=this._create(t):i==="string"?typeof e=="string"?t=Nt.fromFormat(t,e,r):t=Nt.fromISO(t,r):t instanceof Date?t=Nt.fromJSDate(t,r):i==="object"&&!(t instanceof Nt)&&(t=Nt.fromObject(t,r)),t.isValid?t.valueOf():null)},format:function(t,e){const r=this._create(t);return typeof e=="string"?r.toFormat(e):r.toLocaleString(e)},add:function(t,e,r){const i={};return i[r]=e,this._create(t).plus(i).valueOf()},diff:function(t,e,r){return this._create(t).diff(this._create(e)).as(r).valueOf()},startOf:function(t,e,r){if(e==="isoWeek"){r=Math.trunc(Math.min(Math.max(0,r),6));const i=this._create(t);return i.minus({days:(i.weekday-r+7)%7}).startOf("day").valueOf()}return e?this._create(t).startOf(e).valueOf():t},endOf:function(t,e){return this._create(t).endOf(e).valueOf()}});const vx={errorBarLineWidth:{v:[1,3]},errorBarColor:{v:["#2c2c2c","#1f1f1f"]},errorBarWhiskerLineWidth:{v:[1,3]},errorBarWhiskerRatio:{v:[.2,.25]},errorBarWhiskerSize:{v:[20,24]},errorBarWhiskerColor:{v:["#2c2c2c","#1f1f1f"]}},yC={_scriptable:!0,_indexable:t=>t!=="v"},Nte=Object.keys(vx);function bC(t,e){const r=Array.isArray(t)?t:[t],i=Array.isArray(e)?e:[e];if(r.length===i.length)return r.map((s,o)=>[s,i[o]]);const n=Math.max(r.length,i.length);return Array(n).map((s,o)=>[r[o%r.length],i[o%i.length]])}function jo(t,e){if(typeof t=="string"||typeof t=="number")return t;const r=Array.isArray(t)?t:t.v;return r[e%r.length]}function vC(t,e,r){const i=jo(e.errorBarWhiskerRatio,r);return t!=null&&i>0?t*i*.5:jo(e.errorBarWhiskerSize,r)*.5}function w3e(t,e,r,i,n){n.save(),n.translate(t.x,0);const s=bC(e??t.y,r??t.y);s.reverse().forEach(([o,a],l)=>{const u=s.length-l-1,h=vC(t.width,i,u);n.lineWidth=jo(i.errorBarLineWidth,u),n.strokeStyle=jo(i.errorBarColor,u),n.beginPath(),n.moveTo(0,o),n.lineTo(0,a),n.stroke(),n.lineWidth=jo(i.errorBarWhiskerLineWidth,u),n.strokeStyle=jo(i.errorBarWhiskerColor,u),n.beginPath(),n.moveTo(-h,o),n.lineTo(h,o),n.moveTo(-h,a),n.lineTo(h,a),n.stroke()}),n.restore()}function E3e(t,e,r,i,n){n.save(),n.translate(0,t.y);const s=bC(e??t.x,r??t.x);s.reverse().forEach(([o,a],l)=>{const u=s.length-l-1,h=vC(t.height,i,u);n.lineWidth=jo(i.errorBarLineWidth,u),n.strokeStyle=jo(i.errorBarColor,u),n.beginPath(),n.moveTo(o,0),n.lineTo(a,0),n.stroke(),n.lineWidth=jo(i.errorBarWhiskerLineWidth,u),n.strokeStyle=jo(i.errorBarWhiskerColor,u),n.beginPath(),n.moveTo(o,-h),n.lineTo(o,h),n.moveTo(a,-h),n.lineTo(a,h),n.stroke()}),n.restore()}function Sle(t,e){var r,i,n,s;const o=t.getProps(["x","y","width","height","xMin","xMax","yMin","yMax"]);(o.xMin!=null||o.xMax!=null)&&E3e(o,(r=o.xMin)!==null&&r!==void 0?r:null,(i=o.xMax)!==null&&i!==void 0?i:null,t.options,e),(o.yMin!=null||o.yMax!=null)&&w3e(o,(n=o.yMin)!==null&&n!==void 0?n:null,(s=o.yMax)!==null&&s!==void 0?s:null,t.options,e)}function S3e(t,e,r,i,n){n.save(),n.translate(t.x,t.y);const s=(t.startAngle+t.endAngle)/2,o=Math.cos(s),a=Math.sin(s),l={x:-a,y:o},u=Math.sqrt(l.x*l.x+l.y*l.y);l.x/=u,l.y/=u;const h=bC(e??t.outerRadius,r??t.outerRadius);h.reverse().forEach(([d,f],p)=>{const g=h.length-p-1,y=d*o,b=d*a,x=f*o,w=f*a,S=vC(null,i,g),C=l.x*S,k=l.y*S;n.lineWidth=jo(i.errorBarLineWidth,g),n.strokeStyle=jo(i.errorBarColor,g),n.beginPath(),n.moveTo(y,b),n.lineTo(x,w),n.stroke(),n.lineWidth=jo(i.errorBarWhiskerLineWidth,g),n.strokeStyle=jo(i.errorBarWhiskerColor,g),n.beginPath(),n.moveTo(y+C,b+k),n.lineTo(y-C,b-k),n.moveTo(x+C,w+k),n.lineTo(x-C,w-k),n.stroke()}),n.restore()}function C3e(t,e){const r=t.getProps(["x","y","startAngle","endAngle","rMin","rMax","outerRadius"]);(r.rMin!=null||r.rMax!=null)&&S3e(r,r.rMin,r.rMax,t.options,e)}class Tp extends Yd{draw(e){super.draw(e),Sle(this,e)}}Tp.id="barWithErrorBar";Tp.defaults={...Yd.defaults,...vx};Tp.defaultRoutes=Yd.defaultRoutes;Tp.descriptors=yC;class oa extends Wd{draw(e,r){super.draw.call(this,e,r),Sle(this,e)}}oa.id="pointWithErrorBar";oa.defaults={...Wd.defaults,...vx};oa.defaultRoutes=Wd.defaultRoutes;oa.descriptors=yC;class Dp extends pc{draw(e){super.draw(e),C3e(this,e)}}Dp.id="arcWithErrorBar";Dp.defaults={...pc.defaults,...vx};Dp.defaultRoutes=pc.defaultRoutes;Dp.descriptors=yC;const J2=["xMin","xMax","yMin","yMax"];function Cle(t){return t?J2.slice(0,2):J2.slice(2)}function b0(t,e,r,i,n){const s=[`${i.axis}Min`,`${i.axis}Max`],o=i.getBasePixel();for(const a of s){const l=e[a];Array.isArray(l)?t[a]=l.map(u=>n?o:i.getPixelForValue(u,r)):typeof l=="number"?t[a]=n?o:i.getPixelForValue(l,r):t[a]=null}}function k3e(t,e,r,i,n){const s=n.animation,o=[`${r.axis}Min`,`${r.axis}Max`],a=l=>{const u=r.getDistanceFromCenterForValue(l),h=s.animateScale?0:u;return i?h:u};for(const l of o){const u=e[l];Array.isArray(u)?t[l]=u.map(a):typeof u=="number"?t[l]=a(u):t[l]=null}}const A3e=["linear","logarithmic","time","timeseries"];function Q2(t){return A3e.includes(t.type)}function xC(t){return Array.isArray(t)?t.slice().reverse():t}function kle(t){const e=Cle(t.element.horizontal),r=wae.defaults.callbacks.label.call(this,t),i=t.chart.data.datasets[t.datasetIndex].data[t.dataIndex];return i==null||e.every(n=>i[n]==null)?r:`${r} (${xC(i[e[0]])} .. ${i[e[1]]})`}function T3e(t){const e=t.chart.data.datasets[t.datasetIndex].data[t.dataIndex],r=(i,n)=>{const s=Cle(n);return e==null||s.every(o=>e[o]==null)?i:`${i} [${xC(e[s[0]])} .. ${e[s[1]]}]`};return`(${r(t.label,!0)}, ${r(t.parsed.y,!1)})`}function D3e(t){const e=Sl.overrides.plugins.tooltip.callbacks.label.call(this,t),r=t.chart.data.datasets[t.datasetIndex].data[t.dataIndex],i=["rMin","rMax"];return r==null||i.every(n=>r[n]==null)?e:`${e} [${xC(r[i[0]])} .. ${r[i[1]]}]`}const Ale={color(t,e,r){const i=t||"transparent",n=e||"transparent";if(i===n)return e;const s=Fv(i),o=s.valid&&Fv(n);return o&&o.valid?o.mix(s,r).hexString():e},number(t,e,r){return t===e?e:t+(e-t)*r}};function Tle(t,e,r,i,n){if(typeof t===i&&typeof e===i)return n(t,e,r);if(Array.isArray(t)&&Array.isArray(e))return t.map((o,a)=>n(o,e[a],r));const s=o=>o&&Array.isArray(o.v);return s(t)&&s(e)?{v:t.v.map((o,a)=>n(o,e.v[a],r))}:e}function L3e(t,e,r){return Tle(t,e,r,"number",Ale.number)}function O3e(t,e,r){return Tle(t,e,r,"string",Ale.color)}const xx={animations:{numberArray:{fn:L3e,properties:J2.concat(Nte.filter(t=>!t.endsWith("Color")),["rMin","rMax"])},colorArray:{fn:O3e,properties:Nte.filter(t=>t.endsWith("Color"))}}};function _x(t,e){const{axis:r}=t;t.axis=`${r}MinMin`;const{min:i}=e(t);t.axis=`${r}MaxMax`;const{max:n}=e(t);return t.axis=r,{min:i,max:n}}function $te(t,e,r){return Array.isArray(e)?r(t,...e):typeof e=="number"?r(t,e):t}function sh(t,e,r,i,n){const s=typeof e=="string"?e:e.axis,o=`${s}Min`,a=`${s}Max`,l=`${s}MinMin`,u=`${s}MaxMax`;for(let h=0;h<n;h+=1){const d=h+i,f=t[h];f[o]=typeof r[d]=="object"?r[d][o]:null,f[a]=typeof r[d]=="object"?r[d][a]:null,f[l]=$te(f[s],f[o],Math.min),f[u]=$te(f[s],f[a],Math.max)}}function Dle(t,e,r,i){const{axis:n}=e,s=e.getLabels();for(let o=0;o<i;o+=1){const a=o+r,l=t[o];l[n]=e.parse(s[a],a)}}function wx(t,e,r,i=[],n=[]){bo.addControllers(r),Array.isArray(i)?bo.addElements(...i):bo.addElements(i),Array.isArray(n)?bo.addScales(...n):bo.addScales(n);const s=e;return s.type=t,s}class Lp extends wc{getMinMax(e,r){return _x(e,i=>super.getMinMax(i,r))}parsePrimitiveData(e,r,i,n){const s=super.parsePrimitiveData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseObjectData(e,r,i,n){const s=super.parseObjectData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseErrorData(e,r,i,n,s){sh(e,r.vScale,i,n,s);const o=r.iScale;Q2(o)?sh(e,r.iScale,i,n,s):Dle(e,r.iScale,n,s)}updateElement(e,r,i,n){typeof r=="number"&&b0(i,this.getParsed(r),r,this._cachedMeta.vScale,n==="reset"),super.updateElement(e,r,i,n)}}Lp.id="barWithErrorBars";Lp.defaults=sa({},[wc.defaults,xx,{dataElementType:Tp.id}]);Lp.overrides=sa({},[wc.overrides,{plugins:{tooltip:{callbacks:{label:kle}}}}]);Lp.defaultRoutes=wc.defaultRoutes;class M3e extends Po{constructor(e,r){super(e,wx("barWithErrorBars",r,Lp,Tp,[nh,rp]))}}M3e.id=Lp.id;class gh extends pu{getMinMax(e,r){return _x(e,i=>super.getMinMax(i,r))}parsePrimitiveData(e,r,i,n){const s=super.parsePrimitiveData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseObjectData(e,r,i,n){const s=super.parseObjectData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseErrorData(e,r,i,n,s){sh(e,r.vScale,i,n,s);const o=r.iScale;Q2(o)?sh(e,r.iScale,i,n,s):Dle(e,r.iScale,n,s)}updateElement(e,r,i,n){e instanceof oa&&typeof r=="number"&&this.updateElementScale(r,i,n),super.updateElement(e,r,i,n)}updateElementScale(e,r,i){b0(r,this.getParsed(e),e,this._cachedMeta.vScale,i==="reset");const n=this._cachedMeta.iScale;Q2(n)&&b0(r,this.getParsed(e),e,this._cachedMeta.iScale,i==="reset")}updateElements(e,r,i,n){const s=n==="reset",a=this.chart._animationsDisabled||s||n==="none";if(super.updateElements(e,r,i,n),!!a)for(let l=r;l<r+i;++l){const u=e[l];u instanceof oa&&this.updateElementScale(l,u,n)}}}gh.id="lineWithErrorBars";gh.defaults=sa({},[pu.defaults,xx,{dataElementType:oa.id}]);gh.overrides=sa({},[pu.overrides,{plugins:{tooltip:{callbacks:{label:kle}}}}]);gh.defaultRoutes=pu.defaultRoutes;class Lle extends Po{constructor(e,r){super(e,wx("lineWithErrorBars",r,gh,oa,[nh,rp]))}}Lle.id=gh.id;class yh extends Gd{getMinMax(e,r){return _x(e,i=>super.getMinMax(i,r))}parsePrimitiveData(e,r,i,n){const s=super.parsePrimitiveData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseObjectData(e,r,i,n){const s=super.parseObjectData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseErrorData(e,r,i,n,s){sh(e,r.xScale,i,n,s),sh(e,r.yScale,i,n,s)}updateElement(e,r,i,n){e instanceof oa&&typeof r=="number"&&this.updateElementScale(r,i,n),super.updateElement(e,r,i,n)}updateElementScale(e,r,i){b0(r,this.getParsed(e),e,this._cachedMeta.xScale,i==="reset"),b0(r,this.getParsed(e),e,this._cachedMeta.yScale,i==="reset")}updateElements(e,r,i,n){const s=n==="reset",a=this.chart._animationsDisabled||s||n==="none";if(super.updateElements(e,r,i,n),!!a)for(let l=r;l<r+i;++l){const u=e[l];u instanceof oa&&this.updateElementScale(l,u,n)}}}yh.id="scatterWithErrorBars";yh.defaults=sa({},[Gd.defaults,xx,{dataElementType:oa.id}]);yh.overrides=sa({},[Gd.overrides,{plugins:{tooltip:{callbacks:{label:T3e}}}}]);yh.defaultRoutes=pu.defaultRoutes;class Ole extends Po{constructor(e,r){super(e,wx("scatterWithErrorBars",r,yh,oa,[nh]))}}Ole.id=yh.id;class Op extends Sl{getMinMaxImpl(e){const r=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return r.data.forEach((n,s)=>{const o=this.getParsed(s)[e.axis];Number.isNaN(o)||!this.chart.getDataVisibility(s)||(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}getMinMax(e){return _x(e,r=>this.getMinMaxImpl(r))}countVisibleElements(){const e=this._cachedMeta;return e.data.reduce((r,i,n)=>!Number.isNaN(e._parsed[n].r)&&this.chart.getDataVisibility(n)?r+1:r,0)}parsePrimitiveData(e,r,i,n){const s=super.parsePrimitiveData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseObjectData(e,r,i,n){const s=super.parseObjectData(e,r,i,n);return this.parseErrorData(s,e,r,i,n),s}parseErrorData(e,r,i,n,s){const o=r.rScale;for(let a=0;a<s;a+=1){const l=a+n,u=i[l],h=o.parse(u[o.axis],l);e[a]={[o.axis]:h}}sh(e,o,i,n,s)}updateElement(e,r,i,n){typeof r=="number"&&k3e(i,this.getParsed(r),this._cachedMeta.rScale,n==="reset",this.chart.options),super.updateElement(e,r,i,n)}updateElements(e,r,i,n){const s=this.chart.scales.r,o=s.getDistanceFromCenterForValue;s.getDistanceFromCenterForValue=function(l){return typeof l=="number"?o.call(this,l):o.call(this,l.r)},super.updateElements(e,r,i,n),s.getDistanceFromCenterForValue=o}}Op.id="polarAreaWithErrorBars";Op.defaults=sa({},[Sl.defaults,xx,{dataElementType:Dp.id}]);Op.overrides=sa({},[Sl.overrides,{plugins:{tooltip:{callbacks:{label:D3e}}}}]);Op.defaultRoutes=Sl.defaultRoutes;class R3e extends Po{constructor(e,r){super(e,wx("polarAreaWithErrorBars",r,Op,Dp,[Tf]))}}R3e.id=Op.id;var Mle={};function Ea(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var I3e=Ea;Ea.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Ea.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Ea.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0};Ea.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Ea.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Ea.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Ea.prototype.start=Ea.prototype.try;Ea.prototype.errors=function(){return this._errors};Ea.prototype.attempts=function(){return this._attempts};Ea.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,i=0;i<this._errors.length;i++){var n=this._errors[i],s=n.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=n,r=o)}return e};(function(t){var e=I3e;t.operation=function(r){var i=t.timeouts(r);return new e(i,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var i={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var n in r)i[n]=r[n];if(i.minTimeout>i.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<i.retries;o++)s.push(this.createTimeout(o,i));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,i)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(r,i){var n=i.randomize?Math.random()+1:1,s=Math.round(n*Math.max(i.minTimeout,1)*Math.pow(i.factor,r));return s=Math.min(s,i.maxTimeout),s},t.wrap=function(r,i,n){if(i instanceof Array&&(n=i,i=null),!n){n=[];for(var s in r)typeof r[s]=="function"&&n.push(s)}for(var o=0;o<n.length;o++){var a=n[o],l=r[a];r[a]=(function(h){var d=t.operation(i),f=Array.prototype.slice.call(arguments,1),p=f.pop();f.push(function(g){d.retry(g)||(g&&(arguments[0]=d.mainError()),p.apply(this,arguments))}),d.attempt(function(){h.apply(r,f)})}).bind(r,l),r[a].options=i}}})(Mle);var F3e=Mle;const P3e=Ps(F3e),N3e=Object.prototype.toString,$3e=t=>N3e.call(t)==="[object Error]",B3e=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function j3e(t){return t&&$3e(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:B3e.has(t.message):!1}class eE extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Bte=(t,e,r)=>{const i=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=i,t};async function jte(t,e){return new Promise((r,i)=>{e={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...e};const n=P3e.operation(e),s=()=>{var a;n.stop(),i((a=e.signal)==null?void 0:a.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",s,{once:!0});const o=()=>{var a;(a=e.signal)==null||a.removeEventListener("abort",s),n.stop()};n.attempt(async a=>{try{const l=await t(a);o(),r(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof eE)throw l.originalError;if(l instanceof TypeError&&!j3e(l))throw l;if(Bte(l,a,e),await e.shouldRetry(l)||(n.stop(),i(l)),await e.onFailedAttempt(l),!n.retry(l))throw n.mainError()}catch(u){Bte(u,a,e),o(),i(u)}}})})}class z3e{constructor(e,r,i,n,s,o,a,l){Ge(this,"type");Ge(this,"endpoint");Ge(this,"parameters");Ge(this,"retries");Ge(this,"source");Ge(this,"table");Ge(this,"geometry");Ge(this,"timeParameter");this.type=e,this.endpoint=r,this.parameters=i,this.retries=n,this.source=s,this.table=o,this.geometry=a,this.timeParameter=l}fetchData(e,r,i){switch(this.type){case"signals":return this.fetchSignals(e,r,i);case"geodb":return this.fetchGeoDBData(e,r,i);default:return null}}fetchGeoDBData(e,r,i){const n=this.parameters[e].join(","),s=`and=(${this.timeParameter}.gte.${r.toISODate()},${this.timeParameter}.lte.${i.toISODate()})`,o=`${this.endpoint}/${this.source}_${this.table}?${s}&select=${n},${this.timeParameter}`;async function a(){const l=await fetch(o,{headers:{"Content-Type":"application/json; charset=utf-8"},method:"GET",mode:"cors"});if(l.status===404)throw new eE(l.statusText);if(l.status!==200)throw Error(l.statusText);return l}return jte(a,{onFailedAttempt:l=>{console.log(`Attempt ${l.attemptNumber} failed. There are ${l.retriesLeft} retries left.`)},retries:this.retries}).then(function(l){return l.json()})}fetchSignals(e,r,i){const n=this.parameters[e].map(u=>`feature=${u}`).join("&"),s=`${r?"&start_date="+r.toISODate():""}${i?"&end_date="+i.toISODate():""}`,o=`${this.endpoint}?source=${this.source}&${n}${s}`,a=this.geometry;async function l(){const u=await fetch(o,{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",mode:"cors",body:JSON.stringify({geometry:a})});if(u.status===404)throw new eE(u.statusText);if(u.status!==200)throw Error(u.statusText);return u}return jte(l,{onFailedAttempt:u=>{console.log(`Attempt ${u.attemptNumber} failed. There are ${u.retriesLeft} retries left.`)},retries:this.retries}).then(function(u){return u.json()}).catch(u=>{console.error(u),document.querySelector("eox-chart").shadowRoot.querySelector("#error").style.display="flex",setTimeout(()=>{document.querySelector("eox-chart").shadowRoot.querySelector("#error").style.display="none"})})}convertData(e){switch(this.type){case"signals":return this.convertSignals(e);case"geodb":return this.convertGeoDBData(e);default:return null}}convertSignals(e){let r={};const i=e.basicStats;return e&&e.date!=="missing"&&(r={x:Nt.fromISO(e.date).setZone("UTC"),y:i.mean,yMin:i.min,yMax:i.max}),r}convertGeoDBData(e){let r={};return e&&e.date!=="missing"&&(r={x:Nt.fromISO(e.date).setZone("UTC"),y:e.basicStats.mean,yMin:null,yMax:null}),r}setGeometry(e){this.geometry=e}}Po.register(gh,Lle,oa,Ole,yh,nh,rp);class zte{constructor(e,r,i){Ge(this,"type");Ge(this,"chart");Ge(this,"startTime");Ge(this,"endTime");Ge(this,"timeAggregation");Ge(this,"options");Ge(this,"chartOptions");Ge(this,"dataStorage");Ge(this,"status");Ge(this,"activeFields");Ge(this,"requestHandler");Ge(this,"additionalYAxis");if(this.type=e,this.chart=r,this.options=i,this.startTime=Nt.now().minus(i.timeInterval),this.endTime=Nt.now(),i.startTime&&i.endTime&&(this.startTime=Nt.fromISO(i.startTime).setZone("UTC"),this.endTime=Nt.fromISO(i.endTime).setZone("UTC")),this.options.timeAggregation&&(this.timeAggregation=this.options.timeAggregation),this.options.retries=this.options.retries?this.options.retries:5,this.options.normalize=this.options.normalize?this.options.normalize:!1,this.options.showMinMax=this.options.showMinMax?this.options.showMinMax:!1,this.additionalYAxis=this.options.additionalYAxis?this.options.additionalYAxis:null,this.dataStorage={},this.options.features.forEach((n,s)=>this.dataStorage[s]={}),this.requestHandler=new z3e(e,this.options.endpoint,this.options.features,this.options.retries,this.options.source,this.options.table,this.options.geometry,this.options.timeParameter),this.status="ready",this.chartOptions={responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:60,left:10,bottom:10}},scales:{x:{type:"time",min:this.startTime.toISODate(),max:this.endTime.toISODate(),ticks:{minRotation:0,maxRotation:0}}},interaction:{axis:"x",mode:"nearest",intersect:!1},plugins:{htmlLegend:{containerID:"legend-container",onClick:(n,s)=>{if(s.hidden)this.setActiveFields([...this.activeFields,s.text]);else{const o=this.activeFields.indexOf(s.text),a=this.activeFields;a.splice(o,1),this.setActiveFields(a)}}},legend:{display:!1},tooltip:{callbacks:{title:n=>{var o;return((o=n[0])==null?void 0:o.raw).x.toISODate()},label:n=>{const s=n.raw,o=s.yMin!==null?`; ↓ ${s.yMin.toPrecision(3)}`:"",a=s.yMax!==null?`, ↑ ${s.yMax.toPrecision(3)}`:"";return`${n.dataset.label}: ↔ ${s.y.toPrecision(3)}${o}${a}`}}}}},this.additionalYAxis!==null)for(let n=0;n<this.additionalYAxis.length;n++){const s=this.additionalYAxis[n];this.chartOptions.scales[s.id]={type:"linear",position:"right"}}}checkLoadingStatus(){const e=document.querySelector("eox-chart").shadowRoot.querySelector("#loadingIndicator");let r=!1;Object.keys(this.dataStorage).forEach((i,n)=>{Object.keys(this.dataStorage[n]).forEach(s=>{this.dataStorage[n][s].status==="fetching"&&(r=!0)})}),e.className=r?"loader":"loader hidden"}updateChart(){this.checkLoadingStatus(),this.chart.options=this.chartOptions;const e=[];this.options.features.flat().forEach((r,i)=>{let n=-1;if(this.options.features.forEach((s,o)=>{s.includes(r)&&(n=o)}),n!==-1){const s=[];let o=Number.MAX_VALUE,a=Number.MIN_VALUE;Object.keys(this.dataStorage[n]).forEach(d=>{const f=this.dataStorage[n][d];if(f.status==="finished"){if(this.type==="signals"&&Object.keys(f.data).length!==0&&Object.keys(f.data).includes(r)&&(f.data[r].forEach(p=>{const g=p.basicStats;this.options.showMinMax?(o=g.min<o?g.min:o,a=g.max>a?g.max:a):(o=g.mean<o?g.mean:o,a=g.mean>a?g.mean:a)}),s.push(...f.data[r])),this.type==="geodb"&&Object.keys(f.data).length!==0){const p=f.data.map(g=>(g[r]!==null&&(o=g[r]<o?g[r]:o,a=g[r]>a?g[r]:a),{date:g[this.options.timeParameter],basicStats:{mean:g[r]}}));s.push(...p)}}else s.push({date:"missing"})});let l=!1,u=s.map(d=>this.requestHandler.convertData(d));if(u.sort((d,f)=>d.x-f.x),u.length>0&&(l=!0),l&&this.timeAggregation){let d=Number.MIN_VALUE,f=Number.MAX_VALUE;o=Number.MAX_VALUE,a=Number.MIN_VALUE;const p=[];let g=0,y=Nt.fromObject({year:this.startTime.year,month:this.startTime.month,day:this.startTime.day});for(;y<this.endTime;){let b=0,x=!1;for(;g<u.length&&(Object.keys(u[g]).length===0||u[g].x<y);)g++;const w=g;for(;g<u.length&&(Object.keys(u[g]).length===0||u[g].x<y.plus(this.timeAggregation));){const k=u[g];b+=k.y,d=k.y!==null&&k.y>d?k.y:d,d=k.yMax!==null&&k.yMax>d?k.yMax:d,f=k.y!==null&&k.y<f?k.y:f,f=k.yMin!==null&&k.yMin<f?k.yMin:f,g++,x=!0}const C=g-w;if(C>0&&x){const k=b/C;this.options.showMinMax?(o=f<o?f:o,a=d>a?d:a):(o=k<o?k:o,a=k>a?k:a),p.push({x:y,y:k,yMin:f,yMax:d}),d=Number.MIN_VALUE,f=Number.MAX_VALUE}y=y.plus(this.timeAggregation)}u=p}if(l&&this.options.normalize){const d=a-o;u=u.map(f=>(f.y!==null?f.y=(f.y-o)/d:f.y=null,f.yMin=(f.yMin-o)/d,f.yMax=(f.yMax-o)/d,f))}let h={type:"line",label:r,data:u,hidden:!this.activeFields.includes(r)};if(this.options.showMinMax&&(h={type:"lineWithErrorBars",label:r,data:u,hidden:!this.activeFields.includes(r),errorBarWhiskerLineWidth:2,errorBarColor:"#00000000"}),this.options.colors&&this.options.colors.length>=i){const d=this.options.colors[i];h.backgroundColor=d,h.borderColor=d,this.options.showMinMax&&(h={type:"lineWithErrorBars",label:r,data:u,hidden:!this.activeFields.includes(r),errorBarWhiskerLineWidth:2,errorBarColor:"#00000000",errorBarWhiskerColor:d,errorBarWhiskerSize:10,backgroundColor:d,borderColor:d})}if(this.additionalYAxis!==null)for(let d=0;d<this.additionalYAxis.length;d++){const f=this.additionalYAxis[d];f.containedSignals.includes(r)&&(h.yAxisID=f.id)}e.push(h)}}),this.chart.data={datasets:e},this.chart.update("none")}retrieveMissingData(){const e=[];this.activeFields.forEach(n=>{this.options.features.forEach((s,o)=>{s.includes(n)&&!e.includes(o)&&e.push(o)})});let r=Nt.fromObject({year:this.endTime.year,month:this.endTime.month}).plus({month:1}).minus({second:1});const i=Nt.fromObject({year:this.startTime.year,month:this.startTime.month}).plus({month:1}).minus({second:1});for(;r>i;){const n=r.toFormat("yyyyMM");e.forEach(s=>{if(!(n in this.dataStorage[s])){const o=this.requestHandler.fetchData(s,Nt.fromObject({year:r.year,month:r.month}),Nt.fromObject({year:r.year,month:r.month}).plus({month:1}).minus({second:1})).then(a=>{this.dataStorage[s][n].data=a,this.dataStorage[s][n].status="finished",this.updateChart()}).catch(()=>{this.dataStorage[s][n].status="failed",this.updateChart()});this.dataStorage[s][n]={request:o,status:"fetching"}}}),r=r.minus({months:1})}}triggerCSVDownload(){const e=[],r=[],i=this.activeFields;i.forEach((l,u)=>{let h=-1;if(this.options.features.forEach((d,f)=>{d.includes(l)&&(h=f)}),h!==-1){const d=[];Object.keys(this.dataStorage[h]).forEach(f=>{const p=this.dataStorage[h][f];p.status==="finished"&&Object.keys(p.data).length!==0&&Object.keys(p.data).includes(l)&&d.push(...p.data[l])}),d.length>0&&(r.push(i[u]),e.push(d))}});const n={};r.forEach((l,u)=>{e[u].forEach(h=>{n[h.date]||(n[h.date]={}),n[h.date][l]=h.basicStats})});let s="time,";const o=r.map(l=>[l,`${l}_max`,`${l}_min`]);s+=o.flat().join(","),s+=`
`,Object.keys(n).forEach(l=>{const u=[l];r.forEach(h=>{const d=n[l][h]?n[l][h]:null;d!=null?u.push(d.mean,d.max,d.min):u.push("","","")}),s+=u.join(","),s+=`
`});const a=document.createElement("a");a.href="data:text/csv;charset=utf-8,"+encodeURI(s),a.target="_blank",a.download="chart_data.csv",a.click()}setGeometry(e){this.dataStorage={},this.options.features.forEach((r,i)=>this.dataStorage[i]={}),this.options.geometry=e,this.requestHandler.setGeometry(e),this.retrieveMissingData(),this.updateChart()}setActiveFields(e){this.activeFields=e,this.retrieveMissingData(),this.updateChart()}setTimeInterval(e,r){this.startTime=e,this.endTime=r,this.chartOptions.scales.x.min=e.toISODate(),this.chartOptions.scales.x.max=r.toISODate(),this.retrieveMissingData(),this.updateChart()}setNormalize(e){this.options.normalize=e,this.updateChart()}setShowMinMax(e){this.options.showMinMax=e,this.updateChart()}setTimeAggregation(e){this.timeAggregation=e,this.updateChart()}}class Ute{constructor(e,r,i,n){Ge(this,"element");Ge(this,"sdm");Ge(this,"sdmOptions");Ge(this,"options");this.element=e,this.sdm=r,this.options=n,this.sdmOptions=i,this.generateTimeAggregationOptions(),this.addNormalizeCheckbox(),this.addShowMinMax(),this.addCSVDownload(),this.generateTimeSelectionOptions(),document.querySelector("eox-chart").shadowRoot.querySelector("#controls").style.display="flex",document.querySelector("eox-chart").shadowRoot.querySelector("#legend-container").style.display="block",document.querySelector("eox-chart").shadowRoot.querySelector("#chart-container").classList.add("controls")}removeStartEndInputs(){const e=document.querySelector("eox-chart").shadowRoot.querySelector("#startInput"),r=document.querySelector("eox-chart").shadowRoot.querySelector("#endInput"),i=document.querySelector("eox-chart").shadowRoot.querySelector("#setTime");e&&r&&i&&(e.style.display="none",r.style.display="none",i.style.display="none")}addStartEndInputs(){const e=document.querySelector("eox-chart").shadowRoot.querySelector("#startInput");e.value=this.sdm.startTime.toISODate(),e.style.display="inline";const r=document.querySelector("eox-chart").shadowRoot.querySelector("#endInput");r.value=this.sdm.endTime.toISODate(),r.style.display="inline";const i=document.querySelector("eox-chart").shadowRoot.querySelector("#setTime");i.style.display="inline",i.addEventListener("click",()=>{const n=Nt.fromISO(e.value),s=Nt.fromISO(r.value);n.isValid&&s.isValid?this.sdm.setTimeInterval(n,s):(e.className=n.isValid?"":"parsingError",r.className=s.isValid?"":"parsingError")})}addNormalizeCheckbox(){const e=document.querySelector("eox-chart").shadowRoot.querySelector("#normalize");e.checked=this.sdmOptions.normalize,e.addEventListener("change",()=>{this.sdm.setNormalize(e.checked)})}addShowMinMax(){const e=document.querySelector("eox-chart").shadowRoot.querySelector("#showMinMax");e.checked=this.sdmOptions.showMinMax,e.addEventListener("change",()=>{this.sdm.setShowMinMax(e.checked)})}addCSVDownload(){document.querySelector("eox-chart").shadowRoot.querySelector("#csvDownload").addEventListener("click",()=>{this.sdm.triggerCSVDownload()})}generateTimeSelectionOptions(){document.querySelector("eox-chart").shadowRoot.querySelector("#dateSelect").addEventListener("change",r=>{const i=Nt.now(),[n,s]=r.target.value.split("-");switch(this.removeStartEndInputs(),n){case"month":this.sdm.setTimeInterval(i.minus({month:Number(s)}),i);break;case"year":this.sdm.setTimeInterval(i.minus({year:Number(s)}),i);break;case"custom":this.addStartEndInputs();break}})}generateTimeAggregationOptions(){document.querySelector("eox-chart").shadowRoot.querySelector("#aggregationSelect").addEventListener("change",r=>{const[i,n]=r.target.value.split("-");switch(i){case"none":this.sdm.setTimeAggregation(null);break;case"week":this.sdm.setTimeAggregation({week:Number(n)});break;case"month":this.sdm.setTimeAggregation({month:Number(n)});break;case"year":this.sdm.setTimeAggregation({year:Number(n)});break}})}}const U3e=(t,e)=>{const r=document.querySelector("eox-chart").shadowRoot.getElementById(e);if(!r)return;r.style.overflowY="auto";let i=r.querySelector("ul");return i||(i=document.createElement("ul"),i.style.display="flex",i.style.flexDirection="column",i.style.margin=0,i.style.padding="10px",r.appendChild(i)),i},q3e={id:"htmlLegend",afterUpdate(t,e,r){const i=U3e(t,r.containerID);if(!i)return;for(;i.firstChild;)i.firstChild.remove();t.options.plugins.legend.labels.generateLabels(t).sort((s,o)=>s.text<o.text?-1:1).forEach(s=>{const o=document.createElement("li");o.style.alignItems="center",o.style.cursor="pointer",o.style.display="flex",o.style.flexDirection="row",o.style.marginLeft="10px";const a=()=>{r.onClick(null,s)};o.onclick=a;const l=document.createElement("span");l.style.background=s.fillStyle,l.style.borderColor=s.strokeStyle,l.style.borderWidth=s.lineWidth+"px",l.style.display="inline-block",l.style.height="10px",l.style.marginRight="10px",l.style.width="10px";const u=document.createElement("p");u.style.color=s.fontColor,u.style.margin=0,u.style.padding=0,u.style.opacity=s.hidden?"0.5":"1",u.style.fontWeight=s.hidden?"300":"900";const h=document.createTextNode(s.text);u.appendChild(h),o.appendChild(l),o.appendChild(u),i.appendChild(o)})}},H3e=`
<style>
:host {
  font-size: small;
}
.hidden {
  visibility: hidden;
}
.loader {
  width: 20px;
  height: 20px;
  border: 2px solid #004170;
  border-bottom-color: transparent;
  border-radius: 50%;
  display: inline-block;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
}

@keyframes rotation {
  0% {
      transform: rotate(0deg);
  }
  100% {
      transform: rotate(360deg);
  }
}
#controls {
  position: absolute;
  width: 100%;
  max-width: 100%;
  display: none;
  gap: 5px;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  z-index: 1;
}
select {
  font-size: 11px;
  padding: 3px;
}
#csvDownload {
  border: none;
  background: none;
  cursor: pointer;
  margin-left: 7px;
  padding: 0;
  display: flex;
  align-items: center;
}
#csvDownload svg {
  width: 24px;
  height: 24px;
}
.parsingError {
  background-color: #ff6d6d;
}
#chart-container {
  width: 100%;
  height: 100%;
  position: relative;
}
#chart-container.controls {
  flex-basis: 80%;
  max-width: 80%;
  width: unset;
}
#legend-container {
  flex-basis: 20%;
  margin-top: 50px;
}
#legend-container ul {
  padding-top: 0 !important;
}
</style>
<div style="display: flex; width: 100%; height: 100%; max-width: 100%;">
  <div id="controls" class="controls" data-cy="controls">
    <div style="display: flex; align-items: center; padding: 10px;">
      <select id="dateSelect" style="margin-right: 7px;">
          <option value="month-3">3 months back</option>
          <option value="month-6">6 months back</option>
          <option value="year-1">1 year back</option>
          <option value="year-2">2 years back</option>
          <option value="year-3">3 years back</option>
          <option value="custom">custom</option>
      </select>
      <input id="startInput" size="8" style="display: none">
      <input id="endInput" size="8" style="display: none">
      <button id="setTime" style="display: none; margin-right: 7px;">ok</button>
      <select id="aggregationSelect" style="margin-right: 7px;">
          <option value="none">no aggregation</option>
          <option value="week-1">1 week</option>
          <option value="week-2">2 weeks</option>
          <option value="month-1">1 month</option>
          <option value="month-3">3 months</option>
          <option value="month-6">6 months</option>
      </select>
      <label for="normalize">normalize</label>
      <input type="checkbox" id="normalize" value="normalize" style="margin-right: 7px;">
      <label for="showMinMax">show min/max</label>
      <input type="checkbox" id="showMinMax" value="showMinMax" style="margin-right: 7px;">
      <span id="error" style="color: red; display: none;">Retrieving of signals timed out. Please try again.</span>
    </div>
    <div style="display: flex; align-items: center; padding: 10px;">
      <span id="loadingIndicator" class="loader hidden"></span>
      <button id="csvDownload" title="CSV download">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>download</title><path d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" /></svg>
      </button>
    </div>
  </div>
  <div id="chart-container">
    <canvas id="chart" class="chart" data-cy="chart"></canvas>
  </div>
  <div id="legend-container" style="display: none"></div>
</div>
`,Rle=document.createElement("template");Rle.innerHTML=H3e;class V3e extends HTMLElement{constructor(){super();Ge(this,"shadowRoot");Ge(this,"chart");Ge(this,"setData");Ge(this,"setOptions");Ge(this,"setSignalsData");Ge(this,"setSignalsEndpoint");Ge(this,"setSignalsGeometry");Ge(this,"setGeoDBEndpoint");this.shadowRoot=this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Rle.content.cloneNode(!0))}connectedCallback(){this.chart=new Po(this.shadowRoot.querySelector("canvas"),{options:{maintainAspectRatio:!1,responsive:!0},data:{labels:[],datasets:[]},plugins:[q3e,{id:"selectionLineHighlight",afterDraw:i=>{if(i&&i.tooltip){const n=i.tooltip.getActiveElements();if(n!=null&&n.length){const s=n[0].element.x,o=i.scales.y,a=i.ctx;a.save(),a.beginPath(),a.moveTo(s,o.top),a.lineTo(s,o.bottom),a.lineWidth=1,a.strokeStyle="rgba(0, 0, 255, 0.4)",a.stroke(),a.restore()}}}}]}),this.setData=i=>{this.chart.data=i||{datasets:[]},this.chart.update("none")},this.setOptions=i=>{this.chart.options=i,this.chart.update("none")},this.setSignalsData=i=>{this.chart.data={datasets:Object.entries(i).map(([n,s])=>({type:"line",label:n,data:s}))},this.chart.update("none")},this.setSignalsGeometry=i=>{r&&r.setGeometry(i)};let r=null;this.setSignalsEndpoint=i=>{r=new zte("signals",this.chart,i),new Ute(document.getElementById("controls"),r,i),r.setActiveFields(i.active)},this.setGeoDBEndpoint=i=>{r=new zte("geodb",this.chart,i),new Ute(document.getElementById("controls"),r,i),r.setActiveFields(i.active)}}}customElements.define("eox-chart",V3e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nc={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},ny=t=>(...e)=>({_$litDirective$:t,values:e});let Ex=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,i){this.t=e,this._$AM=r,this.i=i}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const G3e=ny(class extends Ex{constructor(){super(...arguments),this.key=zi}render(t,e){return this.key=t,e}update(t,[e,r]){return e!==this.key&&(qE(t),this.key=e),r}}),W3e=t=>{t.hoverInteraction=t.eoxMap.selectInteractions.selectHover,t.clickInteraction=t.eoxMap.selectInteractions.selectClick;const e=()=>{t.requestUpdate()};t.hoverInteraction.selectStyleLayer.on("change",e),t.clickInteraction.selectStyleLayer.on("change",e)},Y3e=(t,e,r)=>{if(t.clickId===e)return;const i=r?[]:[e];t.hoverInteraction.highlightById(i)},Z3e=(t,e)=>{t.stopPropagation();const r=Number(t.target.getAttribute("index")),i=e.drawnFeatures[r];e.drawLayer.getSource().removeFeature(i),e.drawnFeatures.splice(r,1),e.requestUpdate()},X3e=(t,e)=>{const r=t.get("id"),{clickId:i,drawLayer:n,olMap:s,clickInteraction:o}=e,a=i===r,l=t.getGeometry();if(a){const u=n.getSource().getExtent();s.getView().fit(u,BJ),o.highlightById([])}else{const u=l.getExtent();o.highlightById([r]),s.getView().fit(u,BJ)}e.requestUpdate()},K3e="ul.list-wrap { padding: 0;}ul.list-wrap li:hover,ul.list-wrap li.selected { background: var(--secondary-bg-color-hover);}ul.list-wrap li { list-style: none; padding: 4px;}ul.list-wrap li { border-bottom: 1.2px solid var(--secondary-color);}ul.list-wrap li:first-child { border-top: 1.2px solid var(--secondary-color);}ul.list-wrap li .list { width: 100%; align-items: center; justify-content: space-between; display: flex; align-items: center; cursor: pointer; font-size: small; gap: 10px;}ul.list-wrap li .list span { display: flex; align-items: center; cursor: pointer; font-size: small; flex-grow: 1;}";class Ile extends Wi{constructor(){super();Ge(this,"hoverInteraction");Ge(this,"clickInteraction");Ge(this,"hoverId");Ge(this,"clickId");this.eoxMap=null,this.olMap=null,this.draw=null,this.drawLayer=null,this.drawnFeatures=[],this.modify=null,this.unstyled=!1}_handleDelete(r){Z3e(r,this),this.dispatchEvent(new CustomEvent("changed",{bubbles:!0}))}_handleFeatureSelectAndDeselect(r){X3e(r,this)}_handleHoverFeature(r,i=!1){Y3e(this,r,i)}firstUpdated(){W3e(this)}createRenderRoot(){return this}render(){var r,i;return this.hoverId=(r=this.hoverInteraction)==null?void 0:r.selectedFids[0],this.clickId=(i=this.clickInteraction)==null?void 0:i.selectedFids[0],et`
      <style>
        ${!this.unstyled&&K3e}
      </style>
      <ul class="list-wrap">
        ${this.drawnFeatures.map((n,s)=>{const o=s+1,a=n.get("id"),l=this.hoverId===a,u=this.clickId===a;return G3e(o,et`
              <li
                class="${l||u?"selected":zi}"
                @mouseover=${()=>this._handleHoverFeature(a)}
                @mouseout=${()=>this._handleHoverFeature(a,!0)}
              >
                <div
                  class="list"
                  @click="${()=>this._handleFeatureSelectAndDeselect(n)}"
                >
                  <span class="title">Feature #${o}</span>
                  <button
                    index=${s}
                    class="icon smallest discard"
                    @click="${this._handleDelete}"
                  >
                    x
                  </button>
                </div>
              </li>
            `)})}
      </ul>
    `}}Ge(Ile,"properties",{eoxMap:{attribute:!1,state:!0},olMap:{attribute:!1,state:!0},draw:{attribute:!1,state:!0},drawLayer:{attribute:!1,state:!0},drawnFeatures:{attribute:!1,state:!0,type:Array},modify:{attribute:!1,state:!0},unstyled:{type:Boolean}});customElements.define("eox-drawtools-list",Ile);const J3e=t=>{const{multipleFeatures:e,drawnFeatures:r,currentlyDrawing:i}=t,n=!e&&(r==null?void 0:r.length)>0||i,s=!(r!=null&&r.length)&&!i;return{drawDisabled:n,discardDisabled:s}},Fle='button,.button { display: inline-flex; position: relative; align-items: center; color: #fff; border-width: 0; outline: none; border-radius: 4px; padding: 16px; height: 36px; cursor: pointer; font-family: inherit; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 1.25px; font-weight: 500; box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); transition-property: box-shadow, transform, opacity, background; transition-duration: 0.28s; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);}button:hover:not([disabled]):not(.icon):not(.json-editor-btntype-*),.button:hover:not([disabled]):not(.icon) { box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12); background: var(--primary-btn-color-hover);}button,button:active,.button,.button:active { background: var(--primary-color);}button[disabled],.button[disabled] { opacity: 0.5; cursor: not-allowed;}button.block,.button.block { display: block;}button.outline,.button.outline { background: transparent; box-shadow: none; color: var(--primary-color); outline: 1px solid var(--primary-color);}button.outline:hover,.button.outline:hover { background: transparent;}button.icon,.button.icon,button[class*="json-editor-btntype-"] { background: transparent; border: none; box-shadow: none; padding: 0; border-radius: 50%; width: 24px; height: 24px; text-indent: -9999px;}button.icon-text,.button.icon-text { text-indent: 26px;}button.icon-text.block,.button.icon-text.block { text-indent: 20px;}button.icon:before,button.icon-text:before,.button.icon:before,.button.icon-text:before { position: absolute; text-indent: 0; line-height: initial;}button.icon-text.block:before,.button.icon-text.block:before { text-indent: -54px;}button.icon:before,.button.icon:before,button[class*="json-editor-btntype-"]::before { width: 24px; height: 24px; margin-right: 0;}button.icon-text:before,.button.icon-text:before { width: 18px; height: 18px;}button.small,.button.small { height: 28px; padding: 12.4px; font-size: 0.75rem;}button.smallest.icon,button.smallest.icon::before { height: 16px; width: 16px; padding: 0;}',Q3e='textarea { height: 90px; resize: none; border-radius: 4px; box-sizing: border-box !important; width: 100%; padding: 5px 7px; border: 1px solid var(--secondary-color); font-size: smaller; background: var(--background-color);}input[type="text"],input[type="url"],input[type="email"],input[type="password"],input[type="text"],input[type="number"],input[type="search"],input[type="tel"],select { box-sizing: border-box; width: 100%; margin-top: 0.5rem; margin-bottom: 0.5rem; padding: 5px 7px; border-radius: 4px; border: 1px solid #0004;}';function eLe(t){navigator.clipboard.writeText(t).then(function(){},function(e){console.error("Could not copy text: ",e)})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ar(t,e,r){return t?e(t):r==null?void 0:r(t)}var F0,P0;class Ple extends Wi{constructor(){super();nr(this,F0,!0);nr(this,P0,!0);this.multipleFeatures=!1,this.drawnFeatures=[],this.importFeatures=!1,this.showEditor=!1,this.currentlyDrawing=!1,this.drawFunc=null,this.geoJSON="",this.unstyled=!1}updateButtonStates(){const{drawDisabled:r,discardDisabled:i}=J3e(this);Kn(this,F0,r),Kn(this,P0,i)}createRenderRoot(){return this}render(){this.updateButtonStates();const r=this.currentlyDrawing?"drawing":"draw";return et`
      <style>
        ${!this.unstyled&&Fle}
        ${!this.unstyled&&Q3e}
      </style>
      <div class="wrap-btn">
        <slot></slot>
        <div>
          <!-- Draw Button -->
          <button
            data-cy="drawBtn"
            class="polygon icon"
            ?disabled="${Ut(this,F0)||zi}"
            @click="${()=>this.drawFunc.start()}"
          >
            ${r}
          </button>

          <!-- Discard Button -->
          <button
            data-cy="discardBtn"
            class="discard icon"
            ?disabled="${Ut(this,P0)||zi}"
            @click="${()=>this.drawFunc.discard()}"
          >
            discard
          </button>
        </div>

        <!-- Import Button -->
        ${Ar(this.importFeatures,()=>et`
            <!-- Import Input Field : Hidden -->
            <input
              type="file"
              id="import-file"
              style="display: none;"
              @change=${this.drawFunc.import}
            />

            <!-- Main Import Button -->
            <button
              data-cy="importBtn"
              class="import icon"
              @click=${()=>this.querySelector("#import-file").click()}
            >
              import
            </button>
          `)}
      </div>

      <!-- Geo JSON Wrapper -->
      ${Ar(this.showEditor,()=>et`
          <div class="json-wrapper">
            <!-- Geo JSON Editor -->
            <textarea
              @drop=${this.drawFunc.import}
              @input=${this.drawFunc.editor}
              .value=${this.geoJSON}
            ></textarea>

            <!-- Geo JSON Copy Button -->
            <button
              data-cy="copyBtn"
              class="icon-copy"
              @click=${()=>eLe(this.geoJSON)}
            >
              ${this.unstyled?"copy":zi}
            </button>
          </div>
        `)}
    `}}F0=new WeakMap,P0=new WeakMap,Ge(Ple,"properties",{multipleFeatures:{attribute:!1,type:Boolean},drawnFeatures:{attribute:!1,state:!0,type:Array},currentlyDrawing:{attribute:!1,state:!0,type:Boolean},drawFunc:{attribute:!1,type:Object},importFeatures:{attribute:"import-features",type:Boolean},showEditor:{attribute:"show-editor",type:Boolean},geoJSON:{attribute:"geo-json",type:String},unstyled:{type:Boolean}});customElements.define("eox-drawtools-controller",Ple);const tLe=`
  button.discard:before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23FF5252' viewBox='0 0 24 24'%3E%3Ctitle%3Etrash-can-outline%3C/title%3E%3Cpath d='M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z' /%3E%3C/svg%3E")
  }
  button.polygon:before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eshape-polygon-plus%3C/title%3E%3Cpath d='M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z' /%3E%3C/svg%3E");
  }
  button.import:before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eupload%3C/title%3E%3Cpath fill='%23004170' d='M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z' /%3E%3C/svg%3E");
  }
  .wrap-btn {
    display: flex;
    justify-content: space-between;
  }
  eox-drawtools-list {
    width: 100%;
  }
  .json-wrapper {
    margin: 0.4rem 0rem;
    padding: 0.75rem;
    background: var(--secondary-color-hover);
    position: relative;
  }
  .json-wrapper textarea {
    height: 200px;
  }
  .icon-copy {
    position: absolute;
    bottom: 26px;
    right: 26px;
    border-radius: 4px;
    height: 26px;
    padding: 4px 6px;
  }
  .icon-copy:before {
    width: 14px;
    min-width: 14px;
    height: 14px;
    display: flex margin-right: 6px;
    color: white;
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Econtent-copy%3C/title%3E%3Cpath d='M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z' fill='white' /%3E%3C/svg%3E")
   }
`,rLe=t=>{(()=>{t.emitDrawnFeatures(),t.multipleFeatures||(t.draw.setActive(!1),t.currentlyDrawing=!1)})(),t.requestUpdate()},iLe=t=>{const e=()=>{t.drawLayer.set("isDrawingEnabled",!0),t.draw.setActive(!0)},r=()=>{t.currentlyDrawing=!0,t.requestUpdate()};e(),r()},qte=(t,e)=>{var s;const i=l0(t.for),n=i.map;return t.drawLayer=i.addOrUpdateLayer({type:"Vector",properties:{id:"drawLayer",layerControlHide:!0,isDrawingEnabled:!1,multipleFeatures:e},source:{type:"Vector"},interactions:[{type:"draw",options:{active:!1,id:"drawInteraction",type:t.type,modify:t.allowModify,stopClick:!0}},{type:"select",options:{id:"selectHover",condition:"pointermove",style:{"fill-color":"rgba(51, 153, 204,0.5)","stroke-color":"#3399CC","stroke-width":2.5}}},{type:"select",options:{id:"selectClick",condition:"click",panIn:!0,style:{"fill-color":"rgba(51, 153, 204,0.5)","stroke-color":"#3399CC","stroke-width":2.5}}}]}),t.draw=i.interactions.drawInteraction,t.modify=i.interactions.drawInteractionmodify,(s=t.modify)==null||s.on("modifyend",()=>t.onModifyEnd()),i.addEventListener("addfeatures",()=>rLe(t)),{EoxMap:i,OlMap:n}},nLe=t=>{const e=()=>{t.drawnFeatures=[],t.draw.setActive(!1),t.drawLayer.getSource().clear(),t.geoJSON=null},r=()=>{t.emitDrawnFeatures(),t.currentlyDrawing=!1,t.requestUpdate()};e(),r()},sLe=(t,e)=>{setTimeout(()=>{t.drawnFeatures=t.drawLayer.getSource().getFeatures(),t.updateGeoJSON(),t.requestUpdate(),e()},0)},Sx=':root,:host { --spacing: 1rem; --block-spacing-vertical: calc(var(--spacing) * 2); --block-spacing-horizontal: var(--spacing); --background-color: var(--eox-background-color, white); --color: var(--eox-color, #2c3d49); --h-color: var(--eox-h-color, var(--color)); --hover-transparency: var(--eox-hover-transparency, 20%); --bg-hover-transparency: var(--eox-bg-hover-transparency, 40%); --btn-hover-transparency: var(--eox-btn-hover-transparency, 80%); --primary-color: var(--eox-primary-color, #004170); --primary-color-hover: color-mix( in srgb, var(--primary-color) var(--hover-transparency), transparent ); --primary-bg-color-hover: color-mix( in srgb, var(--primary-color) var(--bg-hover-transparency), transparent ); --primary-btn-color-hover: color-mix( in srgb, var(--primary-color) var(--btn-hover-transparency), transparent ); --secondary-color: var(--eox-secondary-color, #c6d4df); --secondary-color-hover: color-mix( in srgb, var(--secondary-color) var(--hover-transparency), transparent ); --secondary-bg-color-hover: color-mix( in srgb, var(--secondary-color) var(--bg-hover-transparency), transparent ); --secondary-btn-color-hover: color-mix( in srgb, var(--secondary-color) var(--btn-hover-transparency), transparent ); --success: var(--eox-success, #26cc0f); --warning: var(--eox-warning, #f18e32); --error: var(--eox-error, #ff5252); --header-font-family: var(--eox-header-font-family, "Roboto", sans-serif); --body-font-family: var(--eox-body-font-family, "Roboto", sans-serif);}* { font-size: normal; font-family: var(--body-font-family); color: var(--eox-color);}h1,h2,h3,h4,h5,h6 { font-family: var(--header-font-family);}span,p,div,main,label { font-family: var(--body-font-family);}@media (min-width: 576px) { .container { max-width: 510px; padding-right: 0; padding-left: 0; --block-spacing-vertical: calc(var(--spacing) * 2.5); }}@media (min-width: 768px) { .container { max-width: 700px; --block-spacing-vertical: calc(var(--spacing) * 3); }}@media (min-width: 992px) { .container { max-width: 920px; --block-spacing-vertical: calc(var(--spacing) * 3.5); }}@media (min-width: 1200px) { .container { max-width: 1130px; --block-spacing-vertical: calc(var(--spacing) * 4); }}.container { width: 100%; margin-right: auto; margin-left: auto; display: block; padding: var(--block-spacing-vertical) var(--block-spacing-horizontal);}h1,h2,h3 { line-height: 120%; margin-top: 0.8rem; margin-bottom: 0.8rem;}p { --font-size: 1rem; font-weight: 400; line-height: 170%; margin-top: 0.8rem; margin-bottom: 1.6rem; font-size: var(--font-size);}body { padding: 0; margin: 0;}.sb-show-main.sb-main-padded { padding: 0;}h1,h2,h3,h4,h5,h6 { --font-weight: 700;}h1 { --font-size: 3rem; --typography-spacing-vertical: 0.5rem;}h2 { --font-size: 2rem; --typography-spacing-vertical: 0.5rem;}h3 { --font-size: 1.75rem; --typography-spacing-vertical: 0.5rem;}h4 { --font-size: 1.5rem; --typography-spacing-vertical: 0.5rem;}h5 { --font-size: 1.25rem; --typography-spacing-vertical: 0.5rem;}h1,h2,h3,h4,h5,h6 { margin-top: 0; margin-bottom: var(--typography-spacing-vertical); color: var(--h-color); font-weight: var(--font-weight); font-size: var(--font-size); font-family: var(--header-font-family);}';function oLe(t,e){function r(s){s.preventDefault(),s.stopPropagation()}function i(s){s.srcElement.style.opacity="0.4"}function n(s){s.srcElement.style.opacity="1"}["dragenter","dragover","dragleave","drop"].forEach(s=>{e.addEventListener(s,r,!1),["dragenter","dragover"].includes(s)?e.addEventListener(s,i,!1):e.addEventListener(s,n,!1)}),e.addEventListener("drop",s=>Nle(s,t),!1)}function aLe(t){t.preventDefault(),t.stopPropagation()}function Nle(t,e){aLe(t);const r=t.dataTransfer?t.dataTransfer.files:t.target.files;Array.from(r).forEach(i=>lLe(i,e))}function lLe(t,e){const r=new FileReader;r.readAsText(t),r.onloadend=function(){typeof r.result=="string"&&e.handleFeatureChange(r.result)}}var qf,Hf,N0;class uLe extends Wi{constructor(){super();nr(this,qf);nr(this,Hf);nr(this,N0);this.allowModify=!1,this.for="eox-map",this.currentlyDrawing=!1,this.draw=null,this.drawLayer=null,this.drawnFeatures=[],this.modify=null,this.multipleFeatures=!1,this.importFeatures=!1,this.showEditor=!1,this.showList=!1,this.type="Polygon",this.unstyled=!1,this.noShadow=!1}static get properties(){return{allowModify:{attribute:"allow-modify",type:Boolean},for:{type:String},currentlyDrawing:{attribute:!1,state:!0,type:Boolean},draw:{attribute:!1,state:!0},drawLayer:{attribute:!1,state:!0},drawnFeatures:{attribute:!1,state:!0,type:Array},modify:{attribute:!1,state:!0},multipleFeatures:{attribute:"multiple-features",type:Boolean},importFeatures:{attribute:"import-features",type:Boolean},showEditor:{attribute:"show-editor",type:Boolean},showList:{attribute:"show-list",type:Boolean},noShadow:{type:Boolean},type:{type:String},unstyled:{type:Boolean}}}handleStartDrawing(){iLe(this)}handleDiscardDrawing(){nLe(this)}handleFeatureChange(r,i=!1){this.eoxMap.parseTextToFeature(r||JSON.stringify(jJ),this.drawLayer,i)}handleFilesChange(r){Nle(r,this)}onModifyEnd(){this.emitDrawnFeatures()}updateGeoJSON(){Kn(this,N0,JSON.stringify(this.eoxMap.parseFeature(this.drawnFeatures)||jJ,void 0,2))}emitDrawnFeatures(){sLe(this,()=>{this.dispatchEvent(new CustomEvent("drawupdate",{detail:this.drawnFeatures}))})}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}firstUpdated(){const{EoxMap:r,OlMap:i}=qte(this,this.multipleFeatures);this.eoxMap=r,Kn(this,Hf,i),this.importFeatures&&oLe(this,this.eoxMap),this.updateGeoJSON(),this.requestUpdate()}updated(r){if(r.has("for")){const{EoxMap:i,OlMap:n}=qte(this,this.multipleFeatures);this.eoxMap=i,Kn(this,Hf,n)}}get eoxMap(){return Ut(this,qf)}set eoxMap(r){const i=Ut(this,qf);Kn(this,qf,r),this.requestUpdate("eoxMap",i)}render(){var r;return et`
      <style>
        :host { display: block; }
        ${!this.unstyled&&Sx}
        ${!this.unstyled&&tLe}
      </style>

      <!-- Controller Component -->
      <eox-drawtools-controller
        .drawFunc=${{start:()=>this.handleStartDrawing(),discard:()=>this.handleDiscardDrawing(),editor:i=>this.handleFeatureChange(i.target.value,!0),import:i=>this.handleFilesChange(i)}}
        .unstyled=${this.unstyled}
        .drawnFeatures=${this.drawnFeatures}
        .currentlyDrawing=${this.currentlyDrawing}
        .multipleFeatures=${this.multipleFeatures}
        .importFeatures=${this.importFeatures}
        .showEditor=${this.showEditor}
        .geoJSON=${Ut(this,N0)}
      ></eox-drawtools-controller>

      <!-- List Component -->
      ${this.showList&&((r=this.drawnFeatures)!=null&&r.length)?et`<eox-drawtools-list
            .eoxMap=${this.eoxMap}
            .olMap=${Ut(this,Hf)}
            .draw=${this.draw}
            .drawLayer=${this.drawLayer}
            .drawnFeatures=${this.drawnFeatures}
            .modify=${this.modify}
            .unstyled=${this.unstyled}
            @changed=${()=>{this.updateGeoJSON(),this.requestUpdate()}}
          ></eox-drawtools-list>`:zi}
    `}}qf=new WeakMap,Hf=new WeakMap,N0=new WeakMap;customElements.define("eox-drawtools",uLe);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Vv extends Ex{constructor(e){if(super(e),this.it=zi,e.type!==nc.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===zi||e==null)return this._t=void 0,this.it=e;if(e===kf)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const r=[e];return r.raw=r,this._t={_$litType$:this.constructor.resultType,strings:r,values:[]}}}Vv.directiveName="unsafeHTML",Vv.resultType=1;const Xa=ny(Vv);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class tE extends Vv{}tE.directiveName="unsafeSVG",tE.resultType=2;const cLe=ny(tE);var dLe="Expected a function",Hte=NaN,hLe="[object Symbol]",fLe=/^\s+|\s+$/g,pLe=/^[-+]0x[0-9a-f]+$/i,mLe=/^0b[01]+$/i,gLe=/^0o[0-7]+$/i,yLe=parseInt,bLe=typeof oi=="object"&&oi&&oi.Object===Object&&oi,vLe=typeof self=="object"&&self&&self.Object===Object&&self,xLe=bLe||vLe||Function("return this")(),_Le=Object.prototype,wLe=_Le.toString,ELe=Math.max,SLe=Math.min,M_=function(){return xLe.Date.now()};function CLe(t,e,r){var i,n,s,o,a,l,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(dLe);e=Vte(e)||0,rE(r)&&(h=!!r.leading,d="maxWait"in r,s=d?ELe(Vte(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function p(O){var M=i,A=n;return i=n=void 0,u=O,o=t.apply(A,M),o}function g(O){return u=O,a=setTimeout(x,e),h?p(O):o}function y(O){var M=O-l,A=O-u,I=e-M;return d?SLe(I,s-A):I}function b(O){var M=O-l,A=O-u;return l===void 0||M>=e||M<0||d&&A>=s}function x(){var O=M_();if(b(O))return w(O);a=setTimeout(x,y(O))}function w(O){return a=void 0,f&&i?p(O):(i=n=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,i=l=n=a=void 0}function C(){return a===void 0?o:w(M_())}function k(){var O=M_(),M=b(O);if(i=arguments,n=this,l=O,M){if(a===void 0)return g(l);if(d)return a=setTimeout(x,e),p(l)}return a===void 0&&(a=setTimeout(x,e)),o}return k.cancel=S,k.flush=C,k}function rE(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function kLe(t){return!!t&&typeof t=="object"}function ALe(t){return typeof t=="symbol"||kLe(t)&&wLe.call(t)==hLe}function Vte(t){if(typeof t=="number")return t;if(ALe(t))return Hte;if(rE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(fLe,"");var r=mLe.test(t);return r||gLe.test(t)?yLe(t.slice(2),r?2:8):pLe.test(t)?Hte:+t}var TLe=CLe;const bh=Ps(TLe),$le=Vge`
  .geosearch {
    display: flex;
    flex-direction: row;
    align-items: start;
  }

  .search-container {
    display: flex;
    flex-direction: column;
    align-items: start;
  }
  .hidden {
    display: none;
    pointer-events: none;
  }
  .results-container {
    min-height: 100px;
    width: 332px;
    background: var(--results-bg, #eaf1f5);
    overflow: hidden;
    border-radius: 6px;
    box-shadow: 0px 3px 5px -2px rgba(0, 0, 0, 0.08),
      0px 2px 2px 0px rgba(0, 0, 0, 0.08), 0px 1px 5px 0px rgba(0, 0, 0, 0.08);
    padding: 0;
    margin: 0;
  }
  .results-container.too-short {
    height: 64px;
  }

  .results-container.too-short span {
    color: #00f;
    width: 100%;
    text-align: center;
  }

  input {
    background: var(--input-bg, #c6d4dd);
    color: var(--input-fg, #333);
    height: 48px;
    border-radius: 6px;
    padding: 0 16px;
    min-width: 300px;
    border: none;
    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.05),
      0px 2px 2px 0px rgba(0, 0, 0, 0.05), 0px 1px 5px 0px rgba(0, 0, 0, 0.05);
  }
  input::before {
    background: url("_data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' color='%23999999' viewBox='0 0 24 24'%3E%3Ctitle%3Emagnify%3C/title%3E%3Cpath d='M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z' /%3E%3C/svg%3E");
    width: 48px;
    height: 48px;
    display: inline-block;
  }
  button {
    height: auto;
    background: var(--button-bg, #fff);
  }

  .geosearch.small button {
    height: var(--button-size, 32px);
    width: var(--button-size, 32px);
    padding: calc((var(--button-size, 32px) - 20px) / 2);
  }

  .geosearch.small button .icon {
    width: 20px;
    height: 20px;
    transform: translateX(1px);
    fill: var(--button-fg, #fff);
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Emagnify%3C/title%3E%3Cpath d='M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z' /%3E%3C/svg%3E");
  }

  .geosearch.small button .chevron {
    display: none;
  }

  .geosearch input {
    background: #fff;
  }

  .chevron {
    width: 24px;
    height: 24px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23FFF' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-left%3C/title%3E%3Cpath d='M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z' /%3E%3C/svg%3E");
    margin-right: 9px;
  }

  .chevron.right {
    transform: rotate(180deg);
    margin-left: 9px;
  }

  .chevron.top {
    transform: rotate(90deg);
    margin-bottom: 9px;
  }

  .chevron.bottom {
    transform: rotate(-90deg);
    margin-top: 9px;
  }

  .chevron.right.active {
    transform: rotate(180deg);
  }

  .search-result {
    padding: 10px;
    border-bottom: 1px solid var(--results-border-color, #aaa);
    color: var(--results-fg, #000);
    cursor: pointer;
    font-size: 0.9rem;
    list-style: none;
  }

  .search-result:hover {
    background: #0001;
  }

  .hint {
    display: flex;
    color: #0008;
    height: 40px;
    width: 100%;
    margin: 30px 0;
    text-align: center;
    justify-content: center;
    flex-direction: row;
    align-items: center;
  }
`,DLe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 100 100"
    preserveAspectRatio="xMidYMid"
    width="50"
    height="50"
    style="shape-rendering: auto; display: block; background: transparent;"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <g>
      <circle
        stroke-dasharray="164.93361431346415 56.97787143782138"
        r="35"
        stroke-width="12"
        stroke="#1a467c"
        fill="none"
        cy="50"
        cx="50"
      >
        <animateTransform
          keyTimes="0;1"
          values="0 50 50;360 50 50"
          dur="1.2222222222222223s"
          repeatCount="indefinite"
          type="rotate"
          attributeName="transform"
        ></animateTransform>
      </circle>
      <g></g>
    </g>
  </svg>
`;var Vf;class LLe extends Wi{constructor(){super();nr(this,Vf);this._data=[],this._isListVisible=!1,this._isInputVisible=!1,this._query="",this._isLoading=!1,this.for="eox-map",this.listDirection="right",this.resultsDirection="down",this.interval=800,this.loaderSvg=DLe,this.fetchDebounced=bh(async()=>{if(!(this._query.length<2)){this._isLoading=!0;try{const r=`${this.endpoint}${this.endpoint.includes("?")?"&":"?"}${this.queryParameter??"q"}=${this._query}`,n=await(await fetch(encodeURI(r))).json();this._data=n.results,this._isLoading=!1}catch{console.log("Error setting up or requesting from geosearch endpoint")}}},this.interval)}static get properties(){return{_data:{attribute:!1},_isListVisible:{attribute:!1},_isInputVisible:{attribute:!1},_query:{attribute:!1},_isLoading:{attribute:!1},endpoint:{type:String},for:{type:String},queryParameter:{type:String,default:"q"},button:{type:Boolean},interval:{type:Number,default:800},small:{type:Boolean},label:{type:String},direction:{type:String,attribute:"list-direction"},resultsDirection:{type:String,attribute:"results-direction"},unstyled:{type:Boolean},loaderSvg:{type:String,attribute:"loader-svg"}}}async onInput(r){if(this._query=r.target.value,this._query.length==0){this._isListVisible=!1;return}else this._query.length>=2&&(this._isLoading=!0),this._isListVisible=!0;this.fetchDebounced()}onInputBlur(){this._isInputVisible=!1,this._isListVisible=!1,this._query=""}onButtonClick(){this._isInputVisible=!this._isInputVisible,this._isInputVisible&&setTimeout(()=>this.renderRoot.querySelector("#gazetteer").focus())}getFlexDirection(){return this.direction==="up"?"column-reverse":this.direction==="left"?"row-reverse":this.direction==="down"?"column":(this.direction==="right","row")}getResultsDirection(){return this.resultsDirection==="up"?"column-reverse":this.resultsDirection==="left"?"row-reverse":this.resultsDirection==="down"?"column":(this.resultsDirection==="right","row")}getVerticalAlign(){return this.resultsDirection==="up"?"end":"start"}getMarginDirection(r){return r==="up"?"top":r==="left"?"left":r==="down"?"bottom":r==="right"?"right":"row"}handleSelect(r){this._isInputVisible=!1,this._isListVisible=!1,this._query="";const i=this.eoxMap.map.getView().getProjection().getCode();let n=E2("EPSG:4326",i,[r.bounds.southwest.lng,r.bounds.southwest.lat]),s=E2("EPSG:4326",i,[r.bounds.northeast.lng,r.bounds.northeast.lat]);const o=[n[0],n[1],s[0],s[1]];this.eoxMap.zoomExtent=o,this.dispatchEvent(new CustomEvent("geosearchSelect",r))}updateMap(){const r=l0(this.for);if(r){const i=r;this.eoxMap=i}}firstUpdated(){this.updateMap()}updated(r){r.has("for")&&this.updateMap()}get eoxMap(){return Ut(this,Vf)}set eoxMap(r){const i=Ut(this,Vf);Kn(this,Vf,r),this.requestUpdate("eoxMap",i)}render(){return et`
      <style>
        .hidden {
          display: none;
        }
        ${!this.unstyled&&Sx}
          ${!this.unstyled&&Fle}
          ${!this.unstyled&&$le}
          .fill {
          width: 100%;
          height: 100%;
          min-height: 100px;
          display: flex;
          justify-content: center;
          align-items: center;
        }
      </style>
      <div
        class="geosearch ${this.small?"small":""}"
        style="
            flex-direction: ${this.getFlexDirection()};
            align-items: ${this.getVerticalAlign()};
        "
      >
        <button
          class="${this.button?"":"hidden"} ${this._isInputVisible?"active":""}"
          style="
            margin-${this.getMarginDirection(this.direction)}: 12px;
            flex-direction: ${this.getFlexDirection()};
          "
          @click="${this.onButtonClick}"
        >
          <span class="icon"></span>
          <span
            class="chevron ${this.direction??"right"} ${this._isInputVisible?"active":""}"
          ></span>
          <span
            style="display: ${this.small&&!this.unstyled?"none":"flex"}"
            >${(this.label||this.unstyled)??"Search"}</span
          >
        </button>
        <div
          class="search-container ${this.button?this._isInputVisible?"":"hidden":""}"
          style="flex-direction: ${this.getResultsDirection()};"
        >
          <input
            id="gazetteer"
            type="text"
            placeholder="Type to search"
            .value="${this._query}"
            style="margin-${this.getMarginDirection(this.resultsDirection)}: ${this._isListVisible?12:0}px"
            @input="${this.onInput}"
          />
          <ul class="results-container ${this._isListVisible?"":"hidden"}">
            ${this._isLoading?et`<div class="fill">${cLe(this.loaderSvg)}</div>`:this._query.length<2?et`<span class="hint"
                  >Enter at least two characters to search</span
                >`:this._data.map(r=>et`
                    <eox-geosearch-item
                      .item="${r}"
                      .onClick="${i=>{this.handleSelect(i)}}"
                      .unstyled=${this.unstyled}
                    />
                  `)}
          </ul>
        </div>
      </div>
    `}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}}Vf=new WeakMap;class OLe extends Wi{static get properties(){return{item:{type:Object},onClick:{type:Function},unstyled:{type:Boolean}}}constructor(){super()}render(){return et`
      <style>
        ${!this.unstyled&&Sx}
        ${!this.unstyled&&$le}
      </style>
      <li class="search-result" @click="${()=>this.onClick(this.item)}">
        <span class="name">${this.item.formatted}</span>
      </li>
    `}}customElements.define("eox-geosearch",LLe);customElements.define("eox-geosearch-item",OLe);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*ta(t,e){if(t!==void 0){let r=0;for(const i of t)yield e(i,r++)}}const MLe=`
:host {
  display: flex;
  box-sizing: border-box;
  height: 100%;
  line-height: 1;
}
*,
*:before,
*:after {
  box-sizing: inherit;
}
form#itemfilter {
  height: 100%;
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
}
form#itemfilter:not(.inline) {
  overflow-y: auto;
}
details {
  width: 100%;
}
`,sy=`
:host, :root {
  --item-color: color-mix(
    in srgb,
    var(--primary-color) 10%,
    transparent
  );
  --item-hover-color: color-mix(
    in srgb,
    var(--secondary-color) 30%,
    transparent
  );
  --item-select-color: var(--primary-color);
  --inline-bg-color: color-mix(
    in srgb,
    var(--secondary-color) 10%,
    transparent
  );
  --border-color: color-mix(
    in srgb,
    #000000 20%,
    transparent
  );
  --background-color: #fff;
  --padding: 0.5rem;
  --text-transform: capitalize;
}
* {
  font-family: Roboto, sans-serif;
}
ul {
  padding-left: 0;
  margin-top: 0;
}
li {
  list-style: none;
}
li span {
  text-overflow: ellipsis;
  white-space: nowrap;
}
li label {
  display: flex;
  align-items: center;
}
details summary > * {
  display: inline;
}
details summary {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #0002;
  padding: .5rem var(--padding);
}

details > summary::-webkit-details-marker {
  display: none;
}

.title {
  font-size: 13px;
  align-items: center;
  text-transform: var(--text-transform);
}
.subtitle {
  font-size: 11px;
  opacity: .7;
  margin-top: 6px;
}
.title-container {
  display: flex;
  flex-direction: column;
}
h6.main-heading {
  font-size: 1rem;
  margin-block-start: 1.33em;
  margin-block-end: 1.33em;
  margin-top: var(--padding);
  padding: 0 var(--padding);
}
details summary .title {
  display: flex;
  font-weight: 500;
}
details.details-filter summary::after,
details.details-results summary::before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230009' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-right%3C/title%3E%3Cpath d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z' /%3E%3C/svg%3E");
  height: 24px;
  width: 24px;
}
details.details-filter summary::after {
  position: absolute;
  right: 8px;
  transform: rotate(90deg);
}
details[open] summary::before {
  transform: rotate(90deg);
}
details[open] summary::after {
  transform: rotate(270deg);
}
eox-itemfilter-expandcontainer {
  max-height: 200px;
}
eox-itemfilter-expandcontainer > [data-type=filter] {
  display: block;
  height: calc(100% - 32px);
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0 var(--padding);
}
[data-type=filter] .title,
details summary {
  text-transform: var(--text-transform);
}
li,
label,
details,
input[type="checkbox"],
input[type="radio"] {
  cursor: pointer;
}
input[type="checkbox"],
input[type="radio"] {
  margin: 0;
}
input[type="text"] {
  box-sizing: border-box;
  width: 100%;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 5px 7px;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}
section:not(section:last-of-type) {
  margin-bottom: 1rem;
}
#section-results {
  overflow: hidden;
  flex: 1;
  display: flex;
  flex-direction: column;
}
ul:not(#filters) > li {
  padding: 5px 0;
}
ul#results li {
  padding: 5px var(--padding);
}
section {
  position: relative;
  background-color: var(--background-color);
}
button#filter-reset {
  position: absolute;
  top: 0;
  right: var(--padding);
  padding: 2px 10px;
}
.count {
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--secondary-color);
  padding: 0 12px;
  height: 20px;
  border-radius: 10px;
  color: var(--primary-color);
  font-weight: 500;
  margin-left: 9px;
}
eox-itemfilter-range,
tc-range-slider {
  align-items: center;
  display: block;
}
tc-range-slider {
  width: calc(100% - 16px);
  margin-left: 8px;
  margin-right: 8px;
  --width: 100%;
}
.range-before,
.range-after {
  font-size: small;
}
.range-before,
.range-after {
  margin: 1rem 0px;
}

button.reset-icon:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eclose%3C/title%3E%3Cpath d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E");
}
eox-itemfilter-expandcontainer button.reset-icon {
  margin-left: 4px;
  margin-top: -5px;
  height: 14px;
  width: 14px;
}
eox-itemfilter-expandcontainer button.reset-icon:before {
  height: 14px;
  width: 14px;
}
.inline-content {
  border: 1.5px solid var(--secondary-color);
  border-radius: 4px;
  max-height: 300px;
  overflow-y: auto;
  background: var(--inline-bg-color);
  margin-top: 4px;
  padding: 8px;
}
.inline-container {
  position: relative;
  align-items: center;
}
.inline-container-wrapper {
  width: 100%;
  position: relative;
}
.inline-container {
  position: relative;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  height: 24px;
  padding: 8px;
  flex: 1;
  justify-content: space-between;
  cursor: text;
  transition: all 0.2s ease-in-out;
  display: flex;
}
.inline-container:hover {
  border: 1px solid var(--primary-color);
}
[popover] {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  background-color: var(--background-color);
  border: none;
}
.input-container {
  display: flex;
  flex: 1;
  align-items: center;
}
.input-container input,
.input-container input:focus {
  height: 100%;
  border: none;
  outline: none;
  border: 0;
  min-width: 25%;
}
.button-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  right: 1px;
  top: 5px;
  height: calc(100% - 10px);
  width: 34px;
  background: white;
}
button.icon {
  color: #004170;
  height: 24px;
  font-size: large;
  width: unset;
}
.inline-container::-webkit-scrollbar {
  height: 2px;
}
.inline-container::-webkit-scrollbar-thumb {
  background: lightgrey;
  border-radius: 2px;
}
.hidden {
  height: 0;
  padding: 0;
  border: none;
}
.hidden:hover {
  border: none;
}
.chip-title {
  pointer-events: none;
  text-transform: var(--text-transform);
}
.chip {
  display: flex;
  align-items: center;
  background: var(--item-color);
  border-radius: 30px;
  margin-right: 4px;
  padding: 5px 10px;
  font-size: small;
  cursor: default;
  white-space: nowrap;
}
.chip.highlighted {
  background: var(--primary-color);
  color: white;
}
.chip-close {
  cursor: pointer;
  font-weight: 600;
  position: absolute;
  right: -25px;
  background: white;
  top: 0;
  height: 100%;
  display: flex;
  align-items: center;
  height: 24px;
  width: 24px;
}
.chip-close:before {
  position: absolute;
  text-indent: 0;
  line-height: initial;
  height: 24px;
  width: 24px;
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eclose%3C/title%3E%3Cpath d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E");
}
.chip-container {
  position: relative;
  max-width: 75%;
}
.autocomplete-container,
.text-container {
  position: relative;
  align-items: center;
  width: 100%;
  box-sizing: border-box;
  justify-content: space-between;
  cursor: text;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  background: white;
}
.autocomplete-container-wrapper,
.text-container-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  overflow-x: auto;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.autocomplete-container-wrapper::-webkit-scrollbar {
  display: none;
}
.chip-wrapper {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.chip-wrapper::-webkit-scrollbar {
  display: none;
  width: 0;
  background: transparent;
}
.autocomplete-input,
.text-input {
  flex: 1;
  border: 1px solid var(--border-color);
  outline: none;
  box-sizing: border-box;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  min-width: 150px;
}
input[type="text"].text-input,
input[type="text"].autocomplete-input {
  padding: 9px 6px !important;
  border-radius: 4px;
}
.text-input:hover,
.autocomplete-input:hover {
  border: 1px solid var(--primary-color);
}
.text-input:invalid {
  border: 1px solid red;
}
.selected-items {
  display: flex;
  flex-wrap: nowrap;
  gap: 4px;
}
.select li:hover,
.multiselect li:hover,
eox-itemfilter-results li:hover {
  background: var(--item-hover-color);
}
eox-itemfilter-results li.highlighted {
  color: var(--background-color);
  background: var(--item-select-color);
}
.selected-item span {
  margin-right: 8px;
}
.selected-item button {
  background: none;
  border: none;
  color: #fff;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
}
.multiselect-container,
.select-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.multiselect-container label,
.select-container label {
  display: flex;
  align-items: center;
  cursor: pointer;
}
.multiselect-container input,
.select-container input {
  margin-right: 8px;
}
.select-overflow {
  max-height: 185px;
  overflow-y: auto;
}
.chip-title strong {
  font-weight: 500;
}
.chip-wrapper {
  max-width: 100%;
  overflow-x: scroll;
}
.chip-container {
  display: flex;
  flex: 0;
}
.input-container.dirty-filter-input {
  margin-left: 25px;
}
.error-validation {
  position: relative;
  color: red;
  font-size: x-small;
  top: -8px;
}
`,_C=`:root,:host { --spacing: 1rem; --block-spacing-vertical: calc(var(--spacing) * 2); --block-spacing-horizontal: var(--spacing); --background-color: var(--eox-background-color, white); --color: var(--eox-color, #2c3d49); --h-color: var(--eox-h-color, var(--color)); --hover-transparency: var(--eox-hover-transparency, 20%); --bg-hover-transparency: var(--eox-bg-hover-transparency, 40%); --btn-hover-transparency: var(--eox-btn-hover-transparency, 80%); --primary-color: var(--eox-primary-color, #004170); --primary-color-hover: color-mix( in srgb, var(--primary-color) var(--hover-transparency), transparent ); --primary-bg-color-hover: color-mix( in srgb, var(--primary-color) var(--bg-hover-transparency), transparent ); --primary-btn-color-hover: color-mix( in srgb, var(--primary-color) var(--btn-hover-transparency), transparent ); --secondary-color: var(--eox-secondary-color, #c6d4df); --secondary-color-hover: color-mix( in srgb, var(--secondary-color) var(--hover-transparency), transparent ); --secondary-bg-color-hover: color-mix( in srgb, var(--secondary-color) var(--bg-hover-transparency), transparent ); --secondary-btn-color-hover: color-mix( in srgb, var(--secondary-color) var(--btn-hover-transparency), transparent ); --success: var(--eox-success, #26cc0f); --warning: var(--eox-warning, #f18e32); --error: var(--eox-error, #ff5252); --header-font-family: var(--eox-header-font-family, "Roboto", sans-serif); --body-font-family: var(--eox-body-font-family, "Roboto", sans-serif);}* { font-size: normal; font-family: var(--body-font-family); color: var(--eox-color);}h1,h2,h3,h4,h5,h6 { font-family: var(--header-font-family);}span,p,div,main,label { font-family: var(--body-font-family);}@media (min-width: 576px) { .container { max-width: 510px; padding-right: 0; padding-left: 0; --block-spacing-vertical: calc(var(--spacing) * 2.5); }}@media (min-width: 768px) { .container { max-width: 700px; --block-spacing-vertical: calc(var(--spacing) * 3); }}@media (min-width: 992px) { .container { max-width: 920px; --block-spacing-vertical: calc(var(--spacing) * 3.5); }}@media (min-width: 1200px) { .container { max-width: 1130px; --block-spacing-vertical: calc(var(--spacing) * 4); }}.container { width: 100%; margin-right: auto; margin-left: auto; display: block; padding: var(--block-spacing-vertical) var(--block-spacing-horizontal);}h1,h2,h3 { line-height: 120%; margin-top: 0.8rem; margin-bottom: 0.8rem;}p { --font-size: 1rem; font-weight: 400; line-height: 170%; margin-top: 0.8rem; margin-bottom: 1.6rem; font-size: var(--font-size);}body { padding: 0; margin: 0;}.sb-show-main.sb-main-padded { padding: 0;}h1,h2,h3,h4,h5,h6 { --font-weight: 700;}h1 { --font-size: 3rem; --typography-spacing-vertical: 0.5rem;}h2 { --font-size: 2rem; --typography-spacing-vertical: 0.5rem;}h3 { --font-size: 1.75rem; --typography-spacing-vertical: 0.5rem;}h4 { --font-size: 1.5rem; --typography-spacing-vertical: 0.5rem;}h5 { --font-size: 1.25rem; --typography-spacing-vertical: 0.5rem;}h1,h2,h3,h4,h5,h6 { margin-top: 0; margin-bottom: var(--typography-spacing-vertical); color: var(--h-color); font-weight: var(--font-weight); font-size: var(--font-size); font-family: var(--header-font-family);}button,.button { display: inline-flex; position: relative; align-items: center; color: #fff; border-width: 0; outline: none; border-radius: 4px; padding: 16px; height: 36px; cursor: pointer; font-family: inherit; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 1.25px; font-weight: 500; box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); transition-property: box-shadow, transform, opacity, background; transition-duration: 0.28s; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);}button:hover:not([disabled]):not(.icon):not(.json-editor-btntype-*),.button:hover:not([disabled]):not(.icon) { box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12); background: var(--primary-btn-color-hover);}button,button:active,.button,.button:active { background: var(--primary-color);}button[disabled],.button[disabled] { opacity: 0.5; cursor: not-allowed;}button.block,.button.block { display: block;}button.outline,.button.outline { background: transparent; box-shadow: none; color: var(--primary-color); outline: 1px solid var(--primary-color);}button.outline:hover,.button.outline:hover { background: transparent;}button.icon,.button.icon,button[class*="json-editor-btntype-"] { background: transparent; border: none; box-shadow: none; padding: 0; border-radius: 50%; width: 24px; height: 24px; text-indent: -9999px;}button.icon-text,.button.icon-text { text-indent: 26px;}button.icon-text.block,.button.icon-text.block { text-indent: 20px;}button.icon:before,button.icon-text:before,.button.icon:before,.button.icon-text:before { position: absolute; text-indent: 0; line-height: initial;}button.icon-text.block:before,.button.icon-text.block:before { text-indent: -54px;}button.icon:before,.button.icon:before,button[class*="json-editor-btntype-"]::before { width: 24px; height: 24px; margin-right: 0;}button.icon-text:before,.button.icon-text:before { width: 18px; height: 18px;}button.small,.button.small { height: 28px; padding: 12.4px; font-size: 0.75rem;}button.smallest.icon,button.smallest.icon::before { height: 16px; width: 16px; padding: 0;}input[type="checkbox"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}input[type="checkbox"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="checkbox"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");}textarea { height: 90px; resize: none; border-radius: 4px; box-sizing: border-box !important; width: 100%; padding: 5px 7px; border: 1px solid var(--secondary-color); font-size: smaller; background: var(--background-color);}input[type="text"],input[type="url"],input[type="email"],input[type="password"],input[type="text"],input[type="number"],input[type="search"],input[type="tel"],select { box-sizing: border-box; width: 100%; margin-top: 0.5rem; margin-bottom: 0.5rem; padding: 5px 7px; border-radius: 4px; border: 1px solid #0004;}ul.list-wrap { padding: 0;}ul.list-wrap li:hover,ul.list-wrap li.selected { background: var(--secondary-bg-color-hover);}ul.list-wrap li { list-style: none; padding: 4px;}ul.list-wrap li { border-bottom: 1.2px solid var(--secondary-color);}ul.list-wrap li:first-child { border-top: 1.2px solid var(--secondary-color);}ul.list-wrap li .list { width: 100%; align-items: center; justify-content: space-between; display: flex; align-items: center; cursor: pointer; font-size: small; gap: 10px;}ul.list-wrap li .list span { display: flex; align-items: center; cursor: pointer; font-size: small; flex-grow: 1;}input[type="radio"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}label span { font-size: small;}input[type="radio"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="radio"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");}input[type="range"] { -webkit-appearance: none; width: 90%; margin-left: 5%; height: 6px; border-radius: 5px; background: #d7dcdf; outline: none; padding: 0;}input[type="range"]::-webkit-slider-thumb { appearance: none; width: 15px; height: 15px; border-radius: 50%; background: #2c3e50; cursor: pointer; transition: background 0.15s ease-in-out;}.range-slider { margin: 60px 0 0 0;}.range-slider { width: 100%;}input[type="range"]::-webkit-slider-thumb:hover { background: #00416f;}input[type="range"]:active::-webkit-slider-thumb { background: #00416f;}input[type="range"]::-moz-range-thumb { width: 15px; height: 15px; border: 0; border-radius: 50%; background: #2c3e50; cursor: pointer; transition: background 0.15s ease-in-out;}input[type="range"]::-moz-range-thumb:hover { background: #00416f;}input[type="range"]:active::-moz-range-thumb { background: #00416f;}input[type="range"]:focus::-webkit-slider-thumb { box-shadow: 0 0 0 3px #fff0, 0 0 0 6px #00416f00;}.range-slider__value { display: inline-block; position: relative; width: 60px; color: #fff; line-height: 20px; text-align: center; border-radius: 3px; background: #2c3e50; padding: 5px 10px; margin-left: 8px;}.range-slider__value:after { position: absolute; top: 8px; left: -7px; width: 0; height: 0; border-top: 7px solid transparent; border-right: 7px solid #2c3e50; border-bottom: 7px solid transparent; content: "";}input::-moz-focus-inner,input::-moz-focus-outer { border: 0;}`;var _1,Ble;class RLe extends Wi{constructor(){super();nr(this,_1);this.filterObject={},this.unstyled=!1}static get properties(){return{filterObject:{attribute:!1,type:Object},unstyled:{type:Boolean}}}render(){return et`
      <style>
        ${!this.unstyled&&sy}
      </style>

      ${Ar(this.filterObject.featured,()=>et`<slot name="filter"></slot>`,()=>et`<details
          @toggle="${tr(this,_1,Ble)}"
          class="details-filter"
          ?open=${this.filterObject.expanded||zi}
        >
          <summary>
            <span
              class="title"
              style="${!this.filterObject.title&&"text-transform: var(--text-transform)"}"
            >
              ${this.filterObject.title||this.filterObject.key||"Filter"}
              <slot name="reset-button"></slot>
            </span>
          </summary>
          <div>
            <slot name="filter"></slot>
          </div>
        </details>`)}
    `}}_1=new WeakSet,Ble=function(r){this.dispatchEvent(new CustomEvent("details-toggled",{detail:r,bubbles:!0,composed:!0}))};customElements.define("eox-itemfilter-expandcontainer",RLe);function bu(t){return Array.isArray?Array.isArray(t):Ule(t)==="[object Array]"}const ILe=1/0;function FLe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-ILe?"-0":e}function PLe(t){return t==null?"":FLe(t)}function xl(t){return typeof t=="string"}function jle(t){return typeof t=="number"}function NLe(t){return t===!0||t===!1||$Le(t)&&Ule(t)=="[object Boolean]"}function zle(t){return typeof t=="object"}function $Le(t){return zle(t)&&t!==null}function Zo(t){return t!=null}function R_(t){return!t.trim().length}function Ule(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const BLe="Incorrect 'index' type",jLe=t=>`Invalid value for key ${t}`,zLe=t=>`Pattern length exceeds max of ${t}.`,ULe=t=>`Missing ${t} property in key`,qLe=t=>`Property 'weight' in key '${t}' must be a positive integer`,Gte=Object.prototype.hasOwnProperty;class HLe{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(i=>{let n=qle(i);this._keys.push(n),this._keyMap[n.id]=n,r+=n.weight}),this._keys.forEach(i=>{i.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function qle(t){let e=null,r=null,i=null,n=1,s=null;if(xl(t)||bu(t))i=t,e=Wte(t),r=iE(t);else{if(!Gte.call(t,"name"))throw new Error(ULe("name"));const o=t.name;if(i=o,Gte.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(qLe(o));e=Wte(o),r=iE(o),s=t.getFn}return{path:e,id:r,weight:n,src:i,getFn:s}}function Wte(t){return bu(t)?t:t.split(".")}function iE(t){return bu(t)?t.join("."):t}function VLe(t,e){let r=[],i=!1;const n=(s,o,a)=>{if(Zo(s))if(!o[a])r.push(s);else{let l=o[a];const u=s[l];if(!Zo(u))return;if(a===o.length-1&&(xl(u)||jle(u)||NLe(u)))r.push(PLe(u));else if(bu(u)){i=!0;for(let h=0,d=u.length;h<d;h+=1)n(u[h],o,a+1)}else o.length&&n(u,o,a+1)}};return n(t,xl(e)?e.split("."):e,0),i?r:r[0]}const GLe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},WLe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},YLe={location:0,threshold:.6,distance:100},ZLe={useExtendedSearch:!1,getFn:VLe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Tr={...WLe,...GLe,...YLe,...ZLe};const XLe=/[^ ]+/g;function KLe(t=1,e=3){const r=new Map,i=Math.pow(10,e);return{get(n){const s=n.match(XLe).length;if(r.has(s))return r.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*i)/i);return r.set(s,a),a},clear(){r.clear()}}}class wC{constructor({getFn:e=Tr.getFn,fieldNormWeight:r=Tr.fieldNormWeight}={}){this.norm=KLe(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,i)=>{this._keysMap[r.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,xl(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();xl(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,i=this.size();r<i;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!Zo(e)||R_(e))return;let i={v:e,i:r,n:this.norm.get(e)};this.records.push(i)}_addObject(e,r){let i={i:r,$:{}};this.keys.forEach((n,s)=>{let o=n.getFn?n.getFn(e):this.getFn(e,n.path);if(Zo(o)){if(bu(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:h}=l.pop();if(Zo(h))if(xl(h)&&!R_(h)){let d={v:h,i:u,n:this.norm.get(h)};a.push(d)}else bu(h)&&h.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}i.$[s]=a}else if(xl(o)&&!R_(o)){let a={v:o,n:this.norm.get(o)};i.$[s]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Hle(t,e,{getFn:r=Tr.getFn,fieldNormWeight:i=Tr.fieldNormWeight}={}){const n=new wC({getFn:r,fieldNormWeight:i});return n.setKeys(t.map(qle)),n.setSources(e),n.create(),n}function JLe(t,{getFn:e=Tr.getFn,fieldNormWeight:r=Tr.fieldNormWeight}={}){const{keys:i,records:n}=t,s=new wC({getFn:e,fieldNormWeight:r});return s.setKeys(i),s.setIndexRecords(n),s}function kb(t,{errors:e=0,currentLocation:r=0,expectedLocation:i=0,distance:n=Tr.distance,ignoreLocation:s=Tr.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(i-r);return n?o+a/n:a?1:o}function QLe(t=[],e=Tr.minMatchCharLength){let r=[],i=-1,n=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&i===-1?i=s:!a&&i!==-1&&(n=s-1,n-i+1>=e&&r.push([i,n]),i=-1)}return t[s-1]&&s-i>=e&&r.push([i,s-1]),r}const jd=32;function eOe(t,e,r,{location:i=Tr.location,distance:n=Tr.distance,threshold:s=Tr.threshold,findAllMatches:o=Tr.findAllMatches,minMatchCharLength:a=Tr.minMatchCharLength,includeMatches:l=Tr.includeMatches,ignoreLocation:u=Tr.ignoreLocation}={}){if(e.length>jd)throw new Error(zLe(jd));const h=e.length,d=t.length,f=Math.max(0,Math.min(i,d));let p=s,g=f;const y=a>1||l,b=y?Array(d):[];let x;for(;(x=t.indexOf(e,g))>-1;){let M=kb(e,{currentLocation:x,expectedLocation:f,distance:n,ignoreLocation:u});if(p=Math.min(M,p),g=x+h,y){let A=0;for(;A<h;)b[x+A]=1,A+=1}}g=-1;let w=[],S=1,C=h+d;const k=1<<h-1;for(let M=0;M<h;M+=1){let A=0,I=C;for(;A<I;)kb(e,{errors:M,currentLocation:f+I,expectedLocation:f,distance:n,ignoreLocation:u})<=p?A=I:C=I,I=Math.floor((C-A)/2+A);C=I;let R=Math.max(1,f-I+1),V=o?d:Math.min(f+I,d)+h,oe=Array(V+2);oe[V+1]=(1<<M)-1;for(let F=V;F>=R;F-=1){let U=F-1,Y=r[t.charAt(U)];if(y&&(b[U]=+!!Y),oe[F]=(oe[F+1]<<1|1)&Y,M&&(oe[F]|=(w[F+1]|w[F])<<1|1|w[F+1]),oe[F]&k&&(S=kb(e,{errors:M,currentLocation:U,expectedLocation:f,distance:n,ignoreLocation:u}),S<=p)){if(p=S,g=U,g<=f)break;R=Math.max(1,2*f-g)}}if(kb(e,{errors:M+1,currentLocation:f,expectedLocation:f,distance:n,ignoreLocation:u})>p)break;w=oe}const O={isMatch:g>=0,score:Math.max(.001,S)};if(y){const M=QLe(b,a);M.length?l&&(O.indices=M):O.isMatch=!1}return O}function tOe(t){let e={};for(let r=0,i=t.length;r<i;r+=1){const n=t.charAt(r);e[n]=(e[n]||0)|1<<i-r-1}return e}class Vle{constructor(e,{location:r=Tr.location,threshold:i=Tr.threshold,distance:n=Tr.distance,includeMatches:s=Tr.includeMatches,findAllMatches:o=Tr.findAllMatches,minMatchCharLength:a=Tr.minMatchCharLength,isCaseSensitive:l=Tr.isCaseSensitive,ignoreLocation:u=Tr.ignoreLocation}={}){if(this.options={location:r,threshold:i,distance:n,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(f,p)=>{this.chunks.push({pattern:f,alphabet:tOe(f),startIndex:p})},d=this.pattern.length;if(d>jd){let f=0;const p=d%jd,g=d-p;for(;f<g;)h(this.pattern.substr(f,jd),f),f+=jd;if(p){const y=d-jd;h(this.pattern.substr(y),y)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:i}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return i&&(g.indices=[[0,e.length-1]]),g}const{location:n,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options;let h=[],d=0,f=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:b})=>{const{isMatch:x,score:w,indices:S}=eOe(e,g,y,{location:n+b,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:i,ignoreLocation:u});x&&(f=!0),d+=w,x&&S&&(h=[...h,...S])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&i&&(p.indices=h),p}}class jc{constructor(e){this.pattern=e}static isMultiMatch(e){return Yte(e,this.multiRegex)}static isSingleMatch(e){return Yte(e,this.singleRegex)}search(){}}function Yte(t,e){const r=t.match(e);return r?r[1]:null}class rOe extends jc{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class iOe extends jc{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class nOe extends jc{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class sOe extends jc{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class oOe extends jc{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class aOe extends jc{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Gle extends jc{constructor(e,{location:r=Tr.location,threshold:i=Tr.threshold,distance:n=Tr.distance,includeMatches:s=Tr.includeMatches,findAllMatches:o=Tr.findAllMatches,minMatchCharLength:a=Tr.minMatchCharLength,isCaseSensitive:l=Tr.isCaseSensitive,ignoreLocation:u=Tr.ignoreLocation}={}){super(e),this._bitapSearch=new Vle(e,{location:r,threshold:i,distance:n,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Wle extends jc{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,i;const n=[],s=this.pattern.length;for(;(i=e.indexOf(this.pattern,r))>-1;)r=i+s,n.push([i,r-1]);const o=!!n.length;return{isMatch:o,score:o?0:1,indices:n}}}const nE=[rOe,Wle,nOe,sOe,aOe,oOe,iOe,Gle],Zte=nE.length,lOe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,uOe="|";function cOe(t,e={}){return t.split(uOe).map(r=>{let i=r.trim().split(lOe).filter(s=>s&&!!s.trim()),n=[];for(let s=0,o=i.length;s<o;s+=1){const a=i[s];let l=!1,u=-1;for(;!l&&++u<Zte;){const h=nE[u];let d=h.isMultiMatch(a);d&&(n.push(new h(d,e)),l=!0)}if(!l)for(u=-1;++u<Zte;){const h=nE[u];let d=h.isSingleMatch(a);if(d){n.push(new h(d,e));break}}}return n})}const dOe=new Set([Gle.type,Wle.type]);class hOe{constructor(e,{isCaseSensitive:r=Tr.isCaseSensitive,includeMatches:i=Tr.includeMatches,minMatchCharLength:n=Tr.minMatchCharLength,ignoreLocation:s=Tr.ignoreLocation,findAllMatches:o=Tr.findAllMatches,location:a=Tr.location,threshold:l=Tr.threshold,distance:u=Tr.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:i,minMatchCharLength:n,findAllMatches:o,ignoreLocation:s,location:a,threshold:l,distance:u},this.pattern=r?e:e.toLowerCase(),this.query=cOe(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n}=this.options;e=n?e:e.toLowerCase();let s=0,o=[],a=0;for(let l=0,u=r.length;l<u;l+=1){const h=r[l];o.length=0,s=0;for(let d=0,f=h.length;d<f;d+=1){const p=h[d],{isMatch:g,indices:y,score:b}=p.search(e);if(g){if(s+=1,a+=b,i){const x=p.constructor.type;dOe.has(x)?o=[...o,...y]:o.push(y)}}else{a=0,s=0,o.length=0;break}}if(s){let d={isMatch:!0,score:a/s};return i&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const sE=[];function fOe(...t){sE.push(...t)}function oE(t,e){for(let r=0,i=sE.length;r<i;r+=1){let n=sE[r];if(n.condition(t,e))return new n(t,e)}return new Vle(t,e)}const Gv={AND:"$and",OR:"$or"},aE={PATH:"$path",PATTERN:"$val"},lE=t=>!!(t[Gv.AND]||t[Gv.OR]),pOe=t=>!!t[aE.PATH],mOe=t=>!bu(t)&&zle(t)&&!lE(t),Xte=t=>({[Gv.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Yle(t,e,{auto:r=!0}={}){const i=n=>{let s=Object.keys(n);const o=pOe(n);if(!o&&s.length>1&&!lE(n))return i(Xte(n));if(mOe(n)){const l=o?n[aE.PATH]:s[0],u=o?n[aE.PATTERN]:n[l];if(!xl(u))throw new Error(jLe(l));const h={keyId:iE(l),pattern:u};return r&&(h.searcher=oE(u,e)),h}let a={children:[],operator:s[0]};return s.forEach(l=>{const u=n[l];bu(u)&&u.forEach(h=>{a.children.push(i(h))})}),a};return lE(t)||(t=Xte(t)),i(t)}function gOe(t,{ignoreFieldNorm:e=Tr.ignoreFieldNorm}){t.forEach(r=>{let i=1;r.matches.forEach(({key:n,norm:s,score:o})=>{const a=n?n.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),r.score=i})}function yOe(t,e){const r=t.matches;e.matches=[],Zo(r)&&r.forEach(i=>{if(!Zo(i.indices)||!i.indices.length)return;const{indices:n,value:s}=i;let o={indices:n,value:s};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function bOe(t,e){e.score=t.score}function vOe(t,e,{includeMatches:r=Tr.includeMatches,includeScore:i=Tr.includeScore}={}){const n=[];return r&&n.push(yOe),i&&n.push(bOe),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return n.length&&n.forEach(l=>{l(s,a)}),a})}class zc{constructor(e,r={},i){this.options={...Tr,...r},this.options.useExtendedSearch,this._keyStore=new HLe(this.options.keys),this.setCollection(e,i)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof wC))throw new Error(BLe);this._myIndex=r||Hle(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Zo(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let i=0,n=this._docs.length;i<n;i+=1){const s=this._docs[i];e(s,i)&&(this.removeAt(i),i-=1,n-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let l=xl(e)?xl(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return gOe(l,{ignoreFieldNorm:a}),s&&l.sort(o),jle(r)&&r>-1&&(l=l.slice(0,r)),vOe(l,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){const r=oE(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach(({v:s,i:o,n:a})=>{if(!Zo(s))return;const{isMatch:l,score:u,indices:h}=r.searchIn(s);l&&n.push({item:s,idx:o,matches:[{score:u,value:s,norm:a,indices:h}]})}),n}_searchLogical(e){const r=Yle(e,this.options),i=(a,l,u)=>{if(!a.children){const{keyId:d,searcher:f}=a,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return p&&p.length?[{idx:u,item:l,matches:p}]:[]}const h=[];for(let d=0,f=a.children.length;d<f;d+=1){const p=a.children[d],g=i(p,l,u);if(g.length)h.push(...g);else if(a.operator===Gv.AND)return[]}return h},n=this._myIndex.records,s={},o=[];return n.forEach(({$:a,i:l})=>{if(Zo(a)){let u=i(r,a,l);u.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),u.forEach(({matches:h})=>{s[l].matches.push(...h)}))}}),o}_searchObjectList(e){const r=oE(e,this.options),{keys:i,records:n}=this._myIndex,s=[];return n.forEach(({$:o,i:a})=>{if(!Zo(o))return;let l=[];i.forEach((u,h)=>{l.push(...this._findMatches({key:u,value:o[h],searcher:r}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:e,value:r,searcher:i}){if(!Zo(r))return[];let n=[];if(bu(r))r.forEach(({v:s,i:o,n:a})=>{if(!Zo(s))return;const{isMatch:l,score:u,indices:h}=i.searchIn(s);l&&n.push({score:u,key:e,value:s,idx:o,norm:a,indices:h})});else{const{v:s,n:o}=r,{isMatch:a,score:l,indices:u}=i.searchIn(s);a&&n.push({score:l,key:e,value:s,norm:o,indices:u})}return n}}zc.version="7.0.0";zc.createIndex=Hle;zc.parseIndex=JLe;zc.config=Tr;zc.parseQuery=Yle;fOe(hOe);function Zle(t,e){const r=new zc(e.filterProperties,{keys:["title"]}),i=t.target.value,s=r.search(i).map(o=>o.item.key||o.item.keys.join("|"));Object.keys(e.filters).forEach(o=>{e.querySelector(`[data-details="${o}"]`).parentElement.style.display=s.includes(o)||!i?"":"none"})}function xOe(t,e){const r=t.target.getAttribute("data-close").replace("|","-");e.querySelector(`#filter-${r}`).reset(),e.dispatchEvent(new CustomEvent("filter")),e.requestUpdate()}const uE=Math.min,Bf=Math.max,Wv=Math.round,Ab=Math.floor,Mc=t=>({x:t,y:t});function Xle(t){return t.split("-")[0]}function _Oe(t){return t.split("-")[1]}function wOe(t){return t==="x"?"y":"x"}function EOe(t){return t==="y"?"height":"width"}function Kle(t){return["top","bottom"].includes(Xle(t))?"y":"x"}function SOe(t){return wOe(Kle(t))}function Jle(t){const{x:e,y:r,width:i,height:n}=t;return{width:i,height:n,top:r,left:e,right:e+i,bottom:r+n,x:e,y:r}}function Kte(t,e,r){let{reference:i,floating:n}=t;const s=Kle(e),o=SOe(e),a=EOe(o),l=Xle(e),u=s==="y",h=i.x+i.width/2-n.width/2,d=i.y+i.height/2-n.height/2,f=i[a]/2-n[a]/2;let p;switch(l){case"top":p={x:h,y:i.y-n.height};break;case"bottom":p={x:h,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-n.width,y:d};break;default:p={x:i.x,y:i.y}}switch(_Oe(e)){case"start":p[o]-=f*(r&&u?-1:1);break;case"end":p[o]+=f*(r&&u?-1:1);break}return p}const COe=async(t,e,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:h,y:d}=Kte(u,i,l),f=i,p={},g=0;for(let y=0;y<a.length;y++){const{name:b,fn:x}=a[y],{x:w,y:S,data:C,reset:k}=await x({x:h,y:d,initialPlacement:i,placement:f,strategy:n,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});h=w??h,d=S??d,p={...p,[b]:{...p[b],...C}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):k.rects),{x:h,y:d}=Kte(u,f,l)),y=-1)}return{x:h,y:d,placement:f,strategy:n,middlewareData:p}};function Cx(){return typeof window<"u"}function Mp(t){return Qle(t)?(t.nodeName||"").toLowerCase():"#document"}function ra(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rl(t){var e;return(e=(Qle(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Qle(t){return Cx()?t instanceof Node||t instanceof ra(t).Node:!1}function el(t){return Cx()?t instanceof Element||t instanceof ra(t).Element:!1}function Ll(t){return Cx()?t instanceof HTMLElement||t instanceof ra(t).HTMLElement:!1}function Jte(t){return!Cx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ra(t).ShadowRoot}function oy(t){const{overflow:e,overflowX:r,overflowY:i,display:n}=tl(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(n)}function kOe(t){return["table","td","th"].includes(Mp(t))}function kx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function EC(t){const e=SC(),r=el(t)?tl(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function AOe(t){let e=Rc(t);for(;Ll(e)&&!np(e);){if(EC(e))return e;if(kx(e))return null;e=Rc(e)}return null}function SC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function np(t){return["html","body","#document"].includes(Mp(t))}function tl(t){return ra(t).getComputedStyle(t)}function Ax(t){return el(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rc(t){if(Mp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jte(t)&&t.host||Rl(t);return Jte(e)?e.host:e}function eue(t){const e=Rc(t);return np(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ll(e)&&oy(e)?e:eue(e)}function v0(t,e,r){var i;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=eue(t),s=n===((i=t.ownerDocument)==null?void 0:i.body),o=ra(n);if(s){const a=cE(o);return e.concat(o,o.visualViewport||[],oy(n)?n:[],a&&r?v0(a):[])}return e.concat(n,v0(n,[],r))}function cE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tue(t){const e=tl(t);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=Ll(t),s=n?t.offsetWidth:r,o=n?t.offsetHeight:i,a=Wv(r)!==s||Wv(i)!==o;return a&&(r=s,i=o),{width:r,height:i,$:a}}function CC(t){return el(t)?t:t.contextElement}function jf(t){const e=CC(t);if(!Ll(e))return Mc(1);const r=e.getBoundingClientRect(),{width:i,height:n,$:s}=tue(e);let o=(s?Wv(r.width):r.width)/i,a=(s?Wv(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const TOe=Mc(0);function rue(t){const e=ra(t);return!SC()||!e.visualViewport?TOe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DOe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ra(t)?!1:e}function oh(t,e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=CC(t);let o=Mc(1);e&&(i?el(i)&&(o=jf(i)):o=jf(t));const a=DOe(s,r,i)?rue(s):Mc(0);let l=(n.left+a.x)/o.x,u=(n.top+a.y)/o.y,h=n.width/o.x,d=n.height/o.y;if(s){const f=ra(s),p=i&&el(i)?ra(i):i;let g=f,y=cE(g);for(;y&&i&&p!==g;){const b=jf(y),x=y.getBoundingClientRect(),w=tl(y),S=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*b.x,C=x.top+(y.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,u*=b.y,h*=b.x,d*=b.y,l+=S,u+=C,g=ra(y),y=cE(g)}}return Jle({width:h,height:d,x:l,y:u})}function LOe(t){let{elements:e,rect:r,offsetParent:i,strategy:n}=t;const s=n==="fixed",o=Rl(i),a=e?kx(e.floating):!1;if(i===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},u=Mc(1);const h=Mc(0),d=Ll(i);if((d||!d&&!s)&&((Mp(i)!=="body"||oy(o))&&(l=Ax(i)),Ll(i))){const f=oh(i);u=jf(i),h.x=f.x+i.clientLeft,h.y=f.y+i.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+h.x,y:r.y*u.y-l.scrollTop*u.y+h.y}}function OOe(t){return Array.from(t.getClientRects())}function dE(t,e){const r=Ax(t).scrollLeft;return e?e.left+r:oh(Rl(t)).left+r}function MOe(t){const e=Rl(t),r=Ax(t),i=t.ownerDocument.body,n=Bf(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Bf(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-r.scrollLeft+dE(t);const a=-r.scrollTop;return tl(i).direction==="rtl"&&(o+=Bf(e.clientWidth,i.clientWidth)-n),{width:n,height:s,x:o,y:a}}function ROe(t,e){const r=ra(t),i=Rl(t),n=r.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const u=SC();(!u||u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}function IOe(t,e){const r=oh(t,!0,e==="fixed"),i=r.top+t.clientTop,n=r.left+t.clientLeft,s=Ll(t)?jf(t):Mc(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=n*s.x,u=i*s.y;return{width:o,height:a,x:l,y:u}}function Qte(t,e,r){let i;if(e==="viewport")i=ROe(t,r);else if(e==="document")i=MOe(Rl(t));else if(el(e))i=IOe(e,r);else{const n=rue(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return Jle(i)}function iue(t,e){const r=Rc(t);return r===e||!el(r)||np(r)?!1:tl(r).position==="fixed"||iue(r,e)}function FOe(t,e){const r=e.get(t);if(r)return r;let i=v0(t,[],!1).filter(a=>el(a)&&Mp(a)!=="body"),n=null;const s=tl(t).position==="fixed";let o=s?Rc(t):t;for(;el(o)&&!np(o);){const a=tl(o),l=EC(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||oy(o)&&!l&&iue(t,o))?i=i.filter(h=>h!==o):n=a,o=Rc(o)}return e.set(t,i),i}function POe(t){let{element:e,boundary:r,rootBoundary:i,strategy:n}=t;const o=[...r==="clippingAncestors"?kx(e)?[]:FOe(e,this._c):[].concat(r),i],a=o[0],l=o.reduce((u,h)=>{const d=Qte(e,h,n);return u.top=Bf(d.top,u.top),u.right=uE(d.right,u.right),u.bottom=uE(d.bottom,u.bottom),u.left=Bf(d.left,u.left),u},Qte(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function NOe(t){const{width:e,height:r}=tue(t);return{width:e,height:r}}function $Oe(t,e,r){const i=Ll(e),n=Rl(e),s=r==="fixed",o=oh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Mc(0);if(i||!i&&!s)if((Mp(e)!=="body"||oy(n))&&(a=Ax(e)),i){const p=oh(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else n&&(l.x=dE(n));let u=0,h=0;if(n&&!i&&!s){const p=n.getBoundingClientRect();h=p.top+a.scrollTop,u=p.left+a.scrollLeft-dE(n,p)}const d=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-h;return{x:d,y:f,width:o.width,height:o.height}}function I_(t){return tl(t).position==="static"}function ere(t,e){if(!Ll(t)||tl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Rl(t)===r&&(r=r.ownerDocument.body),r}function nue(t,e){const r=ra(t);if(kx(t))return r;if(!Ll(t)){let n=Rc(t);for(;n&&!np(n);){if(el(n)&&!I_(n))return n;n=Rc(n)}return r}let i=ere(t,e);for(;i&&kOe(i)&&I_(i);)i=ere(i,e);return i&&np(i)&&I_(i)&&!EC(i)?r:i||AOe(t)||r}const BOe=async function(t){const e=this.getOffsetParent||nue,r=this.getDimensions,i=await r(t.floating);return{reference:$Oe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function jOe(t){return tl(t).direction==="rtl"}const zOe={convertOffsetParentRelativeRectToViewportRelativeRect:LOe,getDocumentElement:Rl,getClippingRect:POe,getOffsetParent:nue,getElementRects:BOe,getClientRects:OOe,getDimensions:NOe,getScale:jf,isElement:el,isRTL:jOe};function UOe(t,e){let r=null,i;const n=Rl(t);function s(){var a;clearTimeout(i),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:h,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const p=Ab(h),g=Ab(n.clientWidth-(u+d)),y=Ab(n.clientHeight-(h+f)),b=Ab(u),w={rootMargin:-p+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Bf(0,uE(1,l))||1};let S=!0;function C(k){const O=k[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):i=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(C,{...w,root:n.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(t)}return o(!0),s}function qOe(t,e,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=CC(t),h=n||s?[...u?v0(u):[],...v0(e)]:[];h.forEach(x=>{n&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=u&&a?UOe(u,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let g,y=l?oh(t):null;l&&b();function b(){const x=oh(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&r(),y=x,g=requestAnimationFrame(b)}return r(),()=>{var x;h.forEach(w=>{n&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const HOe=(t,e,r)=>{const i=new Map,n={platform:zOe,...r},s={...n.platform,_c:i};return COe(t,e,{...n,platform:s})};function VOe(t){const e=t.renderRoot.querySelector(".inline-container-wrapper"),r=t.renderRoot.querySelector("[popover]");return qOe(e,r,()=>{r.matches(":popover-open")&&HOe(e,r,{strategy:"fixed"}).then(({x:n,y:s})=>{Object.assign(r.style,{left:`${n}px`,top:`${s}px`,width:`${e.getBoundingClientRect().width}px`})})},{animationFrame:!0})}function sue(t){t.renderRoot.querySelector("#eox-itemfilter-input-search").value="",Zle({target:{value:""}},t)}function GOe(t,e){e.inlineMode&&t.stopPropagation()}function WOe(t){t.inlineMode&&(t.showDropdown=!0)}function YOe(t,e){e.inlineMode&&(t.stopPropagation(),e.showDropdown=!0)}function ZOe(t,e){e.inlineMode&&t.key==="Escape"&&e.showDropdown&&(sue(e),e.showDropdown=!1)}function XOe(t,e){e.inlineMode&&t.target.tagName!=="DROPDOWN-FORM"&&t.target.tagName!=="EOX-ITEMFILTER"&&e.showDropdown&&(sue(e),e.showDropdown=!1)}function KOe(t,e){var r=0,i=0,n=0,s=0,o=0,a=0,l=0,u=0,h=null,d=null,f=t[0],p=t[1],g=e.length;for(r;r<g;r++){i=0;var y=e[r].length-1,b=e[r];if(h=b[0],h[0]!==b[y][0]&&h[1]!==b[y][1])throw new Error("First and last coordinates in a ring must be the same");for(o=h[0]-f,a=h[1]-p,i;i<y;i++){if(d=b[i+1],u=d[1]-p,a<0&&u<0||a>0&&u>0){h=d,a=u,o=h[0]-f;continue}if(l=d[0]-t[0],u>0&&a<=0){if(s=o*u-l*a,s>0)n=n+1;else if(s===0)return 0}else if(a>0&&u<=0){if(s=o*u-l*a,s<0)n=n+1;else if(s===0)return 0}else if(u===0&&a<0){if(s=o*u-l*a,s===0)return 0}else if(a===0&&u<0){if(s=o*u-l*a,s===0)return 0}else if(a===0&&u===0){if(l<=0&&o>=0)return 0;if(o<=0&&l>=0)return 0}h=d,a=u,o=l}}return n%2!==0}function ah(t,e,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=e||{},i.geometry=t,i}function JOe(t,e,r={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!tre(t[0])||!tre(t[1]))throw new Error("coordinates must contain numbers");return ah({type:"Point",coordinates:t},e,r)}function QOe(t,e,r={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return ah({type:"LineString",coordinates:t},e,r)}function hE(t,e={}){const r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function eMe(t,e,r={}){return ah({type:"MultiLineString",coordinates:t},e,r)}function tre(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function oue(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function tMe(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function sp(t){return t.type==="Feature"?t.geometry:t}function wa(t,e,r={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const i=oue(t),n=sp(e),s=n.type,o=e.bbox;let a=n.coordinates;if(o&&rMe(i,o)===!1)return!1;s==="Polygon"&&(a=[a]);let l=!1;for(var u=0;u<a.length;++u){const h=KOe(i,a[u]);if(h===0)return!r.ignoreBoundary;h&&(l=!0)}return l}function rMe(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}class aue{constructor(e=[],r=iMe){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:i}=this,n=r[e];for(;e>0;){const s=e-1>>1,o=r[s];if(i(n,o)>=0)break;r[e]=o,e=s}r[e]=n}_down(e){const{data:r,compare:i}=this,n=this.length>>1,s=r[e];for(;e<n;){let o=(e<<1)+1,a=r[o];const l=o+1;if(l<this.length&&i(r[l],a)<0&&(o=l,a=r[l]),i(a,s)>=0)break;r[e]=a,e=o}r[e]=s}}function iMe(t,e){return t<e?-1:t>e?1:0}function lue(t,e){return t.p.x>e.p.x?1:t.p.x<e.p.x?-1:t.p.y!==e.p.y?t.p.y>e.p.y?1:-1:1}function nMe(t,e){return t.rightSweepEvent.p.x>e.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<e.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==e.rightSweepEvent.p.y?t.rightSweepEvent.p.y<e.rightSweepEvent.p.y?1:-1:1}let rre=class{constructor(e,r,i,n){this.p={x:e[0],y:e[1]},this.featureId=r,this.ringId=i,this.eventId=n,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}};function sMe(t,e){if(t.type==="FeatureCollection"){const r=t.features;for(let i=0;i<r.length;i++)ire(r[i],e)}else ire(t,e)}let Tb=0,Db=0,Lb=0;function ire(t,e){const r=t.type==="Feature"?t.geometry:t;let i=r.coordinates;(r.type==="Polygon"||r.type==="MultiLineString")&&(i=[i]),r.type==="LineString"&&(i=[[i]]);for(let n=0;n<i.length;n++)for(let s=0;s<i[n].length;s++){let o=i[n][s][0],a=null;Db=Db+1;for(let l=0;l<i[n][s].length-1;l++){a=i[n][s][l+1];const u=new rre(o,Tb,Db,Lb),h=new rre(a,Tb,Db,Lb+1);u.otherEvent=h,h.otherEvent=u,lue(u,h)>0?(h.isLeftEndpoint=!0,u.isLeftEndpoint=!1):(u.isLeftEndpoint=!0,h.isLeftEndpoint=!1),e.push(u),e.push(h),o=a,Lb=Lb+1}}Tb=Tb+1}class oMe{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function aMe(t,e){if(t===null||e===null||t.leftSweepEvent.ringId===e.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.rightSweepEvent)||t.leftSweepEvent.isSamePoint(e.leftSweepEvent)||t.leftSweepEvent.isSamePoint(e.rightSweepEvent)))return!1;const r=t.leftSweepEvent.p.x,i=t.leftSweepEvent.p.y,n=t.rightSweepEvent.p.x,s=t.rightSweepEvent.p.y,o=e.leftSweepEvent.p.x,a=e.leftSweepEvent.p.y,l=e.rightSweepEvent.p.x,u=e.rightSweepEvent.p.y,h=(u-a)*(n-r)-(l-o)*(s-i),d=(l-o)*(i-a)-(u-a)*(r-o),f=(n-r)*(i-a)-(s-i)*(r-o);if(h===0)return!1;const p=d/h,g=f/h;if(p>=0&&p<=1&&g>=0&&g<=1){const y=r+p*(n-r),b=i+p*(s-i);return[y,b]}return!1}function lMe(t,e){e=e||!1;const r=[],i=new aue([],nMe);for(;t.length;){const n=t.pop();if(n.isLeftEndpoint){const s=new oMe(n);for(let o=0;o<i.data.length;o++){const a=i.data[o];if(e&&a.leftSweepEvent.featureId===n.featureId)continue;const l=aMe(s,a);l!==!1&&r.push(l)}i.push(s)}else n.isLeftEndpoint===!1&&i.pop()}return r}function uMe(t,e){const r=new aue([],lue);return sMe(t,r),lMe(r,e)}var cMe=uMe;function kC(t,e,r={}){const{removeDuplicates:i=!0,ignoreSelfIntersections:n=!1}=r;let s=[];t.type==="FeatureCollection"?s=s.concat(t.features):t.type==="Feature"?s.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&s.push(ah(t)),e.type==="FeatureCollection"?s=s.concat(e.features):e.type==="Feature"?s.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&s.push(ah(e));const o=cMe(hE(s),n);let a=[];if(i){const l={};o.forEach(u=>{const h=u.join(",");l[h]||(l[h]=!0,a.push(u))})}else a=o;return hE(a.map(l=>JOe(l)))}function uue(t,e,r){if(t!==null)for(var i,n,s,o,a,l,u,h=0,d=0,f,p=t.type,g=p==="FeatureCollection",y=p==="Feature",b=g?t.features.length:1,x=0;x<b;x++){u=g?t.features[x].geometry:y?t.geometry:t,f=u?u.type==="GeometryCollection":!1,a=f?u.geometries.length:1;for(var w=0;w<a;w++){var S=0,C=0;if(o=f?u.geometries[w]:u,o!==null){l=o.coordinates;var k=o.type;switch(h=0,k){case null:break;case"Point":if(e(l,d,x,S,C)===!1)return!1;d++,S++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(e(l[i],d,x,S,C)===!1)return!1;d++,k==="MultiPoint"&&S++}k==="LineString"&&S++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(n=0;n<l[i].length-h;n++){if(e(l[i][n],d,x,S,C)===!1)return!1;d++}k==="MultiLineString"&&S++,k==="Polygon"&&C++}k==="Polygon"&&S++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(C=0,n=0;n<l[i].length;n++){for(s=0;s<l[i][n].length-h;s++){if(e(l[i][n][s],d,x,S,C)===!1)return!1;d++}C++}S++}break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(uue(o.geometries[i],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function dMe(t,e){var r,i,n,s,o,a,l,u,h,d,f=0,p=t.type==="FeatureCollection",g=t.type==="Feature",y=p?t.features.length:1;for(r=0;r<y;r++){for(a=p?t.features[r].geometry:g?t.geometry:t,u=p?t.features[r].properties:g?t.properties:{},h=p?t.features[r].bbox:g?t.bbox:void 0,d=p?t.features[r].id:g?t.id:void 0,l=a?a.type==="GeometryCollection":!1,o=l?a.geometries.length:1,n=0;n<o;n++){if(s=l?a.geometries[n]:a,s===null){if(e(null,f,u,h,d)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,f,u,h,d)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<s.geometries.length;i++)if(e(s.geometries[i],f,u,h,d)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}f++}}function Yv(t,e){dMe(t,function(r,i,n,s,o){var a=r===null?null:r.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return e(ah(r,n,{bbox:s,id:o}),i,0)===!1?!1:void 0}var l;switch(a){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var u=0;u<r.coordinates.length;u++){var h=r.coordinates[u],d={type:l,coordinates:h};if(e(ah(d,n),i,u)===!1)return!1}})}function fE(t,e={}){const r=sp(t);switch(!e.properties&&t.type==="Feature"&&(e.properties=t.properties),r.type){case"Polygon":return hMe(r,e);case"MultiPolygon":return fMe(r,e);default:throw new Error("invalid poly")}}function hMe(t,e={}){const i=sp(t).coordinates,n=e.properties?e.properties:t.type==="Feature"?t.properties:{};return cue(i,n)}function fMe(t,e={}){const i=sp(t).coordinates,n=e.properties?e.properties:t.type==="Feature"?t.properties:{},s=[];return i.forEach(o=>{s.push(cue(o,n))}),hE(s)}function cue(t,e){return t.length>1?eMe(t,e):QOe(t[0],e)}function pMe(t,e,r={}){var i;const n=(i=r.ignoreSelfIntersections)!=null?i:!1;let s=!0;return Yv(t,o=>{Yv(e,a=>{if(s===!1)return!1;s=mMe(o.geometry,a.geometry,n)})}),s}function mMe(t,e,r){switch(t.type){case"Point":switch(e.type){case"Point":return!vMe(t.coordinates,e.coordinates);case"LineString":return!nre(e,t);case"Polygon":return!wa(t,e)}break;case"LineString":switch(e.type){case"Point":return!nre(t,e);case"LineString":return!gMe(t,e,r);case"Polygon":return!sre(e,t,r)}break;case"Polygon":switch(e.type){case"Point":return!wa(e,t);case"LineString":return!sre(t,e,r);case"Polygon":return!yMe(e,t,r)}}return!1}function nre(t,e){for(let r=0;r<t.coordinates.length-1;r++)if(bMe(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}function gMe(t,e,r){return kC(t,e,{ignoreSelfIntersections:r}).features.length>0}function sre(t,e,r){for(const n of e.coordinates)if(wa(n,t))return!0;return kC(e,fE(t),{ignoreSelfIntersections:r}).features.length>0}function yMe(t,e,r){for(const n of t.coordinates[0])if(wa(n,e))return!0;for(const n of e.coordinates[0])if(wa(n,t))return!0;return kC(fE(t),fE(e),{ignoreSelfIntersections:r}).features.length>0}function bMe(t,e,r){const i=r[0]-t[0],n=r[1]-t[1],s=e[0]-t[0],o=e[1]-t[1];return i*o-n*s!==0?!1:Math.abs(s)>=Math.abs(o)?s>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:o>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1]}function vMe(t,e){return t[0]===e[0]&&t[1]===e[1]}function xMe(t,e,r={}){var i;const n=(i=r.ignoreSelfIntersections)!=null?i:!1;let s=!1;return Yv(t,o=>{Yv(e,a=>{if(s===!0)return!0;s=!pMe(o.geometry,a.geometry,{ignoreSelfIntersections:n})})}),s}var _Me=xMe;function Zv(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const r=[1/0,1/0,-1/0,-1/0];return uue(t,i=>{r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}function Xv(t,e,r={}){const i=oue(t),n=tMe(e);for(let s=0;s<n.length-1;s++){let o=!1;if(r.ignoreEndVertices&&(s===0&&(o="start"),s===n.length-2&&(o="end"),s===0&&s+1===n.length-1&&(o="both")),wMe(n[s],n[s+1],i,o,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}function wMe(t,e,r,i,n){const s=r[0],o=r[1],a=t[0],l=t[1],u=e[0],h=e[1],d=r[0]-a,f=r[1]-l,p=u-a,g=h-l,y=d*g-f*p;if(n!==null){if(Math.abs(y)>n)return!1}else if(y!==0)return!1;if(i){if(i==="start")return Math.abs(p)>=Math.abs(g)?p>0?a<s&&s<=u:u<=s&&s<a:g>0?l<o&&o<=h:h<=o&&o<l;if(i==="end")return Math.abs(p)>=Math.abs(g)?p>0?a<=s&&s<u:u<s&&s<=a:g>0?l<=o&&o<h:h<o&&o<=l;if(i==="both")return Math.abs(p)>=Math.abs(g)?p>0?a<s&&s<u:u<s&&s<a:g>0?l<o&&o<h:h<o&&o<l}else return Math.abs(p)>=Math.abs(g)?p>0?a<=s&&s<=u:u<=s&&s<=a:g>0?l<=o&&o<=h:h<=o&&o<=l;return!1}function EMe(t,e){var r=sp(t),i=sp(e),n=r.type,s=i.type;switch(n){case"Point":switch(s){case"MultiPoint":return SMe(r,i);case"LineString":return Xv(r,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return wa(r,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+s+" geometry not supported")}case"MultiPoint":switch(s){case"MultiPoint":return CMe(r,i);case"LineString":return kMe(r,i);case"Polygon":case"MultiPolygon":return AMe(r,i);default:throw new Error("feature2 "+s+" geometry not supported")}case"LineString":switch(s){case"LineString":return TMe(r,i);case"Polygon":case"MultiPolygon":return DMe(r,i);default:throw new Error("feature2 "+s+" geometry not supported")}case"Polygon":switch(s){case"Polygon":case"MultiPolygon":return LMe(r,i);default:throw new Error("feature2 "+s+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function SMe(t,e){var r,i=!1;for(r=0;r<e.coordinates.length;r++)if(hue(e.coordinates[r],t.coordinates)){i=!0;break}return i}function CMe(t,e){for(var r=0;r<t.coordinates.length;r++){for(var i=!1,n=0;n<e.coordinates.length;n++)hue(t.coordinates[r],e.coordinates[n])&&(i=!0);if(!i)return!1}return!0}function kMe(t,e){for(var r=!1,i=0;i<t.coordinates.length;i++){if(!Xv(t.coordinates[i],e))return!1;r||(r=Xv(t.coordinates[i],e,{ignoreEndVertices:!0}))}return r}function AMe(t,e){for(var r=!0,i=!1,n=0;n<t.coordinates.length;n++){if(i=wa(t.coordinates[n],e),!i){r=!1;break}i=wa(t.coordinates[n],e,{ignoreBoundary:!0})}return r&&i}function TMe(t,e){for(var r=0;r<t.coordinates.length;r++)if(!Xv(t.coordinates[r],e))return!1;return!0}function DMe(t,e){var r=Zv(e),i=Zv(t);if(!due(r,i))return!1;for(var n=!1,s=0;s<t.coordinates.length;s++){if(!wa(t.coordinates[s],e))return!1;if(n||(n=wa(t.coordinates[s],e,{ignoreBoundary:!0})),!n&&s<t.coordinates.length-1){var o=OMe(t.coordinates[s],t.coordinates[s+1]);n=wa(o,e,{ignoreBoundary:!0})}}return n}function LMe(t,e){var r=Zv(t),i=Zv(e);if(!due(i,r))return!1;for(var n=0;n<t.coordinates[0].length;n++)if(!wa(t.coordinates[0][n],e))return!1;return!0}function due(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function hue(t,e){return t[0]===e[0]&&t[1]===e[1]}function OMe(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}var MMe=EMe;const RMe=(t,e)=>e?_Me(t,e):!0,IMe=(t,e)=>e?MMe(t,e):!0;function FMe(t,e="highlight",r="title"){const i=(s,o,a)=>{const l=o.split(".");let u;for(u=0;u<l.length-1;u++)s=s[l[u]];s[l[u]]=a},n=(s,o=[])=>{let a="",l=0;return o.forEach(u=>{const h=u[1]+1;a+=[s.substring(l,u[0]),`<mark class="${e}">`,s.substring(u[0],h),"</mark>"].join(""),l=h}),a+=s.substring(l),a};return t.filter(({matches:s})=>s&&s.length).map(({item:s,matches:o})=>{const a={...s};return o.forEach(l=>{l.key===r&&i(a,l.key,n(l.value,l.indices))}),a})}var fue={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(oi,function(){var r=1e3,i=6e4,n=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",h="week",d="month",f="quarter",p="year",g="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var U=["th","st","nd","rd"],Y=F%100;return"["+F+(U[(Y-20)%10]||U[Y]||U[0])+"]"}},S=function(F,U,Y){var G=String(F);return!G||G.length>=U?F:""+Array(U+1-G.length).join(Y)+F},C={s:S,z:function(F){var U=-F.utcOffset(),Y=Math.abs(U),G=Math.floor(Y/60),Q=Y%60;return(U<=0?"+":"-")+S(G,2,"0")+":"+S(Q,2,"0")},m:function F(U,Y){if(U.date()<Y.date())return-F(Y,U);var G=12*(Y.year()-U.year())+(Y.month()-U.month()),Q=U.clone().add(G,d),J=Y-Q<0,re=U.clone().add(G+(J?-1:1),d);return+(-(G+(Y-Q)/(J?Q-re:re-Q))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:p,w:h,d:u,D:g,h:l,m:a,s:o,ms:s,Q:f}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},k="en",O={};O[k]=w;var M="$isDayjsObject",A=function(F){return F instanceof oe||!(!F||!F[M])},I=function F(U,Y,G){var Q;if(!U)return k;if(typeof U=="string"){var J=U.toLowerCase();O[J]&&(Q=J),Y&&(O[J]=Y,Q=J);var re=U.split("-");if(!Q&&re.length>1)return F(re[0])}else{var pe=U.name;O[pe]=U,Q=pe}return!G&&Q&&(k=Q),Q||!G&&k},R=function(F,U){if(A(F))return F.clone();var Y=typeof U=="object"?U:{};return Y.date=F,Y.args=arguments,new oe(Y)},V=C;V.l=I,V.i=A,V.w=function(F,U){return R(F,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var oe=function(){function F(Y){this.$L=I(Y.locale,null,!0),this.parse(Y),this.$x=this.$x||Y.x||{},this[M]=!0}var U=F.prototype;return U.parse=function(Y){this.$d=function(G){var Q=G.date,J=G.utc;if(Q===null)return new Date(NaN);if(V.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var re=Q.match(b);if(re){var pe=re[2]-1||0,ee=(re[7]||"0").substring(0,3);return J?new Date(Date.UTC(re[1],pe,re[3]||1,re[4]||0,re[5]||0,re[6]||0,ee)):new Date(re[1],pe,re[3]||1,re[4]||0,re[5]||0,re[6]||0,ee)}}return new Date(Q)}(Y),this.init()},U.init=function(){var Y=this.$d;this.$y=Y.getFullYear(),this.$M=Y.getMonth(),this.$D=Y.getDate(),this.$W=Y.getDay(),this.$H=Y.getHours(),this.$m=Y.getMinutes(),this.$s=Y.getSeconds(),this.$ms=Y.getMilliseconds()},U.$utils=function(){return V},U.isValid=function(){return this.$d.toString()!==y},U.isSame=function(Y,G){var Q=R(Y);return this.startOf(G)<=Q&&Q<=this.endOf(G)},U.isAfter=function(Y,G){return R(Y)<this.startOf(G)},U.isBefore=function(Y,G){return this.endOf(G)<R(Y)},U.$g=function(Y,G,Q){return V.u(Y)?this[G]:this.set(Q,Y)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(Y,G){var Q=this,J=!!V.u(G)||G,re=V.p(Y),pe=function(Ne,Xe){var nt=V.w(Q.$u?Date.UTC(Q.$y,Xe,Ne):new Date(Q.$y,Xe,Ne),Q);return J?nt:nt.endOf(u)},ee=function(Ne,Xe){return V.w(Q.toDate()[Ne].apply(Q.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(Xe)),Q)},B=this.$W,ge=this.$M,ve=this.$D,ze="set"+(this.$u?"UTC":"");switch(re){case p:return J?pe(1,0):pe(31,11);case d:return J?pe(1,ge):pe(0,ge+1);case h:var it=this.$locale().weekStart||0,tt=(B<it?B+7:B)-it;return pe(J?ve-tt:ve+(6-tt),ge);case u:case g:return ee(ze+"Hours",0);case l:return ee(ze+"Minutes",1);case a:return ee(ze+"Seconds",2);case o:return ee(ze+"Milliseconds",3);default:return this.clone()}},U.endOf=function(Y){return this.startOf(Y,!1)},U.$set=function(Y,G){var Q,J=V.p(Y),re="set"+(this.$u?"UTC":""),pe=(Q={},Q[u]=re+"Date",Q[g]=re+"Date",Q[d]=re+"Month",Q[p]=re+"FullYear",Q[l]=re+"Hours",Q[a]=re+"Minutes",Q[o]=re+"Seconds",Q[s]=re+"Milliseconds",Q)[J],ee=J===u?this.$D+(G-this.$W):G;if(J===d||J===p){var B=this.clone().set(g,1);B.$d[pe](ee),B.init(),this.$d=B.set(g,Math.min(this.$D,B.daysInMonth())).$d}else pe&&this.$d[pe](ee);return this.init(),this},U.set=function(Y,G){return this.clone().$set(Y,G)},U.get=function(Y){return this[V.p(Y)]()},U.add=function(Y,G){var Q,J=this;Y=Number(Y);var re=V.p(G),pe=function(ge){var ve=R(J);return V.w(ve.date(ve.date()+Math.round(ge*Y)),J)};if(re===d)return this.set(d,this.$M+Y);if(re===p)return this.set(p,this.$y+Y);if(re===u)return pe(1);if(re===h)return pe(7);var ee=(Q={},Q[a]=i,Q[l]=n,Q[o]=r,Q)[re]||1,B=this.$d.getTime()+Y*ee;return V.w(B,this)},U.subtract=function(Y,G){return this.add(-1*Y,G)},U.format=function(Y){var G=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||y;var J=Y||"YYYY-MM-DDTHH:mm:ssZ",re=V.z(this),pe=this.$H,ee=this.$m,B=this.$M,ge=Q.weekdays,ve=Q.months,ze=Q.meridiem,it=function(Xe,nt,vt,Dt){return Xe&&(Xe[nt]||Xe(G,J))||vt[nt].slice(0,Dt)},tt=function(Xe){return V.s(pe%12||12,Xe,"0")},Ne=ze||function(Xe,nt,vt){var Dt=Xe<12?"AM":"PM";return vt?Dt.toLowerCase():Dt};return J.replace(x,function(Xe,nt){return nt||function(vt){switch(vt){case"YY":return String(G.$y).slice(-2);case"YYYY":return V.s(G.$y,4,"0");case"M":return B+1;case"MM":return V.s(B+1,2,"0");case"MMM":return it(Q.monthsShort,B,ve,3);case"MMMM":return it(ve,B);case"D":return G.$D;case"DD":return V.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return it(Q.weekdaysMin,G.$W,ge,2);case"ddd":return it(Q.weekdaysShort,G.$W,ge,3);case"dddd":return ge[G.$W];case"H":return String(pe);case"HH":return V.s(pe,2,"0");case"h":return tt(1);case"hh":return tt(2);case"a":return Ne(pe,ee,!0);case"A":return Ne(pe,ee,!1);case"m":return String(ee);case"mm":return V.s(ee,2,"0");case"s":return String(G.$s);case"ss":return V.s(G.$s,2,"0");case"SSS":return V.s(G.$ms,3,"0");case"Z":return re}return null}(Xe)||re.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(Y,G,Q){var J,re=this,pe=V.p(G),ee=R(Y),B=(ee.utcOffset()-this.utcOffset())*i,ge=this-ee,ve=function(){return V.m(re,ee)};switch(pe){case p:J=ve()/12;break;case d:J=ve();break;case f:J=ve()/3;break;case h:J=(ge-B)/6048e5;break;case u:J=(ge-B)/864e5;break;case l:J=ge/n;break;case a:J=ge/i;break;case o:J=ge/r;break;default:J=ge}return Q?J:V.a(J)},U.daysInMonth=function(){return this.endOf(d).$D},U.$locale=function(){return O[this.$L]},U.locale=function(Y,G){if(!Y)return this.$L;var Q=this.clone(),J=I(Y,G,!0);return J&&(Q.$L=J),Q},U.clone=function(){return V.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},F}(),L=oe.prototype;return R.prototype=L,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",p],["$D",g]].forEach(function(F){L[F[1]]=function(U){return this.$g(U,F[0],F[1])}}),R.extend=function(F,U){return F.$i||(F(U,oe,R),F.$i=!0),R},R.locale=I,R.isDayjs=A,R.unix=function(F){return R(1e3*F)},R.en=O[k],R.Ls=O,R.p={},R})})(fue);var PMe=fue.exports;const Cl=Ps(PMe);let pue;const NMe=(t,e)=>{pue=new zc(t,{threshold:.4,distance:50,includeMatches:!0,useExtendedSearch:!0,...e})},$Me=async(t,e,r)=>{const i=Object.entries(e).filter(([,a])=>a.type==="text"||a.type==="select"||a.type==="multiselect").reduce((a,[l,u])=>{const h="$or",d=[],f=(p,g)=>{const y={};u.type==="text"?y[p]=`${g}`:y[l]=`="${p}"`,d.push(y)};return Object.entries(u.state).filter(([,p])=>p).forEach(([p,g])=>f(p,g)),d.length>0&&a.push({[h]:d}),a},[]);let n;if(!(i.length>0)&&r.matchAllWhenEmpty!==!1)n=t;else{const a={$and:[...i]},l=pue.search(a);n=r.enableHighlighting?FMe(l,"highlight",r.titleProperty):l.map(u=>u.item)}const s=Object.entries(e).filter(([,a])=>a.type==="range").reduce((a,[l,u])=>(a[l]={min:u.state.min,max:u.state.max,format:u.format},a),{});if(Object.keys(s).length>0){const a=[];for(let l=0;l<n.length;l++){const u={};for(const[h,d]of Object.entries(s)){const f=g=>d.format==="date"?Cl(g).unix():g,p=mE(h,n[l]);p?Array.isArray(p)?u[h]=s[h].min<=f(p[1])&&f(p[0])<=s[h].max:f(p)>=s[h].min&&f(p)<=s[h].max?u[h]=!0:u[h]=!1:u[h]=!0}Object.values(u).every(h=>!!h)&&a.push(n[l])}n=[...a]}const o=Object.entries(e).filter(([,a])=>a.type==="spatial").reduce((a,[l,u])=>(a[l]={geometry:u.state.geometry,mode:u.state.mode},a),{});if(Object.values(o).map(a=>a.geometry).filter(a=>!!a).length>0){const a=[];for(let l=0;l<n.length;l++){const u={};for(const h of Object.keys(o)){const d=mE(h,n[l]),f=o[h].mode||"within";d&&(f==="within"?IMe(d,o[h].geometry):RMe(d,o[h].geometry))?u[h]=!0:u[h]=!1}Object.values(u).every(h=>!!h)&&a.push(n[l])}n=[...a]}return n};function BMe(t,e){return[{type:"Vector",properties:{id:"draw"},source:{type:"Vector",...t&&{format:"GeoJSON"},...t&&{url:e}},zIndex:1,interactions:[{type:"draw",options:{id:"drawInteraction",type:"Box",modify:!0}}]},{type:"Tile",source:{type:"XYZ",url:"https://tiles.maps.eox.at/wmts/1.0.0/osm_3857/default/g/{z}/{y}/{x}.jpg",attribution:"{ OSM: Data &copy; OpenStreetMap contributors and others, Rendering &copy; EOX }"}}]}function Tx(t){if(!t.dirty)return null;switch(t.type){case"multiselect":for(const r in t.state)t.state.hasOwnProperty(r)&&(t.state[r]=!1);break;case"range":t.state.min=t.min,t.state.max=t.max;break;case"select":for(const r in t.state)t.state.hasOwnProperty(r)&&(t.state[r]=!1);break;case"spatial":t.state.geometry=void 0;break;case"text":t.keys.forEach(r=>{t.state[r]=void 0});break}return delete t.stringifiedState,delete t.dirty,t}function ore(t,e){return t*2+e}function jMe(t){return Object.keys(t).map(e=>({title:et`${t[e].title}:
        <strong>${t[e].stringifiedState}</strong>`,key:e})).filter(e=>t[e.key].dirty)}function pE(t){return Object.values(t).map(e=>e.dirty).filter(e=>e).length>0}async function zMe(t,e,r){return await(await fetch(`${r.externalFilter(t,e)}`)).json()}function mue(t,e,r){let i;if(t.detail?i=t.detail.target:i=t.target,i!=null&&i.classList.contains("details-filter")){if(!i.open||e!=null&&e.expandMultipleFilters)return;r.shadowRoot.querySelectorAll("eox-itemfilter-expandcontainer").forEach(n=>{const s=n.shadowRoot.querySelector(".details-filter");s&&s!==i&&s.removeAttribute("open")})}else{if(!(i!=null&&i.open)||e!=null&&e.expandMultipleResults)return;r.querySelectorAll("details").forEach(n=>{n!==i&&n.removeAttribute("open")})}}function mE(t,e){return t!=null&&t.includes(".")?t.split(".").reduce((r,i)=>r&&r[i],e):e[t]}var sn,gue,gE,yE,yue,bE,vE,bue,xE,vue,xue;class UMe extends Wi{constructor(){super();nr(this,sn);this.filterProperties={},this.unstyled=!1,this.inlineMode=!1,this.filters={},this._handleClickOutside=tr(this,sn,yue).bind(this),this._handleKeyDown=tr(this,sn,bE).bind(this)}static get properties(){return{filterProperties:{attribute:!1,type:Object},inlineMode:{attribute:"inline-mode",type:Boolean},unstyled:{type:Boolean},filters:{state:!0,type:Object}}}set showDropdown(r){this.renderRoot.querySelector("[popover]").togglePopover(r)}get showDropdown(){var r;return(r=this.renderRoot.querySelector("[popover]"))==null?void 0:r.matches(":popover-open")}connectedCallback(){super.connectedCallback(),this.inlineMode&&tr(this,sn,gE).call(this)}disconnectedCallback(){this.inlineMode&&tr(this,sn,yE).call(this),super.disconnectedCallback()}_overlayCleanup(){}updateInline(){this.inlineMode&&this.requestUpdate()}updated(r){r.has("inlineMode")&&(this.inlineMode?tr(this,sn,gE).call(this):tr(this,sn,yE).call(this))}render(){return et`
      <style>
        ${!this.unstyled&&sy}
      </style>
      ${this.inlineMode?et`
            <div
              class="inline-container-wrapper"
              @click="${tr(this,sn,vE)}"
            >
              <div class="inline-container" part="container">
                <div class="chip-container">
                  <div class="chip-wrapper">
                    <eox-itemfilter-chips
                      .items=${jMe(this.filters)}
                      .controller=${{remove:r=>tr(this,sn,vue).call(this,r)}}
                    >
                    </eox-itemfilter-chips>
                  </div>

                  ${Ar(pE(this.filters),()=>et`
                      <span
                        class="chip-close"
                        @click=${()=>this.dispatchEvent(new CustomEvent("reset"))}
                      ></span>
                    `)}
                </div>
                <div
                  class="input-container ${pE(this.filters)?"dirty-filter-input":""}"
                >
                  <input
                    autocomplete="off"
                    id="eox-itemfilter-input-search"
                    type="text"
                    @click="${tr(this,sn,vE)}"
                    @focus="${tr(this,sn,bue)}"
                    @input="${tr(this,sn,xue)}"
                    placeholder="Search and add filter"
                    aria-haspopup="true"
                    aria-expanded="${this.showDropdown}"
                  />
                </div>
              </div>
              <div popover="manual">
                <div
                  class="inline-content"
                  slot="content"
                  @keydown="${tr(this,sn,bE)}"
                  @click="${tr(this,sn,xE)}"
                  @focus="${tr(this,sn,xE)}"
                >
                  <slot name="section"></slot>
                </div>
              </div>
            </div>
          `:et`<slot name="section"></slot>`}
    `}}sn=new WeakSet,gue=function(){setTimeout(()=>this._overlayCleanup=VOe(this))},gE=function(){document.addEventListener("click",this._handleClickOutside),document.addEventListener("focusout",this._handleClickOutside),document.addEventListener("keydown",this._handleKeyDown),tr(this,sn,gue).call(this)},yE=function(){document.removeEventListener("click",this._handleClickOutside),document.removeEventListener("focusout",this._handleClickOutside),document.removeEventListener("keydown",this._handleKeyDown),this._overlayCleanup()},yue=function(r){XOe(r,this)},bE=function(r){ZOe(r,this)},vE=function(r){YOe(r,this)},bue=function(){WOe(this)},xE=function(r){GOe(r,this)},vue=function(r){xOe(r,this)},xue=function(r){Zle(r,this)};customElements.define("eox-itemfilter-container",UMe);function qMe(t){const e=t.renderRoot.querySelector("input[type='text']");e.value="",Tx(t.filterObject),t.requestUpdate()}function HMe(t){const e=t.renderRoot.querySelector("input[type='text']");t.isValid=e.checkValidity(),t.filterObject.keys.forEach(r=>{t.filterObject.state[r]=e.value}),t.filterObject.dirty=!0,t.filterObject.stringifiedState=e.value,t.dispatchEvent(new CustomEvent("filter")),e.value===""&&t.reset()}function VMe(t){if(t.filterObject=Tx(t.filterObject),t.filterObject){const e=t.querySelector("tc-range-slider"),r=t.filterObject.min,i=t.filterObject.max;e.value1!==r&&(e.value1=r),e.value2!==i&&(e.value2=i)}t.requestUpdate()}function GMe(t,e){const[r,i]=t.detail.values;(r!==e.filterObject.state.min||i!==e.filterObject.state.max)&&([e.filterObject.state.min,e.filterObject.state.max]=[r,i],e.filterObject.dirty=!0),e.filterObject.dirty&&(e.filterObject.stringifiedState=e.filterObject.format==="date"?`${Cl(r)} - ${Cl(i)}`:`${r} - ${i}`),e.dispatchEvent(new CustomEvent("filter")),r===e.filterObject.min&&i===e.filterObject.max?e.reset():e.requestUpdate()}function WMe(t,e,r){const i=r.filterObject.format==="date",n=r.filterObject.state[t],s=i?Cl.unix(n):n;return et`<div class="range-${e}">${s}</div>`}function YMe(t){ZMe(-1,t),Tx(t.filterObject),t.requestUpdate()}function ZMe(t,e){e.selectedItems=[],AC(e),wue(e)}function _ue(t,e){const r=e.selectedItems.indexOf(t);r>=0?e.selectedItems=e.selectedItems.filter((i,n)=>n!==r):e.type==="multiselect"?e.selectedItems=[...e.selectedItems,t]:(e.selectedItems=[t],e.showSuggestions=!1),AC(e),wue(e)}function XMe(t,e){e.query=t.target.value,e.showSuggestions=!0}function KMe(t,e){switch(t.key){case"ArrowDown":e.highlightedIndex=Math.min(e.highlightedIndex+1,e.filteredSuggestions.length-1);break;case"ArrowUp":e.highlightedIndex=Math.max(e.highlightedIndex-1,0);break;case"Enter":e.highlightedIndex>=0&&_ue(e.filteredSuggestions[e.highlightedIndex],e);break;case"Escape":e.showSuggestions=!1;break}}function JMe(t,e){(t.has("suggestions")||t.has("query"))&&AC(e)}function QMe(t,e){var i;const r=((i=t.filterObject)==null?void 0:i.sort)||((n,s)=>n.localeCompare(s));return e.sort(r).map(n=>n)}function AC(t){var r,i,n;let e;t.query&&(e=new zc(t.suggestions,{threshold:.4}).search(t.query).map(o=>o.item)),t.filteredSuggestions=QMe(t,e||t.suggestions),(r=t.filterObject)!=null&&r.filterKeys&&(t.filteredSuggestions=(i=t.filterObject)==null?void 0:i.filterKeys.map(s=>`${s}`),t.filterObject.state=(n=t.filterObject)==null?void 0:n.filterKeys.map(s=>`${s}`).reduce((s,o)=>(o in s||(s[o]=void 0),s),t.filterObject.state)),t.highlightedIndex=-1}function wue(t){Object.keys(t.filterObject.state).forEach(e=>{t.filterObject.state[e]=t.selectedItems.includes(e)}),t.filterObject.stringifiedState=Object.keys(t.filterObject.state).filter(e=>t.filterObject.state[e]).join(", ")||"",t.filterObject.dirty=t.filterObject.stringifiedState.length>0,t.dispatchEvent(new CustomEvent("filter")),t.requestUpdate()}function eRe(t){Tx(t.filterObject),t.renderRoot.querySelector("eox-itemfilter-spatial-filter").reset(),t.requestUpdate()}function tRe(t){t.renderRoot.querySelector("#eox-map").innerHTML="",Eue(t)}function rRe(t,e){e.filterObject.state.mode=t;const r=new CustomEvent("filter",{detail:{[e.filterObject.key]:{}}});e.dispatchEvent(r)}function Eue(t){const e=t.renderRoot.querySelector("#eox-map");e.innerHTML===""&&(e.innerHTML='<eox-map part="map" style="height: 400px"></eox-map>');const r=t.geometry&&iRe(t.geometry),i=BMe(t.geometry,r);t.eoxMap=t.renderRoot.querySelector("eox-map"),setTimeout(()=>{t.eoxMap.layers=i;const n=s=>{const o=new CustomEvent("filter",{detail:{geometry:{type:"Polygon",coordinates:s.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCoordinates()}}});t.dispatchEvent(o)};t.eoxMap.interactions.drawInteraction.on("drawend",s=>{n(s.feature),t.eoxMap.removeInteraction("drawInteraction")}),t.eoxMap.interactions.drawInteraction_modify.on("modifyend",s=>{n(s.features.getArray()[0])})},1e3)}function iRe(t){return`data:text/json,${encodeURIComponent(JSON.stringify({type:"FeatureCollection",features:[{type:"Feature",properties:null,geometry:t}]}))}`}var w1;class nRe extends Wi{constructor(){super();nr(this,w1,()=>{HMe(this)});Ge(this,"debouncedInputHandler",bh(Ut(this,w1),500,{leading:!0}));this.filterObject={},this.unstyled=!1,this.tabIndex=0,this.unstyled=!1}static get properties(){return{filterObject:{attribute:!1,type:Object},tabIndex:{attribute:!1,type:Number},unstyled:{type:Boolean},isValid:{state:!0,type:Boolean}}}reset(){qMe(this)}createRenderRoot(){return this}render(){return Ar(this.filterObject,()=>{var r;return et`
        <style></style>
        <div class="text-container">
          <div class="text-container-wrapper">
            <input
              type="text"
              placeholder=${this.filterObject.placeholder}
              data-cy="search"
              class="text-input"
              part="input-search"
              value="${Object.values(this.filterObject.state)[0]}"
              tabindex=${this.tabIndex}
              pattern="${((r=this.filterObject.validation)==null?void 0:r.pattern)||".*"}"
              @input="${this.debouncedInputHandler}"
              @click=${i=>i.stopPropagation()}
            />
          </div>
        </div>
        <small class="error-validation"
          >${this.filterObject.validation&&this.isValid===!1?this.filterObject.validation.message:""}</small
        >
      `})}}w1=new WeakMap;customElements.define("eox-itemfilter-text",nRe);function sRe(t,e,r){return t.filter(i=>{const n=i[r.config.aggregateResults];let s;return r.filters[r.config.aggregateResults]&&(s=Object.keys(r.filters[r.config.aggregateResults]).filter(a=>r.filters[r.config.aggregateResults].state[a])),(s!=null&&s.length?s.includes(e):!0)&&Array.isArray(n)?n.includes(e):n===e})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const are=(t,e,r)=>{const i=new Map;for(let n=e;n<=r;n++)i.set(t[n],n);return i},Sue=ny(class extends Ex{constructor(t){if(super(t),t.type!==nc.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,r){let i;r===void 0?r=e:e!==void 0&&(i=e);const n=[],s=[];let o=0;for(const a of t)n[o]=i?i(a,o):o,s[o]=r(a,o),o++;return{values:s,keys:n}}render(t,e,r){return this.dt(t,e,r).values}update(t,[e,r,i]){const n=Pge(t),{values:s,keys:o}=this.dt(e,r,i);if(!Array.isArray(n))return this.ut=o,s;const a=this.ut??(this.ut=[]),l=[];let u,h,d=0,f=n.length-1,p=0,g=s.length-1;for(;d<=f&&p<=g;)if(n[d]===null)d++;else if(n[f]===null)f--;else if(a[d]===o[p])l[p]=vd(n[d],s[p]),d++,p++;else if(a[f]===o[g])l[g]=vd(n[f],s[g]),f--,g--;else if(a[d]===o[g])l[g]=vd(n[d],s[g]),pg(t,l[g+1],n[d]),d++,g--;else if(a[f]===o[p])l[p]=vd(n[f],s[p]),pg(t,n[d],n[f]),f--,p++;else if(u===void 0&&(u=are(o,p,g),h=are(a,d,f)),u.has(a[d]))if(u.has(a[f])){const y=h.get(o[p]),b=y!==void 0?n[y]:null;if(b===null){const x=pg(t,n[d]);vd(x,s[p]),l[p]=x}else l[p]=vd(b,s[p]),pg(t,n[d],b),n[y]=null;p++}else Jx(n[f]),f--;else Jx(n[d]),d++;for(;p<=g;){const y=pg(t,l[g+1]);vd(y,s[p]),l[p++]=y}for(;d<=f;){const y=n[d++];y!==null&&Jx(y)}return this.ut=o,qE(t,l),kf}});function oRe(t,e){return et`
    <details
      class="details-results"
      @toggle=${e.handleAccordion}
      ?open=${e.config.expandResults||zi}
    >
      <summary>
        <span class="title">
          ${t}
          <span class="count"
            >${e.aggregateResults(e.results,t).length}</span
          >
        </span>
      </summary>
      <div>
        ${Cue(t,e)}
      </div>
    </details>
  `}function Cue(t,e){const r=e.results,i=t?e.aggregateResults(r,t):r,n=e.config,s=o=>{var a;return((a=e.selectedResult)==null?void 0:a[n.idProperty])===o[n.idProperty]?"highlighted":zi};return et`
    <ul>
      ${Sue(i,o=>o.id,o=>et`
          <li class=${s(o)}>
            <span
              id="${o.id}"
              @click=${()=>{e.selectedResult===o?e.selectedResult=null:e.selectedResult=o,e.dispatchEvent(new CustomEvent("result",{detail:e.selectedResult}))}}
            >
              ${Ar(e.hasTemplate("result"),()=>e.renderTemplate("result",o,`result-${o.id}`),()=>et`
                  ${Ar(n.subTitleProperty,()=>et`
                      <div class="title-container">
                        <span class="title"
                          >${Xa(o[n.titleProperty])}</span
                        >
                        <span class="subtitle"
                          >${Xa(o[n.subTitleProperty])}</span
                        >
                      </div>
                    `,()=>et`
                      <span class="title"
                        >${Xa(o[n.titleProperty])}</span
                      >
                    `)}
                `)}
            </span>
          </li>
        `)}
    </ul>
  `}var ch,_E,kue;class aRe extends sse{constructor(){super();nr(this,ch);this.config=null,this.filters={},this.resultAggregation=[],this.selectedResult=null}static get properties(){return{config:{attribute:!1,type:Object},results:{state:!0,type:Object},filters:{state:!0,type:Object},resultAggregation:{attribute:!1,type:Array},selectedResult:{state:!0,type:Object}}}aggregateResults(r,i){return sRe(r,i,this)}createRenderRoot(){return this}handleAccordion(r){mue(r,this.config,this)}render(){return et`
      <section id="section-results">
        <div>
          <h6 class="main-heading">Results</h6>
        </div>
        <div id="container-results" class="scroll">
          ${Ar(this.results.length<1,()=>et`<small class="no-results">No matching items</small>`,()=>zi)}
          <ul id="results" part="results">
            ${Ar(this.config.aggregateResults,()=>ta(this.resultAggregation.filter(r=>this.aggregateResults(this.results,r).length),r=>et`${Ar(this.aggregateResults(this.results,r).length===1&&this.config.autoSpreadSingle,()=>et`<div style="margin-left: -8px">
                          ${tr(this,ch,_E).call(this,r)}
                        </div>`,()=>tr(this,ch,kue).call(this,r))}`),()=>tr(this,ch,_E).call(this))}
          </ul>
        </div>
      </section>
    `}}ch=new WeakSet,_E=function(r){return Cue(r,this)},kue=function(r){return oRe(r,this)};customElements.define("eox-itemfilter-results",aRe);const lRe=`input[type="checkbox"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}input[type="checkbox"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="checkbox"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");}`,uRe=`input[type="radio"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}label span { font-size: small;}input[type="radio"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="radio"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");}`;var Pc,Tue,Due,Lue;class Aue extends Wi{constructor(){super();nr(this,Pc);Ge(this,"debouncedInputHandler",bh(tr(this,Pc,Lue),500,{leading:!0}));this.filterObject={},this.suggestions=[],this.selectedItems=[],this.query="",this.showSuggestions=!1,this.highlightedIndex=-1,this.filteredSuggestions=[],this.type="select",this.unstyled=!1,this.tabIndex=0,this.inlineMode=!1}updated(r){JMe(r,this)}reset(){YMe(this)}firstUpdated(){this.filterObject.state&&(this.selectedItems=Object.keys(this.filterObject.state).map(r=>this.filterObject.state[r]?r:null).filter(r=>!!r),this.filterObject.stringifiedState=this.selectedItems.join(", ")||"",this.requestUpdate())}render(){const r=this.type.includes("multi")?"checkbox":"radio",i=this.filteredSuggestions.length>5?"select-overflow":zi;return et`
      <style>
        ${!this.unstyled&&sy}
        ${!this.unstyled&&lRe}
        ${!this.unstyled&&uRe}
      </style>
      ${Ar(this.suggestions.length>10,()=>et`<div class="autocomplete-container">
          <div class="autocomplete-container-wrapper">
            <input
              autocomplete="off"
              tabindex=${this.tabIndex}
              class="autocomplete-input"
              type="text"
              .value=${this.query}
              placeholder="${this.filterObject.placeholder||""}"
              @input=${tr(this,Pc,Tue)}
              @keydown=${tr(this,Pc,Due)}
              @blur=${()=>this.showSuggestions=!1}
              @focus=${()=>this.showSuggestions=!0}
            />
          </div>
        </div>`)}
      <div class="select-container ${i}">
        <ul class="${this.type}">
          ${this.filteredSuggestions.map(n=>et`
              <li
                data-identifier="${n.toString().toLowerCase()}"
                data-title="${n}"
              >
                <label>
                  <input
                    type="${r}"
                    name=${n}
                    .checked=${this.selectedItems.includes(n)}
                    @change=${()=>this.debouncedInputHandler(n)}
                    @keydown=${s=>{s.key===" "&&this.inlineMode&&this.debouncedInputHandler(n)}}
                    tabindex=${this.tabIndex+1}
                  />
                  <span class="title">${n}</span>
                </label>
              </li>
            `)}
        </ul>
      </div>
    `}}Pc=new WeakSet,Tue=function(r){XMe(r,this)},Due=function(r){KMe(r,this)},Lue=function(r){_ue(r,this)},Ge(Aue,"properties",{filterObject:{attribute:!1,type:Object},suggestions:{attribute:!1,type:Array},selectedItems:{state:!0,type:Array},query:{state:!0,type:String},showSuggestions:{state:!0,type:Boolean},highlightedIndex:{state:!0,type:Number},filteredSuggestions:{state:!0,type:Array},type:{attribute:!0,type:String},unstyled:{type:Boolean},tabIndex:{attribute:!1,type:Number},inlineMode:{attribute:"inline-mode",type:Boolean}});customElements.define("eox-itemfilter-select",Aue);(()=>{var t=Object.defineProperty,e=Math.pow,r=(fe,Te,rt)=>Te in fe?t(fe,Te,{enumerable:!0,configurable:!0,writable:!0,value:rt}):fe[Te]=rt,i=(fe,Te,rt)=>(r(fe,typeof Te!="symbol"?Te+"":Te,rt),rt),n=(fe,Te)=>` ${Te&&Te.length>0?Te.map(rt=>`<link rel="stylesheet" href="${rt}" />`).join(""):""} <style> ${fe} </style> <div class="range-slider-box"> <div class="row"> <div id="range-slider" class="range-slider"> <div class="container"> <div class="panel"></div> <div class="panel-fill"></div> <div class="container"> <div class="pointer" tabindex="0" role="slider"> <div class="pointer-shape"></div> </div> </div> </div> </div> </div> </div>`,s=":host{--width:300px;--height:.25rem;--opacity:.4;--panel-bg:#cbd5e1;--panel-bg-hover:#94a3b8;--panel-bg-fill:#475569;--panel-bg-border-radius:1rem;--pointer-width:1rem;--pointer-height:1rem;--pointer-bg:#fff;--pointer-bg-hover:#dcdcdc;--pointer-bg-focus:#dcdcdc;--pointer-shadow:0 0 2px rgba(0,0,0,0.8);--pointer-shadow-hover:0 0 2px #000;--pointer-shadow-focus:var(--pointer-shadow-hover);--pointer-border:1px solid hsla(0,0%,88%,0.5);--pointer-border-hover:1px solid #94a3b8;--pointer-border-focus:var(--pointer-border-hover);--pointer-border-radius:100%;--animate-onclick:.3s}:host{max-width:100%}.range-slider-box{display:flex;position:relative;flex-direction:column}.range-slider{position:relative;width:var(--width,100%);height:var(--height,0.25rem);touch-action:none;max-width:100%;box-sizing:border-box;cursor:pointer}.row{width:100%;display:flex;align-items:center}.range-slider.disabled{opacity:var(--opacity,0.4);cursor:default}.pointer.disabled{-webkit-filter:brightness(0.8);filter:brightness(0.8);cursor:default}.range-slider *{box-sizing:border-box}.container{position:absolute;width:100%;height:100%}.panel{position:absolute;z-index:10;width:100%;height:100%;background:var(--panel-bg,#2d4373);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;transition:.3s all ease}.panel-fill{background:var(--panel-bg-fill,#000);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;height:100%;position:absolute;z-index:10}.panel:hover{background:var(--panel-bg-hover,#5f79b7)}.disabled .panel:hover{background:var(--panel-bg,#5f79b7)}.pointer{position:absolute;z-index:20;outline:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;box-shadow:var(--pointer-shadow);border:var(--pointer-border);border-radius:var(--pointer-border-radius,100%);-webkit-transform:translateX(-50%);transform:translateX(-50%);width:var(--pointer-width,15px);height:var(--pointer-height,15px);transition:.3s all ease}.pointer-shape:hover{background:var(--pointer-bg-hover,#fff);background-size:contain;border:var(--pointer-border-hover);box-shadow:var(--pointer-shadow-hover)}.disabled .pointer-shape:hover{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.pointer:focus .pointer-shape{background:var(--pointer-bg-focus,#fff);background-size:contain;border:var(--pointer-border-focus);box-shadow:var(--pointer-shadow-focus)}.disabled .pointer:focus .pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.type-vertical .range-slider{--width:.25rem;--height:300px;max-height:100%}.type-vertical .range-slider .pointer{left:50%}.type-vertical .range-slider .panel-fill{width:100%}.type-vertical.range-slider-box{flex-direction:row}.type-vertical .row{flex-direction:column}.animate-on-click .pointer,.animate-on-click .panel-fill{transition:all var(--animate-onclick)}.range-dragging .panel-fill{cursor:move}",o="pointers-overlap",a="pointers-min-distance",l="pointers-max-distance",u="range-dragging",h="data",d="min",f="max",p="step",g="round",y="type",b="theme",x="rtl",w="btt",S="disabled",C="keyboard-disabled",k="mousewheel-disabled",O="slider-width",M="slider-height",A="slider-radius",I="slider-bg",R="slider-bg-hover",V="slider-bg-fill",oe="pointer-width",L="pointer-height",F="pointer-radius",U="pointer-bg",Y="pointer-bg-hover",G="pointer-bg-focus",Q="pointer-shadow",J="pointer-shadow-hover",re="pointer-shadow-focus",pe="pointer-border",ee="pointer-border-hover",B="pointer-border-focus",ge="animate-onclick",ve="css-links",ze="vertical",it="horizontal",tt=(fe,Te,rt,Ye,bt)=>{let qt=Te-fe;return qt===0?rt:(Ye-rt)*(bt-fe)/qt+rt},Ne=fe=>!isNaN(parseFloat(fe))&&isFinite(fe),Xe=(fe,Te)=>Ne(fe)?Number(fe):Te,nt=(fe,Te)=>Te===0?0:Math.round(fe/Te)*Te,vt=(fe,Te=1/0)=>{if(Te===1/0)return fe;let rt=e(10,Te);return Math.round(fe*rt)/rt},Dt=fe=>fe==null?!1:typeof fe=="boolean"?fe:fe.trim().toLowerCase()==="true",Rt=(fe,Te)=>{fe.dispatchEvent(new CustomEvent("onPointerClicked",{detail:{$pointer:Te}}))},Er=(fe,Te)=>{fe.dispatchEvent(new CustomEvent("onMouseDown",{detail:{nativeEvent:Te}}))},or=(fe,Te)=>{fe.dispatchEvent(new CustomEvent("onMouseUp",{detail:{nativeEvent:Te}}))},di=(fe,Te)=>{fe.dispatchEvent(new CustomEvent("onKeyDown",{detail:{nativeEvent:Te}}))},We=(fe,Te)=>{if(!Te||Te.length<=0)return;let rt=Te.map(bt=>Ne(bt)?Xe(bt,bt):bt),Ye={values:rt||[]};Ye.value=rt[0],Ye.value0=rt[0],Ye.value1=rt[0];for(let bt=1;bt<rt.length;bt++)Ye[`value${bt+1}`]=rt[bt];fe.dispatchEvent(new CustomEvent("change",{detail:Ye}))},he=(fe,Te,rt)=>{let Ye=0,bt,qt,Wt,pt,Je=!1,Kt=(ht,Dr,li,ni,ui,qr)=>{let Ot=Ye;li!==void 0&&ht>li&&(ht=li),Dr!==void 0&&ht<Dr&&(ht=Dr),Ye=ht;let Ki=Ye;return(ni===ze&&qr||ni===it&&ui)&&(Ki=100-Ki),ni===ze?Te.style.top=`${Ki}%`:Te.style.left=`${Ki}%`,Ot!==Ye},Jt=ht=>ht===Te||Te.contains(ht),Lt=(ht,Dr,li,ni)=>{bt=ht,qt=Dr,Wt=li,pt=ni},Ct=ht=>{Je=ht,Te.classList.toggle("disabled",Je),Je?Te.setAttribute("aria-disabled","true"):Te.hasAttribute("aria-disabled")&&Te.removeAttribute("aria-disabled")},ii=(ht,Dr)=>{Dr==null?Te.removeAttribute(ht):Te.setAttribute(ht,Dr)},Li=ht=>Te.getAttribute(ht),Bt=ht=>{if(!Je){switch(ht.key){case"ArrowLeft":{ht.preventDefault(),typeof bt=="function"&&bt(rt);break}case"ArrowRight":{ht.preventDefault(),typeof qt=="function"&&qt(rt);break}case"ArrowUp":{ht.preventDefault(),typeof Wt=="function"&&Wt(rt);break}case"ArrowDown":{ht.preventDefault(),typeof pt=="function"&&pt(rt);break}}di(fe,ht)}},He=()=>{Je||Rt(fe,Te)};return Te.className=`pointer pointer-${rt}`,Te.addEventListener("keydown",Bt),Te.addEventListener("click",He),{$pointer:Te,get percent(){return Ye},get disabled(){return Je},set disabled(ht){Ct(ht)},updatePosition:Kt,isClicked:Jt,setCallbacks:Lt,setAttr:ii,getAttr:Li,destroy:()=>{Te.removeEventListener("keydown",Bt),Te.removeEventListener("click",He),Te.remove()}}},ue=fe=>{if(fe==null)return;if(Array.isArray(fe))return fe;if(fe.trim()==="")return;let Te=fe.split(","),rt=[],Ye=!0;for(let bt=0;bt<Te.length;bt++){let qt=Te[bt].trim();qt!==""&&(rt.push(qt),Ne(qt)||(Ye=!1))}return Ye?rt.map(bt=>Number(bt)):rt},ae=(fe,Te)=>Te?Te.findIndex(rt=>rt===fe||rt.toString().trim()===fe.toString().trim()):-1,me=fe=>({updatePosition:(Te,rt,Ye,bt)=>{if(rt.length<=0)return;let qt=rt.length===1,Wt=rt[0],pt=rt[rt.length-1];Te===ze?(fe.style.removeProperty("width"),fe.style.removeProperty("right"),fe.style.removeProperty("left"),qt?fe.style.height=`${Wt}%`:fe.style.height=`${Math.abs(Wt-pt)}%`,bt?(fe.style.bottom="0%",qt?fe.style.top="auto":fe.style.top=`${Math.min(100-pt,100-Wt)}%`):(fe.style.bottom="auto",qt?fe.style.top="0%":fe.style.top=`${Math.min(Wt,pt)}%`)):(fe.style.removeProperty("height"),fe.style.removeProperty("top"),fe.style.removeProperty("bottom"),qt?fe.style.width=`${Wt}%`:fe.style.width=`${Math.abs(Wt-pt)}%`,Ye?(fe.style.right="0%",qt?fe.style.left="auto":fe.style.left=`${Math.min(100-pt,100-Wt)}%`):(fe.style.right="auto",qt?fe.style.left="0%":fe.style.left=`${Math.min(Wt,pt)}%`))}}),T="--animate-onclick",$="--width",W="--height",K="--panel-bg-border-radius",ye="--panel-bg",xe="--panel-bg-hover",Me="--panel-bg-fill",j="--pointer-width",te="--pointer-height",de="--pointer-border-radius",ce="--pointer-bg",Ae="--pointer-bg-hover",Ce="--pointer-bg-focus",Se="--pointer-shadow",De="--pointer-shadow-hover",Ie="--pointer-shadow-focus",Ve="--pointer-border",ot="--pointer-border-hover",lt="--pointer-border-focus",$t=(fe,Te,rt)=>{let Ye=new Map;for(let bt of fe.attributes){let qt=bt.nodeName.trim().toLowerCase();if(!Te.test(qt))continue;let Wt=qt.replace(/\D/g,"").trim(),pt=Wt===""||Wt==="0"||Wt==="1"?0:Xe(Wt,0)-1,Je=rt&&typeof rt=="function"?rt(bt.value):bt.value;Ye.set(pt,Je)}return Ye},mt=fe=>{if(!fe)return null;let Te=fe.getAttribute(ve);if(!Te)return null;let rt=Te.split(";"),Ye=[];for(let bt of rt)bt.trim()!==""&&Ye.push(bt.trim());return Ye},zt=[[$,O,"sliderWidth",null],[W,M,"sliderHeight",null],[K,A,"sliderRadius",null],[ye,I,"sliderBg",null],[xe,R,"sliderBgHover",null],[Me,V,"sliderBgFill",null],[j,oe,"pointer#Width",/^pointer([0-9]*)-width$/],[te,L,"pointer#Height",/^pointer([0-9]*)-height$/],[de,F,"pointer#Radius",/^pointer([0-9]*)-radius$/],[ce,U,"pointer#Bg",/^pointer([0-9]*)-bg$/],[Ae,Y,"pointer#BgHover",/^pointer([0-9]*)-bg-hover$/],[Ce,G,"pointer#BgFocus",/^pointer([0-9]*)-bg-focus$/],[Se,Q,"pointer#Shadow",/^pointer([0-9]*)-shadow$/],[De,J,"pointer#ShadowHover",/^pointer([0-9]*)-shadow-hover$/],[Ie,re,"pointer#ShadowFocus",/^pointer([0-9]*)-shadow-focus$/],[Ve,pe,"pointer#Border",/^pointer([0-9]*)-border$/],[ot,ee,"pointer#BorderHover",/^pointer([0-9]*)-border-hover$/],[lt,B,"pointer#BorderFocus",/^pointer([0-9]*)-border-focus$/]],Ht=(fe,Te,rt)=>{let Ye=null,bt=[],qt=new Map,Wt=(Bt,He=Te)=>{let ht=[...He.classList];for(let Dr of ht)Dr.startsWith(Bt)&&Te.classList.remove(Dr)},pt=()=>{Wt("shape");let Bt=Te.querySelectorAll(".pointer");for(let He of Bt)Wt("shape",He)},Je=Bt=>{Ye=Bt,Wt("theme-"),typeof Bt=="string"&&Te.classList.add(`theme-${Bt}`)},Kt=()=>{if(pt(),!(bt.length<=0)){Te.classList.add("shape",`shape-${bt[0]}`);for(let Bt=1;Bt<bt.length;Bt++){let He=bt[Bt];if(!He)continue;let ht=Te.querySelector(`.pointer-${Bt}`);!ht||ht.classList.add("shape",`shape-${He}`)}}},Jt=(Bt,He)=>{bt[Bt]=He,Kt()},Lt=()=>{pt();let Bt=$t(fe,/^pointer([0-9]*)-shape$/);if(!(Bt.size<=0)){for(let He of Bt){let ht=He[0];bt[ht]=He[1]}Kt()}},Ct=(Bt,He)=>`${Bt}-${He}`,ii=(Bt,He,ht)=>{let Dr=rt[ht];if(!Dr)return;let li=ht===0?Te:Dr.$pointer;if(He==null){qt.has(Ct(Bt,ht))&&qt.delete(Ct(Bt,ht)),li.style.removeProperty(Bt);return}qt.set(Ct(Bt,ht),He),li.style.setProperty(Bt,He)},Li=(Bt,He)=>qt.get(Ct(Bt,He));return(()=>{for(let Bt of zt){let[He,ht,Dr,li]=Bt;if(li){let ui=$t(fe,li);for(let qr of ui){let Ot=qr[0],Ki=qr[1];ii(He,Ki,Ot)}}else{let ui=fe.getAttribute(ht);ii(He,ui,0)}let ni=[];if(Dr.indexOf("#")===-1)ni.push([Dr,0]);else{ni.push([Dr.replace("#",""),0]),ni.push([Dr.replace("#","0"),0]),ni.push([Dr.replace("#","1"),0]);for(let ui=1;ui<rt.length;ui++)ni.push([Dr.replace("#",(ui+1).toString()),ui])}for(let ui of ni)try{let qr=ui[0],Ot=ui[1];Object.prototype.hasOwnProperty.call(fe,qr)||Object.defineProperty(fe,qr,{get(){return Li(He,Ot)},set:Ki=>{ii(He,Ki,Ot)}})}catch(qr){console.error(qr)}}Je(fe.getAttribute(b)),Lt()})(),{setStyle:ii,getStyle:Li,get theme(){return Ye},set theme(Bt){Je(Bt)},get pointerShapes(){return bt},setPointerShape:Jt}},Vt="animate-on-click",fr="range-dragging",Yt=(fe,Te,rt,Ye)=>{let bt=[],qt=Jt=>{for(let Lt of bt)Lt.update&&typeof Lt.update=="function"&&Lt.update(Jt)},Wt=()=>{for(let Jt of bt)Jt.destroy&&typeof Jt.destroy=="function"&&Jt.destroy()},pt=(Jt,Lt)=>{for(let Ct of bt)Ct.onAttrChange&&typeof Ct.onAttrChange=="function"&&Ct.onAttrChange(Jt,Lt)},Je=Jt=>{if(Jt.gettersAndSetters){for(let Lt of Jt.gettersAndSetters)if(!(!Lt.name||!Lt.attributes))try{Object.prototype.hasOwnProperty.call(fe,Lt.name)||Object.defineProperty(fe,Lt.name,Lt.attributes)}catch(Ct){console.error("defineSettersGetters error:",Ct)}}},Kt=Jt=>{var Lt;if(!Jt.css)return;let Ct=(Lt=fe.shadowRoot)==null?void 0:Lt.querySelector("style");!Ct||(Ct.innerHTML+=Jt.css)};return{init:()=>{if(window.tcRangeSliderPlugins)for(let Jt of window.tcRangeSliderPlugins){let Lt=Jt();bt.push(Lt),Lt.init&&typeof Lt.init=="function"&&(Lt.init(fe,Te,rt,Ye),Je(Lt),Kt(Lt))}},update:qt,onAttrChange:pt,destroy:Wt}},ri=10,dn=20,hn=(fe,Te)=>{let rt=new Map,Ye=/^value([0-9]*)$/;for(let pt of fe.attributes){let Je=pt.nodeName.trim().toLowerCase();if(!Ye.test(Je))continue;let Kt=Je.replace("value","").trim(),Jt=Kt===""||Kt==="0"||Kt==="1"?0:Xe(Kt,0)-1,Lt=Ne(pt.value)?Xe(pt.value,0):pt.value;rt.set(Jt,Lt)}let bt=Math.max(...Array.from(rt.keys())),qt=[];qt.push([he(fe,Te,0),rt.get(0)]);let Wt=Te;for(let pt=1;pt<=bt;pt++){let Je=Te.cloneNode(!0);Wt.after(Je),Wt=Je,qt.push([he(fe,Je,pt),rt.get(pt)])}return qt},on=(fe,Te,rt,Ye,bt,qt,Wt)=>{try{Object.defineProperty(fe,Ye,{configurable:!0,get(){if(!Te)return;let pt=Te.pointers[rt];if(!pt)return;let Je=Te.getTextValue(pt.percent);return Ne(Je)?Xe(Je,Je):Je},set:pt=>{Te.pointers[rt]?Te==null||Te.setValue(pt,rt):Te==null||Te.addPointer(pt)}}),Object.defineProperty(fe,bt,{configurable:!0,get(){var pt,Je;return(Je=(pt=Te==null?void 0:Te.pointers[rt])==null?void 0:pt.getAttr("aria-label"))!=null?Je:void 0},set:pt=>{!Te||Te.setAriaLabel(rt,pt)}}),Object.defineProperty(fe,qt,{configurable:!0,get(){var pt,Je;return(Je=(pt=Te==null?void 0:Te.styles)==null?void 0:pt.pointerShapes[rt])!=null?Je:null},set:pt=>{!Te||!Te.styles||Te.styles.setPointerShape(rt,pt)}}),Object.defineProperty(fe,Wt,{configurable:!0,get(){var pt;return(pt=Te==null?void 0:Te.pointers[rt].disabled)!=null?pt:!1},set:pt=>{if(!Te)return;let Je=Te==null?void 0:Te.pointers[rt];!Je||(Je.disabled=pt)}})}catch(pt){console.error(pt)}},$s=(fe,Te)=>{let rt=[["value","ariaLabel","pointerShape","pointerDisabled",0],["value0","ariaLabel0","pointerShape0","pointer0Disabled",0],["value1","ariaLabel1","pointerShape1","pointer1Disabled",0]];for(let Ye=2;Ye<ri;Ye++)rt.push([`value${Ye}`,`ariaLabel${Ye}`,`pointer${Ye}Shape`,`pointer${Ye}Disabled`,Ye-1]);for(let Ye of rt)on(fe,Te,Ye[4],Ye[0],Ye[1],Ye[2],Ye[3])},Sr=(fe,Te,rt)=>{var Ye;let bt=(Ye=rt.shadowRoot)==null?void 0:Ye.querySelector(".container");if(bt)for(let qt of fe)Te?bt.prepend(qt.$pointer):bt.append(qt.$pointer)},ai=(fe,Te)=>{if(!(!Te||fe.length<=1)){for(let rt of fe)rt.$pointer.style.zIndex=dn.toString();Te.$pointer.style.zIndex=(dn*2).toString()}},hi=0,$r=100,pr=2,an="0.3s",Ir=(fe,Te,rt)=>{let Ye=rt.map(ke=>ke[0]),bt=null,qt=null,Wt=null,pt=null,Je=hi,Kt=$r,Jt,Lt,Ct=it,ii=pr,Li=!1,Bt=!1,He=!1,ht=0,Dr=1/0,li=!1,ni,ui,qr=!1,Ot=!1,Ki=!1,fn=an,pn=[],kn=ke=>{qr||(ke.preventDefault&&ke.preventDefault(),gs(ke),window.addEventListener("mousemove",gs),window.addEventListener("mouseup",Hn),Er(fe,ke))},Hn=ke=>{qr||(ni=void 0,ui=void 0,window.removeEventListener("mousemove",gs),window.removeEventListener("mouseup",Hn),fn&&Te.classList.add(Vt),or(fe,ke))},ps=(ke,at)=>{if(Ye.length<=0)return;if(Ye.length===1)return Ye[0].isClicked(ke)&&fn&&Te.classList.remove(Vt),Ye[0];let It=Vn(ke);if(li){let yr=at,nn=js(yr);nn!==void 0&&(yr=nt(yr,nn)),It?(ni=yr,ui=0,fn&&Te.classList.remove(Vt)):ni!==void 0&&(ui=yr-ni,ni=yr)}if(!es(ke)&&!It){for(let yr of Ye)if(!(!yr.isClicked(ke)||yr.disabled))return fn&&Te.classList.remove(Vt),yr;for(let yr of Ye)if(bt===yr)return yr}let Cr=1/0,Kr=null;for(let yr of Ye){if(yr.disabled)continue;let nn=Math.abs(at-yr.percent);nn<Cr&&(Cr=nn,Kr=yr)}return Kr},ms=()=>Ye.findIndex(ke=>bt===ke&&!ke.disabled),gs=ke=>{let at;if(Ct===ze){let{height:Cr,top:Kr}=Te.getBoundingClientRect(),yr=ke.type.indexOf("mouse")!==-1?ke.clientY:ke.touches[0].clientY;at=Math.min(Math.max(0,yr-Kr),Cr)*100/Cr}else{let{width:Cr,left:Kr}=Te.getBoundingClientRect(),yr=ke.type.indexOf("mouse")!==-1?ke.clientX:ke.touches[0].clientX;at=Math.min(Math.max(0,yr-Kr),Cr)*100/Cr}if((Li||Bt)&&(at=100-at),bt=ps(ke.target,at),bt&&ai(Ye,bt),li&&Ye.length>1&&ui!==void 0){let Cr=Ye[0],Kr=Ye[Ye.length-1],yr=Cr.percent+ui<0,nn=Kr.percent+ui>100;if(yr||nn)return;for(let mo=0;mo<Ye.length;mo++)Or(mo,Ye[mo].percent+ui);return}let It=ms();It!==-1&&(Or(It,at),bt==null||bt.$pointer.focus())},Dn=ke=>{if(qr||document.activeElement!==fe||bt!=null&&bt.disabled)return;ke.stopPropagation(),ke.preventDefault();let at=ke.deltaY<0,It=Li||Bt,Cr=at?!It:It,Kr=ms();Kr!==-1&&(Cr?Gn(Kr,Ye[Kr].percent):Wn(Kr,Ye[Kr].percent))},Bs=ke=>{qr||Ot||(Ct===ze?Bt?Or(ke,100):Or(ke,0):Li?Wn(ke,Ye[ke].percent):Gn(ke,Ye[ke].percent))},ys=ke=>{qr||Ot||(Ct===ze?Bt?Or(ke,0):Or(ke,100):Li?Gn(ke,Ye[ke].percent):Wn(ke,Ye[ke].percent))},Ii=ke=>{qr||Ot||(Ct===ze?Bt?Wn(ke,Ye[ke].percent):Gn(ke,Ye[ke].percent):Li?Or(ke,100):Or(ke,0))},bs=ke=>{qr||Ot||(Ct===ze?Bt?Gn(ke,Ye[ke].percent):Wn(ke,Ye[ke].percent):Li?Or(ke,0):Or(ke,100))},es=ke=>ke.classList.contains("panel"),Vn=ke=>ke.classList.contains("panel-fill"),Gn=(ke,at)=>{if(at===void 0)return;let It=js(at);It==null&&(It=1),at-=It,at<0&&(at=0),Or(ke,at)},Wn=(ke,at)=>{if(at===void 0)return;let It=js(at);It==null&&(It=1),at+=It,at>100&&(at=100),Or(ke,at)},vs=()=>{!pt||pt.update({percents:Ln(),values:xs(),$pointers:ln(),min:_s(),max:po(),data:Zn(),step:Ks(),round:X(),type:ie(),textMin:Yn(),textMax:An(),rightToLeft:kt(),bottomToTop:cr(),pointersOverlap:zr(),pointersMinDistance:Oe(),pointersMaxDistance:Ke(),rangeDragging:Ei(),disabled:Lr(),keyboardDisabled:Br(),mousewheelDisabled:jr()})},ho=()=>{vs()},ts=ke=>{if(!(He||Ye.length<=1||Kt===Je))if(ke===0){let at=Dr*100/(Kt-Je);return Math.max(0,Ye[ke+1].percent-at)}else{let at=ht*100/(Kt-Je);return Math.min(Ye[ke-1].percent+at,100)}},fo=ke=>{if(!(He||Ye.length<=1||Kt===Je))if(ke===Ye.length-1){let at=Dr*100/(Kt-Je);return Math.min(Ye[ke-1].percent+at,100)}else{let at=ht*100/(Kt-Je);return Math.max(0,Ye[ke+1].percent-at)}},js=ke=>{let at;if(typeof Jt=="function"){let It=tt(0,100,Je,Kt,ke);at=Jt(It,ke)}else at=Jt;if(Ne(at)){let It=Kt-Je;return at=It===0?0:at*100/It,at}},Oi=ke=>{if(ke===void 0)return;let at=tt(0,100,Je,Kt,ke);return Lt!==void 0?Lt[Math.round(at)]:vt(at,ii)},Yn=()=>Lt!==void 0?Lt[Je]:Je,An=()=>Lt!==void 0?Lt[Kt]:Kt,Ks=()=>Jt,rs=ke=>{var at;return ke<=0||He?Yn():(at=Oi(Ye[ke-1].percent))!=null?at:""},wn=ke=>{var at;return Ye.length<=1||ke>=Ye.length-1||He?An():(at=Oi(Ye[ke+1].percent))!=null?at:""},Ln=()=>Ye.map(ke=>ke.percent),xs=()=>Ye.map(ke=>Oi(ke.percent)),ln=()=>Ye.map(ke=>ke.$pointer),_s=()=>Je,po=()=>Kt,Zn=()=>Lt,ie=()=>Ct,X=()=>ii,Oe=()=>ht,Ke=()=>Dr,Pt=ke=>pn[ke],kt=()=>Li,cr=()=>Bt,Lr=()=>qr,Br=()=>Ot,jr=()=>Ki,zr=()=>He,Ei=()=>li,Or=(ke,at)=>{if(at===void 0)return;let It=js(at);It!==void 0&&(at=nt(at,It));let Cr=Ye[ke];if(!Cr)return;let Kr=Cr.updatePosition(at,ts(ke),fo(ke),Ct,Li,Bt);qt==null||qt.updatePosition(Ct,Ye.map(yr=>yr.percent),Li,Bt),vs();for(let yr of Ye){let nn=Oi(yr.percent);nn!==void 0&&(yr.setAttr("aria-valuenow",nn.toString()),yr.setAttr("aria-valuetext",nn.toString()))}is(),Kr&&We(fe,Ye.map(yr=>Oi(yr.percent)))},Fi=()=>{for(let ke=0;ke<Ye.length;ke++)Or(ke,Ye[ke].percent)},On=(ke,at)=>{Je=Lt!==void 0?0:Xe(ke,hi),Kt=Lt!==void 0?Lt.length-1:Xe(at,$r),tn(Je),rn(Kt)},is=()=>{var ke,at;for(let It=0;It<Ye.length;It++){let Cr=Ye[It];Cr.setAttr("aria-valuemin",((ke=rs(It))!=null?ke:"").toString()),Cr.setAttr("aria-valuemax",((at=wn(It))!=null?at:"").toString())}},tn=ke=>{Je=Xe(ke,hi),Je>Kt&&(Kt=Je+$r),Fi()},rn=ke=>{Kt=Xe(ke,$r),Kt<Je&&(Kt=Je+$r),Fi()},Ts=ke=>{He=!0;for(let at=0;at<ke.length;at++)bi(ke[at],at);He=!1;for(let at=0;at<ke.length;at++)bi(ke[at],at)},bi=(ke,at)=>{let It;Lt!==void 0?(It=ke==null?0:ae(ke,Lt),It===-1&&(It=0)):(It=Xe(ke,Je),It<Je&&(It=Je),It>Kt&&(It=Kt));let Cr=tt(Je,Kt,0,100,It);Or(at,Cr)},Js=ke=>{if(ke==null){Jt=void 0;return}if(typeof ke=="function"){Jt=ke,Fi();return}if(Ne(ke)){Jt=Xe(ke,1);let at=Math.abs(Kt-Je);Jt>at&&(Jt=void 0),Fi();return}Jt=void 0},Ca=ke=>{He=ke,Fi()},Eo=ke=>{(!Ne(ke)||ke<0)&&(ke=0),ht=ke},So=ke=>{(!Ne(ke)||ke<0)&&(ke=1/0),Dr=ke},il=ke=>{qr=ke,Te.classList.toggle("disabled",qr),qr?Te.setAttribute("aria-disabled","true"):Te.hasAttribute("aria-disabled")&&Te.removeAttribute("aria-disabled")},ka=ke=>{Ot=ke},Z=ke=>{Ki=ke,Ki?document.removeEventListener("wheel",Dn):document.addEventListener("wheel",Dn,{passive:!1})},_e=ke=>{if(ke==null){Lt=void 0;return}if(Lt=ue(ke),Lt===void 0||Lt.length<=0){Lt=void 0;return}tn(0),rn(Lt.length-1),Jt===void 0&&Js(1)},qe=ke=>{var at;typeof ke=="string"?Ct=ke.trim().toLowerCase()===ze?ze:it:Ct=it;let It=(at=fe.shadowRoot)==null?void 0:at.querySelector(".range-slider-box");if(!It)return;It.className=`range-slider-box type-${Ct}`,Fi();let Cr=Ct===ze?"vertical":"horizontal";for(let Kr of Ye)Kr.setAttr("aria-orientation",Cr)},gt=ke=>{Li=ke,Ye.length>1&&Sr(Ye,Li,fe),Fi(),vs()},jt=ke=>{Bt=ke,Ye.length>1&&Sr(Ye,Bt,fe),Fi(),vs()},Mt=ke=>{ii=Xe(ke,pr),ii<0&&(ii=pr),vs()},ir=ke=>{ke==null||ke.toString().trim().toLowerCase()==="false"?(fn=void 0,Te.style.removeProperty(T),Te.classList.remove(Vt)):(fn=ke.toString(),Te.style.setProperty(T,fn),Te.classList.add(Vt))},Xr=(ke,at)=>{let It=Ye[ke];!It||(It.setAttr("aria-label",at),pn[ke]=at)},fi=ke=>{if(ni=void 0,Ye.length<=1){li=!1,Te.classList.remove(fr);return}li=ke,Te.classList.toggle(fr,li)},mn=()=>{il(Dt(fe.getAttribute(S))),Ot=Dt(fe.getAttribute(C)),Ki=Dt(fe.getAttribute(k));let ke=$t(fe,/^pointer([0-9]*)-disabled$/,at=>Dt(at));for(let at of ke){let It=at[0];!Ye[It]||(Ye[It].disabled=at[1])}},Mn=()=>{let ke=$t(fe,/^aria-label([0-9]*)$/);for(let at of ke){let It=at[0];Xr(It,at[1])}},Ui=ke=>{let at=Ye.length,It=Ye[at-1].$pointer,Cr=It.cloneNode(!0);It.after(Cr);let Kr=he(fe,Cr,at);return Kr.setCallbacks(Bs,ys,Ii,bs),Ye.push(Kr),bi(ke,at),Fi(),vs(),at},Ji=()=>{let ke=Ye.length,at=Ye[ke-1];return at?(at.destroy(),Ye.pop(),Ye.length<=1&&fi(!1),Fi(),vs(),ke-1):-1};return(()=>{var ke,at;for(let Cr of Ye)Cr.setCallbacks(Bs,ys,Ii,bs);let It=(ke=fe.shadowRoot)==null?void 0:ke.querySelector(".panel-fill");It&&(qt=me(It)),qe(fe.getAttribute(y)),gt(Dt(fe.getAttribute(x))),jt(Dt(fe.getAttribute(w))),On(fe.getAttribute(d),fe.getAttribute(f)),Js(fe.getAttribute(p)),_e(fe.getAttribute(h)),Ts(rt.map(Cr=>Cr[1])),Ca(Dt(fe.getAttribute(o))),Eo(Xe(fe.getAttribute(a),0)),So(Xe(fe.getAttribute(l),1/0)),fi(Dt(fe.getAttribute(u))),Mt(Xe(fe.getAttribute(g),pr)),mn(),Mn(),Wt=Ht(fe,Te,Ye),ir((at=fe.getAttribute(ge))!=null?at:an),Te.addEventListener("mousedown",kn),Te.addEventListener("mouseup",Hn),Te.addEventListener("touchmove",gs),Te.addEventListener("touchstart",gs),Ki||document.addEventListener("wheel",Dn,{passive:!1}),pt=Yt(fe,ho,{setValues:Ts,setMin:tn,setMax:rn,setStep:Js,setPointersOverlap:Ca,setPointersMinDistance:Eo,setPointersMaxDistance:So,setDisabled:il,setType:qe,setRightToLeft:gt,setBottomToTop:jt,setRound:Mt,setKeyboardDisabled:ka,setMousewheelDisabled:Z,setRangeDragging:fi,setData:_e},{getPercents:Ln,getValues:xs,getPointerElements:ln,getMin:_s,getMax:po,getStep:Ks,getData:Zn,getType:ie,getRound:X,getTextMin:Yn,getTextMax:An,isRightToLeft:kt,isBottomToTop:cr,isDisabled:Lr,isKeyboardDisabled:Br,isMousewheelDisabled:jr,isPointersOverlap:zr,isRangeDraggingEnabled:Ei,getPointersMinDistance:Oe,getPointersMaxDistance:Ke}),pt.init()})(),{get pointers(){return Ye},get styles(){return Wt},get pluginsManager(){return pt},get min(){return Yn()},get max(){return An()},get step(){return Ks()},get pointersOverlap(){return zr()},set pointersOverlap(ke){Ca(ke)},get pointersMinDistance(){return Oe()},set pointersMinDistance(ke){Eo(ke)},get pointersMaxDistance(){return Ke()},set pointersMaxDistance(ke){So(ke)},get disabled(){return Lr()},set disabled(ke){il(ke)},get data(){return Zn()},get type(){return ie()},set type(ke){qe(ke)},get rightToLeft(){return kt()},set rightToLeft(ke){gt(ke)},get bottomToTop(){return cr()},set bottomToTop(ke){jt(ke)},get round(){return X()},set round(ke){Mt(ke)},get animateOnClick(){return fn},set animateOnClick(ke){ir(ke)},get keyboardDisabled(){return Br()},set keyboardDisabled(ke){ka(ke)},get mousewheelDisabled(){return jr()},set mousewheelDisabled(ke){Z(ke)},get rangeDragging(){return Ei()},set rangeDragging(ke){fi(ke)},setMin:tn,setMax:rn,setValue:bi,setStep:Js,setData:_e,getTextValue:Oi,setAriaLabel:Xr,getAriaLabel:Pt,addPointer:Ui,removePointer:Ji,destroy:()=>{Te.removeEventListener("mousedown",kn),Te.removeEventListener("mouseup",Hn),Te.removeEventListener("touchmove",gs),Te.removeEventListener("touchstart",gs),document.removeEventListener("wheel",Dn);for(let ke of Ye)ke.destroy();pt==null||pt.destroy()}}},Cn=(fe,Te,rt)=>{let Ye=zt.find(([pt,Je,Kt,Jt])=>Je.replace("#","")===Te.replace(/\d+/g,""));if(Ye&&fe.styles){let[pt,Je,Kt,Jt]=Ye,Lt=Te.replace(/\D/g,"").trim(),Ct=Lt===""||Lt==="0"||Lt==="1"?0:Xe(Lt,0)-1;fe.styles.setStyle(pt,rt,Ct);return}switch(fe&&fe.pluginsManager&&fe.pluginsManager.onAttrChange(Te,rt),Te){case d:{fe.setMin(rt);break}case f:{fe.setMax(rt);break}case p:{fe.setStep(rt);break}case o:{fe.pointersOverlap=Dt(rt);break}case a:{fe.pointersMinDistance=Xe(rt,0);break}case u:{fe.rangeDragging=Dt(rt);break}case l:{fe.pointersMaxDistance=Xe(rt,1/0);break}case S:{fe.disabled=Dt(rt);break}case C:{fe.keyboardDisabled=Dt(rt);break}case k:{fe.mousewheelDisabled=Dt(rt);break}case h:{fe.setData(rt);break}case y:{fe.type=rt;break}case x:{fe.rightToLeft=Dt(rt);break}case w:{fe.bottomToTop=Dt(rt);break}case g:{fe.round=Xe(rt,pr);break}case b:{fe.styles&&(fe.styles.theme=rt);break}case ge:{fe.animateOnClick=rt;break}}let bt=null;if(/^value([0-9]*)$/.test(Te)&&(bt="value"),/^pointer([0-9]*)-disabled$/.test(Te)&&(bt="pointer-disabled"),/^aria-label([0-9]*)$/.test(Te)&&(bt="aria-label"),/^pointer([0-9]*)-shape$/.test(Te)&&(bt="pointer-shape"),!bt)return;let qt=Te.replace(/\D/g,"").trim(),Wt=qt===""||qt==="0"||qt==="1"?0:Xe(qt,0)-1;switch(bt){case"value":{fe.setValue(rt,Wt);break}case"pointer-disabled":{let pt=fe==null?void 0:fe.pointers[Wt];if(!pt)return;pt.disabled=Dt(rt);break}case"aria-label":{fe.setAriaLabel(Wt,rt);break}case"pointer-shape":{fe.styles&&fe.styles.setPointerShape(Wt,rt);break}}},ur=class extends HTMLElement{constructor(){super(),i(this,"slider"),i(this,"_externalCSSList",[]),i(this,"_observer",null),this.attachShadow({mode:"open"})}set step(fe){this.slider&&this.slider.setStep(fe)}get step(){var fe;return(fe=this.slider)==null?void 0:fe.step}set disabled(fe){this.slider&&(this.slider.disabled=fe)}get disabled(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.disabled)!=null?Te:!1}set data(fe){var Te;(Te=this.slider)==null||Te.setData(fe)}get data(){var fe;return(fe=this.slider)==null?void 0:fe.data}set min(fe){var Te;(Te=this.slider)==null||Te.setMin(fe)}get min(){var fe;return(fe=this.slider)==null?void 0:fe.min}set max(fe){var Te;(Te=this.slider)==null||Te.setMax(fe)}get max(){var fe;return(fe=this.slider)==null?void 0:fe.max}set round(fe){!this.slider||(this.slider.round=fe)}get round(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.round)!=null?Te:pr}set type(fe){!this.slider||(this.slider.type=fe??it)}get type(){var fe;return((fe=this.slider)==null?void 0:fe.type)||it}set pointersOverlap(fe){!this.slider||(this.slider.pointersOverlap=fe)}get pointersOverlap(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.pointersOverlap)!=null?Te:!1}set pointersMinDistance(fe){!this.slider||(this.slider.pointersMinDistance=fe)}get pointersMinDistance(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.pointersMinDistance)!=null?Te:0}set pointersMaxDistance(fe){!this.slider||(this.slider.pointersMaxDistance=fe)}get pointersMaxDistance(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.pointersMaxDistance)!=null?Te:1/0}set theme(fe){!this.slider||!this.slider.styles||(this.slider.styles.theme=fe)}get theme(){var fe,Te,rt;return(rt=(Te=(fe=this.slider)==null?void 0:fe.styles)==null?void 0:Te.theme)!=null?rt:null}set rtl(fe){!this.slider||(this.slider.rightToLeft=fe)}get rtl(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.rightToLeft)!=null?Te:!1}set btt(fe){!this.slider||(this.slider.bottomToTop=fe)}get btt(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.bottomToTop)!=null?Te:!1}set keyboardDisabled(fe){!this.slider||(this.slider.keyboardDisabled=fe)}get keyboardDisabled(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.keyboardDisabled)!=null?Te:!1}set mousewheelDisabled(fe){!this.slider||(this.slider.mousewheelDisabled=fe)}get mousewheelDisabled(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.mousewheelDisabled)!=null?Te:!1}set animateOnClick(fe){!this.slider||(this.slider.animateOnClick=fe)}get animateOnClick(){var fe;return(fe=this.slider)==null?void 0:fe.animateOnClick}get rangeDragging(){var fe,Te;return(Te=(fe=this.slider)==null?void 0:fe.rangeDragging)!=null?Te:!1}set rangeDragging(fe){this.slider&&(this.slider.rangeDragging=Dt(fe))}get externalCSSList(){return this._externalCSSList}addPointer(fe){var Te,rt;if(!this.slider)return;let Ye=(rt=(Te=this.slider)==null?void 0:Te.addPointer(fe))!=null?rt:0;on(this,this.slider,Ye,`value${Ye+1}`,`ariaLabel${Ye+1}`,`pointerShape${Ye+1}`,`pointer${Ye+1}Disabled`)}removePointer(){var fe;!this.slider||(fe=this.slider)==null||fe.removePointer()}addCSS(fe){if(!this.shadowRoot)return;let Te=document.createElement("style");Te.textContent=fe,this.shadowRoot.appendChild(Te)}connectedCallback(){var fe,Te;if(!this.shadowRoot)return;this._externalCSSList=mt(this),this.shadowRoot.innerHTML=n(s,this._externalCSSList);let rt=(fe=this.shadowRoot)==null?void 0:fe.querySelector(".pointer");if(!rt)return;let Ye=(Te=this.shadowRoot)==null?void 0:Te.getElementById("range-slider");if(!Ye)return;let bt=hn(this,rt);this.slider=Ir(this,Ye,bt),$s(this,this.slider),this._observer=new MutationObserver(qt=>{qt.forEach(Wt=>{var pt;if(!this.slider||Wt.type!=="attributes")return;let Je=Wt.attributeName;!Je||Cn(this.slider,Je,(pt=this.getAttribute(Je))!=null?pt:"")})}),this._observer.observe(this,{attributes:!0})}disconnectedCallback(){this._observer&&this._observer.disconnect(),this.slider&&this.slider.destroy()}},qn=ur;window.tcRangeSlider=qn,customElements.get("toolcool-range-slider")||customElements.define("toolcool-range-slider",qn),customElements.get("tc-range-slider")||customElements.define("tc-range-slider",class extends qn{})})();var dh,Mue,wE;class Oue extends Wi{constructor(){super();nr(this,dh);this.filterObject={},this.tabIndex=0,this.inputHandler=tr(this,dh,Mue).bind(this),this.debouncedInputHandler=bh(this.inputHandler,0,{leading:!0})}reset(){VMe(this)}createRenderRoot(){return this}render(){return Ar(this.filterObject,()=>et`
        ${tr(this,dh,wE).call(this,"min","before")}
        <tc-range-slider
          min="${this.filterObject.min}"
          max="${this.filterObject.max}"
          value1="${this.filterObject.min||this.filterObject.state.min}"
          value2="${this.filterObject.max||this.filterObject.state.max}"
          step="${this.filterObject.step||1}"
          @change=${this.debouncedInputHandler}
        ></tc-range-slider>
        ${tr(this,dh,wE).call(this,"max","after")}
      `)}}dh=new WeakSet,Mue=function(r){GMe(r,this)},wE=function(r,i){return WMe(r,i,this)},Ge(Oue,"properties",{filterObject:{attribute:!1,type:Object},tabIndex:{attribute:!1,type:Number}});customElements.define("eox-itemfilter-range",Oue);var E1,Rue;class cRe extends Wi{constructor(){super();nr(this,E1);this.filterObject={},this.tabIndex=0}static get properties(){return{filterObject:{type:Object},tabIndex:{attribute:!1,type:Number}}}reset(){eRe(this)}createRenderRoot(){return this}render(){return Ar(this.filterObject,()=>{var r;return et`
        <form style="display: inline">
          ${ta(["intersects","within"],i=>et`
              <label>
                <input
                  tabindex=${this.tabIndex}
                  type="radio"
                  name="mode"
                  .checked="${(this.filterObject.state.mode||"")===i||zi}"
                  value="${i}"
                  @click=${()=>tr(this,E1,Rue).call(this,i)}
                />
                <small>${i} filter geometry</small>
              </label>
            `)}
        </form>
        <eox-itemfilter-spatial-filter
          exportparts="map: spatial-filter-map"
          .geometry="${(r=this.filterObject.state)==null?void 0:r.geometry}"
          @filter="${i=>{this.filterObject.state.geometry=i.detail.geometry,this.filterObject.dirty=!0,this.filterObject.stringifiedState="Polygon",this.dispatchEvent(new CustomEvent("filter"))}}"
        ></eox-itemfilter-spatial>
      `})}}E1=new WeakSet,Rue=function(r){rRe(r,this)};customElements.define("eox-itemfilter-spatial",cRe);var S1,Iue;class dRe extends Wi{constructor(){super();nr(this,S1);this.geometry=null,this.eoxMap=null}static get properties(){return{geometry:{type:Object},eoxMap:{type:Object}}}firstUpdated(){tr(this,S1,Iue).call(this)}reset(){tRe(this)}render(){return et`<div id="eox-map"></div>`}}S1=new WeakSet,Iue=function(){Eue(this)};customElements.define("eox-itemfilter-spatial-filter",dRe);function hRe(t,e){e.renderRoot.querySelectorAll(".chip").forEach(r=>{r.classList.remove("highlighted")}),t.target.classList.add("highlighted"),e.requestUpdate()}function fRe(t,e){const{code:r,target:i}=t;i.id==="eox-itemfilter-input-search"&&(e.parentElement.classList.contains("hidden")&&["ArrowLeft","ArrowRight","Backspace"].includes(r)||(r==="Space"&&t.preventDefault(),["Escape","Space","Enter"].includes(r)||t.stopPropagation(),["ArrowLeft","ArrowRight","Escape","Backspace"].includes(r)&&pRe(r,t.target.value??"",e)))}function pRe(t,e,r){const i=r.renderRoot.querySelector(".chip.highlighted");if((t==="Escape"||e)&&i&&i.classList.remove("highlighted"),t==="Backspace"&&!e){if(r.items.length){i&&(i.querySelector(".chip-item-close").click(),r.items.splice(Array.from(r.renderRoot.querySelectorAll(".chip")).indexOf(i),1));const n=r.renderRoot.querySelectorAll(".chip")[r.renderRoot.querySelectorAll(".chip").length-1];n.classList.contains("highlighted")||n.classList.add("highlighted"),r.requestUpdate()}r._dispatchEvent()}if((t==="ArrowLeft"||t==="ArrowRight")&&!e){if(r.renderRoot.querySelectorAll(".chip").length<1)return;let n=0;const s=r.renderRoot.querySelector(".chip.highlighted");s&&(n=Array.from(r.renderRoot.querySelectorAll(".chip")).indexOf(s),s.classList.remove("highlighted")),n=n+(t==="ArrowLeft"?-1:1),t==="ArrowLeft"&&n<0&&(n=r.renderRoot.querySelectorAll(".chip").length-1),t==="ArrowRight"&&n>r.renderRoot.querySelectorAll(".chip").length-1&&(n=0),Array.from(r.renderRoot.querySelectorAll(".chip"))[n].classList.add("highlighted")}}var hh,EE,Fue;class mRe extends Wi{constructor(){super();nr(this,hh);this.items={},this.controller={}}static get properties(){return{items:{attribute:!1,type:Object},controller:{attribute:!1,type:Object}}}connectedCallback(){super.connectedCallback(),this.getRootNode().addEventListener("keydown",tr(this,hh,EE).bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.getRootNode().removeEventListener("keydown",tr(this,hh,EE).bind(this))}_dispatchEvent(){this.dispatchEvent(new CustomEvent("items-selected",{detail:this.items}))}render(){return et`
      <style>
        ${sy}
      </style>
      <span class="chip-container">
        ${ta(this.items,r=>et`
            <span class="chip" @click=${tr(this,hh,Fue).bind(this)}>
              <span class="chip-title">${r.title}</span>
                <span
                  class="chip-item-close hidden"
                  data-close=${r.key}
                  @click=${i=>{i.stopPropagation(),this.controller.remove(i),this.requestUpdate()}}
                ></span>
            </span>
            </span>
          `)}
      </span>
    `}}hh=new WeakSet,EE=function(r){fRe(r,this)},Fue=function(r){hRe(r,this)};customElements.define("eox-itemfilter-chips",mRe);const gRe=Object.freeze({aggregateResults:void 0,autoSpreadSingle:!1,enableHighlighting:!1,externalFilter:()=>{},filterProperties:[],fuseConfig:{},inlineMode:!1,matchAllWhenEmpty:!0,showResults:!0,idProperty:"id",titleProperty:"title",subTitleProperty:void 0,expandMultipleFilters:!0,expandResults:!0,expandMultipleResults:!0}),lre=["aggregateResults","autoSpreadSingle","enableHighlighting","externalFilter","filterProperties","fuseConfig","inlineMode","matchAllWhenEmpty","showResults","titleProperty","subTitleProperty","idProperty","expandMultipleFilters","expandResults","expandMultipleResults","items"];var yRe=200,TC="__lodash_hash_undefined__",bRe=1/0,vRe="[object Function]",xRe="[object GeneratorFunction]",_Re=/[\\^$.*+?()[\]{}|]/g,wRe=/^\[object .+?Constructor\]$/,ERe=typeof oi=="object"&&oi&&oi.Object===Object&&oi,SRe=typeof self=="object"&&self&&self.Object===Object&&self,DC=ERe||SRe||Function("return this")();function CRe(t,e){var r=t?t.length:0;return!!r&&ARe(t,e,0)>-1}function kRe(t,e,r,i){for(var n=t.length,s=r+-1;++s<n;)if(e(t[s],s,t))return s;return-1}function ARe(t,e,r){if(e!==e)return kRe(t,TRe,r);for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1}function TRe(t){return t!==t}function DRe(t,e){return t.has(e)}function LRe(t,e){return t==null?void 0:t[e]}function ORe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Pue(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var MRe=Array.prototype,RRe=Function.prototype,Nue=Object.prototype,F_=DC["__core-js_shared__"],ure=function(){var t=/[^.]+$/.exec(F_&&F_.keys&&F_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$ue=RRe.toString,LC=Nue.hasOwnProperty,IRe=Nue.toString,FRe=RegExp("^"+$ue.call(LC).replace(_Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),PRe=MRe.splice,NRe=OC(DC,"Map"),P_=OC(DC,"Set"),x0=OC(Object,"create");function lh(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function $Re(){this.__data__=x0?x0(null):{}}function BRe(t){return this.has(t)&&delete this.__data__[t]}function jRe(t){var e=this.__data__;if(x0){var r=e[t];return r===TC?void 0:r}return LC.call(e,t)?e[t]:void 0}function zRe(t){var e=this.__data__;return x0?e[t]!==void 0:LC.call(e,t)}function URe(t,e){var r=this.__data__;return r[t]=x0&&e===void 0?TC:e,this}lh.prototype.clear=$Re;lh.prototype.delete=BRe;lh.prototype.get=jRe;lh.prototype.has=zRe;lh.prototype.set=URe;function Rp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function qRe(){this.__data__=[]}function HRe(t){var e=this.__data__,r=Dx(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():PRe.call(e,r,1),!0}function VRe(t){var e=this.__data__,r=Dx(e,t);return r<0?void 0:e[r][1]}function GRe(t){return Dx(this.__data__,t)>-1}function WRe(t,e){var r=this.__data__,i=Dx(r,t);return i<0?r.push([t,e]):r[i][1]=e,this}Rp.prototype.clear=qRe;Rp.prototype.delete=HRe;Rp.prototype.get=VRe;Rp.prototype.has=GRe;Rp.prototype.set=WRe;function Ip(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function YRe(){this.__data__={hash:new lh,map:new(NRe||Rp),string:new lh}}function ZRe(t){return Lx(this,t).delete(t)}function XRe(t){return Lx(this,t).get(t)}function KRe(t){return Lx(this,t).has(t)}function JRe(t,e){return Lx(this,t).set(t,e),this}Ip.prototype.clear=YRe;Ip.prototype.delete=ZRe;Ip.prototype.get=XRe;Ip.prototype.has=KRe;Ip.prototype.set=JRe;function Kv(t){var e=-1,r=t?t.length:0;for(this.__data__=new Ip;++e<r;)this.add(t[e])}function QRe(t){return this.__data__.set(t,TC),this}function eIe(t){return this.__data__.has(t)}Kv.prototype.add=Kv.prototype.push=QRe;Kv.prototype.has=eIe;function Dx(t,e){for(var r=t.length;r--;)if(lIe(t[r][0],e))return r;return-1}function tIe(t){if(!Bue(t)||sIe(t))return!1;var e=uIe(t)||ORe(t)?FRe:wRe;return e.test(oIe(t))}function rIe(t,e,r){var i=-1,n=CRe,s=t.length,o=!0,a=[],l=a;if(s>=yRe){var u=iIe(t);if(u)return Pue(u);o=!1,n=DRe,l=new Kv}else l=a;e:for(;++i<s;){var h=t[i],d=h;if(h=h!==0?h:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;a.push(h)}else n(l,d,r)||(l!==a&&l.push(d),a.push(h))}return a}var iIe=P_&&1/Pue(new P_([,-0]))[1]==bRe?function(t){return new P_(t)}:cIe;function Lx(t,e){var r=t.__data__;return nIe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function OC(t,e){var r=LRe(t,e);return tIe(r)?r:void 0}function nIe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sIe(t){return!!ure&&ure in t}function oIe(t){if(t!=null){try{return $ue.call(t)}catch{}try{return t+""}catch{}}return""}function aIe(t){return t&&t.length?rIe(t):[]}function lIe(t,e){return t===e||t!==t&&e!==e}function uIe(t){var e=Bue(t)?IRe.call(t):"";return e==vRe||e==xRe}function Bue(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cIe(){}var dIe=aIe;const jue=Ps(dIe);var Jv={exports:{}};Jv.exports;(function(t,e){var r=200,i="Expected a function",n="__lodash_hash_undefined__",s=1,o=2,a=1/0,l=9007199254740991,u="[object Arguments]",h="[object Array]",d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Function]",y="[object GeneratorFunction]",b="[object Map]",x="[object Number]",w="[object Object]",S="[object Promise]",C="[object RegExp]",k="[object Set]",O="[object String]",M="[object Symbol]",A="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",V="[object Float32Array]",oe="[object Float64Array]",L="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",Y="[object Uint8Array]",G="[object Uint8ClampedArray]",Q="[object Uint16Array]",J="[object Uint32Array]",re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pe=/^\w*$/,ee=/^\./,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/[\\^$.*+?()[\]{}|]/g,ve=/\\(\\)?/g,ze=/^\[object .+?Constructor\]$/,it=/^(?:0|[1-9]\d*)$/,tt={};tt[V]=tt[oe]=tt[L]=tt[F]=tt[U]=tt[Y]=tt[G]=tt[Q]=tt[J]=!0,tt[u]=tt[h]=tt[I]=tt[d]=tt[R]=tt[f]=tt[p]=tt[g]=tt[b]=tt[x]=tt[w]=tt[C]=tt[k]=tt[O]=tt[A]=!1;var Ne=typeof oi=="object"&&oi&&oi.Object===Object&&oi,Xe=typeof self=="object"&&self&&self.Object===Object&&self,nt=Ne||Xe||Function("return this")(),vt=e&&!e.nodeType&&e,Dt=vt&&!0&&t&&!t.nodeType&&t,Rt=Dt&&Dt.exports===vt,Er=Rt&&Ne.process,or=function(){try{return Er&&Er.binding("util")}catch{}}(),di=or&&or.isTypedArray;function We(Z,_e){for(var qe=-1,gt=Z?Z.length:0,jt=Array(gt);++qe<gt;)jt[qe]=_e(Z[qe],qe,Z);return jt}function he(Z,_e){for(var qe=-1,gt=_e.length,jt=Z.length;++qe<gt;)Z[jt+qe]=_e[qe];return Z}function ue(Z,_e){for(var qe=-1,gt=Z?Z.length:0;++qe<gt;)if(_e(Z[qe],qe,Z))return!0;return!1}function ae(Z){return function(_e){return _e==null?void 0:_e[Z]}}function me(Z,_e){for(var qe=-1,gt=Array(Z);++qe<Z;)gt[qe]=_e(qe);return gt}function T(Z){return function(_e){return Z(_e)}}function $(Z,_e){return Z==null?void 0:Z[_e]}function W(Z){var _e=!1;if(Z!=null&&typeof Z.toString!="function")try{_e=!!(Z+"")}catch{}return _e}function K(Z){var _e=-1,qe=Array(Z.size);return Z.forEach(function(gt,jt){qe[++_e]=[jt,gt]}),qe}function ye(Z,_e){return function(qe){return Z(_e(qe))}}function xe(Z){var _e=-1,qe=Array(Z.size);return Z.forEach(function(gt){qe[++_e]=gt}),qe}var Me=Array.prototype,j=Function.prototype,te=Object.prototype,de=nt["__core-js_shared__"],ce=function(){var Z=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),Ae=j.toString,Ce=te.hasOwnProperty,Se=te.toString,De=RegExp("^"+Ae.call(Ce).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=nt.Symbol,Ve=nt.Uint8Array,ot=te.propertyIsEnumerable,lt=Me.splice,$t=Ie?Ie.isConcatSpreadable:void 0,mt=ye(Object.keys,Object),zt=rs(nt,"DataView"),Ht=rs(nt,"Map"),Vt=rs(nt,"Promise"),fr=rs(nt,"Set"),Yt=rs(nt,"WeakMap"),ri=rs(Object,"create"),dn=kt(zt),hn=kt(Ht),on=kt(Vt),$s=kt(fr),Sr=kt(Yt),ai=Ie?Ie.prototype:void 0,hi=ai?ai.valueOf:void 0,$r=ai?ai.toString:void 0;function pr(Z){var _e=-1,qe=Z?Z.length:0;for(this.clear();++_e<qe;){var gt=Z[_e];this.set(gt[0],gt[1])}}function an(){this.__data__=ri?ri(null):{}}function Ir(Z){return this.has(Z)&&delete this.__data__[Z]}function Cn(Z){var _e=this.__data__;if(ri){var qe=_e[Z];return qe===n?void 0:qe}return Ce.call(_e,Z)?_e[Z]:void 0}function ur(Z){var _e=this.__data__;return ri?_e[Z]!==void 0:Ce.call(_e,Z)}function qn(Z,_e){var qe=this.__data__;return qe[Z]=ri&&_e===void 0?n:_e,this}pr.prototype.clear=an,pr.prototype.delete=Ir,pr.prototype.get=Cn,pr.prototype.has=ur,pr.prototype.set=qn;function fe(Z){var _e=-1,qe=Z?Z.length:0;for(this.clear();++_e<qe;){var gt=Z[_e];this.set(gt[0],gt[1])}}function Te(){this.__data__=[]}function rt(Z){var _e=this.__data__,qe=qr(_e,Z);if(qe<0)return!1;var gt=_e.length-1;return qe==gt?_e.pop():lt.call(_e,qe,1),!0}function Ye(Z){var _e=this.__data__,qe=qr(_e,Z);return qe<0?void 0:_e[qe][1]}function bt(Z){return qr(this.__data__,Z)>-1}function qt(Z,_e){var qe=this.__data__,gt=qr(qe,Z);return gt<0?qe.push([Z,_e]):qe[gt][1]=_e,this}fe.prototype.clear=Te,fe.prototype.delete=rt,fe.prototype.get=Ye,fe.prototype.has=bt,fe.prototype.set=qt;function Wt(Z){var _e=-1,qe=Z?Z.length:0;for(this.clear();++_e<qe;){var gt=Z[_e];this.set(gt[0],gt[1])}}function pt(){this.__data__={hash:new pr,map:new(Ht||fe),string:new pr}}function Je(Z){return An(this,Z).delete(Z)}function Kt(Z){return An(this,Z).get(Z)}function Jt(Z){return An(this,Z).has(Z)}function Lt(Z,_e){return An(this,Z).set(Z,_e),this}Wt.prototype.clear=pt,Wt.prototype.delete=Je,Wt.prototype.get=Kt,Wt.prototype.has=Jt,Wt.prototype.set=Lt;function Ct(Z){var _e=-1,qe=Z?Z.length:0;for(this.__data__=new Wt;++_e<qe;)this.add(Z[_e])}function ii(Z){return this.__data__.set(Z,n),this}function Li(Z){return this.__data__.has(Z)}Ct.prototype.add=Ct.prototype.push=ii,Ct.prototype.has=Li;function Bt(Z){this.__data__=new fe(Z)}function He(){this.__data__=new fe}function ht(Z){return this.__data__.delete(Z)}function Dr(Z){return this.__data__.get(Z)}function li(Z){return this.__data__.has(Z)}function ni(Z,_e){var qe=this.__data__;if(qe instanceof fe){var gt=qe.__data__;if(!Ht||gt.length<r-1)return gt.push([Z,_e]),this;qe=this.__data__=new Wt(gt)}return qe.set(Z,_e),this}Bt.prototype.clear=He,Bt.prototype.delete=ht,Bt.prototype.get=Dr,Bt.prototype.has=li,Bt.prototype.set=ni;function ui(Z,_e){var qe=Ei(Z)||zr(Z)?me(Z.length,String):[],gt=qe.length,jt=!!gt;for(var Mt in Z)Ce.call(Z,Mt)&&!(jt&&(Mt=="length"||ln(Mt,gt)))&&qe.push(Mt);return qe}function qr(Z,_e){for(var qe=Z.length;qe--;)if(jr(Z[qe][0],_e))return qe;return-1}var Ot=ts(pn);function Ki(Z,_e,qe,gt,jt){var Mt=-1,ir=Z.length;for(qe||(qe=xs),jt||(jt=[]);++Mt<ir;){var Xr=Z[Mt];qe(Xr)?he(jt,Xr):jt[jt.length]=Xr}return jt}var fn=fo();function pn(Z,_e){return Z&&fn(Z,_e,So)}function kn(Z,_e){_e=_s(_e,Z)?[_e]:ho(_e);for(var qe=0,gt=_e.length;Z!=null&&qe<gt;)Z=Z[Pt(_e[qe++])];return qe&&qe==gt?Z:void 0}function Hn(Z){return Se.call(Z)}function ps(Z,_e){return Z!=null&&_e in Object(Z)}function ms(Z,_e,qe,gt,jt){return Z===_e?!0:Z==null||_e==null||!tn(Z)&&!rn(_e)?Z!==Z&&_e!==_e:gs(Z,_e,ms,qe,gt,jt)}function gs(Z,_e,qe,gt,jt,Mt){var ir=Ei(Z),Xr=Ei(_e),fi=h,mn=h;ir||(fi=wn(Z),fi=fi==u?w:fi),Xr||(mn=wn(_e),mn=mn==u?w:mn);var Mn=fi==w&&!W(Z),Ui=mn==w&&!W(_e),Ji=fi==mn;if(Ji&&!Mn)return Mt||(Mt=new Bt),ir||bi(Z)?js(Z,_e,qe,gt,jt,Mt):Oi(Z,_e,fi,qe,gt,jt,Mt);if(!(jt&o)){var ke=Mn&&Ce.call(Z,"__wrapped__"),at=Ui&&Ce.call(_e,"__wrapped__");if(ke||at){var It=ke?Z.value():Z,Cr=at?_e.value():_e;return Mt||(Mt=new Bt),qe(It,Cr,gt,jt,Mt)}}return Ji?(Mt||(Mt=new Bt),Yn(Z,_e,qe,gt,jt,Mt)):!1}function Dn(Z,_e,qe,gt){var jt=qe.length,Mt=jt;if(Z==null)return!Mt;for(Z=Object(Z);jt--;){var ir=qe[jt];if(ir[2]?ir[1]!==Z[ir[0]]:!(ir[0]in Z))return!1}for(;++jt<Mt;){ir=qe[jt];var Xr=ir[0],fi=Z[Xr],mn=ir[1];if(ir[2]){if(fi===void 0&&!(Xr in Z))return!1}else{var Mn=new Bt,Ui;if(!(Ui===void 0?ms(mn,fi,gt,s|o,Mn):Ui))return!1}}return!0}function Bs(Z){if(!tn(Z)||Zn(Z))return!1;var _e=On(Z)||W(Z)?De:ze;return _e.test(kt(Z))}function ys(Z){return rn(Z)&&is(Z.length)&&!!tt[Se.call(Z)]}function Ii(Z){return typeof Z=="function"?Z:Z==null?il:typeof Z=="object"?Ei(Z)?Gn(Z[0],Z[1]):Vn(Z):ka(Z)}function bs(Z){if(!ie(Z))return mt(Z);var _e=[];for(var qe in Object(Z))Ce.call(Z,qe)&&qe!="constructor"&&_e.push(qe);return _e}function es(Z,_e){var qe=-1,gt=Or(Z)?Array(Z.length):[];return Ot(Z,function(jt,Mt,ir){gt[++qe]=_e(jt,Mt,ir)}),gt}function Vn(Z){var _e=Ks(Z);return _e.length==1&&_e[0][2]?Oe(_e[0][0],_e[0][1]):function(qe){return qe===Z||Dn(qe,Z,_e)}}function Gn(Z,_e){return _s(Z)&&X(_e)?Oe(Pt(Z),_e):function(qe){var gt=Ca(qe,Z);return gt===void 0&&gt===_e?Eo(qe,Z):ms(_e,gt,void 0,s|o)}}function Wn(Z){return function(_e){return kn(_e,Z)}}function vs(Z){if(typeof Z=="string")return Z;if(Ts(Z))return $r?$r.call(Z):"";var _e=Z+"";return _e=="0"&&1/Z==-a?"-0":_e}function ho(Z){return Ei(Z)?Z:Ke(Z)}function ts(Z,_e){return function(qe,gt){if(qe==null)return qe;if(!Or(qe))return Z(qe,gt);for(var jt=qe.length,Mt=-1,ir=Object(qe);++Mt<jt&&gt(ir[Mt],Mt,ir)!==!1;);return qe}}function fo(Z){return function(_e,qe,gt){for(var jt=-1,Mt=Object(_e),ir=gt(_e),Xr=ir.length;Xr--;){var fi=ir[++jt];if(qe(Mt[fi],fi,Mt)===!1)break}return _e}}function js(Z,_e,qe,gt,jt,Mt){var ir=jt&o,Xr=Z.length,fi=_e.length;if(Xr!=fi&&!(ir&&fi>Xr))return!1;var mn=Mt.get(Z);if(mn&&Mt.get(_e))return mn==_e;var Mn=-1,Ui=!0,Ji=jt&s?new Ct:void 0;for(Mt.set(Z,_e),Mt.set(_e,Z);++Mn<Xr;){var ke=Z[Mn],at=_e[Mn];if(gt)var It=ir?gt(at,ke,Mn,_e,Z,Mt):gt(ke,at,Mn,Z,_e,Mt);if(It!==void 0){if(It)continue;Ui=!1;break}if(Ji){if(!ue(_e,function(Cr,Kr){if(!Ji.has(Kr)&&(ke===Cr||qe(ke,Cr,gt,jt,Mt)))return Ji.add(Kr)})){Ui=!1;break}}else if(!(ke===at||qe(ke,at,gt,jt,Mt))){Ui=!1;break}}return Mt.delete(Z),Mt.delete(_e),Ui}function Oi(Z,_e,qe,gt,jt,Mt,ir){switch(qe){case R:if(Z.byteLength!=_e.byteLength||Z.byteOffset!=_e.byteOffset)return!1;Z=Z.buffer,_e=_e.buffer;case I:return!(Z.byteLength!=_e.byteLength||!gt(new Ve(Z),new Ve(_e)));case d:case f:case x:return jr(+Z,+_e);case p:return Z.name==_e.name&&Z.message==_e.message;case C:case O:return Z==_e+"";case b:var Xr=K;case k:var fi=Mt&o;if(Xr||(Xr=xe),Z.size!=_e.size&&!fi)return!1;var mn=ir.get(Z);if(mn)return mn==_e;Mt|=s,ir.set(Z,_e);var Mn=js(Xr(Z),Xr(_e),gt,jt,Mt,ir);return ir.delete(Z),Mn;case M:if(hi)return hi.call(Z)==hi.call(_e)}return!1}function Yn(Z,_e,qe,gt,jt,Mt){var ir=jt&o,Xr=So(Z),fi=Xr.length,mn=So(_e),Mn=mn.length;if(fi!=Mn&&!ir)return!1;for(var Ui=fi;Ui--;){var Ji=Xr[Ui];if(!(ir?Ji in _e:Ce.call(_e,Ji)))return!1}var ke=Mt.get(Z);if(ke&&Mt.get(_e))return ke==_e;var at=!0;Mt.set(Z,_e),Mt.set(_e,Z);for(var It=ir;++Ui<fi;){Ji=Xr[Ui];var Cr=Z[Ji],Kr=_e[Ji];if(gt)var yr=ir?gt(Kr,Cr,Ji,_e,Z,Mt):gt(Cr,Kr,Ji,Z,_e,Mt);if(!(yr===void 0?Cr===Kr||qe(Cr,Kr,gt,jt,Mt):yr)){at=!1;break}It||(It=Ji=="constructor")}if(at&&!It){var nn=Z.constructor,mo=_e.constructor;nn!=mo&&"constructor"in Z&&"constructor"in _e&&!(typeof nn=="function"&&nn instanceof nn&&typeof mo=="function"&&mo instanceof mo)&&(at=!1)}return Mt.delete(Z),Mt.delete(_e),at}function An(Z,_e){var qe=Z.__data__;return po(_e)?qe[typeof _e=="string"?"string":"hash"]:qe.map}function Ks(Z){for(var _e=So(Z),qe=_e.length;qe--;){var gt=_e[qe],jt=Z[gt];_e[qe]=[gt,jt,X(jt)]}return _e}function rs(Z,_e){var qe=$(Z,_e);return Bs(qe)?qe:void 0}var wn=Hn;(zt&&wn(new zt(new ArrayBuffer(1)))!=R||Ht&&wn(new Ht)!=b||Vt&&wn(Vt.resolve())!=S||fr&&wn(new fr)!=k||Yt&&wn(new Yt)!=A)&&(wn=function(Z){var _e=Se.call(Z),qe=_e==w?Z.constructor:void 0,gt=qe?kt(qe):void 0;if(gt)switch(gt){case dn:return R;case hn:return b;case on:return S;case $s:return k;case Sr:return A}return _e});function Ln(Z,_e,qe){_e=_s(_e,Z)?[_e]:ho(_e);for(var gt,jt=-1,ir=_e.length;++jt<ir;){var Mt=Pt(_e[jt]);if(!(gt=Z!=null&&qe(Z,Mt)))break;Z=Z[Mt]}if(gt)return gt;var ir=Z?Z.length:0;return!!ir&&is(ir)&&ln(Mt,ir)&&(Ei(Z)||zr(Z))}function xs(Z){return Ei(Z)||zr(Z)||!!($t&&Z&&Z[$t])}function ln(Z,_e){return _e=_e??l,!!_e&&(typeof Z=="number"||it.test(Z))&&Z>-1&&Z%1==0&&Z<_e}function _s(Z,_e){if(Ei(Z))return!1;var qe=typeof Z;return qe=="number"||qe=="symbol"||qe=="boolean"||Z==null||Ts(Z)?!0:pe.test(Z)||!re.test(Z)||_e!=null&&Z in Object(_e)}function po(Z){var _e=typeof Z;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?Z!=="__proto__":Z===null}function Zn(Z){return!!ce&&ce in Z}function ie(Z){var _e=Z&&Z.constructor,qe=typeof _e=="function"&&_e.prototype||te;return Z===qe}function X(Z){return Z===Z&&!tn(Z)}function Oe(Z,_e){return function(qe){return qe==null?!1:qe[Z]===_e&&(_e!==void 0||Z in Object(qe))}}var Ke=Br(function(Z){Z=Js(Z);var _e=[];return ee.test(Z)&&_e.push(""),Z.replace(B,function(qe,gt,jt,Mt){_e.push(jt?Mt.replace(ve,"$1"):gt||qe)}),_e});function Pt(Z){if(typeof Z=="string"||Ts(Z))return Z;var _e=Z+"";return _e=="0"&&1/Z==-a?"-0":_e}function kt(Z){if(Z!=null){try{return Ae.call(Z)}catch{}try{return Z+""}catch{}}return""}function cr(Z,_e){return Ki(Lr(Z,_e))}function Lr(Z,_e){var qe=Ei(Z)?We:es;return qe(Z,Ii(_e))}function Br(Z,_e){if(typeof Z!="function"||_e&&typeof _e!="function")throw new TypeError(i);var qe=function(){var gt=arguments,jt=_e?_e.apply(this,gt):gt[0],Mt=qe.cache;if(Mt.has(jt))return Mt.get(jt);var ir=Z.apply(this,gt);return qe.cache=Mt.set(jt,ir),ir};return qe.cache=new(Br.Cache||Wt),qe}Br.Cache=Wt;function jr(Z,_e){return Z===_e||Z!==Z&&_e!==_e}function zr(Z){return Fi(Z)&&Ce.call(Z,"callee")&&(!ot.call(Z,"callee")||Se.call(Z)==u)}var Ei=Array.isArray;function Or(Z){return Z!=null&&is(Z.length)&&!On(Z)}function Fi(Z){return rn(Z)&&Or(Z)}function On(Z){var _e=tn(Z)?Se.call(Z):"";return _e==g||_e==y}function is(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=l}function tn(Z){var _e=typeof Z;return!!Z&&(_e=="object"||_e=="function")}function rn(Z){return!!Z&&typeof Z=="object"}function Ts(Z){return typeof Z=="symbol"||rn(Z)&&Se.call(Z)==M}var bi=di?T(di):ys;function Js(Z){return Z==null?"":vs(Z)}function Ca(Z,_e,qe){var gt=Z==null?void 0:kn(Z,_e);return gt===void 0?qe:gt}function Eo(Z,_e){return Z!=null&&Ln(Z,_e,ps)}function So(Z){return Or(Z)?ui(Z):bs(Z)}function il(Z){return Z}function ka(Z){return _s(Z)?ae(Pt(Z)):Wn(Z)}t.exports=cr})(Jv,Jv.exports);var hIe=Jv.exports;const zue=Ps(hIe);function fIe(t,e,r){let i=[];t.filterProperties.length&&t.filterProperties.forEach(s=>{const o={},a=u=>s.format==="date"?Cl(u).unix():parseFloat(u);e.forEach(u=>{var h;if(s.type==="range"){const d=mE(s.key,u);if(Array.isArray(d)){const f=[a(d[0]),a(d[1])];o.min=o.min!==void 0?Math.min(o.min,f[0]):f[0],o.max=o.max!==void 0?Math.max(o.max,f[1]):f[1]}else{const f=a(d);o.min=o.min!==void 0?Math.min(o.min,f):f,o.max=o.max!==void 0?Math.max(o.max,f):f}return}Array.isArray(u[s.key])?u[s.key].forEach(d=>{o[d]=void 0}):s.type==="spatial"?(o.geometry=void 0,o.mode=s.mode||"intersects"):(h=s.key)!=null&&h.includes(".")?jue(zue(r.items,s.key)).filter(d=>d).forEach(d=>{o[d]=void 0}):o[u[s.key]]=void 0});const l=s.key||s.keys.join("|");r.filters[l]=Object.assign({type:s.type||"multiselect",dirty:s.state?!1:void 0,key:l},s.type==="range"?{min:o.min,max:o.max,format:s.format}:{},s),r.filters[l].state=Object.assign({},o,s.state)}),t.matchAllWhenEmpty!==!1&&(r.results=r.sortResults(e),r.requestUpdate()),t.aggregateResults&&(i=Array.from(new Set(e.reduce((s,o)=>s.concat(o[t.aggregateResults]),[]))).sort((s,o)=>s.localeCompare(o)));const n=[];return Object.values(r.filters).forEach(s=>{s.type==="text"?s.keys.forEach(o=>{n.includes(o)||n.push(o)}):(s.type==="select"||s.type==="multiselect")&&(n.includes(s.key)||n.push(s.key))}),NMe(e,Object.assign({keys:n},t.fuseConfig)),i}async function pIe(t,e,r){let i;r.externalFilter?i=await zMe(e,r.filters,t):i=await $Me(e,r.filters,t),r.results=r.sortResults(i)}function mIe(t,e,r){const i=`filter-${t.key}`.replace("|","-");switch(t.type){case"text":return et`<eox-itemfilter-text
        data-type="filter"
        data-cy="text-filter"
        slot="filter"
        id="${i}"
        .tabIndex=${e}
        .filterObject=${t}
        .unstyled=${r.unstyled}
        @filter=${()=>r.search()}
      ></eox-itemfilter-text>`;case"multiselect":case"select":return et`
        <eox-itemfilter-select
          .inlineMode=${r.inlineMode||!1}
          data-type="filter"
          id="${i}"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          .suggestions="${jue(zue(r.items,t.key)).filter(n=>n)}"
          type="${t.type}"
          .unstyled=${r.unstyled}
          @filter=${()=>r.search()}
        ></eox-itemfilter-select>
      `;case"range":return et`
        <eox-itemfilter-range
          id="${i}"
          data-type="filter"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          .unstyled=${r.unstyled}
          @filter=${()=>r.search()}
        ></eox-itemfilter-range>
      `;case"spatial":return et`
        <eox-itemfilter-spatial
          id="${i}"
          data-type="filter"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          @filter=${()=>r.search()}
        ></eox-itemfilter-spatial>
      `;default:return et``}}function gIe(t,e){return[...t].sort((r,i)=>r[e.titleProperty].localeCompare(i[e.titleProperty]))}function yIe(t,e,r){return et`
    ${Ar(t.dirty,()=>et`
        <button
          type="button"
          tabindex=${e}
          slot="reset-button"
          class="reset-icon icon"
          @click=${i=>{const n=i.target.parentElement.querySelector("[slot=filter]");n&&typeof n.reset=="function"&&n.reset(),r.search(),r.requestUpdate()}}
        >
          ${r.unstyled?"Reset":zi}
        </button>
      `)}
  `}function bIe(t){t.renderRoot.querySelectorAll("[data-type='filter']").forEach(e=>{typeof e.reset=="function"&&e.reset()}),t.search()}var $0,Gf,ya,cp,Uue,que;class vIe extends sse{constructor(){super();nr(this,cp);nr(this,$0,[]);nr(this,Gf,[]);nr(this,ya,gRe);this.items=null,this.filters={},this.results=[],this.selectedResult=null,this.search=bh(this.searchHandler,100,{leading:!0}),this.aggregateResults=void 0,this.autoSpreadSingle=!1,this.enableHighlighting=!1,this.externalFilter=null,this.filterProperties=[],this.fuseConfig={},this.inlineMode=!1,this.matchAllWhenEmpty=!0,this.showResults=!0,this.titleProperty="title",this.subTitleProperty=void 0,this.idProperty="id",this.expandMultipleFilters=!0,this.expandResults=!0,this.expandMultipleResults=!0,this.unstyled=!1}static get properties(){return{items:{attribute:!1,type:Object},results:{state:!0,attribute:!1,type:Object},filters:{state:!0,attribute:!1,type:Object},selectedResult:{attribute:!1,type:Object},aggregateResults:{attribute:"aggregate-results",type:String},autoSpreadSingle:{attribute:"auto-spread-single",type:Boolean},enableHighlighting:{attribute:"enable-highlighting",type:Boolean},filterProperties:{attribute:!1,type:Array},fuseConfig:{attribute:!1,type:Object},inlineMode:{attribute:"inline-mode",type:Boolean},matchAllWhenEmpty:{attribute:"match-all-when-empty",type:Boolean},showResults:{attribute:"show-result",type:Boolean},idProperty:{attribute:"id-property",type:String},titleProperty:{attribute:"title-property",type:String},subTitleProperty:{attribute:"sub-title-property",type:String},expandMultipleFilters:{attribute:"enable-multiple-filter",type:Boolean},expandResults:{attribute:"expand-result",type:Boolean},expandMultipleResults:{attribute:"expand-multiple-results",type:Boolean},externalFilter:{attribute:!1,type:Function},unstyled:{type:Boolean}}}apply(){Kn(this,$0,fIe(Ut(this,ya),Ut(this,Gf),this)),this.search()}async searchHandler(){await pIe(Ut(this,ya),Ut(this,Gf),this),this.dispatchEvent(new CustomEvent("filter",{detail:{results:this.results,filters:this.filters},bubbles:!0,composed:!0})),this.inlineMode&&this.renderRoot.querySelector("eox-itemfilter-container").updateInline(),this.requestUpdate()}sortResults(r){return gIe(r,Ut(this,ya))}resetFilters(){bIe(this)}firstUpdated(r){var n;let i={};lre.map(s=>{i={...i,[s]:this[s]}}),Kn(this,ya,i),Kn(this,Gf,((n=this.items)==null?void 0:n.map((s,o)=>Object.assign({id:s[this.idProperty]||`item-${o}`},s)))||[]),this.apply()}updated(r){lre.map(i=>{if(r.has(i))return this.firstUpdated(),!0})}updateResult(r){this.selectedResult=r.detail,this.dispatchEvent(new CustomEvent("select",{detail:this.selectedResult,bubbles:!0,composed:!0})),this.requestUpdate()}render(){var r;return et`
      <style>
        ${MLe}
        ${!this.unstyled&&sy}
        ${!this.unstyled&&_C}
        ${this.styleOverride}
      </style>
      <form
        id="itemfilter"
        class=${this.inlineMode?"inline":zi}
        @submit="${i=>i.preventDefault()}"
      >
        ${Ar(this.filterProperties,()=>et`
            <eox-itemfilter-container
              .filters=${this.filters}
              .filterProperties=${this.filterProperties}
              .inlineMode=${this.inlineMode||!1}
              @reset=${()=>this.resetFilters()}
              @filter=${()=>this.search()}
            >
              <section slot="section">
                ${Ar(!this.inlineMode,()=>et`
                    <slot name="filterstitle"
                      ><h6 class="main-heading">Filters</h6></slot
                    >
                  `)}
                <ul id="filters">
                  ${ta(Object.values(this.filters),(i,n)=>et` <li>
                        <eox-itemfilter-expandcontainer
                          .filterObject=${i}
                          @details-toggled=${s=>mue(s,Ut(this,ya),this)}
                          data-details="${i.key}"
                        >
                          ${tr(this,cp,que).call(this,i,ore(n,1))}
                          ${tr(this,cp,Uue).call(this,i,ore(n,2))}
                        </eox-itemfilter-expandcontainer>
                      </li>`)}
                </ul>
                ${Ar(!this.inlineMode&&Ut(this,ya).filterProperties&&!this.inlineMode&&Ut(this,ya).filterProperties&&pE(this.filters),()=>et`
                    <button
                      type="button"
                      id="filter-reset"
                      class="outline small icon-text reset-icon"
                      data-cy="filter-reset"
                      @click=${()=>this.resetFilters()}
                    >
                      Reset all
                    </a>
                  `)}
              </section>
            </eox-itemfilter-container>
          `)}
        ${Ar(((r=Ut(this,ya))==null?void 0:r.showResults)&&this.results,()=>et`
            <eox-itemfilter-results
              .config=${Ut(this,ya)}
              .results=${this.results}
              .filters=${this.filters}
              .resultAggregation=${Ut(this,$0)}
              .selectedResult=${this.selectedResult}
              @result=${this.updateResult}
            ></eox-itemfilter-results>
          `)}
      </form>
    `}}$0=new WeakMap,Gf=new WeakMap,ya=new WeakMap,cp=new WeakSet,Uue=function(r,i){return mIe(r,i,this)},que=function(r,i){return yIe(r,i,this)};customElements.define("eox-itemfilter",vIe);const xIe=t=>typeof t.type!="string"&&"multiple",_Ie=t=>typeof t.type=="string"&&"string",wIe=t=>!t.type&&t.properties&&"object",EIe=t=>typeof t.type=="string"&&["string","number","integer","boolean","null","array","object"].includes(t.type)&&t.type,SIe=t=>t.type==="string"&&t.format==="signature"&&"signature",CIe=t=>{if(t.type==="boolean")return t.format==="checkbox"||t.options&&t.options.checkbox?"checkbox":t.format==="select2"?"select2":t.format==="selectize"?"selectize":t.format==="choices"?"choices":"select"},kIe=t=>t.type==="any"&&"multiple",AIe=t=>t.type==="string"&&t.media&&t.media.binaryEncoding==="base64"&&"base64",TIe=t=>t.type==="string"&&t.format==="url"&&window.FileReader&&t.options&&t.options.upload===Object(t.options.upload)&&"upload",DIe=t=>t.type==="array"&&t.format==="table"&&"table",LIe=t=>{if(t.enumSource)return t.format==="radio"?"radio":t.format==="select2"?"select2":t.format==="selectize"?"selectize":t.format==="choices"?"choices":"select"},OIe=t=>{if(t.enum){if(t.type==="array"||t.type==="object")return"enum";if(t.type==="number"||t.type==="integer"||t.type==="string")return t.format==="radio"?"radio":t.format==="select2"?"select2":t.format==="selectize"?"selectize":t.format==="choices"?"choices":"select"}},MIe=(t,e)=>{if(t.items&&(t.items=e.expandSchema(t.items)),t.type==="array"&&t.items&&!Array.isArray(t.items)&&["string","number","integer"].includes(t.items.type)){if(t.format==="choices")return"arrayChoices";if(t.uniqueItems){if(t.format==="selectize")return"arraySelectize";if(t.format==="select2")return"arraySelect2";if(t.items.enum)return"multiselect"}}},RIe=t=>(t.oneOf||t.anyOf)&&"multiple",IIe=t=>t.if&&"multiple",FIe=t=>["string","integer"].includes(t.type)&&["date","time","datetime-local"].includes(t.format)&&"datetime",PIe=t=>["string","integer"].includes(t.type)&&["starrating","rating"].includes(t.format)&&"starrating",NIe=t=>{if(t.links){for(let e=0;e<t.links.length;e++)if(t.links[e].rel&&t.links[e].rel.toLowerCase()==="describedby")return"describedBy"}},$Ie=t=>{if((t.type==="integer"||t.type==="number")&&t.format==="stepper")return"stepper"},BIe=t=>t.format==="button"&&"button",jIe=t=>t.format==="info"&&"info",zIe=t=>t.type==="string"&&t.format==="uuid"&&"uuid",UIe=t=>t.type==="string"&&t.format==="autocomplete"&&"autocomplete",qIe=t=>t.type==="string"&&t.format==="jodit"&&"jodit",HIe=t=>t.type==="string"&&t.format==="markdown"&&"simplemde",VIe=t=>t.type==="string"&&["xhtml","bbcode"].includes(t.format)&&"sceditor",GIe=["actionscript","batchfile","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","prql","r","ruby","rust","sass","scala","scss","sh","smarty","sql","sqlserver","stylus","svg","typescript","twig","vbscript","xml","yaml","zig"],WIe=t=>t.type==="string"&&GIe.includes(t.format)&&"ace",YIe=t=>t.type==="string"&&["ip","ipv4","ipv6","hostname"].includes(t.format)&&"ip",ZIe=t=>t.type==="string"&&t.format==="color"&&"colorpicker",XIe=[ZIe,YIe,WIe,VIe,HIe,qIe,UIe,zIe,jIe,BIe,$Ie,NIe,PIe,FIe,RIe,IIe,MIe,OIe,LIe,DIe,TIe,AIe,kIe,CIe,SIe,EIe,wIe,xIe,_Ie];function Hue(t){return!(t===null||typeof t!="object"||t.nodeType||t===t.window||t.constructor&&!ia(t.constructor.prototype,"isPrototypeOf"))}function Vue(t){return Hue(t)?gr({},t):Array.isArray(t)?t.map(Vue):t}function gr(t,...e){return e.forEach(r=>{r&&Object.keys(r).forEach(i=>{r[i]&&Hue(r[i])?(ia(t,i)||(t[i]={}),gr(t[i],r[i])):Array.isArray(r[i])?t[i]=Vue(r[i]):t[i]=r[i]})}),t}function Ka(t,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function Gue(t){return t&&(t.toString()==="[object ShadowRoot]"?t:Gue(t.parentNode))}function ia(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)}const KIe=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;function JIe(t){if(typeof t>"u"||t===null)return!1;const e=t.match(KIe),r=parseFloat(t);return e!==null&&!isNaN(r)&&isFinite(r)}const QIe=/^\s*(-|\+)?(\d+)\s*$/;function eFe(t){if(typeof t>"u"||t===null)return!1;const e=t.match(QIe),r=parseInt(t);return e!==null&&!isNaN(r)&&isFinite(r)}function _0(){let t=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e==="x"?r:r&3|8).toString(16)})}function N_(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Qv(t,...e){if(!e.length)return t;const r=e.shift();if(N_(t)&&N_(r))for(const i in r)N_(r[i])?(t[i]||Object.assign(t,{[i]:{}}),Qv(t[i],r[i])):Object.assign(t,{[i]:r[i]});return Qv(t,...e)}function tFe(t,e){return Object.keys(e).forEach(function(r){r in t&&(t[r]=e[r])}),t}class uo{constructor(e,r){this.defaults=r,this.jsoneditor=e.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||this.defaults.translate,this.translateProperty=this.jsoneditor.translateProperty||this.defaults.translateProperty,this.original_schema=e.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.active=!0,this.isUiOnly=!1,this.options=gr({},this.options||{},this.schema.options||{},e.schema.options||{},e),this.enforceConst=this.options.enforce_const??this.jsoneditor.options.enforce_const,this.formname=this.jsoneditor.options.form_name_root||"root",!e.path&&!this.schema.id&&(this.schema.id=this.formname),this.path=e.path||this.formname,this.formname=e.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.parent=e.parent,this.key=this.parent!==void 0?this.path.split(".").slice(this.parent.path.split(".").length).join("."):this.path,this.link_watchers=[],this.watchLoop=!1,e.container&&this.setContainer(e.container),this.registerDependencies()}onChildEditorChange(e,r){this.onChange(!0,!1,r)}notify(){this.path&&this.jsoneditor.notifyWatchers(this.path)}change(e){this.parent?this.parent.onChildEditorChange(this,e):this.jsoneditor&&this.jsoneditor.onChange(e)}onChange(e,r,i){this.notify(),r||this.watch_listener&&this.watch_listener(),e&&this.change(i)}register(){if(this.jsoneditor.registerEditor(this),this.input&&!this.label){const e=this.getTitle()||this.formname;this.input.setAttribute("aria-label",e)}this.onChange()}unregister(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)}getNumColumns(){return 12}isActive(){return this.active}activate(){this.active=!0,this.optInCheckbox.checked=!0,this.enable(),this.change()}deactivate(){this.isRequired()||(this.active=!1,this.optInCheckbox.checked=!1,this.disable(),this.change())}registerDependencies(){this.dependenciesFulfilled=!0;const e=this.options.dependencies;e&&Object.keys(e).forEach(r=>{let i;r.startsWith(this.jsoneditor.root.path)?i=r:(i=this.path.split("."),i[i.length-1]=r,i=i.join(".")),this.jsoneditor.watch(i,()=>{this.evaluateDependencies()})})}evaluateDependencies(){const e=this.container||this.control;if(!e||this.jsoneditor===null)return;const r=this.options.dependencies;if(!r)return;const i=this.dependenciesFulfilled;this.dependenciesFulfilled=!0,Object.keys(r).forEach(s=>{let o;s.startsWith(this.jsoneditor.root.path)?o=s:(o=this.path.split("."),o[o.length-1]=s,o=o.join("."));const l=r[s];this.checkDependency(o,l)}),this.dependenciesFulfilled!==i&&this.notify();let n=this.dependenciesFulfilled?"block":"none";this.options.hidden&&(n="none"),e.tagName==="TD"?Object.keys(e.childNodes).forEach(s=>e.childNodes[s].style.display=n):e.style.display=n}checkDependency(e,r){if(this.path===e||this.jsoneditor===null)return;const i=this.jsoneditor.getEditor(e),n=i?i.getValue():void 0;!i||!i.dependenciesFulfilled||!n?this.dependenciesFulfilled=!1:Array.isArray(r)?this.dependenciesFulfilled=r.some(s=>{if(JSON.stringify(n)===JSON.stringify(s))return!0}):typeof r=="object"?typeof n!="object"?this.dependenciesFulfilled=r===n:Object.keys(r).some(s=>{if(!ia(r,s))return!1;if(!ia(n,s)||r[s]!==n[s])return this.dependenciesFulfilled=!1,!0}):typeof r=="string"||typeof r=="number"?this.dependenciesFulfilled=this.dependenciesFulfilled&&n===r:typeof r=="boolean"&&(r?this.dependenciesFulfilled=this.dependenciesFulfilled&&(n||n.length>0):this.dependenciesFulfilled=this.dependenciesFulfilled&&(!n||n.length===0))}setContainer(e){this.container=e,this.setContainerAttributes(),this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&typeof this.schema.type=="string"&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)}setOptInCheckbox(e){this.optInLabel=this.theme.getHiddenLabel(this.formname+" opt-in"),this.optInLabel.setAttribute("for",this.formname+"-opt-in"),this.optInCheckbox=document.createElement("input"),this.optInCheckbox.setAttribute("type","checkbox"),this.optInCheckbox.setAttribute("style","margin: 0 10px 0 0;"),this.optInCheckbox.setAttribute("id",this.formname+"-opt-in"),this.optInCheckbox.classList.add("json-editor-opt-in"),this.optInCheckbox.addEventListener("click",()=>{this.isActive()?this.deactivate():this.activate()});const r=this.jsoneditor.options.show_opt_in,i=typeof this.parent.options.show_opt_in<"u",n=i&&this.parent.options.show_opt_in===!0,s=i&&this.parent.options.show_opt_in===!1;(n||!s&&r||!i&&r)&&this.parent&&this.parent.schema.type==="object"&&!this.isRequired()&&this.header&&(this.header.appendChild(this.optInLabel),this.header.appendChild(this.optInCheckbox),this.header.insertBefore(this.optInCheckbox,this.header.firstChild))}preBuild(){}build(){}postBuild(){this.setupWatchListeners(),this.addLinks(),this.register(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.onWatchedFieldChange(),this.options.titleHidden&&(this.theme.visuallyHidden(this.label),this.theme.visuallyHidden(this.header)),this.enforceConst&&this.schema.const&&this.disable()}setupWatchListeners(){if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=()=>{this.refreshWatchedFieldValues()&&this.onWatchedFieldChange()},ia(this.schema,"watch")){let e,r,i,n,s;const o=this.container.getAttribute("data-schemapath");Object.keys(this.schema.watch).forEach(a=>{if(e=this.schema.watch[a],Array.isArray(e)){if(e.length<2)return;r=[e[0]].concat(e[1].split("."))}else r=e.split("."),this.theme.closest(this.container,`[data-schemaid="${r[0]}"]`)||r.unshift("#");if(i=r.shift(),i==="#"&&(i=this.jsoneditor.schema.id||this.jsoneditor.root.formname),n=this.theme.closest(this.container,`[data-schemaid="${i}"]`),!n)throw new Error(`Could not find ancestor node with id ${i}`);s=`${n.getAttribute("data-schemapath")}.${r.join(".")}`,o.startsWith(s)&&(this.watchLoop=!0),this.jsoneditor.watch(s,this.watch_listener),this.watched[a]=s})}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))}addLinks(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),typeof this.description<"u"?this.description.parentNode.insertBefore(this.link_holder,this.description):this.container.appendChild(this.link_holder),this.schema.links))for(let e=0;e<this.schema.links.length;e++)this.addLink(this.getLink(this.schema.links[e]))}onMove(){}getButton(e,r,i,n=[]){const s=`json-editor-btn-${r}`;this.iconlib?r=this.iconlib.getIcon(r):r=null,e=this.translate(e,n),i=this.translate(i,n),!r&&i&&(e=i,i=null);const o=this.theme.getButton(e,r,i);return o.classList.add(s),o}setButtonText(e,r,i,n,s=[]){return this.iconlib?i=this.iconlib.getIcon(i):i=null,r=this.translate(r,s),n=this.translate(n,s),!i&&n&&(r=n,n=null),this.theme.setButtonText(e,r,i,n)}addLink(e){this.link_holder&&this.link_holder.appendChild(e)}getLink(e){let r,i;const s=(e.mediaType||"application/javascript").split("/")[0],o=this.jsoneditor.compileTemplate(e.href,this.template_engine),a=this.jsoneditor.compileTemplate(e.rel?e.rel:e.href,this.template_engine);let l=null;if(e.download&&(l=e.download),l&&l!==!0&&(l=this.jsoneditor.compileTemplate(l,this.template_engine)),s==="image"){r=this.theme.getBlockLinkHolder(),i=document.createElement("a"),i.setAttribute("target","_blank");const u=document.createElement("img");this.theme.createImageLink(r,i,u),this.link_watchers.push(h=>{const d=o(h),f=a(h);i.setAttribute("href",d),i.setAttribute("title",f||d),u.setAttribute("src",d)})}else if(["audio","video"].includes(s)){r=this.theme.getBlockLinkHolder(),i=this.theme.getBlockLink(),i.setAttribute("target","_blank");const u=document.createElement(s);u.setAttribute("controls","controls"),this.theme.createMediaLink(r,i,u),this.link_watchers.push(h=>{const d=o(h),f=a(h);i.setAttribute("href",d),i.textContent=f||d,u.setAttribute("src",d)})}else i=r=this.theme.getBlockLink(),r.setAttribute("target","_blank"),r.textContent=e.rel,r.style.display="none",this.link_watchers.push(u=>{const h=o(u),d=a(u);h&&(r.style.display=""),r.setAttribute("href",h),r.textContent=d||h});return l&&i&&(l===!0?i.setAttribute("download",""):this.link_watchers.push(u=>{i.setAttribute("download",l(u))})),e.class&&e.class.split(" ").forEach(h=>{i.classList.add(h)}),r}refreshWatchedFieldValues(){if(!this.watched_values)return;const e={};let r=!1;return this.watched&&Object.keys(this.watched).forEach(i=>{const n=this.jsoneditor.getEditor(this.watched[i]),s=n?n.getValue():null;this.watched_values[i]!==s&&(r=!0),e[i]=s}),e.self=this.getValue(),this.watched_values.self!==e.self&&(r=!0),this.watched_values=e,r}getWatchedFieldValues(){return this.watched_values}updateHeaderText(){if(this.header){const e=this.getHeaderText();if(this.header.children.length){for(let r=0;r<this.header.childNodes.length;r++)if(this.header.childNodes[r].nodeType===3){this.header.childNodes[r].nodeValue=this.cleanText(e);break}}else window.DOMPurify?this.header.innerHTML=window.DOMPurify.sanitize(e):this.header.textContent=this.cleanText(e)}}getHeaderText(e){return this.header_text?this.header_text:e?this.translateProperty(this.schema.title):this.getTitle()}getPathDepth(){return this.path.split(".").length}cleanText(e){const r=document.createElement("div");return r.innerHTML=e,r.textContent||r.innerText}onWatchedFieldChange(){let e;if(this.header_template){e=gr(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:this.key*1,i1:this.key*1+1,title:this.getTitle()}),this.editors&&Object.keys(this.editors).length&&(e.properties={},Object.keys(this.editors).forEach(i=>{const n=this.editors[i];if(n.schema&&n.schema.enum&&n.schema.options&&n.schema.options.enum_titles){const s=n.schema.enum.indexOf(n.value),o=n.options.enum_titles[s];e.properties[i]={enumTitle:o}}}));const r=this.header_template(e);r!==this.header_text&&(this.header_text=r,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){e=this.getWatchedFieldValues();for(let r=0;r<this.link_watchers.length;r++)this.link_watchers[r](e)}}setValue(e){this.value=e}getValue(){if(this.dependenciesFulfilled)return this.value}refreshValue(){}getChildEditors(){return!1}destroy(){this.unregister(this),this.watched&&Object.values(this.watched).forEach(e=>this.jsoneditor.unwatch(e,this.watch_listener)),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null}isDefaultRequired(){return this.isRequired()||!!this.jsoneditor.options.use_default_values}getDefault(){if(this.enforceConst&&this.schema.const)return this.schema.const;if(typeof this.schema.default<"u")return this.schema.default;if(typeof this.schema.enum<"u")return this.schema.enum[0];let e=this.schema.type||this.schema.oneOf;if(e&&Array.isArray(e)&&(e=e[0]),e&&typeof e=="object"&&(e=e.type),e&&Array.isArray(e)&&(e=e[0]),typeof e=="string"){if(e==="number")return this.isDefaultRequired()?0:void 0;if(e==="boolean")return this.isDefaultRequired()?!1:void 0;if(e==="integer")return this.isDefaultRequired()?0:void 0;if(e==="string")return this.isDefaultRequired()?"":void 0;if(e==="null")return null;if(e==="object")return{};if(e==="array")return[]}}getTitle(){return this.translateProperty(this.schema.title||this.key||this.formname)}enable(){this.disabled=!1}disable(){this.disabled=!0}isEnabled(){return!this.disabled}isRequired(){return typeof this.schema.required=="boolean"?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.includes(this.key):!!this.jsoneditor.options.required_by_default}getDisplayText(e){const r=[],i={};e.forEach(s=>{s.title&&(i[s.title]=i[s.title]||0,i[s.title]++),s.description&&(i[s.description]=i[s.description]||0,i[s.description]++),s.format&&(i[s.format]=i[s.format]||0,i[s.format]++),s.type&&(i[s.type]=i[s.type]||0,i[s.type]++)}),e.forEach(s=>{let o;typeof s=="string"?o=s:s.title&&i[s.title]<=1?o=s.title:s.format&&i[s.format]<=1?o=s.format:s.type&&i[s.type]<=1?o=s.type:s.description&&i[s.description]<=1?o=s.description:s.title?o=s.title:s.format?o=s.format:s.type?o=s.type:s.description?o=s.description:JSON.stringify(s).length<500?o=JSON.stringify(s):o="type",r.push(o)});const n={};return r.forEach((s,o)=>{n[s]=n[s]||0,n[s]++,i[s]>1&&(r[o]=`${s} ${n[s]}`)}),r}getValidId(e){return e=e===void 0?"":e.toString(),e.replace(/\s+/g,"-")}setInputAttributes(e,r){if(this.schema.options&&this.schema.options.inputAttributes){const i=this.schema.options.inputAttributes,n=["name","type"].concat(e),s=r||this.input;Object.keys(i).forEach(o=>{n.includes(o.toLowerCase())||s.setAttribute(o,i[o])})}}setContainerAttributes(){if(this.schema.options&&this.schema.options.containerAttributes){const e=this.schema.options.containerAttributes,r=["data-schemapath","data-schematype","data-schemaid"];Object.keys(e).forEach(i=>{r.includes(i.toLowerCase())||this.container.setAttribute(i,e[i])})}}expandCallbacks(e,r){const i=this.defaults.callbacks[e];return Object.entries(r).forEach(([n,s])=>{s===Object(s)?r[n]=this.expandCallbacks(e,s):typeof s=="string"&&typeof i=="object"&&typeof i[s]=="function"&&(r[n]=i[s].bind(null,this))}),r}showValidationErrors(e){}}class la extends uo{register(){super.register(),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}unregister(){super.unregister(),this.input&&(this.input.removeAttribute("name"),this.input.removeAttribute("aria-label"))}setValue(e,r,i){if(this.template&&!i||(!this.shouldBeUnset()&&(e===null||typeof e>"u")?e="":typeof e=="object"?e=JSON.stringify(e):!this.shouldBeUnset()&&typeof e!="string"&&(e=`${e}`),e===this.serialized))return;const n=this.sanitize(e);if(this.input.value===n)return;if(this.setValueToInputField(n),this.format==="range"){const o=this.control.querySelector("output");o&&(o.value=n)}const s=i||this.getValue()!==e;return this.refreshValue(),r?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),s&&this.onChange(!0,i),{changed:s,value:n}}setValueToInputField(e){this.input.value=e===void 0?"":e}getNumColumns(){const e=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);let r;return this.input_type==="textarea"?r=6:["text","email"].includes(this.input_type)?r=4:r=2,Math.min(12,Math.max(e,r))}build(){if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if(this.format==="textarea")this.input_type="textarea",this.input=this.theme.getTextareaInput();else if(this.format==="range"){this.input_type="range";let n=this.schema.minimum||0,s=this.schema.maximum||Math.max(100,n+1),o=1;this.schema.multipleOf&&(n%this.schema.multipleOf&&(n=Math.ceil(n/this.schema.multipleOf)*this.schema.multipleOf),s%this.schema.multipleOf&&(s=Math.floor(s/this.schema.multipleOf)*this.schema.multipleOf),o=this.schema.multipleOf),this.input=this.theme.getRangeInput(n,s,o,this.description,this.formname),this.input.setAttribute("id",this.formname)}else this.input_type="text",["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","reset","search","submit","tel","text","time","url","week"].includes(this.format)&&(this.input_type=this.format),this.input=this.theme.getFormInputField(this.input_type);else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);typeof this.schema.maxLength<"u"&&this.input.setAttribute("maxlength",this.schema.maxLength),typeof this.schema.pattern<"u"?this.input.setAttribute("pattern",this.schema.pattern):typeof this.schema.minLength<"u"&&this.input.setAttribute("pattern",`.{${this.schema.minLength},}`),this.options.compact?this.container.classList.add("compact"):this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"]),this.input.addEventListener("change",n=>{if(n.preventDefault(),n.stopPropagation(),this.schema.template){n.currentTarget.value=this.value;return}const s=n.currentTarget.value,o=this.sanitize(s);s!==o&&(n.currentTarget.value=o),this.is_dirty=!0,this.refreshValue(),this.onChange(!0)}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=n=>{if(!n)return;let s,o=n.offsetHeight;if(n.offsetHeight<n.scrollHeight)for(s=0;n.offsetHeight<n.scrollHeight+3&&!(s>100);)s++,o++,n.style.height=`${o}px`;else{for(s=0;n.offsetHeight>=n.scrollHeight+3&&!(s>100);)s++,o--,n.style.height=`${o}px`;n.style.height=`${o+1}px`}},this.input.addEventListener("keyup",n=>{this.adjust_height(n.currentTarget)}),this.input.addEventListener("change",n=>{this.adjust_height(n.currentTarget)}),this.adjust_height());const e=this.options.prompt_paste_max_length_reached??this.jsoneditor.options.prompt_paste_max_length_reached,r=typeof this.schema.maxLength<"u";e&&r&&this.input.addEventListener("paste",n=>{(n.clipboardData||window.clipboardData).getData("text").length+this.input.value.length>this.schema.maxLength&&alert(this.translate("paste_max_length_reached",[this.schema.maxLength]))}),this.format&&this.input.setAttribute("data-schemaformat",this.format);let{input:i}=this;if(this.format==="range"&&(i=this.theme.getRangeControl(this.input,this.theme.getRangeOutput(this.input,this.schema.default||Math.max(this.schema.minimum||0,0)))),this.control=this.theme.getFormControl(this.label,i,this.description,this.infoButton,this.formname),this.container.appendChild(this.control),window.requestAnimationFrame(()=>{if(this.input.parentNode&&this.afterInputReady(),this.adjust_height&&this.adjust_height(this.input),this.format==="range"){const n=this.control.querySelector("output");n.value=this.input.value}}),this.schema.template){const n=this.expandCallbacks("template",{template:this.schema.template});typeof n.template=="function"?this.template=n.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}setupCleave(e){const r=this.expandCallbacks("cleave",gr({},this.defaults.options.cleave||{},this.options.cleave||{}));typeof r=="object"&&Object.keys(r).length>0&&(this.cleave_instance=new window.Cleave(e,r))}setupImask(e){const r=this.expandCallbacks("imask",gr({},this.defaults.options.imask||{},this.options.imask||{}));typeof r=="object"&&Object.keys(r).length>0&&(this.imask_instance=window.IMask(e,this.ajustIMaskOptions(r)))}ajustIMaskOptions(e){return Object.keys(e).forEach(r=>{if(e[r]===Object(e[r]))e[r]=this.ajustIMaskOptions(e[r]);else if(r==="mask")if(e[r].substr(0,6)==="regex:"){const i=e[r].match(/^regex:\/(.*)\/([gimsuy]*)$/);if(i!==null)try{e[r]=new RegExp(i[1],i[2])}catch{}}else e[r]=this.getGlobalPropertyFromString(e[r])}),e}getGlobalPropertyFromString(e){if(e.includes(".")){const r=e.split("."),i=r[0],n=r[1];if(typeof window[i]<"u"&&typeof window[i][n]<"u")return window[i][n]}else if(typeof window[e]<"u")return window[e];return e}shouldBeUnset(){return!this.jsoneditor.options.use_default_values&&!this.is_dirty}getValue(){const e=!!(this.input&&this.input.value);if(!(this.shouldBeUnset()&&!e))return this.imask_instance&&this.dependenciesFulfilled&&this.options.imask.returnUnmasked?this.imask_instance.unmaskedValue:super.getValue()}enable(){this.always_disabled||(this.input.disabled=!1,super.enable())}disable(e){e&&(this.always_disabled=!0),this.input.disabled=!0,super.disable()}afterInputReady(){this.theme.afterInputReady(this.input),window.Cleave&&!this.cleave_instance?this.setupCleave(this.input):window.IMask&&!this.imask_instance&&this.setupImask(this.input)}refreshValue(){this.input&&(this.value=this.input.value,typeof this.value!="string"&&!this.shouldBeUnset()&&(this.value=""),this.serialized=this.value)}destroy(){this.cleave_instance&&this.cleave_instance.destroy(),this.imask_instance&&this.imask_instance.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),super.destroy()}sanitize(e){return e}onWatchedFieldChange(){let e;this.template&&(e=this.getWatchedFieldValues(),this.setValue(this.template(e),!1,!0)),super.onWatchedFieldChange()}showValidationErrors(e){if(this.jsoneditor.options.show_errors!=="always"){if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return}this.previous_error_setting=this.jsoneditor.options.show_errors;const r=(n,s)=>(s.path===this.path&&n.push(s.message),n),i=e.reduce(r,[]);i.length?this.theme.addInputError(this.input,`${i.join(". ")}.`):this.theme.removeInputError(this.input)}}class rFe extends la{setValue(e,r,i){const n=super.setValue(e,r,i);n!==void 0&&n.changed&&this.ace_editor_instance&&(this.ace_editor_instance.setValue(n.value),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize())}build(){this.options.format="textarea",super.build(),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}afterInputReady(){let e;if(window.ace){let r=this.input_type;(r==="cpp"||r==="c++"||r==="c")&&(r="c_cpp"),e=this.expandCallbacks("ace",gr({},{selectionStyle:"text",minLines:30,maxLines:30},this.defaults.options.ace||{},this.options.ace||{},{mode:`ace/mode/${r}`})),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor_instance=window.ace.edit(this.ace_container,e),this.ace_editor_instance.setValue(this.getValue()),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize(),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.ace_editor_instance.setReadOnly(!0),this.ace_editor_instance.on("change",()=>{this.input.value=this.ace_editor_instance.getValue(),this.refreshValue(),this.is_dirty=!0,this.onChange(!0)}),this.theme.afterInputReady(this.input)}else super.afterInputReady()}getNumColumns(){return 6}enable(){!this.always_disabled&&this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!1),super.enable()}disable(e){this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!0),super.disable(e)}destroy(){this.ace_editor_instance&&(this.ace_editor_instance.destroy(),this.ace_editor_instance=null),super.destroy()}}const iFe={".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-array-control-btn":"width:100%25;text-align:left;margin-bottom:3px"};class MC extends uo{askConfirmation(){return!(this.jsoneditor.options.prompt_before_delete===!0&&window.confirm(this.translate("button_delete_node_warning"))===!1)}register(){super.register(),this.rows&&this.rows.forEach(e=>e.register())}unregister(){super.unregister(),this.rows&&this.rows.forEach(e=>e.unregister())}getNumColumns(){const e=this.getItemInfo(0);return this.tabs_holder&&this.schema.format!=="tabs-top"?Math.max(Math.min(12,e.width+2),4):e.width}enable(){this.always_disabled||(this.setAvailability(this,!1),this.rows&&this.rows.forEach(e=>{e.enable(),this.setAvailability(e,!1)}),super.enable())}disable(e){e&&(this.always_disabled=!0),this.setAvailability(this,!0),this.rows&&this.rows.forEach(r=>{r.disable(e),this.setAvailability(r,!0)}),super.disable()}setAvailability(e,r){e.add_row_button&&(e.add_row_button.disabled=r),e.remove_all_rows_button&&(e.remove_all_rows_button.disabled=r),e.delete_last_row_button&&(e.delete_last_row_button.disabled=r),e.copy_button&&(e.copy_button.disabled=r),e.delete_button&&(e.delete_button.disabled=r),e.moveup_button&&(e.moveup_button.disabled=r),e.movedown_button&&(e.movedown_button.disabled=r)}preBuild(){super.preBuild(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add,this.show_copy_button=this.options.enable_array_copy||this.jsoneditor.options.enable_array_copy,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top}build(){this.options.compact?(this.title=this.theme.getHeader("",this.getPathDepth()),this.container.appendChild(this.title),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.container.appendChild(this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.container.appendChild(this.infoButton)),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.schema.format==="tabs-top"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTopTabContentHolder(this.tabs_holder),this.active_tab=null):this.schema.format==="tabs"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.getItemTitle())),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls))),this.addControls()}postBuild(){super.postBuild(),(this.schema.readOnly||this.schema.readonly)&&this.disable()}onChildEditorChange(e,r){this.refreshValue(),this.refreshTabs(!0),super.onChildEditorChange(e,r)}getItemTitle(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){const e=this.jsoneditor.expandRefs(this.schema.items);this.item_title=this.translateProperty(e.title)||this.translate("default_array_item_title")}else this.item_title=this.translate("default_array_item_title");return this.cleanText(this.item_title)}getItemSchema(e){if(Array.isArray(this.schema.items))if(e>=this.schema.items.length){if(this.schema.additionalItems===!0)return{};if(this.schema.additionalItems)return gr({},this.schema.additionalItems)}else return gr({},this.schema.items[e]);else return this.schema.items?gr({},this.schema.items):{}}getItemInfo(e){let r=this.getItemSchema(e);this.item_info=this.item_info||{};const i=JSON.stringify(r);return typeof this.item_info[i]<"u"?this.item_info[i]:(r=this.jsoneditor.expandRefs(r),this.item_info[i]={title:this.translateProperty(r.title)||this.translate("default_array_item_title"),default:r.default,width:12,child_editors:r.properties||r.items},this.item_info[i])}getElementEditor(e){const r=this.getItemInfo(e);let i=this.getItemSchema(e);i=this.jsoneditor.expandRefs(i),i.title=`${r.title} ${e+1}`;const n=this.jsoneditor.getEditorClass(i);let s;this.tabs_holder?(this.schema.format==="tabs-top"?s=this.theme.getTopTabContent():s=this.theme.getTabContent(),s.id=`${this.path}.${e}`):r.child_editors?s=this.theme.getChildEditorHolder():s=this.theme.getIndentedPanel(),this.row_holder.appendChild(s);const o=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,container:s,path:`${this.path}.${e}`,parent:this,required:!0});return o.preBuild(),o.build(),o.postBuild(),o.title_controls||(o.array_controls=this.theme.getButtonHolder(),s.appendChild(o.array_controls)),o}checkParent(e){return e&&e.parentNode}destroy(){this.empty(!0),this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.controls)&&this.controls.parentNode.removeChild(this.controls),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,super.destroy()}empty(e){if(this.rows!==null){if(this.rows.forEach((r,i)=>{e&&(this.checkParent(r.tab)&&r.tab.parentNode.removeChild(r.tab),this.destroyRow(r,!0),this.row_cache[i]=null),this.rows[i]=null}),e)for(let r=this.rows.length;r<this.row_cache.length;r++)this.destroyRow(this.row_cache[r],!0),this.row_cache[r]=null;this.rows=[],e&&(this.row_cache=[])}}destroyRow(e,r){const i=e.container;r?(e.destroy(),i.parentNode&&i.parentNode.removeChild(i),this.checkParent(e.tab)&&e.tab.parentNode.removeChild(e.tab)):(e.tab&&(e.tab.style.display="none"),i.style.display="none",e.unregister())}getMax(){return Array.isArray(this.schema.items)&&this.schema.additionalItems===!1?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0}refreshTabs(e){this.rows.forEach(r=>{r.tab&&(e?r.tab_text.textContent=r.getHeaderText():r.tab===this.active_tab?this.theme.markTabActive(r):this.theme.markTabInactive(r))})}ensureArraySize(e){if(Array.isArray(e)||(e=[e]),this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemInfo(e.length).default);return this.getMax()&&e.length>this.getMax()&&(e=e.slice(0,this.getMax())),e}setValue(e=[],r){if(e=this.ensureArraySize(e),JSON.stringify(e)===this.serialized){r&&this.refreshValue(r);return}e.forEach((o,a)=>{if(this.rows[a])this.rows[a].setValue(o,r);else if(this.row_cache[a])this.rows[a]=this.row_cache[a],this.rows[a].setValue(o,r),this.rows[a].container.style.display="",this.rows[a].tab&&(this.rows[a].tab.style.display=""),this.rows[a].register(),this.jsoneditor.trigger("addRow",this.rows[a]);else{const l=this.addRow(o,r);this.jsoneditor.trigger("addRow",l)}});for(let o=e.length;o<this.rows.length;o++)this.destroyRow(this.rows[o]),this.rows[o]=null;this.rows=this.rows.slice(0,e.length);const n=this.rows.find(o=>o.tab===this.active_tab);let s=typeof n<"u"?n.tab:null;!s&&this.rows.length&&(s=this.rows[0].tab),this.active_tab=s,this.refreshValue(r),this.refreshTabs(!0),this.refreshTabs(),this.onChange()}setButtonState(e,r){switch(this.options.button_state_mode||this.jsoneditor.options.button_state_mode){case 1:e.style.display=r?"":"none";break;case 2:e.disabled=!r;break;default:e.style.display=r?"":"none"}}setupButtons(e){const r=[];if(!this.value.length)this.setButtonState(this.delete_last_row_button,!1),this.setButtonState(this.remove_all_rows_button,!1);else if(this.value.length===1){this.setButtonState(this.remove_all_rows_button,!1);const n=!(e||this.hide_delete_last_row_buttons);this.setButtonState(this.delete_last_row_button,n),r.push(n)}else{const n=!(e||this.hide_delete_last_row_buttons);this.setButtonState(this.delete_last_row_button,n),r.push(n);const s=!(e||this.hide_delete_all_rows_buttons);this.setButtonState(this.remove_all_rows_button,s),r.push(s)}const i=!(this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button);return this.setButtonState(this.add_row_button,i),r.push(i),r.some(n=>n)}refreshValue(e){const r=this.value?this.value.length:0;if(this.value=this.rows.map(i=>i.getValue()),r!==this.value.length||e){const i=this.schema.minItems&&this.schema.minItems>=this.rows.length;this.rows.forEach((n,s)=>{if(n.movedown_button){const o=s!==this.rows.length-1;this.setButtonState(n.movedown_button,o)}n.delete_button&&this.setButtonState(n.delete_button,!i),this.value[s]=n.getValue()}),this.setupButtons(i)&&!this.collapsed?this.controls.style.display="inline-block":this.controls.style.display="none"}this.serialized=JSON.stringify(this.value)}addRow(e,r){const i=this.rows.length;this.rows[i]=this.getElementEditor(i),this.row_cache[i]=this.rows[i],this.tabs_holder&&(this.rows[i].tab_text=document.createElement("span"),this.rows[i].tab_text.textContent=this.rows[i].getHeaderText(),this.schema.format==="tabs-top"?(this.rows[i].tab=this.theme.getTopTab(this.rows[i].tab_text,this.getValidId(this.rows[i].path)),this.theme.addTopTab(this.tabs_holder,this.rows[i].tab)):(this.rows[i].tab=this.theme.getTab(this.rows[i].tab_text,this.getValidId(this.rows[i].path)),this.theme.addTab(this.tabs_holder,this.rows[i].tab)),this.rows[i].tab.addEventListener("click",s=>{this.active_tab=this.rows[i].tab,this.refreshTabs(),s.preventDefault(),s.stopPropagation()}));const n=this.rows[i].title_controls||this.rows[i].array_controls;return this.hide_delete_buttons||(this.rows[i].delete_button=this._createDeleteButton(i,n)),this.show_copy_button&&(this.rows[i].copy_button=this._createCopyButton(i,n)),i&&!this.hide_move_buttons&&(this.rows[i].moveup_button=this._createMoveUpButton(i,n)),this.hide_move_buttons||(this.rows[i].movedown_button=this._createMoveDownButton(i,n)),typeof e<"u"&&this.rows[i].setValue(e,r),this.refreshTabs(),this.rows[i]}_createDeleteButton(e,r){const i=this.getButton(this.getItemTitle(),"delete","button_delete_row_title",[this.getItemTitle()]);return i.classList.add("delete","json-editor-btntype-delete"),i.setAttribute("data-i",e),i.addEventListener("click",n=>{if(n.preventDefault(),n.stopPropagation(),!this.askConfirmation())return!1;const s=n.currentTarget.getAttribute("data-i")*1,o=this.getValue().filter((h,d)=>d!==s);let a=null;const u=this.rows[s].getValue();this.setValue(o),this.rows[s]?a=this.rows[s].tab:this.rows[s-1]&&(a=this.rows[s-1].tab),a&&(this.active_tab=a,this.refreshTabs()),this.onChange(!0),this.jsoneditor.trigger("deleteRow",u)}),r&&r.appendChild(i),i}_createCopyButton(e,r){const i=this.getButton(this.getItemTitle(),"copy","button_copy_row_title",[this.getItemTitle()]),n=this.schema;return i.classList.add("copy","json-editor-btntype-copy"),i.setAttribute("data-i",e),i.addEventListener("click",s=>{const o=this.getValue();s.preventDefault(),s.stopPropagation();const a=s.currentTarget.getAttribute("data-i")*1;o.forEach((l,u)=>{if(u===a){if(n.items.type==="string"&&n.items.format==="uuid")l=_0();else if(n.items.type==="object"&&n.items.properties)for(const h of Object.keys(l))n.items.properties&&n.items.properties[h]&&n.items.properties[h].format==="uuid"&&(l[h]=_0());o.push(l)}}),this.setValue(o),this.refreshValue(!0),this.onChange(!0),this.jsoneditor.trigger("copyRow",this.rows[a-1])}),r.appendChild(i),i}_createMoveUpButton(e,r){const i=this.getButton("",this.schema.format==="tabs-top"?"moveleft":"moveup","button_move_up_title");return i.classList.add("moveup","json-editor-btntype-move"),i.setAttribute("data-i",e),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=n.currentTarget.getAttribute("data-i")*1;if(s<=0)return;const o=this.getValue(),a=o[s-1];o[s-1]=o[s],o[s]=a,this.setValue(o),this.active_tab=this.rows[s-1].tab,this.refreshTabs(),this.onChange(!0),this.jsoneditor.trigger("moveRow",this.rows[s-1])}),r&&r.appendChild(i),i}_createMoveDownButton(e,r){const i=this.getButton("",this.schema.format==="tabs-top"?"moveright":"movedown","button_move_down_title");return i.classList.add("movedown","json-editor-btntype-move"),i.setAttribute("data-i",e),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=n.currentTarget.getAttribute("data-i")*1,o=this.getValue();if(s>=o.length-1)return;const a=o[s+1];o[s+1]=o[s],o[s]=a,this.setValue(o),this.active_tab=this.rows[s+1].tab,this.refreshTabs(),this.onChange(!0),this.jsoneditor.trigger("moveRow",this.rows[s+1])}),r&&r.appendChild(i),i}addControls(){this.collapsed=!1,this.toggle_button=this._createToggleButton(),this.options.collapsed&&Ka(this.toggle_button,"click"),this.schema.options&&typeof this.schema.options.disable_collapse<"u"?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this._createAddRowButton(),this.delete_last_row_button=this._createDeleteLastRowButton(),this.remove_all_rows_button=this._createRemoveAllRowsButton(),this.tabs&&(this.add_row_button.classList.add("je-array-control-btn"),this.delete_last_row_button.classList.add("je-array-control-btn"),this.remove_all_rows_button.classList.add("je-array-control-btn"))}_createToggleButton(){const e=this.getButton("","collapse","button_collapse");e.classList.add("json-editor-btntype-toggle"),this.title.insertBefore(e,this.title.childNodes[0]);const r=this.row_holder.style.display,i=this.controls.style.display;return e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.panel&&this.setButtonState(this.panel,this.collapsed),this.tabs_holder&&this.setButtonState(this.tabs_holder,this.collapsed),this.collapsed?(this.collapsed=!1,this.row_holder.style.display=r,this.controls.style.display=i,this.setButtonText(n.currentTarget,"","collapse","button_collapse")):(this.collapsed=!0,this.row_holder.style.display="none",this.controls.style.display="none",this.setButtonText(n.currentTarget,"","expand","button_expand"))}),e}_createAddRowButton(){const e=this.getButton(this.getItemTitle(),"add","button_add_row_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-add"),e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const i=this.rows.length;let n;this.row_cache[i]?(n=this.rows[i]=this.row_cache[i],this.rows[i].setValue(this.rows[i].getDefault(),!0),this.rows[i].container.style.display="",this.rows[i].tab&&(this.rows[i].tab.style.display=""),this.rows[i].register()):n=this.addRow(),this.active_tab=this.rows[i].tab,this.refreshTabs(),this.refreshValue(),this.onChange(!0),this.jsoneditor.trigger("addRow",n)}),this.controls.appendChild(e),e}_createDeleteLastRowButton(){const e=this.getButton("button_delete_last","subtract","button_delete_last_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-deletelast"),e.addEventListener("click",r=>{if(r.preventDefault(),r.stopPropagation(),!this.askConfirmation())return!1;const i=this.getValue();let n=null;const s=i.pop();this.setValue(i),this.rows[this.rows.length-1]&&(n=this.rows[this.rows.length-1].tab),n&&(this.active_tab=n,this.refreshTabs()),this.onChange(!0),this.jsoneditor.trigger("deleteRow",s)}),this.controls.appendChild(e),e}_createRemoveAllRowsButton(){const e=this.getButton("button_delete_all","delete","button_delete_all_title");return e.classList.add("json-editor-btntype-deleteall"),e.addEventListener("click",r=>{if(r.preventDefault(),r.stopPropagation(),!this.askConfirmation())return!1;const i=this.getValue();this.empty(!0),this.setValue([]),this.onChange(!0),this.jsoneditor.trigger("deleteAllRows",i)}),this.controls.appendChild(e),e}showValidationErrors(e){const r=[],i=[];e.forEach(n=>{n.path===this.path?r.push(n):i.push(n)}),this.error_holder&&(r.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",r.forEach(n=>{this.error_holder.appendChild(this.theme.getErrorMessage(n.message))})):this.error_holder.style.display="none"),this.rows.forEach(n=>n.showValidationErrors(i))}}MC.rules=iFe;class Ox extends uo{onInputChange(){this.value=this.input.value,this.onChange(!0)}register(){super.register(),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}unregister(){super.unregister(),this.input&&this.input.removeAttribute("name")}getNumColumns(){let e=this.getTitle().length;return Object.keys(this.select_values).forEach(r=>e=Math.max(e,`${this.select_values[r]}`.length+4)),Math.min(12,Math.max(e/7,2))}preBuild(){super.preBuild(),this.select_options={},this.select_values={},this.option_titles=[],this.option_keys=[],this.option_enum=[];let e;const r=this.jsoneditor.expandRefs(this.schema.items||{}),i=r.enum||[],n=r.options?r.options.enum||[]:[],s=r.options?r.options.enum_titles||[]:[];for(e=0;e<i.length;e++){if(this.sanitize(i[e])!==i[e])continue;const o=n[e]||{};"title"in o||(o.title=`${s[e]||i[e]}`),this.option_keys.push(`${i[e]}`),this.option_enum.push(o),this.select_values[`${i[e]}`]=i[e]}}build(){let e;if(this.options.compact||(this.header=this.label=this.theme.getLabelLike(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),!this.schema.format&&this.option_keys.length<8||this.schema.format==="checkbox"){for(this.input_type="checkboxes",this.inputs={},this.controls={},e=0;e<this.option_keys.length;e++){const r=this.formname+e.toString();this.inputs[this.option_keys[e]]=this.theme.getCheckbox(),this.inputs[this.option_keys[e]].id=r,this.select_options[this.option_keys[e]]=this.inputs[this.option_keys[e]];const i=this.theme.getCheckboxLabel(this.option_enum[e].title);if(i.htmlFor=r,this.option_enum[e].infoText){const n=this.theme.getInfoButton(this.translateProperty(this.option_enum[e].infoText));i.appendChild(n)}this.controls["_"+this.option_keys[e]]=this.theme.getFormControl(i,this.inputs[this.option_keys[e]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description,this.infoButton),this.inputs.controlgroup=this.inputs.controls=this.control}else{for(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys,!0),this.theme.setSelectOptions(this.input,this.option_keys,this.option_enum.map(r=>r.title)),this.input.setAttribute("multiple","multiple"),this.input.size=Math.min(10,this.option_keys.length),e=0;e<this.option_keys.length;e++)this.select_options[this.option_keys[e]]=this.input.children[e];this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this.formname)}(this.schema.readOnly||this.schema.readonly)&&this.disable(!0),this.container.appendChild(this.control),this.multiselectChangeHandler=r=>{const i=[];for(e=0;e<this.option_keys.length;e++)this.select_options[this.option_keys[e]]&&(this.select_options[this.option_keys[e]].selected||this.select_options[this.option_keys[e]].checked)&&i.push(this.select_values[this.option_keys[e]]);this.updateValue(i),this.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1),window.requestAnimationFrame(()=>{this.afterInputReady()})}postBuild(){super.postBuild()}afterInputReady(){this.theme.afterInputReady(this.input||this.inputs)}setValue(e,r){e=e||[],Array.isArray(e)||(e=[e]),e=e.map(i=>`${i}`),Object.keys(this.select_options).forEach(i=>{this.select_options[i][this.input_type==="select"?"selected":"checked"]=e.includes(i)}),this.updateValue(e),this.onChange(!0)}removeValue(e){e=[].concat(e),this.setValue(this.getValue().filter(r=>!e.includes(r)))}addValue(e){this.setValue(this.getValue().concat(e))}updateValue(e){let r=!1;const i=[];for(let n=0;n<e.length;n++){if(!this.select_options[`${e[n]}`]){r=!0;continue}const s=this.sanitize(this.select_values[e[n]]);i.push(s),s!==e[n]&&(r=!0)}return this.value=i,r}sanitize(e){return this.schema.items.type==="boolean"?!!e:this.schema.items.type==="number"?1*e||0:this.schema.items.type==="integer"?Math.floor(e*1||0):`${e}`}enable(){this.always_disabled||(this.input?this.input.disabled=!1:this.inputs&&Object.keys(this.inputs).forEach(e=>this.inputs[e].disabled=!1),super.enable())}disable(e){e&&(this.always_disabled=!0),this.input?this.input.disabled=!0:this.inputs&&Object.keys(this.inputs).forEach(r=>this.inputs[r].disabled=!0),super.disable()}destroy(){super.destroy()}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}showValidationErrors(e){const r=new RegExp(`^${this.escapeRegExp(this.path)}(\\.\\d+)?$`),i=(s,o)=>(o.path.match(r)&&s.push(o.message),s),n=e.reduce(i,[]);n.length?this.theme.addInputError(this.input||this.inputs,`${n.join(". ")}.`):this.theme.removeInputError(this.input||this.inputs)}}class nFe extends Ox{setValue(e,r){this.choices_instance?(e=[].concat(e).map(i=>`${i}`),this.updateValue(e),this.choices_instance.removeActiveItems(),this.choices_instance.setChoiceByValue(this.value),this.onChange(!0)):super.setValue(e,r)}afterInputReady(){if(window.Choices&&!this.choices_instance){const e=this.expandCallbacks("choices",gr({},{removeItems:!0,removeItemButton:!0},this.defaults.options.choices||{},this.options.choices||{},{addItems:!0,editItems:!1,duplicateItemsAllowed:!1}));this.newEnumAllowed=!1,this.choices_instance=new window.Choices(this.input,e),this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=r=>{const i=this.choices_instance.getValue(!0);this.updateValue(i),this.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1)}super.afterInputReady()}updateValue(e){e=[].concat(e);let r=!1;const i=[];for(let n=0;n<e.length;n++){if(!this.select_values[`${e[n]}`])if(r=!0,this.newEnumAllowed){if(!this.addNewOption(e[n]))continue}else continue;const s=this.sanitize(this.select_values[e[n]]);i.push(s),s!==e[n]&&(r=!0)}return this.value=i,r}addNewOption(e){return this.option_keys.push(`${e}`),this.option_titles.push(`${e}`),this.select_values[`${e}`]=e,this.schema.items.enum.push(e),this.choices_instance.setChoices([{value:`${e}`,label:`${e}`}],"value","label",!1),!0}enable(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),super.enable()}disable(e){this.choices_instance&&this.choices_instance.disable(),super.disable(e)}destroy(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),super.destroy()}}class sFe extends Ox{setValue(e,r){this.select2_instance?(e=[].concat(e).map(i=>`${i}`),this.updateValue(e),this.select2v4?this.select2_instance.val(this.value).change():this.select2_instance.select2("val",this.value),this.onChange(!0)):super.setValue(e,r)}afterInputReady(){let e;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance&&(e=this.expandCallbacks("select2",gr({},{tags:!0,width:"100%"},this.defaults.options.select2||{},this.options.select2||{})),this.newEnumAllowed=e.tags=!!e.tags&&this.schema.items&&this.schema.items.type==="string",this.select2_instance=window.jQuery(this.input).select2(e),this.select2v4=ia(this.select2_instance.select2,"amd"),this.selectChangeHandler=()=>{const r=this.select2v4?this.select2_instance.val():this.select2_instance.select2("val");this.updateValue(r),this.onChange(!0)},this.select2_instance.on("select2-blur",this.selectChangeHandler),this.select2_instance.on("change",this.selectChangeHandler)),super.afterInputReady()}updateValue(e){e=[].concat(e);let r=!1;const i=[];for(let n=0;n<e.length;n++){if(!this.select_values[`${e[n]}`])if(r=!0,this.newEnumAllowed){if(!this.addNewOption(e[n]))continue}else continue;const s=this.sanitize(this.select_values[e[n]]);i.push(s),s!==e[n]&&(r=!0)}return this.value=i,r}addNewOption(e){this.option_keys.push(`${e}`),this.option_titles.push(`${e}`),this.select_values[`${e}`]=e,this.schema.items.enum.push(e);const r=this.input.querySelector(`option[value="${e}"]`);return r?r.removeAttribute("data-select2-tag"):this.input.appendChild(new Option(e,e,!1,!1)).trigger("change"),!0}enable(){!this.always_disabled&&this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),super.enable()}disable(e){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),super.disable()}destroy(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),super.destroy()}}class oFe extends Ox{setValue(e,r){this.selectize_instance?(e=[].concat(e).map(i=>`${i}`),this.updateValue(e),this.selectize_instance.setValue(this.value),this.onChange(!0)):super.setValue(e,r)}afterInputReady(){let e;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance){e=this.expandCallbacks("selectize",gr({},{plugins:["remove_button"],delimiter:!1,createOnBlur:!0,create:!0},this.defaults.options.selectize||{},this.options.selectize||{})),this.newEnumAllowed=e.create=!!e.create&&this.schema.items&&this.schema.items.type==="string",this.selectize_instance=window.jQuery(this.input).selectize(e)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=n=>{const s=this.selectize_instance.getValue();this.updateValue(s),this.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler);const r=this.theme.getHiddenLabel(this.formname);this.input.setAttribute("id",this.formname+"-hidden-input"),r.setAttribute("for",this.formname+"-hidden-input"),this.input.parentNode.insertBefore(r,this.input);const i=this.selectize_instance.$control[0];if(i){const n=this.theme.getHiddenLabel(this.formname);n.setAttribute("for",this.formname+"-selectized"),i.appendChild(n)}}super.afterInputReady()}updateValue(e){e=[].concat(e);let r=!1;const i=[];for(let n=0;n<e.length;n++){if(!this.select_values[`${e[n]}`])if(r=!0,this.newEnumAllowed){if(!this.addNewOption(e[n]))continue}else continue;const s=this.sanitize(this.select_values[e[n]]);i.push(s),s!==e[n]&&(r=!0)}return this.value=i,r}addNewOption(e){return this.option_keys.push(`${e}`),this.option_titles.push(`${e}`),this.select_values[`${e}`]=e,this.selectize_instance.addOption({text:e,value:e}),!0}enable(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),super.enable()}disable(e){this.selectize_instance&&this.selectize_instance.lock(),super.disable(e)}destroy(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),super.destroy()}}class aFe extends la{postBuild(){window.Autocomplete&&(this.autocomplete_wrapper=document.createElement("div"),this.input.parentNode.insertBefore(this.autocomplete_wrapper,this.input.nextSibling),this.autocomplete_wrapper.appendChild(this.input),this.autocomplete_dropdown=document.createElement("ul"),this.input.parentNode.insertBefore(this.autocomplete_dropdown,this.input.nextSibling)),super.postBuild()}afterInputReady(){let e;window.Autocomplete&&!this.autocomplete_instance&&(e=this.expandCallbacks("autocomplete",gr({},{search:r=>(console.log(`No "search" callback defined for autocomplete in property "${r.key}"`),[]),onSubmit:()=>{this.input.blur()},baseClass:"autocomplete"},this.defaults.options.autocomplete||{},this.options.autocomplete||{})),this.autocomplete_wrapper.classList.add(e.baseClass),this.autocomplete_dropdown.classList.add(`${e.baseClass}-result-list`),this.autocomplete_instance=new window.Autocomplete(this.autocomplete_wrapper,e)),super.afterInputReady()}destroy(){this.autocomplete_instance&&(this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.autocomplete_dropdown&&this.autocomplete_dropdown.parentNode&&this.autocomplete_dropdown.parentNode.removeChild(this.autocomplete_dropdown),this.autocomplete_wrapper&&this.autocomplete_wrapper.parentNode&&this.autocomplete_wrapper.parentNode.removeChild(this.autocomplete_wrapper),this.autocomplete_instance=null),super.destroy()}}class lFe extends uo{getNumColumns(){return 4}setFileReaderListener(e){e.addEventListener("load",r=>{if(this.count===this.current_item_index)this.value[this.count][this.key]=r.target.result;else{const i={};for(const n in this.parent.schema.properties)i[n]="";i[this.key]=r.target.result,this.value.splice(this.count,0,i)}this.count+=1,this.count===this.total+this.current_item_index&&this.arrayEditor.setValue(this.value)})}build(){if(this.options.compact||(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw new Error("FileReader required for base64 editor");this.uploader=this.theme.getFormInputField("file"),this.uploader.style.display="none",this.schema.options&&this.schema.options.multiple&&this.schema.options.multiple===!0&&this.parent&&this.parent.schema.type==="object"&&this.parent.parent&&this.parent.parent.schema.type==="array"&&this.uploader.setAttribute("multiple",""),this.uploader.addEventListener("change",r=>{if(r.preventDefault(),r.stopPropagation(),r.currentTarget.files&&r.currentTarget.files.length)if(r.currentTarget.files.length>1&&this.schema.options&&this.schema.options.multiple&&this.schema.options.multiple===!0&&this.parent&&this.parent.schema.type==="object"&&this.parent.parent&&this.parent.parent.schema.type==="array"){this.arrayEditor=this.jsoneditor.getEditor(this.parent.parent.path),this.value=this.arrayEditor.getValue(),this.total=r.currentTarget.files.length,this.current_item_index=parseInt(this.parent.key),this.count=this.current_item_index;for(let i=0;i<this.total;i++){const n=new FileReader;this.setFileReaderListener(n),n.readAsDataURL(r.currentTarget.files[i])}}else{let i=new FileReader;i.onload=n=>{this.value=n.target.result,this.refreshPreview(),this.onChange(!0),i=null},i.readAsDataURL(r.currentTarget.files[0])}})}this.preview=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control);const e=this.getButton("button_upload","upload","button_upload");e.addEventListener("click",()=>{this.uploader.click()}),this.control.appendChild(e),this.setInputAttributes(["multiple"],e)}refreshPreview(){if(this.last_preview===this.value||(this.last_preview=this.value,this.preview.innerHTML="",!this.value))return;let e=this.value.match(/^data:([^;,]+)[;,]/);if(e&&(e=e[1]),!e)this.preview.innerHTML="<em>Invalid data URI</em>";else if(this.preview.innerHTML=`<strong>Type:</strong> ${e}, <strong>Size:</strong> ${Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)} bytes`,e.substr(0,5)==="image"){this.preview.innerHTML+="<br>";const r=document.createElement("img");r.style.maxWidth="100%",r.style.maxHeight="100px",r.src=this.value,this.preview.appendChild(r)}}enable(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),super.enable())}disable(e){e&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),super.disable()}setValue(e){this.value!==e&&(this.schema.readOnly&&this.schema.enum&&!this.schema.enum.includes(e)?this.value=this.schema.enum[0]:this.value=e,this.input.value=this.value,this.refreshPreview(),this.onChange())}destroy(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),super.destroy()}}class Wue extends uo{constructor(e,r){super(e,r),this.active=!1,this.isUiOnly=!0,this.parent&&this.parent.schema&&(Array.isArray(this.parent.schema.required)?this.parent.schema.required.includes(this.key)||this.parent.schema.required.push(this.key):this.parent.schema.required=[this.key])}build(){this.options.compact=!0;const e=this.expandCallbacks("button",gr({},{icon:"",validated:!1,align:"left",action:(i,n)=>{window.alert(`No button action defined for "${i.path}"`)}},this.defaults.options.button||{},this.options.button||{})),r=this.translateProperty(e.text||this.schema.title)||this.key;this.input=this.getButton(r,e.icon,r),typeof e.action!="function"?window.alert(`No button action defined for "${this.path}"`):this.input.addEventListener("click",e.action,!1),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["readonly"]),this.control=this.theme.getFormButtonHolder(e.align),this.control.appendChild(this.input),this.container.appendChild(this.control),this.changeHandler=()=>{this.jsoneditor.validate(this.jsoneditor.getValue()).length>0?this.disable():this.enable()},e.validated&&this.jsoneditor.on("change",this.changeHandler)}enable(){this.always_disabled||(this.input.disabled=!1,super.enable())}disable(e){e&&(this.always_disabled=!0),this.input.disabled=!0,super.disable()}getNumColumns(){return 2}activate(){this.active=!1,this.enable()}deactivate(){this.isRequired()||(this.active=!1,this.disable())}destroy(){this.jsoneditor.off("change",this.changeHandler),this.changeHandler=null,super.destroy()}}class uFe extends uo{setValue(e,r){e=!!e;const i=this.getValue()!==e;this.value=e,this.input.checked=this.value,r||(this.is_dirty=!0),this.onChange(i)}register(){super.register(),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}unregister(){super.unregister(),this.input&&this.input.removeAttribute("name")}getNumColumns(){return Math.min(12,Math.max(this.getTitle().length/7,2))}build(){this.parent.options.table_row||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle(),this.isRequired()),this.label.htmlFor=this.formname),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&!this.options.compact&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getCheckbox(),this.input.id=this.formname,this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.input.addEventListener("change",e=>{e.preventDefault(),e.stopPropagation(),this.value=e.currentTarget.checked,this.is_dirty=!0,this.onChange(!0)}),this.container.appendChild(this.control)}enable(){this.always_disabled||(this.input.disabled=!1,super.enable())}disable(e){e&&(this.always_disabled=!0),this.input.disabled=!0,super.disable()}destroy(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),super.destroy()}showValidationErrors(e){const r=this.jsoneditor.options.show_errors,i=r==="change"||r==="interaction";if(r==="never"||i&&!this.is_dirty)return;const s=(a,l)=>(l.path===this.path&&a.push(l.message),a),o=e.reduce(s,[]);this.input.controlgroup=this.control,o.length?this.theme.addInputError(this.input,`${o.join(". ")}.`):this.theme.removeInputError(this.input)}}class ay extends uo{setValue(e,r){let i=this.typecast(e);const n=this.enum_options.length>0&&this.enum_values.includes(i),s=!!this.jsoneditor.options.use_default_values||typeof this.schema.default<"u";if(!this.hasPlaceholderOption&&(!n||r&&!this.isRequired()&&!s)&&(i=this.enum_values[0]),this.value===i)return;const o=this.enum_values.indexOf(i);n&&o!==-1?this.input.value=this.enum_options[o]:this.hasPlaceholderOption?this.input.value="_placeholder_":this.input.value=i,this.value=i,r||(this.is_dirty=!0),this.onChange(),this.change()}register(){super.register(),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}unregister(){super.unregister(),this.input&&this.input.removeAttribute("name")}getNumColumns(){if(!this.enum_options)return 3;let e=this.getTitle().length;for(let r=0;r<this.enum_options.length;r++)e=Math.max(e,this.enum_options[r].length+4);return Math.min(12,Math.max(e/7,2))}typecast(e){return this.schema.type==="boolean"?e==="undefined"||e===void 0?void 0:!!e:this.schema.type==="number"?1*e||0:this.schema.type==="integer"?Math.floor(e*1||0):this.schema.enum&&e===void 0?void 0:`${e}`}getValue(){if(this.dependenciesFulfilled)return this.typecast(this.value)}preBuild(){var i,n,s,o;this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[];let e,r;if(this.hasPlaceholderOption=((n=(i=this.schema)==null?void 0:i.options)==null?void 0:n.has_placeholder_option)||!1,this.placeholderOptionText=((o=(s=this.schema)==null?void 0:s.options)==null?void 0:o.placeholder_option_text)||" ",this.enforceConst&&this.schema.const){const a=this.schema.const;this.enum_options=[`${a}`],this.enum_display=[`${this.translateProperty(a)||a}`],this.enum_values=[this.typecast(a)]}else if(this.schema.enum){const a=this.schema.options&&this.schema.options.enum_titles||[];this.schema.enum.forEach((l,u)=>{this.enum_options[u]=`${l}`,this.enum_display[u]=`${this.translateProperty(a[u])||l}`,this.enum_values[u]=this.typecast(l)})}else if(this.schema.type==="boolean")this.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],this.enum_options=["1",""],this.enum_values=[!0,!1],this.isRequired()||(this.enum_display.unshift(" "),this.enum_options.unshift("undefined"),this.enum_values.unshift(void 0));else if(this.schema.enumSource){if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],!Array.isArray(this.schema.enumSource))this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];else for(e=0;e<this.schema.enumSource.length;e++)typeof this.schema.enumSource[e]=="string"?this.enumSource[e]={source:this.schema.enumSource[e]}:Array.isArray(this.schema.enumSource[e])?this.enumSource[e]=this.schema.enumSource[e]:this.enumSource[e]=gr({},this.schema.enumSource[e]);for(e=0;e<this.enumSource.length;e++)this.enumSource[e].value&&(r=this.expandCallbacks("template",{template:this.enumSource[e].value}),typeof r.template=="function"?this.enumSource[e].value=r.template:this.enumSource[e].value=this.jsoneditor.compileTemplate(this.enumSource[e].value,this.template_engine)),this.enumSource[e].title&&(r=this.expandCallbacks("template",{template:this.enumSource[e].title}),typeof r.template=="function"?this.enumSource[e].title=r.template:this.enumSource[e].title=this.jsoneditor.compileTemplate(this.enumSource[e].title,this.template_engine)),this.enumSource[e].filter&&this.enumSource[e].value&&(r=this.expandCallbacks("template",{template:this.enumSource[e].filter}),typeof r.template=="function"?this.enumSource[e].filter=r.template:this.enumSource[e].filter=this.jsoneditor.compileTemplate(this.enumSource[e].filter,this.template_engine))}else throw new Error("'select' editor requires the enum property to be set.")}build(){this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getSelectInput(this.enum_options,!1),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display,this.hasPlaceholderOption,this.placeholderOptionText),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.setInputAttributes([]),this.input.addEventListener("change",e=>{e.preventDefault(),e.stopPropagation(),this.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this.formname),this.container.appendChild(this.control),this.value=this.enum_values[0],window.requestAnimationFrame(()=>{this.input.parentNode&&this.afterInputReady()})}afterInputReady(){this.theme.afterInputReady(this.input)}onInputChange(){const e=this.typecast(this.input.value);let r;this.enum_values.includes(e)?r=this.enum_values[this.enum_values.indexOf(e)]:r=this.enum_values[0],r!==this.value&&(this.is_dirty=!0,this.value=r,this.onChange(!0))}onWatchedFieldChange(){let e,r,i=[],n=[];if(this.enumSource){e=this.getWatchedFieldValues();for(let o=0;o<this.enumSource.length;o++)if(Array.isArray(this.enumSource[o]))i=i.concat(this.enumSource[o]),n=n.concat(this.enumSource[o]);else{let a=[];if(Array.isArray(this.enumSource[o].source)?a=this.enumSource[o].source:a=e[this.enumSource[o].source],a){if(this.enumSource[o].slice&&(a=Array.prototype.slice.apply(a,this.enumSource[o].slice)),this.enumSource[o].filter){const h=[];for(r=0;r<a.length;r++)this.enumSource[o].filter({i:r,item:a[r],watched:e})&&h.push(a[r]);a=h}const l=[],u=[];for(r=0;r<a.length;r++){const h=a[r];this.enumSource[o].value?u[r]=this.typecast(this.enumSource[o].value({i:r,item:h})):u[r]=a[r],this.enumSource[o].title?l[r]=this.enumSource[o].title({i:r,item:h}):l[r]=u[r]}this.enumSource[o].sort&&((h,d,f)=>{h.map((p,g)=>({v:p,t:d[g]})).sort((p,g)=>p.v<g.v?-f:p.v===g.v?0:f).forEach((p,g)=>{h[g]=p.v,d[g]=p.t})}).bind(null,u,l,this.enumSource[o].sort==="desc"?1:-1)(),i=i.concat(u),n=n.concat(l)}}const s=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,i.includes(s)||this.jsoneditor.options.enum_source_value_auto_select!==!1?(this.input.value=s,this.value=s):(this.input.value=i[0],this.value=this.typecast(i[0]||""),this.parent&&!this.watchLoop?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path))}super.onWatchedFieldChange()}enable(){this.always_disabled||(this.input.disabled=!1,super.enable())}disable(e){e&&(this.always_disabled=!0),this.input.disabled=!0,super.disable(e)}destroy(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),super.destroy()}showValidationErrors(e){const r=this.jsoneditor.options.show_errors,i=r==="change"||r==="interaction";if(r==="never"||i&&!this.is_dirty)return;const s=(a,l)=>(l.path===this.path&&a.push(l.message),a),o=e.reduce(s,[]);o.length?this.theme.addInputError(this.input,`${o.join(". ")}.`):this.theme.removeInputError(this.input)}}const cFe={".choices > *":"box-sizing:border-box"};class Yue extends ay{setValue(e,r){if(this.choices_instance){let i=this.typecast(e||"");if(this.enum_values.includes(i)||(i=this.enum_values[0]),this.value===i)return;r?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.choices_instance.setChoiceByValue(this.input.value),this.value=i,this.onChange()}else super.setValue(e,r)}afterInputReady(){if(window.Choices&&!this.choices_instance){const e=this.expandCallbacks("choices",gr({},this.defaults.options.choices||{},this.options.choices||{}));this.choices_instance=new window.Choices(this.input,e)}super.afterInputReady()}onWatchedFieldChange(){if(super.onWatchedFieldChange(),this.choices_instance){const e=this.enum_options.map((r,i)=>({value:r,label:this.enum_display[i]}));this.choices_instance.setChoices(e,"value","label",!0),this.choices_instance.setChoiceByValue(`${this.value}`)}}enable(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),super.enable()}disable(e){this.choices_instance&&this.choices_instance.disable(),super.disable(e)}destroy(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),super.destroy()}}Yue.rules=cFe;class dFe extends la{build(){if(super.build(),!!this.input&&(this.schema.max&&typeof this.schema.max=="string"&&this.input.setAttribute("max",this.schema.max),this.schema.min&&typeof this.schema.max=="string"&&this.input.setAttribute("min",this.schema.min),window.flatpickr&&typeof this.options.flatpickr=="object")){this.options.flatpickr.enableTime=this.schema.format!=="date",this.options.flatpickr.noCalendar=this.schema.format==="time",this.schema.type==="integer"&&(this.options.flatpickr.mode="single"),this.input.setAttribute("data-input","");let{input:e}=this;if(this.options.flatpickr.wrap===!0){const r=[];if(this.options.flatpickr.showToggleButton!==!1){const o=this.getButton("",this.schema.format==="time"?"time":"calendar","flatpickr_toggle_button");o.setAttribute("data-toggle",""),r.push(o)}if(this.options.flatpickr.showClearButton!==!1){const o=this.getButton("","clear","flatpickr_clear_button");o.setAttribute("data-clear",""),r.push(o)}const{parentNode:i}=this.input,{nextSibling:n}=this.input,s=this.theme.getInputGroup(this.input,r);s!==void 0?(this.options.flatpickr.inline=!1,i.insertBefore(s,n),e=s):this.options.flatpickr.wrap=!1}this.flatpickr=window.flatpickr(e,this.options.flatpickr),this.options.flatpickr.inline===!0&&this.options.flatpickr.inlineHideInput===!0&&this.input.setAttribute("type","hidden")}}getValue(){if(!this.dependenciesFulfilled)return;if(this.schema.type==="string")return this.value;if(this.value===""||this.value===void 0)return;const e=this.schema.format==="time"?`1970-01-01 ${this.value}`:this.value;return parseInt(new Date(e).getTime()/1e3)}setValue(e,r,i){if(this.schema.type==="string")super.setValue(e,r,i),this.flatpickr&&this.flatpickr.setDate(e);else if(e>0){const n=new Date(e*1e3),s=n.getFullYear(),o=this.zeroPad(n.getMonth()+1),a=this.zeroPad(n.getDate()),l=this.zeroPad(n.getHours()),u=this.zeroPad(n.getMinutes()),h=this.zeroPad(n.getSeconds()),d=[s,o,a].join("-"),f=[l,u,h].join(":");let p=`${d}T${f}`;this.schema.format==="date"?p=d:this.schema.format==="time"&&(p=f),this.input.value=p,this.refreshValue(),this.flatpickr&&this.flatpickr.setDate(p)}}destroy(){this.flatpickr&&this.flatpickr.destroy(),this.flatpickr=null,super.destroy()}zeroPad(e){return`0${e}`.slice(-2)}}class hFe extends uo{register(){if(this.editors){for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister();this.editors[this.currentEditor]&&this.editors[this.currentEditor].register()}super.register()}unregister(){if(super.unregister(),this.editors)for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister()}getNumColumns(){return this.editors[this.currentEditor]?Math.max(this.editors[this.currentEditor].getNumColumns(),4):4}enable(){if(this.editors)for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].enable();super.enable()}disable(){if(this.editors)for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].disable();super.disable()}switchEditor(){const e=this.getWatchedFieldValues();if(!e)return;const r=document.location.origin+document.location.pathname+this.template(e);this.editors[this.refs[r]]||this.buildChildEditor(r),this.currentEditor=this.refs[r],this.register(),this.editors.forEach((i,n)=>{i&&(this.currentEditor===n?i.container.style.display="":i.container.style.display="none")}),this.refreshValue(),this.onChange(!0)}buildChildEditor(e){this.refs[e]=this.editors.length;const r=this.theme.getChildEditorHolder();this.editor_holder.appendChild(r);const i=gr({},this.schema,this.jsoneditor.refs[e]),n=this.jsoneditor.getEditorClass(i,this.jsoneditor),s=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,container:r,path:this.path,parent:this,required:!0});this.editors.push(s),s.preBuild(),s.build(),s.postBuild()}preBuild(){this.refs={},this.editors=[],this.currentEditor="";let e;for(e=0;e<this.schema.links.length;e++)if(this.schema.links[e].rel.toLowerCase()==="describedby"){this.template=this.jsoneditor.compileTemplate(this.schema.links[e].href,this.template_engine);break}this.schema.links=this.schema.links.slice(0,e).concat(this.schema.links.slice(e+1)),this.schema.links.length===0&&delete this.schema.links,this.baseSchema=gr({},this.schema)}build(){this.editor_holder=document.createElement("div"),this.container.appendChild(this.editor_holder),this.switchEditor()}onWatchedFieldChange(){this.switchEditor()}onChildEditorChange(e,r){this.editors[this.currentEditor]&&this.refreshValue(),super.onChildEditorChange(e,r)}refreshValue(){this.editors[this.currentEditor]&&(this.value=this.editors[this.currentEditor].getValue())}setValue(e,r){this.editors[this.currentEditor]&&(this.editors[this.currentEditor].setValue(e,r),this.refreshValue(),this.onChange())}destroy(){this.editors.forEach(e=>{e&&e.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),super.destroy()}showValidationErrors(e){this.editors.forEach(r=>{r&&r.showValidationErrors(e)})}}class fFe extends uo{getNumColumns(){return 4}build(){this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enforceConst&&this.schema.const?this.enum=[this.schema.const]:this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(let e=0;e<this.enum.length;e++)this.select_options[e]=this.options.enum_titles[e]||`Value ${e+1}`,this.html_values[e]=this.getHTML(this.enum[e]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",e=>{this.selected=this.select_options.indexOf(e.currentTarget.value),this.value=this.enum[this.selected],this.refreshValue(),this.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),this.enum.length===1&&(this.switcher.style.display="none")}refreshValue(){if(!this.enum)return;this.selected=-1;const e=JSON.stringify(this.value);if(this.enum.forEach((r,i)=>{if(e===JSON.stringify(r))return this.selected=i,!1}),this.selected<0){this.setValue(this.enum[0]);return}this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected]}enable(){this.always_disabled||(this.switcher.disabled=!1,super.enable())}disable(e){e&&(this.always_disabled=!0),this.switcher.disabled=!0,super.disable()}getHTML(e){const r=(i,n)=>{Array.isArray(i)||typeof i.length=="number"&&i.length>0&&i.length-1 in i?Array.from(i).forEach((s,o)=>n(o,s)):Object.entries(i).forEach(([s,o])=>n(s,o))};if(e===null)return"<em>null</em>";if(typeof e=="object"){let i="";return r(e,(s,o)=>{let a=this.getHTML(o);Array.isArray(e)||(a=`<div><em>${s}</em>: ${a}</div>`),i+=`<li>${a}</li>`}),Array.isArray(e)?i=`<ol>${i}</ol>`:i=`<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>${i}</ul>`,i}else{if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return e}setValue(e){this.value!==e&&(this.value=e,this.refreshValue(),this.onChange())}destroy(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),super.destroy()}}class pFe extends uo{register(){super.register(),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}unregister(){super.unregister(),this.input&&this.input.removeAttribute("name")}setValue(e,r,i){if(this.template&&!i||(e===null||typeof e>"u"?e="":typeof e=="object"?e=JSON.stringify(e):typeof e!="string"&&(e=`${e}`),e===this.serialized))return;const n=this.sanitize(e);if(this.input.value===n)return;this.input.value=n;const s=i||this.getValue()!==e;this.refreshValue(),r?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(s)}getNumColumns(){return 2}enable(){super.enable()}disable(){super.disable()}refreshValue(){this.value=this.input.value,typeof this.value!="string"&&(this.value=""),this.serialized=this.value}destroy(){this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),super.destroy()}sanitize(e){return e}onWatchedFieldChange(){let e;this.template&&(e=this.getWatchedFieldValues(),this.setValue(this.template(e),!1,!0)),super.onWatchedFieldChange()}build(){if(this.format=this.schema.format,!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.container.appendChild(this.input),this.schema.template){const e=this.expandCallbacks("template",{template:this.schema.template});typeof e.template=="function"?this.template=e.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}}class mFe extends Wue{build(){this.options.compact=!1,this.header=this.label=this.theme.getLabelLike(this.getTitle()),this.description=this.theme.getDescription(this.schema.description||""),this.control=this.theme.getFormControl(this.label,this.description,null),this.container.appendChild(this.control)}getTitle(){return this.translateProperty(this.schema.title)}getNumColumns(){return 12}disable(){return!1}enable(){return!1}}class Zue extends la{build(){if(super.build(),typeof this.schema.minimum<"u"){let{minimum:e}=this.schema;typeof this.schema.exclusiveMinimum<"u"&&(e+=1),this.input.setAttribute("min",e)}if(typeof this.schema.maximum<"u"){let{maximum:e}=this.schema;typeof this.schema.exclusiveMaximum<"u"&&(e-=1),this.input.setAttribute("max",e)}if(typeof this.schema.step<"u"){const e=this.schema.step||1;this.input.setAttribute("step",e)}this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"])}getNumColumns(){return 2}getValue(){if(this.dependenciesFulfilled)if(!this.schema.default&&!this.jsoneditor.options.use_default_values&&this.value===""){if(this.shouldBeUnset()){this.input.value="";return}}else return JIe(this.value)?parseFloat(this.value):this.value}}class Xue extends Zue{getNumColumns(){return 2}getValue(){if(this.dependenciesFulfilled)if(!this.schema.default&&!this.jsoneditor.options.use_default_values&&this.value===""){if(this.shouldBeUnset())return}else return eFe(this.value)?parseInt(this.value):this.value}}class gFe extends la{preBuild(){if(super.preBuild(),this.schema.options||(this.schema.options={}),!this.schema.options.cleave)switch(this.format){case"ipv6":this.schema.options.cleave={delimiters:[":"],blocks:[4,4,4,4,4,4,4,4],uppercase:!0};break;case"ipv4":this.schema.options.cleave={delimiters:["."],blocks:[3,3,3,3],numericOnly:!0};break}this.options=gr(this.options,this.schema.options||{})}}class yFe extends la{setValue(e,r,i){const n=super.setValue(e,r,i);n!==void 0&&n.changed&&this.jodit_instance&&this.jodit_instance.setEditorValue(n.value)}build(){this.options.format="textarea",super.build(),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}afterInputReady(){let e;window.Jodit?(e=this.expandCallbacks("jodit",gr({},{height:300},this.defaults.options.jodit||{},this.options.jodit||{})),this.jodit_instance=new window.Jodit(this.input,e),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.jodit_instance.setReadOnly(!0),this.jodit_instance.events.on("change",()=>{this.value=this.jodit_instance.getEditorValue(),this.is_dirty=!0,this.onChange(!0)}),this.theme.afterInputReady(this.input)):super.afterInputReady()}getNumColumns(){return 6}enable(){!this.always_disabled&&this.jodit_instance&&this.jodit_instance.setReadOnly(!1),super.enable()}disable(e){this.jodit_instance&&this.jodit_instance.setReadOnly(!0),super.disable(e)}destroy(){this.jodit_instance&&(this.jodit_instance.destruct(),this.jodit_instance=null),super.destroy()}}const bFe=t=>{const e=t.split(".");if(e.length!==4)throw new Error("error_ipv4");e.forEach(r=>{if(isNaN(+r)||+r<0||+r>255)throw new Error("error_ipv4")})},vFe=t=>{if(!t.match("^(?:(?:(?:[a-fA-F0-9]{1,4}:){6}|(?=(?:[a-fA-F0-9]{0,4}:){2,6}(?:[0-9]{1,3}.){3}[0-9]{1,3}$)(([0-9a-fA-F]{1,4}:){1,5}|:)((:[0-9a-fA-F]{1,4}){1,5}:|:)|::(?:[a-fA-F0-9]{1,4}:){5})(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]).){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])|(?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}|(?=(?:[a-fA-F0-9]{0,4}:){0,7}[a-fA-F0-9]{0,4}$)(([0-9a-fA-F]{1,4}:){1,7}|:)((:[0-9a-fA-F]{1,4}){1,7}|:)|(?:[a-fA-F0-9]{1,4}:){7}:|:(:[a-fA-F0-9]{1,4}){7})$"))throw new Error("error_ipv6")},xFe=t=>{if(!t.match("(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9].)+[a-zA-Z]{2,63}$)"))throw new Error("error_hostname")};function _Fe(t,e,r,i){try{switch(t.format){case"ipv4":bFe(e);break;case"ipv6":vFe(e);break;case"hostname":xFe(e);break}return[]}catch(n){return[{path:r,property:"format",message:i(n.message)}]}}class Kue{constructor(e,r,i,n){this.jsoneditor=e,this.schema=r||this.jsoneditor.schema,this.options=i||{},this.translate=this.jsoneditor.translate||n.translate,this.translateProperty=this.jsoneditor.translateProperty||n.translateProperty,this.defaults=n,this._validateSubSchema={dependentRequired(s,o,a){const l=[];if(typeof s.dependentRequired<"u"){let u=[];Object.keys(s.dependentRequired).forEach(d=>{typeof o[d]<"u"&&(u=s.dependentRequired[d].filter(p=>!ia(o,p)))}),u.length>0&&l.push({message:"Must have the required properties: "+u.join(", "),path:a})}return l},dependentSchemas(s,o,a){let l=[];return Object.keys(s.dependentSchemas).forEach(u=>{if(typeof o[u]<"u"){const h=s.dependentSchemas[u],d=this._validateSchema(h,o,a);l=[...l,...d]}}),l},contains(s,o,a){const l=[];let u=0;o.forEach(d=>{this._validateSchema(s.contains,d,a).length===0&&u++});const h=u===0;return typeof s.minContains<"u"?u<s.minContains&&l.push({message:this.translate("error_minContains",[u,s.minContains],s),path:a}):h&&l.push({message:this.translate("error_contains",null,s),path:a}),typeof s.maxContains<"u"&&u>s.maxContains&&l.push({message:this.translate("error_maxContains",[u,s.maxContains],s),path:a}),l},if(s,o,a){if(typeof s.then>"u"&&typeof s.else>"u")return[];const l=this._validateSchema(s.if,o,a);let u=[],h=[];return typeof s.then<"u"&&(u=this._validateSchema(s.then,o,a)),typeof s.else<"u"&&(h=this._validateSchema(s.else,o,a)),s.if===!0?u:s.if===!1?h:l.length===0?u:l.length>0?h:[]},const(s,o,a){return JSON.stringify(s.const)===JSON.stringify(o)?[]:[{path:a,property:"const",message:this.translate("error_const",null,s)}]},enum(s,o,a){const l=JSON.stringify(o);return s.enum.some(h=>l===JSON.stringify(h))?[]:[{path:a,property:"enum",message:this.translate("error_enum",null,s)}]},extends(s,o,a){const l=(u,h)=>(u.push(...this._validateSchema(h,o,a)),u);return s.extends.reduce(l,[])},allOf(s,o,a){const l=(u,h)=>(u.push(...this._validateSchema(h,o,a)),u);return s.allOf.reduce(l,[])},anyOf(s,o,a){return s.anyOf.some(u=>!this._validateSchema(u,o,a).length)?[]:[{path:a,property:"anyOf",message:this.translate("error_anyOf",null,s)}]},oneOf(s,o,a){let l=0;const u=[];s.oneOf.forEach((d,f)=>{const p=this._validateSchema(d,o,a);p.length||l++,p.forEach(g=>{g.path=`${a}.oneOf[${f}]${g.path.substr(a.length)}`}),u.push(...p)});const h=[];return l!==1&&(h.push({path:a,property:"oneOf",message:this.translate("error_oneOf",[l],s)}),h.push(...u)),h},not(s,o,a){return this._validateSchema(s.not,o,a).length?[]:[{path:a,property:"not",message:this.translate("error_not",null,s)}]},type(s,o,a){if(Array.isArray(s.type)){if(!s.type.some(u=>this._checkType(u,o)))return[{path:a,property:"type",message:this.translate("error_type_union",null,s)}]}else if(["date","time","datetime-local"].includes(s.format)&&s.type==="integer"){if(!this._checkType("string",`${o}`))return[{path:a,property:"type",message:this.translate("error_type",[s.format],s)}]}else if(!this._checkType(s.type,o))return[{path:a,property:"type",message:this.translate("error_type",[s.type],s)}];return[]},disallow(s,o,a){if(Array.isArray(s.disallow)){if(s.disallow.some(u=>this._checkType(u,o)))return[{path:a,property:"disallow",message:this.translate("error_disallow_union",null,s)}]}else if(this._checkType(s.disallow,o))return[{path:a,property:"disallow",message:this.translate("error_disallow",[s.disallow],s)}];return[]}},this._validateNumberSubSchema={multipleOf(s,o,a){return this._validateNumberSubSchemaMultipleDivisible(s,o,a)},divisibleBy(s,o,a){return this._validateNumberSubSchemaMultipleDivisible(s,o,a)},maximum(s,o,a){let l=s.exclusiveMaximum?o<s.maximum:o<=s.maximum;return window.math?l=window.math[s.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(o),window.math.bignumber(s.maximum)):window.Decimal&&(l=new window.Decimal(o)[s.exclusiveMaximum?"lt":"lte"](new window.Decimal(s.maximum))),l?[]:[{path:a,property:"maximum",message:this.translate(s.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[s.maximum],s)}]},minimum(s,o,a){let l=s.exclusiveMinimum?o>s.minimum:o>=s.minimum;return window.math?l=window.math[s.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(o),window.math.bignumber(s.minimum)):window.Decimal&&(l=new window.Decimal(o)[s.exclusiveMinimum?"gt":"gte"](new window.Decimal(s.minimum))),l?[]:[{path:a,property:"minimum",message:this.translate(s.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[s.minimum],s)}]}},this._validateStringSubSchema={maxLength(s,o,a){const l=[];return`${o}`.length>s.maxLength&&l.push({path:a,property:"maxLength",message:this.translate("error_maxLength",[s.maxLength],s)}),l},minLength(s,o,a){return`${o}`.length<s.minLength?[{path:a,property:"minLength",message:this.translate(s.minLength===1?"error_notempty":"error_minLength",[s.minLength],s)}]:[]},pattern(s,o,a){return new RegExp(s.pattern).test(o)?[]:[{path:a,property:"pattern",message:s.options&&s.options.patternmessage?s.options.patternmessage:this.translate("error_pattern",[s.pattern],s)}]}},this._validateArraySubSchema={items(s,o,a){const l=[];if(Array.isArray(s.items))for(let u=0;u<o.length;u++)if(s.items[u])l.push(...this._validateSchema(s.items[u],o[u],`${a}.${u}`));else{if(s.additionalItems===!0)break;if(s.additionalItems)l.push(...this._validateSchema(s.additionalItems,o[u],`${a}.${u}`));else if(s.additionalItems===!1){l.push({path:a,property:"additionalItems",message:this.translate("error_additionalItems",null,s)});break}else break}else o.forEach((u,h)=>{l.push(...this._validateSchema(s.items,u,`${a}.${h}`))});return l},maxItems(s,o,a){return o.length>s.maxItems?[{path:a,property:"maxItems",message:this.translate("error_maxItems",[s.maxItems],s)}]:[]},minItems(s,o,a){return o.length<s.minItems?[{path:a,property:"minItems",message:this.translate("error_minItems",[s.minItems],s)}]:[]},uniqueItems(s,o,a){const l={};for(let u=0;u<o.length;u++){const h=JSON.stringify(o[u]);if(l[h])return[{path:a,property:"uniqueItems",message:this.translate("error_uniqueItems",null,s)}];l[h]=!0}return[]}},this._validateObjectSubSchema={maxProperties(s,o,a){return Object.keys(o).length>s.maxProperties?[{path:a,property:"maxProperties",message:this.translate("error_maxProperties",[s.maxProperties],s)}]:[]},minProperties(s,o,a){return Object.keys(o).length<s.minProperties?[{path:a,property:"minProperties",message:this.translate("error_minProperties",[s.minProperties],s)}]:[]},required(s,o,a){const l=[];return Array.isArray(s.required)&&s.required.forEach(u=>{if(typeof o[u]<"u")return;const h=this.jsoneditor.getEditor(`${a}.${u}`);h&&h.dependenciesFulfilled===!1||h&&["button","info"].includes(h.schema.format||h.schema.type)||l.push({path:a,property:"required",message:this.translate("error_required",[s&&s.properties&&s.properties[u]&&s.properties[u].title?s.properties[u].title:u],s)})}),l},properties(s,o,a,l){const u=[];return Object.entries(s.properties).forEach(([h,d])=>{l[h]=!0,u.push(...this._validateSchema(d,o[h],`${a}.${h}`))}),u},patternProperties(s,o,a,l){const u=[];return Object.entries(s.patternProperties).forEach(([h,d])=>{const f=new RegExp(h);Object.entries(o).forEach(([p,g])=>{f.test(p)&&(l[p]=!0,u.push(...this._validateSchema(d,g,`${a}.${p}`)))})}),u}},this._validateObjectSubSchema2={propertyNames(s,o,a,l){const u=[],h=Object.keys(o);let d=null;for(let f=0;f<h.length;f++){let p="",g=!1;if(d=h[f],typeof s.propertyNames=="boolean"){if(s.propertyNames===!0)continue;u.push({path:a,property:"propertyNames",message:this.translate("error_property_names_false",[d],s)});break}if(g=Object.entries(s.propertyNames).every(([y,b])=>{let x=!1,w=null;switch(y){case"maxLength":if(typeof b!="number"){p="error_property_names_maxlength";break}if(d.length>b){p="error_property_names_exceeds_maxlength";break}return!0;case"const":if(b!==d){p="error_property_names_const_mismatch";break}return!0;case"enum":if(!Array.isArray(b)){p="error_property_names_enum";break}if(b.forEach(S=>{S===d&&(x=!0)}),!x){p="error_property_names_enum_mismatch";break}return!0;case"pattern":if(typeof b!="string"){p="error_property_names_pattern";break}if(w=new RegExp(b),!w.test(d)){p="error_property_names_pattern_mismatch";break}return!0;default:return u.push({path:a,property:"propertyNames",message:this.translate("error_property_names_unsupported",[y],s)}),!1}return u.push({path:a,property:"propertyNames",message:this.translate(p,[d],s)}),!1}),!g)break}return u},additionalProperties(s,o,a,l){const u=[],h=Object.keys(o);for(let d=0;d<h.length;d++){const f=h[d];if(!l[f])if(s.additionalProperties){if(s.additionalProperties===!0)break;u.push(...this._validateSchema(s.additionalProperties,o[f],`${a}.${f}`))}else{u.push({path:a,property:"additionalProperties",message:this.translate("error_additional_properties",[f],s)});break}}return u},dependencies(s,o,a){const l=[];return Object.entries(s.dependencies).forEach(([u,h])=>{typeof o[u]>"u"||(Array.isArray(h)?h.forEach(d=>{typeof o[d]>"u"&&l.push({path:a,property:"dependencies",message:this.translate("error_dependency",[d],s)})}):l.push(...this._validateSchema(h,o,a)))}),l}}}fitTest(e,r,i=1e7){const n={match:0,extra:0};if(typeof e=="object"&&e!==null){const s=this._getSchema(r);if(s.anyOf){let o={...n};for(const a of s.anyOf){const l=this.fitTest(e,a,i);(l.match>o.match||l.match===o.match&&l.extra<o.extra)&&(o=l)}return o}else{const o=this._getSchema(r).properties;for(const a in o){if(!ia(o,a)){n.extra+=i;continue}if(typeof e[a]=="object"&&typeof o[a]=="object"&&typeof o[a].properties=="object"){const l=this.fitTest(e[a],o[a],i/100);n.match+=l.match,n.extra+=l.extra}typeof e[a]<"u"&&(n.match+=i)}}}return n}_getSchema(e){return typeof e>"u"?gr({},this.jsoneditor.expandRefs(this.schema)):e}validate(e){return this._validateSchema(this.schema,e)}_validateSchema(e,r,i){const n=[];return i=i||this.jsoneditor.root.formname,e=gr({},this.jsoneditor.expandRefs(e)),typeof r>"u"?this._validateV3Required(e,r,i):(Object.keys(e).forEach(s=>{this._validateSubSchema[s]&&n.push(...this._validateSubSchema[s].call(this,e,r,i))}),n.push(...this._validateByValueType(e,r,i)),e.links&&e.links.forEach((s,o)=>{s.rel&&s.rel.toLowerCase()==="describedby"&&(e=this._expandSchemaLink(e,o),n.push(...this._validateSchema(e,r,i,this.translate)))}),["date","time","datetime-local"].includes(e.format)&&n.push(...this._validateDateTimeSubSchema(e,r,i)),["uuid"].includes(e.format)&&n.push(...this._validateUUIDSchema(e,r,i)),n.push(...this._validateCustomValidator(e,r,i)),this._removeDuplicateErrors(n))}_expandSchemaLink(e,r){const i=e.links[r].href,n=this.jsoneditor.root.getValue(),s=this.jsoneditor.compileTemplate(i,this.jsoneditor.template),o=document.location.origin+document.location.pathname+s(n);return e.links=e.links.slice(0,r).concat(e.links.slice(r+1)),gr({},e,this.jsoneditor.refs[o])}_validateV3Required(e,r,i){return(typeof e.required<"u"&&e.required===!0||typeof e.required>"u"&&this.jsoneditor.options.required_by_default===!0)&&e.type!=="info"?[{path:i,property:"required",message:this.translate("error_notset",null,e)}]:[]}_validateByValueType(e,r,i){const n=[];if(r===null)return n;if(typeof r=="number")Object.keys(e).forEach(s=>{this._validateNumberSubSchema[s]&&n.push(...this._validateNumberSubSchema[s].call(this,e,r,i))});else if(typeof r=="string")Object.keys(e).forEach(s=>{this._validateStringSubSchema[s]&&n.push(...this._validateStringSubSchema[s].call(this,e,r,i))});else if(Array.isArray(r))Object.keys(e).forEach(s=>{this._validateArraySubSchema[s]&&n.push(...this._validateArraySubSchema[s].call(this,e,r,i))});else if(typeof r=="object"){const s={};Object.keys(e).forEach(o=>{this._validateObjectSubSchema[o]&&n.push(...this._validateObjectSubSchema[o].call(this,e,r,i,s))}),typeof e.additionalProperties>"u"&&this.jsoneditor.options.no_additional_properties&&!e.oneOf&&!e.anyOf&&!e.allOf&&(e.additionalProperties=!1),Object.keys(e).forEach(o=>{typeof this._validateObjectSubSchema2[o]<"u"&&n.push(...this._validateObjectSubSchema2[o].call(this,e,r,i,s))})}return n}_validateUUIDSchema(e,r,i){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)?[]:[{path:i,property:"format",message:this.translate("error_pattern",["^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"],e)}]}_validateNumberSubSchemaMultipleDivisible(e,r,i){const n=e.multipleOf||e.divisibleBy;let s=r/n===Math.floor(r/n);return window.math?s=window.math.mod(window.math.bignumber(r),window.math.bignumber(n)).equals(0):window.Decimal&&(s=new window.Decimal(r).mod(new window.Decimal(n)).equals(0)),s?[]:[{path:i,property:e.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[n],e)}]}_validateDateTimeSubSchema(e,r,i){const n=(h,d,f)=>d*1<1?[{path:f,property:"format",message:this.translate("error_invalid_epoch",null,h)}]:d!==Math.abs(parseInt(d))?[{path:f,property:"format",message:this.translate(`error_${h.format.replace(/-/g,"_")}`,[u],h)}]:[],s=(h,d,f,p)=>{if(d!==""){let g;if(p.flatpickr.config.mode!=="single"){const y=p.flatpickr.config.mode==="range"?p.flatpickr.l10n.rangeSeparator:", ";g=p.flatpickr.selectedDates.map(x=>p.flatpickr.formatDate(x,p.flatpickr.config.dateFormat)).join(y)}try{if(g){if(g!==d)throw new Error(`${p.flatpickr.config.mode} mismatch`)}else if(p.flatpickr.formatDate(p.flatpickr.parseDate(d,p.flatpickr.config.dateFormat),p.flatpickr.config.dateFormat)!==d)throw new Error("mismatch")}catch{const b=p.flatpickr.config.errorDateFormat!==void 0?p.flatpickr.config.errorDateFormat:p.flatpickr.config.dateFormat;return[{path:f,property:"format",message:this.translate(`error_${p.format.replace(/-/g,"_")}`,[b],h)}]}}return[]},o={date:/^(\d{4}\D\d{2}\D\d{2})$/,time:/^(\d{2}:\d{2}(?::\d{2})?)$/,"datetime-local":/^(\d{4}\D\d{2}\D\d{2}[ T]\d{2}:\d{2}(?::\d{2})?)$/},a={date:'"YYYY-MM-DD"',time:'"HH:MM"',"datetime-local":'"YYYY-MM-DD HH:MM"'},l=this.jsoneditor.getEditor(i),u=l&&l.flatpickr?l.flatpickr.config.dateFormat:a[e.format];if(e.type==="integer")return n(e,r,i);if(!l||!l.flatpickr){if(!o[e.format].test(r))return[{path:i,property:"format",message:this.translate(`error_${e.format.replace(/-/g,"_")}`,[u],e)}]}else if(l)return s(e,r,i,l);return[]}_validateCustomValidator(e,r,i){const n=[];n.push(..._Fe.call(this,e,r,i,this.translate));const s=o=>{n.push(...o.call(this,e,r,i))};return this.defaults.custom_validators.forEach(s),this.options.custom_validators&&this.options.custom_validators.forEach(s),n}_removeDuplicateErrors(e){return e.reduce((r,i)=>{let n=!0;return r||(r=[]),r.forEach(s=>{s.message===i.message&&s.path===i.path&&s.property===i.property&&(s.errorcount++,n=!1)}),n&&(i.errorcount=1,r.push(i)),r},[])}_checkType(e,r){const i={string:n=>typeof n=="string",number:n=>typeof n=="number",integer:n=>typeof n=="number"&&n===Math.floor(n),boolean:n=>typeof n=="boolean",array:n=>Array.isArray(n),object:n=>n!==null&&!Array.isArray(n)&&typeof n=="object",null:n=>n===null};return typeof e=="string"?i[e]?i[e](r):!0:!this._validateSchema(e,r).length}}class wFe extends uo{register(){if(this.editors){for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister();this.editors[this.type]&&this.editors[this.type].register()}super.register()}unregister(){if(super.unregister(),this.editors)for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister()}getNumColumns(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4}enable(){if(!this.always_disabled){if(this.editors)for(let e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].enable();this.switcher.disabled=!1,super.enable()}}disable(e){if(e&&(this.always_disabled=!0),this.editors)for(let r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].disable(e);this.switcher.disabled=!0,super.disable()}switchEditor(e){this.lastType=this.type,this.editors[e]||this.buildChildEditor(e);let r=this.getValue();this.type=e,this.register(),this.editors.forEach((i,n)=>{i&&(this.type===n?(this.keep_only_existing_values&&(r=tFe(i.getValue(),r)),(this.keep_values||this.if)&&i.setValue(r,!0),i.container.style.display=""):i.container.style.display="none")}),this.onChange(!0,!1,{event:"switch",data:{type:this.lastType,path:this.editors[e].path}}),this.refreshValue(),this.refreshHeaderText()}buildChildEditor(e){var o;const r=this.types[e],i=this.theme.getChildEditorHolder();this.editor_holder.appendChild(i);let n;typeof r=="string"?(n=gr({},this.schema),n.type=r):(n=gr({},this.schema,r),n=this.jsoneditor.expandRefs(n),r&&r.required&&Array.isArray(r.required)&&this.schema.required&&Array.isArray(this.schema.required)&&(n.required=this.schema.required.concat(r.required))),(o=n==null?void 0:n.options)!=null&&o.dependencies&&delete n.options.dependencies;const s=this.jsoneditor.getEditorClass(n);this.editors[e]=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:n,container:i,path:this.path,parent:this,required:!0}),this.editors[e].preBuild(),this.editors[e].build(),this.editors[e].postBuild(),this.editors[e].header&&this.theme.visuallyHidden(this.editors[e].header),this.editors[e].option=this.switcher_options[e],i.addEventListener("change_header_text",()=>{this.refreshHeaderText()}),e!==this.type&&(i.style.display="none")}preBuild(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,typeof this.jsoneditor.options.keep_oneof_values<"u"&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),typeof this.options.keep_oneof_values<"u"&&(this.keep_values=this.options.keep_oneof_values),this.keep_only_existing_values=!1,typeof this.jsoneditor.options.keep_only_existing_values<"u"&&(this.keep_only_existing_values=this.jsoneditor.options.keep_only_existing_values),typeof this.options.keep_only_existing_values<"u"&&(this.keep_only_existing_values=this.options.keep_only_existing_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else if(this.schema.if)this.if=!0,this.ifSchema=JSON.parse(JSON.stringify(this.schema.if)),this.thenSchema={title:"then"},this.elseSchema={title:"else"},this.types=[],this.schema.then&&Qv(this.thenSchema,this.schema,this.schema.then),this.schema.else&&Qv(this.elseSchema,this.schema,this.schema.else),this.types.push(this.thenSchema),this.types.push(this.elseSchema),this.types.forEach(e=>{delete e.if,delete e.then,delete e.else}),delete this.schema.if;else{if(!this.schema.type||this.schema.type==="any"){if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){let{disallow:e}=this.schema;(typeof e!="object"||!Array.isArray(e))&&(e=[e]);const r=[];this.types.forEach(i=>{e.includes(i)||r.push(i)}),this.types=r}}else Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];delete this.schema.type}this.display_text=this.getDisplayText(this.types)}build(){const{container:e}=this;this.header=this.label=this.theme.getLabelLike(this.getTitle(),this.isRequired()),this.switcher=this.theme.getSwitcher(this.display_text),this.switcher.setAttribute("id",this.formname+"switcher"),this.switcherLabel=this.theme.getHiddenLabel(this.formname+" switcher"),this.switcherLabel.setAttribute("for",this.formname+"switcher"),this.if||(this.container.appendChild(this.header),e.appendChild(this.switcherLabel),e.appendChild(this.switcher)),this.switcher.addEventListener("change",i=>{i.preventDefault(),i.stopPropagation(),this.switchEditor(this.display_text.indexOf(i.currentTarget.value)),this.onChange(!0)}),this.editor_holder=document.createElement("div"),e.appendChild(this.editor_holder);const r={};this.jsoneditor.options.custom_validators&&(r.custom_validators=this.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),this.types.forEach((i,n)=>{this.editors[n]=!1;let s;typeof i=="string"?(s=gr({},this.schema),s.type=i):(s=gr({},this.schema,i),i.required&&Array.isArray(i.required)&&this.schema.required&&Array.isArray(this.schema.required)&&(s.required=this.schema.required.concat(i.required))),this.validators[n]=new Kue(this.jsoneditor,s,r,this.defaults)}),this.jsoneditor.on("change",()=>{this.switchIf()}),this.switchEditor(0)}onChildEditorChange(e,r){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),super.onChildEditorChange(e,r)}refreshHeaderText(){const e=this.getDisplayText(this.types);Array.from(this.switcher_options).forEach((r,i)=>{r.textContent=e[i]})}refreshValue(){this.editors[this.type]&&(this.value=this.editors[this.type].getValue())}switchIf(){if(this.ifSchema&&this.value){const e=this.getIfType(this.value);this.lastType!==e&&(this.switchEditor(e),this.editors[this.type].setValue(this.value,!0)),this.switcher.value=this.display_text[this.type]}}getIfType(e){return this.jsoneditor.validator._validateSchema(this.ifSchema,e).length===0?0:1}setValue(e,r){const i=this.type;let n={match:0,extra:0,i:this.type};const s={match:0,i:null};this.validators.forEach((l,u)=>{let h=null;typeof this.anyOf<"u"&&this.anyOf&&(h=l.fitTest(e),(n.match<h.match||n.match===h.match&&n.extra>h.extra)&&(n=h,n.i=u)),!l.validate(e).length&&s.i===null?(s.i=u,h!==null&&(s.match=h.match)):n=s});let o=s.i;typeof this.anyOf<"u"&&this.anyOf&&s.match<n.match&&(o=n.i),this.if&&(o=this.getIfType(e)),o===null&&(o=this.type),this.type=o,this.switcher.value=this.display_text[o];const a=this.type!==i;a&&(this.switchEditor(this.type),this.editors[this.type].setValue(e,r)),typeof e<"u"&&this.editors[this.type].setValue(e,r),this.refreshValue(),this.onChange(a)}destroy(){this.editors.forEach(e=>{e&&e.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),super.destroy()}showValidationErrors(e){if(this.oneOf||this.anyOf){const r=this.oneOf?"oneOf":"anyOf";this.editors.forEach((i,n)=>{if(!i)return;const s=`${this.path}.${r}[${n}]`,o=(a,l)=>{if(l.path.startsWith(s)||l.path===s.substr(0,l.path.length)){const u=gr({},l);l.path.startsWith(s)&&(u.path=this.path+u.path.substr(s.length)),a.push(u)}return a};i.showValidationErrors(e.reduce(o,[]))})}else this.editors.forEach(r=>{r&&r.showValidationErrors(e)})}addLinks(){}}class EFe extends uo{getValue(){if(this.dependenciesFulfilled)return null}setValue(){this.onChange()}getNumColumns(){return 2}}const SFe={".je-object__title":"display:inline-block",".je-object__controls":"margin:0%200%200%2010px",".je-object__container":"position:relative",".je-object__property-checkbox":"margin:0;height:auto",".property-selector":"width:295px;max-height:160px;padding:5px%200;overflow-y:auto;overflow-x:hidden;padding-left:5px",".property-selector-input":"width:220px;margin-bottom:0;display:inline-block",".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-edit-json--textarea":"height:170px;width:300px;display:block"};class Jue extends uo{constructor(e,r,i){super(e,r),this.currentDepth=i}getChildEditors(){return this.editors}register(){super.register(),this.editors&&Object.values(this.editors).forEach(e=>e.register())}unregister(){super.unregister(),this.editors&&Object.values(this.editors).forEach(e=>e.unregister())}getNumColumns(){return Math.max(Math.min(12,this.maxwidth),3)}enable(){this.always_disabled||(this.editjson_control&&(this.editjson_control.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),super.enable(),this.editors&&Object.values(this.editors).forEach(e=>{(e.isActive()||e.isUiOnly)&&e.enable(),e.optInCheckbox.disabled=!1}))}disable(e){e&&(this.always_disabled=!0),this.editjson_control&&(this.editjson_control.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),super.disable(),this.editors&&Object.values(this.editors).forEach(r=>{(r.isActive()||r.isUiOnly)&&r.disable(e),r.optInCheckbox.disabled=!0})}layoutEditors(){let e,r;if(!this.row_container)return;this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort((u,h)=>{let d=this.editors[u].schema.propertyOrder,f=this.editors[h].schema.propertyOrder;return typeof d!="number"&&(d=1e3),typeof f!="number"&&(f=1e3),d-f});let i;const n=this.format==="categories",s=[];let o=null,a=null,l;if(this.format==="grid-strict"){let u=0;if(l=[],this.property_order.forEach(h=>{const d=this.editors[h];if(d.property_removed)return;const f=d.options.hidden?0:d.options.grid_columns||d.getNumColumns(),p=d.options.hidden?0:d.options.grid_offset||0,g=d.options.hidden?!1:d.options.grid_break||!1,y=d.options.hidden?0:d.container.offsetHeight,b={key:h,width:f,offset:p,height:y};l.push(b),s[u]=l,g&&(u++,l=[])}),this.layout===JSON.stringify(s))return!1;for(this.layout=JSON.stringify(s),i=document.createElement("div"),e=0;e<s.length;e++)for(l=this.theme.getGridRow(),i.appendChild(l),r=0;r<s[e].length;r++)o=s[e][r].key,a=this.editors[o],a.options.hidden?a.container.style.display="none":this.theme.setGridColumnSize(a.container,s[e][r].width,s[e][r].offset),l.appendChild(a.container)}else if(this.format==="grid"){for(this.property_order.forEach(u=>{const h=this.editors[u];if(h.property_removed)return;let d=!1;const f=h.options.hidden?0:h.options.grid_columns||h.getNumColumns(),p=h.options.hidden?0:h.container.offsetHeight;for(let g=0;g<s.length;g++)s[g].width+f<=12&&(!p||s[g].minh*.5<p&&s[g].maxh*2>p)&&(d=g);d===!1&&(s.push({width:0,minh:999999,maxh:0,editors:[]}),d=s.length-1),s[d].editors.push({key:u,width:f,height:p}),s[d].width+=f,s[d].minh=Math.min(s[d].minh,p),s[d].maxh=Math.max(s[d].maxh,p)}),e=0;e<s.length;e++)if(s[e].width<12){let u=!1,h=0;for(r=0;r<s[e].editors.length;r++)(u===!1||s[e].editors[r].width>s[e].editors[u].width)&&(u=r),s[e].editors[r].width*=12/s[e].width,s[e].editors[r].width=Math.floor(s[e].editors[r].width),h+=s[e].editors[r].width;h<12&&(s[e].editors[u].width+=12-h),s[e].width=12}if(this.layout===JSON.stringify(s))return!1;for(this.layout=JSON.stringify(s),i=document.createElement("div"),e=0;e<s.length;e++)for(l=this.theme.getGridRow(),i.appendChild(l),r=0;r<s[e].editors.length;r++)o=s[e].editors[r].key,a=this.editors[o],a.options.hidden?a.container.style.display="none":this.theme.setGridColumnSize(a.container,s[e].editors[r].width),l.appendChild(a.container)}else{if(i=document.createElement("div"),n){const u=document.createElement("div"),h=this.theme.getTopTabHolder(this.translateProperty(this.schema.title)),d=this.theme.getTopTabContentHolder(h);for(this.property_order.forEach(g=>{const y=this.editors[g];if(y.property_removed)return;const b=this.theme.getTabContent(),x=y.schema&&(y.schema.type==="object"||y.schema.type==="array");b.isObjOrArray=x;const w=this.theme.getGridRow();y.tab||(typeof this.basicPane>"u"?this.addRow(y,h,b):this.addRow(y,h,this.basicPane)),b.id=this.getValidId(y.tab_text.textContent),x?(b.appendChild(w),d.appendChild(b),this.theme.addTopTab(h,y.tab)):(u.appendChild(w),d.childElementCount>0?d.firstChild.isObjOrArray&&(b.appendChild(u),d.insertBefore(b,d.firstChild),this.theme.insertBasicTopTab(y.tab,h),y.basicPane=b):(b.appendChild(u),d.appendChild(b),this.theme.addTopTab(h,y.tab),y.basicPane=b)),y.options.hidden?y.container.style.display="none":this.theme.setGridColumnSize(y.container,12),w.appendChild(y.container),y.rowPane=b});this.tabPanesContainer.firstChild;)this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild);const f=this.tabs_holder.parentNode;f.removeChild(f.firstChild),f.appendChild(h),this.tabPanesContainer=d,this.tabs_holder=h;const p=this.theme.getFirstTab(this.tabs_holder);p&&Ka(p,"click");return}this.property_order.forEach(u=>{const h=this.editors[u];h.property_removed||(l=this.theme.getGridRow(),i.appendChild(l),h.options.hidden?h.container.style.display="none":this.theme.setGridColumnSize(h.container,12),l.appendChild(h.container))})}for(;this.row_container.firstChild;)this.row_container.removeChild(this.row_container.firstChild);this.row_container.appendChild(i)}getPropertySchema(e){let r=this.schema.properties[e]||{};r=gr({},r);let i=!!this.schema.properties[e];return this.schema.patternProperties&&Object.keys(this.schema.patternProperties).forEach(n=>{new RegExp(n).test(e)&&(r.allOf=r.allOf||[],r.allOf.push(this.schema.patternProperties[n]),i=!0)}),!i&&this.schema.additionalProperties&&typeof this.schema.additionalProperties=="object"&&(r=gr({},this.schema.additionalProperties)),r}preBuild(){if(super.preBuild(),this.editors={},this.cached_editors={},this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)Object.entries(this.schema.properties).forEach(([e,r])=>{const i=this.jsoneditor.getEditorClass(r);this.editors[e]=this.jsoneditor.createEditor(i,{jsoneditor:this.jsoneditor,schema:r,path:`${this.path}.${e}`,parent:this,compact:!0,required:!0},this.currentDepth+1),this.editors[e].preBuild();const n=this.editors[e].options.hidden?0:this.editors[e].options.grid_columns||this.editors[e].getNumColumns();this.minwidth+=n,this.maxwidth+=n}),this.no_link_holder=!0;else{if(this.options.table)throw new Error("Not supported yet");this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?this.schema.defaultProperties=Object.keys(this.schema.properties).filter(e=>this.isRequiredObject({key:e,schema:this.schema.properties[e]})):this.schema.defaultProperties=Object.keys(this.schema.properties)),this.maxwidth+=1,Array.isArray(this.schema.defaultProperties)&&this.schema.defaultProperties.forEach(e=>{this.addObjectProperty(e,!0),this.editors[e]&&(this.minwidth=Math.max(this.minwidth,this.editors[e].options.grid_columns||this.editors[e].getNumColumns()),this.maxwidth+=this.editors[e].options.grid_columns||this.editors[e].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort((e,r)=>{let i=this.editors[e].schema.propertyOrder,n=this.editors[r].schema.propertyOrder;return typeof i!="number"&&(i=1e3),typeof n!="number"&&(n=1e3),i-n})}addTab(e){const r=this.rows[e].schema&&(this.rows[e].schema.type==="object"||this.rows[e].schema.type==="array");this.tabs_holder&&(this.rows[e].tab_text=document.createElement("span"),r?this.rows[e].tab_text.textContent=this.rows[e].getHeaderText():this.rows[e].tab_text.textContent=typeof this.schema.basicCategoryTitle>"u"?"Basic":this.schema.basicCategoryTitle,this.rows[e].tab=this.theme.getTopTab(this.rows[e].tab_text,this.getValidId(this.rows[e].tab_text.textContent)),this.rows[e].tab.addEventListener("click",i=>{this.active_tab=this.rows[e].tab,this.refreshTabs(),i.preventDefault(),i.stopPropagation()}))}addRow(e,r,i){const n=this.rows.length,s=e.schema.type==="object"||e.schema.type==="array";this.rows[n]=e,this.rows[n].rowPane=i,s?(this.addTab(n),this.theme.addTopTab(r,this.rows[n].tab)):typeof this.basicTab>"u"?(this.addTab(n),this.basicTab=n,this.basicPane=i,this.theme.addTopTab(r,this.rows[n].tab)):(this.rows[n].tab=this.rows[this.basicTab].tab,this.rows[n].tab_text=this.rows[this.basicTab].tab_text,this.rows[n].rowPane=this.rows[this.basicTab].rowPane)}refreshTabs(e){const r=typeof this.basicTab<"u";let i=!1;this.rows.forEach(n=>{!n.tab||!n.rowPane||!n.rowPane.parentNode||r&&n.tab===this.rows[this.basicTab].tab&&i||(e?n.tab_text.textContent=n.getHeaderText():(r&&n.tab===this.rows[this.basicTab].tab&&(i=!0),n.tab===this.active_tab?this.theme.markTabActive(n):this.theme.markTabInactive(n)))})}build(){const e=this.format==="categories";if(this.rows=[],this.active_tab=null,this.options.table_row)this.editor_holder=this.container,Object.entries(this.editors).forEach(([r,i])=>{const n=this.theme.getTableCell();this.editor_holder.appendChild(n),i.setContainer(n),i.build(),i.postBuild(),i.setOptInCheckbox(i.header),i.setValue(i.getDefault(),!0),this.editors[r].options.hidden&&(n.style.display="none"),this.editors[r].options.input_width&&(n.style.width=this.editors[r].options.input_width)});else{if(this.options.table)throw new Error("Not supported yet");{this.header="",this.options.compact||(this.header=document.createElement("span"),this.header.textContent=this.getTitle()),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.title.classList.add("je-object__title"),this.controls=this.theme.getButtonHolder(),this.controls.classList.add("je-object__controls"),this.container.appendChild(this.title),this.container.appendChild(this.controls),this.container.classList.add("je-object__container"),this.editjson_holder=this.theme.getModal(),this.editjson_textarea_label=this.theme.getHiddenLabel(this.translate("button_edit_json")),this.editjson_textarea_label.setAttribute("for",this.path+"-edit-json-textarea"),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.setAttribute("id",this.path+"-edit-json-textarea"),this.editjson_textarea.setAttribute("aria-labelledby",this.path+"-edit-json-textarea"),this.editjson_textarea.classList.add("je-edit-json--textarea"),this.editjson_save=this.getButton("button_save","save","button_save"),this.editjson_save.classList.add("json-editor-btntype-save"),this.editjson_save.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.saveJSON()}),this.editjson_copy=this.getButton("button_copy","copy","button_copy"),this.editjson_copy.classList.add("json-editor-btntype-copy"),this.editjson_copy.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.copyJSON()}),this.editjson_cancel=this.getButton("button_cancel","cancel","button_cancel"),this.editjson_cancel.classList.add("json-editor-btntype-cancel"),this.editjson_cancel.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea_label),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_copy),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.classList.add("property-selector"),this.addproperty_add=this.getButton("button_add","add","button_add"),this.addproperty_add.classList.add("json-editor-btntype-add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input_label=this.theme.getHiddenLabel(this.translate("button_properties")),this.addproperty_input_label.setAttribute("for",this.path+"-property-selector"),this.addproperty_input.classList.add("property-selector-input"),this.addproperty_input.setAttribute("id",this.path+"-property-selector"),this.addproperty_input.setAttribute("aria-labelledby",this.path+"-property-selector"),this.addproperty_add.addEventListener("click",i=>{if(i.preventDefault(),i.stopPropagation(),this.addproperty_input.value){if(this.editors[this.addproperty_input.value]){window.alert("there is already a property with that name");return}this.addObjectProperty(this.addproperty_input.value),this.editors[this.addproperty_input.value]&&this.editors[this.addproperty_input.value].disable();const n=this.editors[this.addproperty_input.value].key,s=this.editors[this.addproperty_input.value].type,o=this.editors[this.addproperty_input.value].path;this.onChange(!0,!1,{event:"add",data:{key:n,type:s,path:o}})}}),this.addproperty_input.addEventListener("input",i=>{i.target.previousSibling.previousSibling.childNodes.forEach(n=>{let s=n.innerText,o=i.target.value;this.options.case_sensitive_property_search||this.jsoneditor.options.case_sensitive_property_search||(s=s.toLowerCase(),o=o.toLowerCase()),s.includes(o)?n.style.display="":n.style.display="none"})}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input_label),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);const r=document.createElement("div");r.style.clear="both",this.addproperty_holder.appendChild(r),this.onOutsideModalClickListener=this.onOutsideModalClick.bind(this),document.addEventListener("click",this.onOutsideModalClickListener,!0),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),e?(this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.translateProperty(this.schema.title))),this.tabPanesContainer=this.theme.getTopTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.tabs_holder)):(this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.translateProperty(this.schema.title))),this.tabPanesContainer=this.theme.getTabContentHolder(this.tabs_holder),this.editor_holder.appendChild(this.row_container)),Object.values(this.editors).forEach(i=>{const n=this.theme.getTabContent(),s=this.theme.getGridColumn(),o=!!(i.schema&&(i.schema.type==="object"||i.schema.type==="array"));if(n.isObjOrArray=o,e){if(o){const a=this.theme.getGridContainer();a.appendChild(s),n.appendChild(a),this.tabPanesContainer.appendChild(n),this.row_container=a}else typeof this.row_container_basic>"u"&&(this.row_container_basic=this.theme.getGridContainer(),n.appendChild(this.row_container_basic),this.tabPanesContainer.childElementCount===0?this.tabPanesContainer.appendChild(n):this.tabPanesContainer.insertBefore(n,this.tabPanesContainer.childNodes[1])),this.row_container_basic.appendChild(s);this.addRow(i,this.tabs_holder,n),n.id=this.getValidId(i.schema.title)}else this.row_container.appendChild(s);i.setContainer(s),i.build(),i.postBuild(),i.setOptInCheckbox(i.header)}),this.rows[0]&&Ka(this.rows[0].tab,"click"),this.collapsed=!1,this.collapse_control=this.getButton("","collapse","button_collapse"),this.collapse_control.classList.add("json-editor-btntype-toggle"),this.title.insertBefore(this.collapse_control,this.title.childNodes[0]),this.collapse_control.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.collapsed?(this.editor_holder.style.display="",this.collapsed=!1,this.setButtonText(this.collapse_control,"","collapse","button_collapse")):(this.editor_holder.style.display="none",this.collapsed=!0,this.setButtonText(this.collapse_control,"","expand","button_expand"))}),this.options.collapsed&&Ka(this.collapse_control,"click"),this.schema.options&&typeof this.schema.options.disable_collapse<"u"?this.schema.options.disable_collapse&&(this.collapse_control.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.collapse_control.style.display="none"),this.editjson_control=this.getButton("JSON","edit","button_edit_json"),this.editjson_control.classList.add("json-editor-btntype-editjson"),this.editjson_control.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.toggleEditJSON()}),this.controls.appendChild(this.editjson_control),this.controls.insertBefore(this.editjson_holder,this.controls.childNodes[0]),this.schema.options&&typeof this.schema.options.disable_edit_json<"u"?this.schema.options.disable_edit_json&&(this.editjson_control.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_control.style.display="none"),this.addproperty_button=this.getButton("properties","edit_properties","button_object_properties"),this.addproperty_button.classList.add("json-editor-btntype-properties"),this.addproperty_button.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.toggleAddProperty()}),this.controls.appendChild(this.addproperty_button),this.controls.insertBefore(this.addproperty_holder,this.controls.childNodes[1]),this.refreshAddProperties(),this.deactivateNonRequiredProperties()}}this.options.table_row?(this.editor_holder=this.container,this.property_order.forEach(r=>{this.editor_holder.appendChild(this.editors[r].container)})):(this.layoutEditors(),this.layoutEditors()),(this.schema.readOnly||this.schema.readonly)&&this.disable()}deactivateNonRequiredProperties(){const e=this.jsoneditor.options.show_opt_in,r=typeof this.options.show_opt_in<"u",i=r&&this.options.show_opt_in===!0,n=r&&this.options.show_opt_in===!1;(i||!n&&e||!r&&e)&&Object.entries(this.editors).forEach(([s,o])=>{this.isRequiredObject(o)||this.editors[s].deactivate()})}showEditJSON(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=`${this.editjson_control.offsetLeft}px`,this.editjson_holder.style.top=`${this.editjson_control.offsetTop+this.editjson_control.offsetHeight}px`,this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_control.disabled=!1,this.editing_json=!0)}hideEditJSON(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)}copyJSON(){this.editjson_holder&&navigator.clipboard.writeText(this.editjson_textarea.value).catch(e=>window.alert(e))}saveJSON(){if(this.editjson_holder)try{const e=JSON.parse(this.editjson_textarea.value);this.setValue(e),this.hideEditJSON(),this.onChange(!0)}catch(e){throw window.alert("invalid JSON"),e}}toggleEditJSON(){this.editing_json?this.hideEditJSON():this.showEditJSON()}insertPropertyControlUsingPropertyOrder(e,r,i){let n;this.schema.properties[e]&&(n=this.schema.properties[e].propertyOrder),typeof n!="number"&&(n=1e3),r.propertyOrder=n;for(let s=0;s<i.childNodes.length;s++){const o=i.childNodes[s];if(r.propertyOrder<o.propertyOrder){this.addproperty_list.insertBefore(r,o),r=null;break}}r&&this.addproperty_list.appendChild(r)}addPropertyCheckbox(e){let r;const i=this.theme.getCheckbox();this.schema.properties[e]&&this.schema.properties[e].title?r=this.schema.properties[e].title:r=e;const n=this.theme.getCheckboxLabel(r),s=this.theme.getFormControl(n,i,null,null,this.path+"-"+e);return s.style.paddingBottom=s.style.marginBottom=s.style.paddingTop=s.style.marginTop=0,s.style.height="auto",this.insertPropertyControlUsingPropertyOrder(e,s,this.addproperty_list),i.checked=e in this.editors,i.addEventListener("change",()=>{i.checked?this.addObjectProperty(e):this.removeObjectProperty(e),this.onChange(!0)}),this.addproperty_checkboxes[e]=i,i}showAddProperty(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=`${this.addproperty_button.offsetLeft}px`,this.addproperty_holder.style.top=`${this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight}px`,this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())}hideAddProperty(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)}toggleAddProperty(){this.adding_property?this.hideAddProperty():this.showAddProperty()}removeObjectProperty(e){var r,i;if(this.editors[e]){if((i=(r=this.editors[e].schema)==null?void 0:r.options)!=null&&i.dependencies)return;this.editors[e].unregister(),delete this.editors[e],this.refreshValue(),this.layoutEditors()}}getSchemaOnMaxDepth(e){return Object.keys(e).reduce((r,i)=>{switch(i){case"$ref":return r;case"properties":case"items":return{...r,[i]:{}};case"additionalProperties":case"propertyNames":return{...r,[i]:!0};default:return{...r,[i]:e[i]}}},{})}addObjectProperty(e,r){if(!this.editors[e]){if(this.cached_editors[e]){if(this.editors[e]=this.cached_editors[e],r)return;this.editors[e].register()}else{if(!this.canHaveAdditionalProperties()&&(!this.schema.properties||!this.schema.properties[e])&&(!this.schema.patternProperties||!Object.keys(this.schema.patternProperties).find(o=>new RegExp(o).test(e))))return;const i=this.getPropertySchema(e);typeof i.propertyOrder!="number"&&(i.propertyOrder=Object.keys(this.editors).length+1e3);const n=this.jsoneditor.getEditorClass(i),{max_depth:s}=this.jsoneditor.options;if(this.editors[e]=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:s&&this.currentDepth>=s?this.getSchemaOnMaxDepth(i):i,path:`${this.path}.${e}`,parent:this},this.currentDepth+1),this.editors[e].preBuild(),!r){const o=this.theme.getChildEditorHolder();this.editor_holder.appendChild(o),this.editors[e].setContainer(o),this.editors[e].build(),this.editors[e].postBuild(),this.editors[e].setOptInCheckbox(n.header),this.editors[e].activate()}this.cached_editors[e]=this.editors[e]}r||(this.refreshValue(),this.layoutEditors())}}onOutsideModalClick(e){const r=e.path||e.composedPath&&e.composedPath();this.addproperty_holder&&!this.addproperty_holder.contains(r[0])&&this.adding_property&&(e.preventDefault(),e.stopPropagation(),this.toggleAddProperty())}onChildEditorChange(e,r){this.refreshValue(),super.onChildEditorChange(e,r)}canHaveAdditionalProperties(){return typeof this.schema.additionalProperties=="boolean"?this.schema.additionalProperties:typeof this.schema.additionalProperties=="object"&&this.schema.additionalProperties!==null?!0:typeof this.options.no_additional_properties=="boolean"?!this.options.no_additional_properties:typeof this.jsoneditor.options.no_additional_properties=="boolean"?!this.jsoneditor.options.no_additional_properties:!0}destroy(){Object.values(this.cached_editors).forEach(e=>e.destroy()),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,document.removeEventListener("click",this.onOutsideModalClickListener,!0),super.destroy()}getValue(){if(!this.dependenciesFulfilled)return;const e=super.getValue(),r=i=>typeof i>"u"||i===""||i===Object(i)&&Object.keys(i).length===0&&i.constructor===Object;return e&&(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)&&Object.keys(e).forEach(i=>{r(e[i])&&delete e[i]}),e&&(this.jsoneditor.options.remove_false_properties||this.options.remove_false_properties)&&Object.keys(e).forEach(i=>{e[i]===!1&&delete e[i]}),e}refreshValue(){this.value={},this.editors&&(Object.keys(this.editors).forEach(e=>{this.editors[e].isActive()&&(this.editors[e].refreshValue(),this.value[e]=this.editors[e].getValue())}),Object.keys(this.editors).forEach(e=>{this.editors[e].isActive()&&this.activateDependentRequired(this.editors[e].key)}),this.adding_property&&this.refreshAddProperties())}activateDependentRequired(e){this.getDependentRequired(e).forEach(i=>{let n;Object.entries(this.cached_editors).forEach(([s,o])=>{o.key===i&&(n=o)}),n&&!n.isActive()&&n.activate()})}getDependentRequired(e){return this.schema.dependentRequired&&ia(this.schema.dependentRequired,e)?this.schema.dependentRequired[e]:[]}refreshAddProperties(){if(this.options.disable_properties||this.options.disable_properties!==!1&&this.jsoneditor.options.disable_properties){this.addproperty_button.style.display="none";return}let e=!1,r=0,i=!1;Object.keys(this.editors).forEach(n=>r++),e=this.canHaveAdditionalProperties()&&!(typeof this.schema.maxProperties<"u"&&r>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},Object.keys(this.cached_editors).forEach(n=>{this.addPropertyCheckbox(n),this.isRequiredObject(this.cached_editors[n])&&n in this.editors&&(this.addproperty_checkboxes[n].disabled=!0),typeof this.schema.minProperties<"u"&&r<=this.schema.minProperties?(this.addproperty_checkboxes[n].disabled=this.addproperty_checkboxes[n].checked,this.addproperty_checkboxes[n].checked||(i=!0)):n in this.editors?i=!0:!e&&!ia(this.schema.properties,n)?this.addproperty_checkboxes[n].disabled=!0:(this.addproperty_checkboxes[n].disabled=!1,i=!0)}),this.canHaveAdditionalProperties()&&(i=!0),Object.keys(this.schema.properties).forEach(n=>{this.cached_editors[n]||(i=!0,this.addPropertyCheckbox(n))}),i?this.canHaveAdditionalProperties()?e?this.addproperty_add.disabled=!1:this.addproperty_add.disabled=!0:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_button.style.display="none")}isRequiredObject(e){if(e)return typeof e.schema.required=="boolean"?e.schema.required:Array.isArray(this.schema.required)?this.schema.required.includes(e.key):!!this.jsoneditor.options.required_by_default}setValue(e,r){e=e||{},(typeof e!="object"||Array.isArray(e))&&(e={}),Object.entries(this.cached_editors).forEach(([i,n])=>{typeof e[i]<"u"?(this.addObjectProperty(i),n.setValue(e[i],r),n.activate(),this.disabled&&n.disable()):!r&&!this.isRequiredObject(n)?this.jsoneditor.options.show_opt_in||this.options.show_opt_in?n.deactivate():this.removeObjectProperty(i):n.setValue(n.getDefault(),r)}),Object.entries(e).forEach(([i,n])=>{this.cached_editors[i]||(this.addObjectProperty(i),this.editors[i]&&this.editors[i].setValue(n,r,!!this.editors[i].template))}),this.refreshValue(),this.layoutEditors(),this.onChange()}showValidationErrors(e){const r=[],i=[];e.forEach(n=>{n.path===this.path?r.push(n):i.push(n)}),this.error_holder&&(r.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",r.forEach(n=>{n.errorcount&&n.errorcount>1&&(n.message+=` (${n.errorcount} errors)`),this.error_holder.appendChild(this.theme.getErrorMessage(n.message))})):this.error_holder.style.display="none"),this.options.table_row&&(r.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),Object.values(this.editors).forEach(n=>{n.showValidationErrors(i)})}}Jue.rules=SFe;class CFe extends ay{preBuild(){super.preBuild()}build(){this.label="",this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.radioContainer=document.createElement("div"),this.radioGroup=[];const e=i=>{this.setValue(i.currentTarget.value),this.onChange(!0),this.radioGroup.forEach(n=>{n.checked=n.value===this.getValue()})};for(let i=0;i<this.enum_values.length;i++){const n={id:`${this.formname}[${i}]`,value:this.enum_values[i]};this.jsoneditor.options.use_name_attributes&&(n.name=this.formname),this.input=this.theme.getFormRadio(n),this.setInputAttributes(["id","value","name"]),this.input.addEventListener("change",e,!1),this.radioGroup.push(this.input);const s=this.theme.getFormRadioLabel(this.enum_display[i]);s.htmlFor=this.input.id;const o=this.theme.getFormRadioControl(s,this.input,!!(this.options.layout==="horizontal"||this.options.compact));this.radioContainer.appendChild(o)}if(this.schema.readOnly||this.schema.readonly){this.disable(!0);for(let i=0;i<this.radioGroup.length;i++)this.radioGroup[i].disabled=!0;this.radioContainer.classList.add("readonly")}const r=this.theme.getContainer();r.appendChild(this.radioContainer),r.dataset.containerFor="radio",this.input=r,this.control=this.theme.getFormControl(this.label,r,this.description,this.infoButton),this.container.appendChild(this.control),window.requestAnimationFrame(()=>{this.input.parentNode&&this.afterInputReady()})}enable(){if(!this.always_disabled){for(let e=0;e<this.radioGroup.length;e++)this.radioGroup[e].disabled=!1;this.radioContainer.classList.remove("readonly"),super.enable()}}disable(e){e&&(this.always_disabled=!0);for(let r=0;r<this.radioGroup.length;r++)this.radioGroup[r].disabled=!0;this.radioContainer.classList.add("readonly"),super.disable()}destroy(){this.radioContainer.parentNode&&this.radioContainer.parentNode.parentNode&&this.radioContainer.parentNode.parentNode.removeChild(this.radioContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),super.destroy()}getNumColumns(){return 2}setValue(e){typeof e!="string"&&(e=String(e));for(let r=0;r<this.radioGroup.length;r++)if(this.radioGroup[r].value===e){this.radioGroup[r].checked=!0;break}else this.radioGroup[r].checked=!1;this.value=e,this.onChange()}}class kFe extends la{setValue(e,r,i){const n=super.setValue(e,r,i);n!==void 0&&n.changed&&this.sceditor_instance&&this.sceditor_instance.val(n.value)}build(){this.options.format="textarea",super.build(),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}afterInputReady(){if(window.sceditor){const e=this.expandCallbacks("sceditor",gr({},{format:this.input_type,emoticonsEnabled:!1,width:"100%",height:300,readOnly:this.schema.readOnly||this.schema.readonly||this.schema.template},this.defaults.options.sceditor||{},this.options.sceditor||{},{element:this.input})),r=window.sceditor.instance(this.input);r===void 0&&window.sceditor.create(this.input,e),this.sceditor_instance=r||window.sceditor.instance(this.input),this.sceditor_instance.blur(()=>{this.value=this.sceditor_instance.val(),this.sceditor_instance.updateOriginal(),this.is_dirty=!0,this.onChange(!0)}),this.theme.afterInputReady(this.input)}else super.afterInputReady()}getNumColumns(){return 6}enable(){!this.always_disabled&&this.sceditor_instance&&this.sceditor_instance.readOnly(!1),super.enable()}disable(e){this.sceditor_instance&&this.sceditor_instance.readOnly(!0),super.disable(e)}destroy(){this.sceditor_instance&&(this.sceditor_instance.destroy(),this.sceditor_instance=null),super.destroy()}}class AFe extends ay{setValue(e,r){if(this.select2_instance){r?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);const i=this.updateValue(e);this.input.value=i,this.select2v4?this.select2_instance.val(i).trigger("change"):this.select2_instance.select2("val",i),this.onChange(!0)}else super.setValue(e,r)}afterInputReady(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance){const e=this.expandCallbacks("select2",gr({},this.defaults.options.select2||{},this.options.select2||{}));this.newEnumAllowed=e.tags=!!e.tags&&this.schema.type==="string",this.select2_instance=window.jQuery(this.input).select2(e),this.select2v4=ia(this.select2_instance.select2,"amd"),this.selectChangeHandler=()=>{const r=this.select2v4?this.select2_instance.val():this.select2_instance.select2("val");this.updateValue(r),this.onChange(!0)},this.select2_instance.on("change",this.selectChangeHandler),this.select2_instance.on("select2-blur",this.selectChangeHandler)}super.afterInputReady()}updateValue(e){let r=this.enum_values[0];return e=this.typecast(e||""),this.enum_values.includes(e)?r=e:this.newEnumAllowed&&(r=this.addNewOption(e)?e:r),this.value=r,r}addNewOption(e){const r=this.typecast(e);let i=!1,n;return!this.enum_values.includes(r)&&r!==""&&(this.enum_options.push(`${r}`),this.enum_display.push(`${r}`),this.enum_values.push(r),this.schema.enum.push(r),n=this.input.querySelector(`option[value="${r}"]`),n?n.removeAttribute("data-select2-tag"):this.select2_instance.append(new Option(r,r,!1,!1)).trigger("change"),i=!0),i}enable(){this.always_disabled||this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),super.enable()}disable(e){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),super.disable(e)}destroy(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),super.destroy()}}class TFe extends ay{setValue(e,r){if(this.selectize_instance){r?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);const i=this.updateValue(e);this.input.value=i,this.selectize_instance.clear(!0),this.selectize_instance.setValue(i),this.onChange(!0)}else super.setValue(e,r)}afterInputReady(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance){const e=this.expandCallbacks("selectize",gr({},this.defaults.options.selectize||{},this.options.selectize||{}));this.newEnumAllowed=e.create=!!e.create&&this.schema.type==="string",this.selectize_instance=window.jQuery(this.input).selectize(e)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=r=>{this.updateValue(r),this.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler)}super.afterInputReady()}updateValue(e){let r=this.enum_values[0];return e=this.typecast(e||""),this.enum_values.includes(e)?r=e:this.newEnumAllowed&&(r=this.addNewOption(e)?e:r),this.value=r,r}addNewOption(e){const r=this.typecast(e);let i=!1;return!this.enum_values.includes(r)&&r!==""&&(this.enum_options.push(`${r}`),this.enum_display.push(`${r}`),this.enum_values.push(r),this.schema.enum.push(r),this.selectize_instance.addItem(r),this.selectize_instance.refreshOptions(!1),i=!0),i}onWatchedFieldChange(){super.onWatchedFieldChange(),this.selectize_instance&&(this.selectize_instance.clear(!0),this.selectize_instance.clearOptions(!0),this.enum_options.forEach((e,r)=>{this.selectize_instance.addOption({value:e,text:this.enum_display[r]})}),this.selectize_instance.addItem(`${this.value}`,!0))}enable(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),super.enable()}disable(e){this.selectize_instance&&this.selectize_instance.lock(),super.disable(e)}destroy(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),super.destroy()}}class DFe extends la{build(){this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)));const e=this.formname.replace(/\W/g,"");if(typeof SignaturePad=="function"){this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input);const r=document.createElement("div");r.classList.add("signature-container");const i=document.createElement("canvas");this.jsoneditor.options.use_name_attributes&&i.setAttribute("name",e),i.classList.add("signature"),r.appendChild(i),this.signaturePad=new window.SignaturePad(i),this.signaturePad.onEnd=()=>{this.signaturePad.isEmpty()?this.input.value="":this.input.value=this.signaturePad.toDataURL(),this.is_dirty=!0,this.refreshValue(),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()};const n=document.createElement("div"),s=document.createElement("button");s.classList.add("tiny","button"),s.innerHTML="Clear signature",n.appendChild(s),r.appendChild(n),this.options.compact&&this.container.setAttribute("class",`${this.container.getAttribute("class")} compact`),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),Array.from(this.inputs).forEach(o=>{i.setAttribute("readOnly","readOnly"),o.disabled=!0})),s.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),this.signaturePad.clear(),this.signaturePad.strokeEnd()}),this.control=this.theme.getFormControl(this.label,r,this.description),this.container.appendChild(this.control),this.refreshValue(),i.width=r.offsetWidth,this.options&&this.options.canvas_height?i.height=this.options.canvas_height:i.height="300"}else{const r=document.createElement("p");r.innerHTML="Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad",this.container.appendChild(r)}}setValue(e){if(typeof SignaturePad=="function"){const r=this.sanitize(e);return this.value===r?void 0:(this.value=r,this.input.value=this.value,this.signaturePad.clear(),e&&e!==""&&this.signaturePad.fromDataURL(e),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),!1)}}destroy(){this.signaturePad.off(),delete this.signaturePad}}class Que extends la{setValue(e,r,i){const n=super.setValue(e,r,i);n!==void 0&&n.changed&&this.simplemde_instance&&this.simplemde_instance.value(n.value)}build(){this.options.format="textarea",super.build(),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}afterInputReady(){let e;window.SimpleMDE?(e=this.expandCallbacks("simplemde",gr({},{height:300},this.defaults.options.simplemde||{},this.options.simplemde||{},{element:this.input,forceSync:!0})),this.simplemde_instance=new window.SimpleMDE(e),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.simplemde_instance.codemirror.options.readOnly=!0),this.simplemde_instance.codemirror.on("change",()=>{this.value=this.simplemde_instance.value(),this.is_dirty=!0,this.onChange(!0)}),e.autorefresh&&this.startListening(this.simplemde_instance.codemirror,this.simplemde_instance.codemirror.state.autoRefresh={delay:250}),this.theme.afterInputReady(this.input)):super.afterInputReady()}getNumColumns(){return 6}enable(){!this.always_disabled&&this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!1),super.enable()}disable(e){this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!0),super.disable(e)}destroy(){this.simplemde_instance&&(this.simplemde_instance.toTextArea(),this.simplemde_instance=null),super.destroy()}startListening(e,r){function i(){e.display.wrapper.offsetHeight?(this.stopListening(e,r),e.display.lastWrapHeight!==e.display.wrapper.clientHeight&&e.refresh()):r.timeout=window.setTimeout(i,r.delay)}r.timeout=window.setTimeout(i,r.delay),r.hurry=()=>{window.clearTimeout(r.timeout),r.timeout=window.setTimeout(i,50)},e.on(window,"mouseup",r.hurry),e.on(window,"keyup",r.hurry)}stopListening(e,r){window.clearTimeout(r.timeout),e.off(window,"mouseup",r.hurry),e.off(window,"keyup",r.hurry)}}const LFe={".starrating":"direction:rtl;display:inline-block;white-space:nowrap",".starrating > input":"display:none",".starrating > label:before":"content:'%5C2606';margin:1px;font-size:18px;font-style:normal;font-weight:400;line-height:1;font-family:'Arial';display:inline-block",".starrating > label":"color:%23888;cursor:pointer;margin:8px%200%202px%200",".starrating > label.starrating-display-enabled":"margin:1px%200%200%200",".starrating > input:checked ~ label":"color:%23ffca08",".starrating:not(.readonly) > input:hover ~ label":"color:%23ffca08",".starrating > input:checked ~ label:before":"content:'%5C2605';text-shadow:0%200%201px%20rgba(0%2C20%2C20%2C1)",".starrating:not(.readonly) > input:hover ~ label:before":"content:'%5C2605';text-shadow:0%200%201px%20rgba(0%2C20%2C20%2C1)",".starrating .starrating-display":"position:relative;direction:rtl;text-align:center;font-size:10px;line-height:0px"};class ece extends la{build(){if(this.options.compact||(this.header=this.label=this.theme.getLabelLike(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.ratingContainer=document.createElement("div"),this.ratingContainer.classList.add("starrating"),this.schema.enum===void 0){let i=this.schema.maximum?this.schema.maximum:5;this.schema.exclusiveMaximum&&i--,this.enum_values=[];for(let n=0;n<i;n++)this.enum_values.push(n+1)}else this.enum_values=this.schema.enum;this.radioGroup=[];const e=i=>{i.preventDefault(),i.stopPropagation(),this.setValue(i.currentTarget.value),this.onChange(!0)};for(let i=this.enum_values.length-1;i>-1;i--){const n=this.formname+(i+1),s=this.theme.getFormInputField("radio");s.name=`${this.formname}[starrating]`,s.value=this.enum_values[i],s.id=n,s.addEventListener("change",e,!1),this.radioGroup.push(s);const o=document.createElement("label");o.htmlFor=n,o.title=this.enum_values[i],this.options.displayValue&&o.classList.add("starrating-display-enabled");const a=this.theme.getHiddenText("label");a.textContent=i,o.appendChild(a),this.ratingContainer.appendChild(s),this.ratingContainer.appendChild(o)}if(this.options.displayValue&&(this.displayRating=document.createElement("div"),this.displayRating.classList.add("starrating-display"),this.displayRating.innerText=this.enum_values[0],this.ratingContainer.appendChild(this.displayRating)),this.schema.readOnly||this.schema.readonly){this.disable(!0);for(let i=0;i<this.radioGroup.length;i++)this.radioGroup[i].disabled=!0;this.ratingContainer.classList.add("readonly")}const r=this.theme.getContainer();r.appendChild(this.ratingContainer),this.input=r,this.control=this.theme.getFormControl(this.label,r,this.description,this.infoButton),this.container.appendChild(this.control),this.refreshValue()}enable(){if(!this.always_disabled){for(let e=0;e<this.radioGroup.length;e++)this.radioGroup[e].disabled=!1;this.ratingContainer.classList.remove("readonly"),this.disabled=!1}}disable(e){e&&(this.always_disabled=!0);for(let r=0;r<this.radioGroup.length;r++)this.radioGroup[r].disabled=!0;this.ratingContainer.classList.add("readonly"),this.disabled=!0}destroy(){this.ratingContainer.parentNode&&this.ratingContainer.parentNode.parentNode&&this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),super.destroy()}getNumColumns(){return 2}getValue(){if(this.dependenciesFulfilled)return this.schema.type==="integer"?this.value===""?0:parseInt(this.value):this.value}setValue(e){this.value=e;for(let r=0;r<this.radioGroup.length;r++)if(this.radioGroup[r].value===`${e}`){this.radioGroup[r].checked=!0,this.value=e,this.options.displayValue&&(this.displayRating.innerHTML=this.value);break}super.setValue(this.value)}}ece.rules=LFe;class OFe extends Xue{build(){super.build(),this.input.setAttribute("type","number"),this.input.getAttribute("step")||this.input.setAttribute("step","1");const e=this.theme.getStepperButtons(this.input);this.control.appendChild(e),this.stepperDown=this.control.querySelector(".stepper-down"),this.stepperUp=this.control.querySelector(".stepper-up")}enable(){super.enable(),this.stepperDown.removeAttribute("disabled"),this.stepperUp.removeAttribute("disabled")}disable(){super.disable(),this.stepperDown.setAttribute("disabled",!0),this.stepperUp.setAttribute("disabled",!0)}}class MFe extends MC{register(){if(super.register(),this.rows)for(let e=0;e<this.rows.length;e++)this.rows[e].register()}unregister(){if(super.unregister(),this.rows)for(let e=0;e<this.rows.length;e++)this.rows[e].unregister()}getNumColumns(){return Math.max(Math.min(12,this.width),3)}preBuild(){const e=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=e.title||"row",this.item_default=e.default||null,this.item_has_child_editors=e.properties||e.items,this.width=12,this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top,super.preBuild()}build(){this.tableContainer=this.theme.getTableContainer(),this.table=this.theme.getTable(),this.tableContainer.appendChild(this.table),this.container.appendChild(this.tableContainer),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);const e=this.getElementEditor(0,!0);if(this.item_default=e.getDefault(),this.width=e.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header,this.getPathDepth()),this.container.appendChild(this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.container.appendChild(this.infoButton)),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.tableContainer),this.controls=this.theme.getButtonHolder(),this.array_controls_top?this.title.appendChild(this.controls):this.panel.appendChild(this.controls),this.item_has_child_editors){const r=e.getChildEditors(),i=e.property_order||Object.keys(r);for(let n=0;n<i.length;n++){const s=this.theme.getTableHeaderCell(r[i[n]].getTitle());r[i[n]].options.hidden&&(s.style.display="none"),this.header_row.appendChild(s)}}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));e.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(this.translate("table_controls")),this.controls_header_cell.setAttribute("aria-hidden","true"),this.controls_header_cell.style.visibility="hidden",this.header_row.appendChild(this.controls_header_cell),this.addControls()}onChildEditorChange(e,r){this.refreshValue(),super.onChildEditorChange(e,r)}getItemDefault(){return gr({},{default:this.item_default}).default}getItemTitle(){return this.item_title}getElementEditor(e,r){const i=gr({},this.schema.items),n=this.jsoneditor.getEditorClass(i,this.jsoneditor),s=this.row_holder.appendChild(this.theme.getTableRow());let o=s;this.item_has_child_editors||(o=this.theme.getTableCell(),s.appendChild(o));const a=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,container:o,path:`${this.path}.${e}`,parent:this,compact:!0,table_row:!0});return a.preBuild(),r||(a.build(),a.postBuild(),a.controls_cell=s.appendChild(this.theme.getTableCell()),a.row=s,a.table_controls=this.theme.getButtonHolder(),a.controls_cell.appendChild(a.table_controls),a.table_controls.style.margin=0,a.table_controls.style.padding=0),a}destroy(){this.innerHTML="",this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.table)&&this.table.parentNode.removeChild(this.table),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,super.destroy()}ensureArraySize(e){if(Array.isArray(e)||(e=[e]),this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemDefault());return this.schema.maxItems&&e.length>this.schema.maxItems&&(e=e.slice(0,this.schema.maxItems)),e}setValue(e=[],r){if(e=this.ensureArraySize(e),JSON.stringify(e)===this.serialized)return;let n=!1;e.forEach((s,o)=>{this.rows[o]?this.rows[o].setValue(s):(this.addRow(s),n=!0)});for(let s=e.length;s<this.rows.length;s++){const o=this.rows[s].container;this.item_has_child_editors||this.rows[s].row.parentNode.removeChild(this.rows[s].row),this.rows[s].destroy(),o.parentNode&&o.parentNode.removeChild(o),this.rows[s]=null,n=!0}this.rows=this.rows.slice(0,e.length),this.refreshValue(),(n||r)&&this.refreshRowButtons(),this.onChange()}refreshRowButtons(){const e=this.schema.minItems&&this.schema.minItems>=this.rows.length,r=this.schema.maxItems&&this.schema.maxItems<=this.rows.length,i=[];this.rows.forEach((u,h)=>{if(u.delete_button){const d=!e;this.setButtonState(u.delete_button,d),i.push(d)}if(u.copy_button){const d=!r;this.setButtonState(u.copy_button,d),i.push(d)}if(u.moveup_button){const d=h!==0;this.setButtonState(u.moveup_button,d),i.push(d)}if(u.movedown_button){const d=h!==this.rows.length-1;this.setButtonState(u.movedown_button,d),i.push(d)}});const n=i.some(u=>u);this.rows.forEach(u=>this.setButtonState(u.controls_cell,n)),this.setButtonState(this.controls_header_cell,n),this.setButtonState(this.table,this.value.length);const s=!(r||this.hide_add_button);this.setButtonState(this.add_row_button,s);const o=!(!this.value.length||e||this.hide_delete_last_row_buttons);this.setButtonState(this.delete_last_row_button,o);const a=!(this.value.length<=1||e||this.hide_delete_all_rows_buttons);this.setButtonState(this.remove_all_rows_button,a);const l=s||o||a;this.setButtonState(this.controls,l)}refreshValue(){this.value=[],this.rows.forEach((e,r)=>{this.value[r]=e.getValue()}),this.serialized=JSON.stringify(this.value)}addRow(e){const r=this.rows.length;this.rows[r]=this.getElementEditor(r);const i=this.rows[r].table_controls;return this.hide_delete_buttons||(this.rows[r].delete_button=this._createDeleteButton(r,i)),this.show_copy_button&&(this.rows[r].copy_button=this._createCopyButton(r,i)),this.hide_move_buttons||(this.rows[r].moveup_button=this._createMoveUpButton(r,i)),this.hide_move_buttons||(this.rows[r].movedown_button=this._createMoveDownButton(r,i)),typeof e<"u"&&this.rows[r].setValue(e),this.rows[r]}_createDeleteButton(e,r){const i=this.getButton("","delete","button_delete_row_title_short");return i.classList.add("delete","json-editor-btntype-delete"),i.setAttribute("data-i",e),i.addEventListener("click",n=>{if(n.preventDefault(),n.stopPropagation(),!this.askConfirmation())return!1;const s=n.currentTarget.getAttribute("data-i")*1,o=this.getValue(),l=this.getValue()[s];o.splice(s,1),this.setValue(o),this.onChange(!0),this.jsoneditor.trigger("deleteRow",l)}),r.appendChild(i),i}_createCopyButton(e,r){const i=this.getButton("","copy","button_copy_row_title_short"),n=this.schema;return i.classList.add("copy","json-editor-btntype-copy"),i.setAttribute("data-i",e),i.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();const o=s.currentTarget.getAttribute("data-i")*1,a=this.getValue();let l=a[o];n.items.type==="string"&&n.items.format==="uuid"?l=_0():n.items.type==="object"&&n.items.properties&&a.forEach((u,h)=>{if(o===h)for(const d of Object.keys(u))n.items.properties&&n.items.properties[d]&&n.items.properties[d].format==="uuid"&&(l=Object.assign({},a[o]),l[d]=_0())}),a.splice(o+1,0,l),this.setValue(a),this.onChange(!0),this.jsoneditor.trigger("copyRow",this.rows[o+1])}),r.appendChild(i),i}_createMoveUpButton(e,r){const i=this.getButton("","moveup","button_move_up_title");return i.classList.add("moveup","json-editor-btntype-move"),i.setAttribute("data-i",e),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=n.currentTarget.getAttribute("data-i")*1,o=this.getValue();o.splice(s-1,0,o.splice(s,1)[0]),this.setValue(o),this.onChange(!0),this.jsoneditor.trigger("moveRow",this.rows[s-1])}),r.appendChild(i),i}_createMoveDownButton(e,r){const i=this.getButton("","movedown","button_move_down_title");return i.classList.add("movedown","json-editor-btntype-move"),i.setAttribute("data-i",e),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=n.currentTarget.getAttribute("data-i")*1,o=this.getValue();o.splice(s+1,0,o.splice(s,1)[0]),this.setValue(o),this.onChange(!0),this.jsoneditor.trigger("moveRow",this.rows[s+1])}),r.appendChild(i),i}addControls(){this.collapsed=!1,this.toggle_button=this._createToggleButton(),this.title_controls&&(this.title.insertBefore(this.toggle_button,this.title.childNodes[0]),this.toggle_button.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.setButtonState(this.panel,this.collapsed),this.collapsed?(this.collapsed=!1,this.setButtonText(e.currentTarget,"","collapse","button_collapse")):(this.collapsed=!0,this.setButtonText(e.currentTarget,"","expand","button_expand"))}),this.options.collapsed&&Ka(this.toggle_button,"click"),this.schema.options&&typeof this.schema.options.disable_collapse<"u"?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this._createAddRowButton(),this.delete_last_row_button=this._createDeleteLastRowButton(),this.remove_all_rows_button=this._createRemoveAllRowsButton()}_createToggleButton(){const e=this.getButton("","collapse","button_collapse");return e.classList.add("json-editor-btntype-toggle"),e}_createAddRowButton(){const e=this.getButton(this.getItemTitle(),"add","button_add_row_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-add"),e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const i=this.addRow();this.refreshValue(),this.refreshRowButtons(),this.onChange(!0),this.jsoneditor.trigger("addRow",i)}),this.controls.appendChild(e),e}_createDeleteLastRowButton(){const e=this.getButton("button_delete_last","subtract","button_delete_last_title",[this.getItemTitle()]);return e.classList.add("json-editor-btntype-deletelast"),e.addEventListener("click",r=>{if(r.preventDefault(),r.stopPropagation(),!this.askConfirmation())return!1;const i=this.getValue(),n=i.pop();this.setValue(i),this.onChange(!0),this.jsoneditor.trigger("deleteRow",n)}),this.controls.appendChild(e),e}_createRemoveAllRowsButton(){const e=this.getButton("button_delete_all","delete","button_delete_all_title");return e.classList.add("json-editor-btntype-deleteall"),e.addEventListener("click",r=>{if(r.preventDefault(),r.stopPropagation(),!this.askConfirmation())return!1;const i=this.getValue();this.setValue([]),this.onChange(!0),this.jsoneditor.trigger("deleteAllRows",i)}),this.controls.appendChild(e),e}}class RFe extends uo{getNumColumns(){return 4}build(){if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.translateProperty(this.schema.description))),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.hidden&&(this.container.style.display="none"),this.options=this.expandCallbacks("upload",gr({},{title:"Browse",icon:"",auto_upload:!1,hide_input:!1,enable_drag_drop:!1,drop_zone_text:"Drag & Drop file here",drop_zone_top:!1,alt_drop_zone:"",mime_type:"",max_upload_size:0,upload_handler:(i,n,s,o)=>{window.alert(`No upload_handler defined for "${i.path}". You must create your own handler to enable upload to server`)}},this.defaults.options.upload||{},this.options.upload||{})),this.options.mime_type=this.options.mime_type?[].concat(this.options.mime_type):[],this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(typeof this.options.upload_handler!="function")throw new Error("Upload handler required for upload editor");if(this.uploader=this.theme.getFormInputField("file"),this.uploader.style.display="none",this.options.mime_type.length&&this.uploader.setAttribute("accept",this.options.mime_type),this.options.enable_drag_drop===!0&&this.options.hide_input===!0||(this.clickHandler=i=>{this.uploader.dispatchEvent(new window.MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))},this.browseButton=this.getButton(this.options.title,this.options.icon,this.options.title),this.browseButton.addEventListener("click",this.clickHandler),this.fileDisplay=this.theme.getFormInputField("input"),this.fileDisplay.setAttribute("readonly",!0),this.fileDisplay.value="No file selected.",this.fileDisplay.addEventListener("dblclick",this.clickHandler),this.fileUploadGroup=this.theme.getInputGroup(this.fileDisplay,[this.browseButton]),this.fileUploadGroup||(this.fileUploadGroup=document.createElement("div"),this.fileUploadGroup.appendChild(this.fileDisplay),this.fileUploadGroup.appendChild(this.browseButton))),this.options.enable_drag_drop===!0){if(this.options.alt_drop_zone!=="")if(this.altDropZone=document.querySelector(this.options.alt_drop_zone),this.altDropZone)this.dropZone=this.altDropZone;else throw new Error(`Error: alt_drop_zone selector "${this.options.alt_drop_zone}" not found!`);else this.dropZone=this.theme.getDropZone(this.options.drop_zone_text);this.dropZone&&(this.dropZone.classList.add("upload-dropzone"),this.dropZone.addEventListener("dblclick",this.clickHandler))}this.uploadHandler=i=>{i.preventDefault(),i.stopPropagation();const n=i.target.files||i.dataTransfer.files;if(n&&n.length)if(this.options.max_upload_size!==0&&n[0].size>this.options.max_upload_size)this.theme.addInputError(this.uploader,`${this.translate("upload_max_size")} ${this.options.max_upload_size}`);else if(this.options.mime_type.length!==0&&!this.isValidMimeType(n[0].type,this.options.mime_type))this.theme.addInputError(this.uploader,`${this.translate("upload_wrong_file_format")} ${this.options.mime_type.toString()}`);else{this.fileDisplay&&(this.fileDisplay.value=n[0].name);let s=new window.FileReader;s.onload=o=>{this.preview_value=o.target.result,this.refreshPreview(n),this.onChange(!0),s=null},s.readAsDataURL(n[0])}},this.uploader.addEventListener("change",this.uploadHandler),this.dragHandler=i=>{const n=i.dataTransfer.items||i.dataTransfer.files,s=n&&n.length&&(this.options.mime_type.length===0||this.isValidMimeType(n[0].type,this.options.mime_type)),o=i.currentTarget.classList&&i.currentTarget.classList.contains("upload-dropzone")&&s;switch((i.currentTarget===window?"w_":"e_")+i.type){case"w_drop":case"w_dragover":o||(i.dataTransfer.dropEffect="none");break;case"e_dragenter":{o?(this.dropZone.classList.add("valid-dropzone"),i.dataTransfer.dropEffect="copy"):this.dropZone.classList.add("invalid-dropzone");break}case"e_dragover":{o&&(i.dataTransfer.dropEffect="copy");break}case"e_dragleave":this.dropZone.classList.remove("valid-dropzone","invalid-dropzone");break;case"e_drop":{this.dropZone.classList.remove("valid-dropzone","invalid-dropzone"),o&&this.uploadHandler(i);break}}o||i.preventDefault()},this.options.enable_drag_drop===!0&&(["dragover","drop"].forEach(i=>{window.addEventListener(i,this.dragHandler,!0)}),["dragenter","dragover","dragleave","drop"].forEach(i=>{this.dropZone.addEventListener(i,this.dragHandler,!0)}))}this.preview=document.createElement("div"),this.control=this.input.controlgroup=this.theme.getFormControl(this.label,this.uploader||this.input,this.description,this.infoButton),this.uploader&&(this.uploader.controlgroup=this.control);const e=this.uploader||this.input,r=document.createElement("div");this.dropZone&&!this.altDropZone&&this.options.drop_zone_top===!0&&r.appendChild(this.dropZone),this.fileUploadGroup&&r.appendChild(this.fileUploadGroup),this.dropZone&&!this.altDropZone&&this.options.drop_zone_top!==!0&&r.appendChild(this.dropZone),r.appendChild(this.preview),e.parentNode.insertBefore(r,e.nextSibling),this.container.appendChild(this.control),window.requestAnimationFrame(()=>{this.afterInputReady()})}afterInputReady(){if(this.value){const e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.onload=r=>{this.preview.appendChild(e)},e.onerror=r=>{console.error("upload error",r,r.currentTarget)},e.src=this.container.querySelector("a").href}this.theme.afterInputReady(this.input)}refreshPreview(e){if(this.last_preview===this.preview_value||(this.last_preview=this.preview_value,this.preview.innerHTML="",!this.preview_value))return;const r=e[0],i=this.preview_value.match(/^data:([^;,]+)[;,]/);if(r.mimeType=i?i[1]:"unknown",r.size>0){const s=Math.floor(Math.log(r.size)/Math.log(1024));r.formattedSize=`${parseFloat((r.size/1024**s).toFixed(2))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]}`}else r.formattedSize="0 Bytes";const n=this.getButton("button_upload","upload","button_upload");n.addEventListener("click",s=>{s.preventDefault(),n.setAttribute("disabled","disabled"),this.theme.removeInputError(this.uploader),this.theme.getProgressBar&&(this.progressBar=this.theme.getProgressBar(),this.preview.appendChild(this.progressBar)),this.options.upload_handler(this.path,r,{success:o=>{this.setValue(o),this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.progressBar&&this.preview.removeChild(this.progressBar),n.removeAttribute("disabled")},failure:o=>{this.theme.addInputError(this.uploader,o),this.progressBar&&this.preview.removeChild(this.progressBar),n.removeAttribute("disabled")},updateProgress:o=>{this.progressBar&&(o?this.theme.updateProgressBar(this.progressBar,o):this.theme.updateProgressBarUnknown(this.progressBar))}})}),this.preview.appendChild(this.theme.getUploadPreview(r,n,this.preview_value)),this.options.auto_upload&&(n.dispatchEvent(new window.MouseEvent("click")),n.parentNode.removeChild(n))}enable(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),super.enable())}disable(e){e&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),super.disable()}setValue(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.onChange())}destroy(){this.options.enable_drag_drop===!0&&(["dragover","drop"].forEach(e=>{window.removeEventListener(e,this.dragHandler,!0)}),["dragenter","dragover","dragleave","drop"].forEach(e=>{this.dropZone.removeEventListener(e,this.dragHandler,!0)}),this.dropZone.removeEventListener("dblclick",this.clickHandler),this.dropZone&&this.dropZone.parentNode&&this.dropZone.parentNode.removeChild(this.dropZone)),this.uploader&&this.uploader.parentNode&&(this.uploader.removeEventListener("change",this.uploadHandler),this.uploader.parentNode.removeChild(this.uploader)),this.browseButton&&this.browseButton.parentNode&&(this.browseButton.removeEventListener("click",this.clickHandler),this.browseButton.parentNode.removeChild(this.browseButton)),this.fileDisplay&&this.fileDisplay.parentNode&&(this.fileDisplay.removeEventListener("dblclick",this.clickHandler),this.fileDisplay.parentNode.removeChild(this.fileDisplay)),this.fileUploadGroup&&this.fileUploadGroup.parentNode&&this.fileUploadGroup.parentNode.removeChild(this.fileUploadGroup),this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.header&&this.header.parentNode&&this.header.parentNode.removeChild(this.header),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),super.destroy()}isValidMimeType(e,r){return r.reduce((i,n)=>i||new RegExp(n.replace(/\*/g,".*"),"gi").test(e),!1)}}class IFe extends la{preBuild(){super.preBuild(),this.schema.default=this.uuid=this.getUuid(),this.schema.options||(this.schema.options={}),this.schema.options.cleave||(this.schema.options.cleave={delimiters:["-"],blocks:[8,4,4,4,12]})}build(){super.build(),this.disable(!0),this.input.setAttribute("readonly","true")}sanitize(e){return this.testUuid(e)||(e=this.uuid),e}setValue(e,r,i){this.testUuid(e)||(e=this.uuid),this.uuid=e,super.setValue(e,r,i)}getUuid(){return _0()}testUuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}class FFe extends la{postBuild(){window.Picker&&(this.input.type="text"),this.input.style.padding="3px"}setValue(e,r,i){const n=super.setValue(e,r,i);return this.picker_instance&&this.picker_instance.domElement&&n&&n.changed&&this.picker_instance.setColor(n.value,!0),n}getNumColumns(){return 2}afterInputReady(){super.afterInputReady(),this.createPicker(!0)}disable(){if(super.disable(),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="none";const e=this.picker_instance.domElement.querySelectorAll("button");for(let r=0;r<e.length;r++)e[r].disabled=!0}}enable(){if(super.enable(),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="auto";const e=this.picker_instance.domElement.querySelectorAll("button");for(let r=0;r<e.length;r++)e[r].disabled=!1}}destroy(){this.createPicker(!1),super.destroy()}createPicker(e){if(e){if(window.Picker&&!this.picker_instance){const r=this.expandCallbacks("colorpicker",gr({},{editor:!1,alpha:!1,color:this.value,popup:"bottom"},this.defaults.options.colorpicker||{},this.options.colorpicker||{},{parent:this.container})),i=n=>{const s=this.picker_instance.settings.editorFormat,o=this.picker_instance.settings.alpha;this.setValue(s==="hex"?o?n.hex:n.hex.slice(0,7):n[`${s+(o?"a":"")}String`])};!r.popup&&typeof r.onChange!="function"?r.onChange=i:r.popup&&typeof r.onDone!="function"&&(r.onDone=i),this.picker_instance=new window.Picker(r),r.popup||(this.input.style.display="none",this.theme.afterInputReady(this.picker_instance.domElement))}}else this.picker_instance&&(this.picker_instance.destroy(),this.picker_instance=null,this.input.style.display="")}}const e1={ace:rFe,array:MC,arrayChoices:nFe,arraySelect2:sFe,arraySelectize:oFe,autocomplete:aFe,base64:lFe,button:Wue,checkbox:uFe,choices:Yue,datetime:dFe,describedBy:hFe,enum:fFe,hidden:pFe,info:mFe,integer:Xue,ip:gFe,jodit:yFe,multiple:wFe,multiselect:Ox,null:EFe,number:Zue,object:Jue,radio:CFe,sceditor:kFe,select:ay,select2:AFe,selectize:TFe,signature:DFe,simplemde:Que,starrating:ece,stepper:OFe,string:la,table:MFe,upload:RFe,uuid:IFe,colorpicker:FFe},PFe="html",NFe="default",$Fe={},BFe={},jFe={},zFe={},tce={},UFe=[],RC="en",qFe=RC;tce.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_const:"Value must be the constant value",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_contains:"No items match contains",error_minContains:"Contains match count {{0}} is less than minimum contains count of {{1}}",error_maxContains:"Contains match count {{0}} exceeds maximum contains count of {{1}}",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_property_names_exceeds_maxlength:"Property name {{0}} exceeds maxLength",error_property_names_enum_mismatch:"Property name {{0}} does not match any enum values",error_property_names_const_mismatch:"Property name {{0}} does not match the const value",error_property_names_pattern_mismatch:"Property name {{0}} does not match pattern",error_property_names_false:"Property name {{0}} fails when propertyName is false",error_property_names_maxlength:"Property name {{0}} cannot match invalid maxLength",error_property_names_enum:"Property name {{0}} cannot match invalid enum",error_property_names_pattern:"Property name {{0}} cannot match invalid pattern",error_property_names_unsupported:"Unsupported propertyName {{0}}",error_dependency:"Must have property {{0}}",error_date:"Date must be in the format {{0}}",error_time:"Time must be in the format {{0}}",error_datetime_local:"Datetime must be in the format {{0}}",error_invalid_epoch:"Date must be greater than 1 January 1970",error_ipv4:"Value must be a valid IPv4 address in the form of 4 numbers between 0 and 255, separated by dots",error_ipv6:"Value must be a valid IPv6 address",error_hostname:"The hostname has the wrong format",upload_max_size:"Filesize too large. Max size is ",upload_wrong_file_format:"Wrong file format. Allowed format(s): ",button_save:"Save",button_copy:"Copy",button_cancel:"Cancel",button_add:"Add",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_properties:"Properties",button_object_properties:"Object Properties",button_copy_row_title:"Copy {{0}}",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_copy_row_title_short:"Copy",button_collapse:"Collapse",button_expand:"Expand",button_edit_json:"Edit JSON",button_upload:"Upload",flatpickr_toggle_button:"Toggle",flatpickr_clear_button:"Clear",choices_placeholder_text:"Start typing to add value",default_array_item_title:"item",button_delete_node_warning:"Are you sure you want to remove this item?",table_controls:"Controls",paste_max_length_reached:"Pasted text exceeded maximum length of {{0}} and will be clipped."};Object.entries(e1).forEach(([t,e])=>{e1[t].options=e.options||{}});function HFe(t,e,r){console.log("Upload handler required for upload editor")}function VFe(t,e,r){let i={};r&&r.options&&r.options.error_messages&&r.options.error_messages[Nd.language]&&(i=r.options.error_messages[Nd.language]);const n=Nd.languages[Nd.language];if(!n)throw new Error(`Unknown language ${Nd.language}`);let s=i[t]||n[t]||Nd.languages[RC][t]||t;if(e)for(let o=0;o<e.length;o++)s=s.replace(new RegExp(`\\{\\{${o}}}`,"g"),e[o]);return s}function GFe(t,e){return t}const WFe={upload:HFe,use_name_attributes:!0,prompt_before_delete:!0,use_default_values:!0,max_depth:0,button_state_mode:1,case_sensitive_property_search:!0,show_errors:"interaction",prompt_paste_max_length_reached:!1,remove_false_properties:!1,enforce_const:!1},Nd={options:WFe,theme:PFe,template:NFe,themes:BFe,callbacks:$Fe,templates:jFe,iconlibs:zFe,editors:e1,languages:tce,resolvers:XIe,custom_validators:UFe,default_language:RC,language:qFe,translate:VFe,translateProperty:GFe};class YFe{constructor(e){this.options=e||{},this.schema={},this.refs=this.options.refs||{},this.refs_with_info={},this.refs_prefix="#/counter/",this.refs_counter=1,this._subSchema1={type(r){typeof r.type=="object"&&(r.type=this._expandSubSchema(r.type))},disallow(r){typeof r.disallow=="object"&&(r.disallow=this._expandSubSchema(r.disallow))},anyOf(r){Object.entries(r.anyOf).forEach(([i,n])=>{r.anyOf[i]=this.expandSchema(n)})},dependencies(r){Object.entries(r.dependencies).forEach(([i,n])=>{typeof n=="object"&&!Array.isArray(n)&&(r.dependencies[i]=this.expandSchema(n))})},not(r){r.not=this.expandSchema(r.not)}},this._subSchema2={allOf(r,i){let n=gr({},i);return Object.entries(r.allOf).forEach(([s,o])=>{r.allOf[s]=this.expandRefs(o,!0),n=this.extendSchemas(n,this.expandSchema(o))}),delete n.allOf,n},extends(r,i){let n;return Array.isArray(r.extends)?n=r.extends.reduce((s,o,a)=>this.extendSchemas(s,this.expandSchema(o)),i):n=this.extendSchemas(i,this.expandSchema(r.extends)),delete n.extends,n},oneOf(r,i){const n=gr({},i);return delete n.oneOf,r.oneOf.reduce((s,o,a)=>(s.oneOf[a]=this.extendSchemas(this.expandSchema(o),n),s),i),i}}}async load(e,r,i){return this.schema=e,await this._asyncloadExternalRefs(e,r,this._getFileBase(i),!0),this.expandRefs(e)}expandRefs(e,r){const i=gr({},e);if(!i.$ref)return i;const n=i.$ref.split("#");if(n.length===2&&!this.refs_with_info[i.$ref]){const l=this.expandRecursivePointer(this.schema,n[1]),u=this.extendSchemas(i,this.expandSchema(l));return delete u.$ref,u}const s=n.length>2?this.refs_with_info["#"+n[1]]:this.refs_with_info[i.$ref];delete i.$ref;const o=s.$ref.startsWith("#")?s.fetchUrl:"",a=this._getRef(o,s);if(!this.refs[a])console.warn(`reference:'${a}' not found!`);else if(r&&ia(this.refs[a],"allOf")){const l=this.refs[a].allOf;Object.keys(l).forEach(u=>{l[u]=this.expandRefs(l[u],!0)})}return n.length>2?this.extendSchemas(i,this.expandSchema(this.expandRecursivePointer(this.refs[a],n[2]))):this.extendSchemas(i,this.expandSchema(this.refs[a]))}expandRecursivePointer(e,r){let i=e;return r.split("/").slice(1).forEach(n=>{i[n]&&(i=i[n])}),i.$refs&&i.$refs.startsWith("#")?this.expandRecursivePointer(e,i.$refs):i}expandSchema(e){Object.entries(this._subSchema1).forEach(([i,n])=>{e[i]&&n.call(this,e)});let r=gr({},e);return Object.entries(this._subSchema2).forEach(([i,n])=>{e[i]&&(r=n.call(this,e,r))}),this.expandRefs(r)}_getRef(e,r){const i=e+r;return this.refs[i]?i:e+decodeURIComponent(r.$ref)}_expandSubSchema(e){return Array.isArray(e)?e.map(r=>typeof r=="object"?this.expandSchema(r):r):this.expandSchema(e)}_manageRecursivePointer(e,r){Object.keys(e).forEach(i=>{e[i]!==null&&e[i].$ref&&e[i].$ref.indexOf("#")===0&&(e[i].$ref=r+e[i].$ref)})}_getExternalRefs(e,r,i=!1){i||this._manageRecursivePointer(e,r);const n={},s=o=>Object.keys(o).forEach(a=>{n[a]=!0});if(e.$ref&&typeof e.$ref!="object"&&!(e.$ref.indexOf("#")===0&&i)){let o=e.$ref,a="";o.indexOf("#")>0&&(o=o.substr(0,o.indexOf("#"))),o!==e.$ref&&(a=e.$ref.substr(e.$ref.indexOf("#")));const l=this.refs_prefix+this.refs_counter++,u=l+a;e.$ref.substr(0,1)!=="#"&&!this.refs[e.$ref]&&(n[o]=!0),this.refs_with_info[l]={fetchUrl:r,$ref:o},e.$ref=u}return Object.values(e).forEach(o=>{!o||typeof o!="object"||(Array.isArray(o)?Object.values(o).forEach(a=>{a&&typeof a=="object"&&s(this._getExternalRefs(a,r,i))}):(!o.$ref||!(typeof o.$ref=="string"&&o.$ref.startsWith("#")))&&s(this._getExternalRefs(o,r,i)))}),e.id&&typeof e.id=="string"&&e.id.substr(0,4)==="urn:"?this.refs[e.id]=e:e.$id&&typeof e.$id=="string"&&e.$id.substr(0,4)==="urn:"&&(this.refs[e.$id]=e),n}_getFileBase(e){if(!e)return"/";const{ajaxBase:r}=this.options;return typeof r>"u"?this._getFileBaseFromFileLocation(e):r}_getFileBaseFromFileLocation(e){const r=e.split("/");return r.pop(),`${r.join("/")}/`}_joinUrl(e,r){let i=e;return e.substr(0,7)!=="http://"&&e.substr(0,8)!=="https://"&&e.substr(0,5)!=="blob:"&&e.substr(0,5)!=="data:"&&e.substr(0,1)!=="#"&&e.substr(0,1)!=="/"&&(i=r+e),i.indexOf("#")>0&&(i=i.substr(0,i.indexOf("#"))),i}_isUniformResourceName(e){return e.substr(0,4)==="urn:"}async _asyncloadExternalRefs(e,r,i,n=!1){const s=this._getExternalRefs(e,r,n);let o=0;for(const a of Object.keys(s)){if(typeof a>"u"||this.refs[a])continue;if(this._isUniformResourceName(a)){this.refs[a]="loading",o++;const d=this.options.urn_resolver;let f=a;if(typeof d!="function")throw console.log(`No "urn_resolver" callback defined to resolve "${f}"`),new Error(`Must set urn_resolver option to a callback to resolve ${f}`);f.indexOf("#")>0&&(f=f.substr(0,f.indexOf("#")));let p;try{let g;p=await d(f);try{g=JSON.parse(p)}catch(y){throw console.log(y),new Error(`Failed to parse external ref ${f}`)}if(!(typeof g=="boolean"||typeof g=="object")||g===null||Array.isArray(g))throw new Error(`External ref does not contain a valid schema - ${f}`);this.refs[a]=g,await this._asyncloadExternalRefs(g,a,i)}catch(g){throw console.log(g),new Error(`Failed to parse external ref ${f}`)}if(typeof p=="boolean")throw new Error(`External ref does not contain a valid schema - ${f}`);continue}if(!this.options.ajax)throw new Error(`Must set ajax option to true to load external ref ${a}`);o++;let l=this._joinUrl(a,i),u;if(this.options.ajax_cache_responses){const d=this.cacheGet(l);d&&(u=d)}if(!u){const d=await new Promise(f=>{const p=new XMLHttpRequest;this.options.ajaxCredentials&&(p.withCredentials=this.options.ajaxCredentials),p.overrideMimeType("application/json"),p.open("GET",l,!0),p.onload=()=>{f(p)},p.onerror=g=>{f(void 0)},p.send()});if(typeof d>"u")throw new Error(`Failed to fetch ref via ajax - ${a}`);try{u=JSON.parse(d.responseText),this.onSchemaLoaded({schema:u,schemaUrl:l}),this.options.ajax_cache_responses&&this.cacheSet(l,u)}catch(f){throw console.log(f),new Error(`Failed to parse external ref ${l}`)}}if(!(typeof u=="boolean"||typeof u=="object")||u===null||Array.isArray(u))throw new Error(`External ref does not contain a valid schema - ${l}`);this.refs[a]=u;const h=this._getFileBaseFromFileLocation(l);if(l!==a){const d=l.split("/");l=(a.substr(0,1)==="/"?"/":"")+d.pop()}await this._asyncloadExternalRefs(u,l,h)}if(!o)return!0;this.onAllSchemasLoaded()}onSchemaLoaded(e){}onAllSchemasLoaded(){}extendSchemas(e,r){e=gr({},e),r=gr({},r);const i={},n=(a,l)=>(a==="required"||a==="defaultProperties")&&typeof l=="object"&&Array.isArray(l),s=(a,l)=>{n(a,l)?i[a]=l.concat(r[a]).reduce((u,h)=>(u.includes(h)||u.push(h),u),[]):a==="type"&&(typeof l=="string"||Array.isArray(l))?o(l):typeof l=="object"&&!Array.isArray(l)&&l!==null?i[a]=this.extendSchemas(l,r[a]):i[a]=l},o=a=>{typeof a=="string"&&(a=[a]),typeof r.type=="string"&&(r.type=[r.type]),!r.type||!r.type.length?i.type=a:i.type=a.filter(l=>r.type.includes(l)),i.type.length===1&&typeof i.type[0]=="string"?i.type=i.type[0]:i.type.length===0&&delete i.type};return Object.entries(e).forEach(([a,l])=>{typeof r[a]<"u"?s(a,l):i[a]=l}),Object.entries(r).forEach(([a,l])=>{typeof e[a]>"u"&&(i[a]=l)}),i}getCacheKey(e){return["je-cache",e].join("::")}getCacheBuster(){return this.options.ajax_cache_buster||new Date().toISOString().slice(0,10)}cacheSet(e,r){try{window.localStorage.setItem(this.getCacheKey(e),JSON.stringify({cacheBuster:this.getCacheBuster(),schema:r}))}catch(i){console.error(i)}}cacheGet(e){try{const r=window.localStorage.getItem(this.getCacheKey(e));if(r){const i=JSON.parse(r);if(i.cacheBuster&&i.schema&&i.cacheBuster===this.getCacheBuster())return i.schema;this.cacheDelete(e)}}catch(r){console.error(r)}}cacheDelete(e){window.localStorage.removeItem(this.getCacheKey(e))}}const ZFe=()=>({compile(t){const e=t.match(/{{\s*([a-zA-Z0-9\-_ .]+)\s*}}/g),r=e&&e.length;if(!r)return()=>t;const i=[],n=s=>{let o=e[s].replace(/[{}]+/g,"").trim().split(".");const a=o.length;let l;if(a>1){let u;l=h=>{for(u=h,s=0;s<a&&(u=u[o[s]],!!u);s++);return u}}else o=o[0],l=u=>u[o];i.push({s:e[s],r:l})};for(let s=0;s<r;s++)n(s);return s=>{let o=`${t}`,a;for(let l=0;l<r;l++)a=i[l],o=o.replace(a.s,a.r(s));return o}}}),XFe=()=>window.EJS?{compile(t){const e=new window.EJS({text:t});return r=>e.render(r)}}:!1,KFe=()=>window.Handlebars,JFe=()=>window.Hogan?{compile(t){const e=window.Hogan.compile(t);return r=>e.render(r)}}:!1,QFe=()=>window._?{compile(t){return e=>window._.template(t)(e)}}:!1,ePe=()=>!window.Mark||!window.Mark.up?!1:{compile(t){return e=>window.Mark.up(t,e)}},tPe=()=>window.Mustache?{compile(t){return e=>window.Mustache.render(t,e)}}:!1,rPe=()=>window.swig,iPe=()=>window._?{compile(t){return e=>window._.template(t)(e)}}:!1,nPe={default:ZFe,ejs:XFe,handlebars:KFe,hogan:JFe,lodash:QFe,markup:ePe,mustache:tPe,swig:rPe,underscore:iPe},sPe={collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""};class Su{constructor(e="",r=sPe){this.mapping=r,this.icon_prefix=e}getIconClass(e){return this.mapping[e]?this.icon_prefix+this.mapping[e]:this.icon_prefix+e}getIcon(e){const r=this.getIconClass(e);if(!r)return null;const i=document.createElement("i");return i.classList.add(...r.split(" ")),i}}const oPe="glyphicon glyphicon-",aPe={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"remove-circle",time:"time",calendar:"calendar",edit_properties:"list"};class lPe extends Su{constructor(){super(oPe,aPe)}}const uPe="icon-",cPe={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban-circle",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"remove-circle",time:"time",calendar:"calendar",edit_properties:"list"};class dPe extends Su{constructor(){super(uPe,cPe)}}const hPe="fa fa-",fPe={collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"files-o",clear:"times-circle-o",time:"clock-o",calendar:"calendar",edit_properties:"list"};class pPe extends Su{constructor(){super(hPe,fPe)}}const mPe="fas fa-",gPe={collapse:"caret-down",expand:"caret-right",delete:"trash",edit:"pen",add:"plus",subtract:"minus",cancel:"ban",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"copy",clear:"times-circle",time:"clock",calendar:"calendar",edit_properties:"list"};class yPe extends Su{constructor(){super(mPe,gPe)}}const bPe="ui-icon ui-icon-",vPe={collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",subtract:"minusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",moveright:"arrowthick-1-e",movedown:"arrowthick-1-s",moveleft:"arrowthick-1-w",copy:"copy",clear:"circle-close",time:"time",calendar:"calendar",edit_properties:"note"};class xPe extends Su{constructor(){super(bPe,vPe)}}const _Pe="oi oi-",wPe={collapse:"collapse-down",expand:"expand-right",delete:"trash",edit:"pencil",add:"plus",subtract:"minus",cancel:"ban",save:"file",moveup:"arrow-thick-top",moveright:"arrow-thick-right",movedown:"arrow-thick-bottom",moveleft:"arrow-thick-left",copy:"clipboard",clear:"circle-x",time:"clock",calendar:"calendar",edit_properties:"list"};class EPe extends Su{constructor(){super(_Pe,wPe)}}const SPe="icon icon-",CPe={collapse:"arrow-down",expand:"arrow-right",delete:"delete",edit:"edit",add:"plus",subtract:"minus",cancel:"cross",save:"check",moveup:"upward",moveright:"forward",movedown:"downward",moveleft:"back",copy:"copy",clear:"close",time:"time",calendar:"bookmark",edit_properties:"menu"};class kPe extends Su{constructor(){super(SPe,CPe)}}const APe="bi bi-",TPe={collapse:"chevron-down",expand:"chevron-right",delete:"trash",edit:"pencil",add:"plus",subtract:"dash",cancel:"x-circle",save:"save",moveup:"arrow-up",moveright:"arrow-right",movedown:"arrow-down",moveleft:"arrow-left",copy:"clipboard",clear:"x-circle",time:"clock",calendar:"calendar",edit_properties:"list-ul"};class DPe extends Su{constructor(){super(APe,TPe)}}const LPe={bootstrap:DPe,bootstrap3:lPe,fontawesome3:dPe,fontawesome4:pPe,fontawesome5:yPe,jqueryui:xPe,openiconic:EPe,spectre:kPe},cre=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(t=>t in document.documentElement);class Cu{constructor(e,r={disable_theme_rules:!1}){this.jsoneditor=e,Object.keys(r).forEach(i=>{typeof e.options[i]<"u"&&(r[i]=e.options[i])}),this.options=r}getContainer(){return document.createElement("div")}getFloatRightLinkHolder(){const e=document.createElement("div");return e.classList.add("je-float-right-linkholder"),e}getModal(){const e=document.createElement("div");return e.style.display="none",e.classList.add("je-modal"),e}getGridContainer(){return document.createElement("div")}getGridRow(){const e=document.createElement("div");return e.classList.add("row"),e}getGridColumn(){return document.createElement("div")}setGridColumnSize(e,r){}getLink(e){const r=document.createElement("a");return r.setAttribute("href","#"),r.appendChild(document.createTextNode(e)),r}disableHeader(e){e.style.color="#ccc"}disableLabel(e){e.style.color="#ccc"}enableHeader(e){e.style.color=""}enableLabel(e){e.style.color=""}getInfoButton(e){const r=document.createElement("span");r.innerText="ⓘ",r.classList.add("je-infobutton-icon");const i=document.createElement("span");return i.classList.add("je-infobutton-tooltip"),i.innerText=e,r.onmouseover=()=>{i.style.visibility="visible"},r.onmouseleave=()=>{i.style.visibility="hidden"},r.appendChild(i),r}getFormInputLabel(e,r){const i=document.createElement("label");return i.appendChild(document.createTextNode(e)),r&&i.classList.add("required"),i}getLabelLike(e,r){const i=document.createElement("b");return i.appendChild(document.createTextNode(e)),r&&i.classList.add("required"),i}getHeader(e,r){const i=document.createElement("span");return typeof e=="string"?i.textContent=e:i.appendChild(e),i.classList.add("je-header"),i}getCheckbox(){const e=this.getFormInputField("checkbox");return e.classList.add("je-checkbox"),e}getCheckboxLabel(e,r){const i=document.createElement("label");return i.appendChild(document.createTextNode(` ${e}`)),r&&i.classList.add("required"),i}getMultiCheckboxHolder(e,r,i,n){const s=document.createElement("div");return s.classList.add("control-group"),r&&(r.style.display="block",s.appendChild(r),n&&r.appendChild(n)),Object.values(e).forEach(o=>{o.style.display="inline-block",o.style.marginRight="20px",s.appendChild(o)}),i&&s.appendChild(i),s}getFormCheckboxControl(e,r,i){const n=document.createElement("div");return n.appendChild(e),r.style.width="auto",e.insertBefore(r,e.firstChild),i&&n.classList.add("je-checkbox-control--compact"),n}getFormRadio(e){const r=this.getFormInputField("radio");return Object.keys(e).forEach(i=>r.setAttribute(i,e[i])),r.classList.add("je-radio"),r}getFormRadioLabel(e,r){const i=document.createElement("label");return i.appendChild(document.createTextNode(` ${e}`)),r&&i.classList.add("required"),i}getFormRadioControl(e,r,i,n){const s=document.createElement("div");return s.appendChild(e),r.style.width="auto",e.insertBefore(r,e.firstChild),i&&s.classList.add("je-radio-control--compact"),r.tagName.toLowerCase()!=="div"&&n&&e&&r&&(r.setAttribute("id",n),r.setAttribute("aria-labelledby",n),e.setAttribute("for",n)),s}getSelectInput(e,r,i=!1){const n=document.createElement("select");return e&&this.setSelectOptions(n,e,[],i),n}getSwitcher(e){const r=this.getSelectInput(e,!1);return r.classList.add("je-switcher"),r}getSwitcherOptions(e){return e.getElementsByTagName("option")}setSwitcherOptions(e,r,i){this.setSelectOptions(e,r,i)}setSelectOptions(e,r,i=[],n=!1,s=" "){if(e.innerHTML="",n){const o=document.createElement("option");o.setAttribute("value","_placeholder_"),o.textContent=s,o.setAttribute("disabled",""),o.setAttribute("hidden",""),e.appendChild(o)}for(let o=0;o<r.length;o++){const a=document.createElement("option");a.setAttribute("value",r[o]),a.textContent=i[o]||r[o],e.appendChild(a)}}getTextareaInput(){const e=document.createElement("textarea");return e.classList.add("je-textarea"),e}getHiddenLabel(e){const r=document.createElement("label");return r.textContent=e,r.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;"),r}visuallyHidden(e){e&&e.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;")}getHiddenText(e){const r=document.createElement("span");return r.textContent=e,r.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;"),r}getRangeInput(e,r,i,n,s){const o=this.getFormInputField("range");return o.setAttribute("min",e),o.setAttribute("max",r),o.setAttribute("step",i),n&&(n.setAttribute("id",s+"-description"),o.setAttribute("aria-describedby",s+"-description")),o}getStepperButtons(e){const r=document.createElement("div"),i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("stepper-down");const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("stepper-up"),e.getAttribute("readonly")&&(i.setAttribute("disabled",!0),n.setAttribute("disabled",!0)),i.textContent="-",n.textContent="+";const o=(u,h)=>{h?u.value=Number(h):u.value=Number(u.value),u.setAttribute("initialized","1")},a=e.getAttribute("min"),l=e.getAttribute("max");return i.addEventListener("click",()=>{e.getAttribute("initialized")?a?Number(e.value)>Number(a)&&e.stepDown():e.stepDown():o(e,a),Ka(e,"change")}),n.addEventListener("click",()=>{e.getAttribute("initialized")?l?Number(e.value)<Number(l)&&e.stepUp():e.stepUp():o(e,a),Ka(e,"change")}),r.appendChild(i),r.appendChild(n),r}getRangeOutput(e){const r=document.createElement("output"),i=n=>{r.value=n.currentTarget.value};return e.addEventListener("change",i,!1),e.addEventListener("input",i,!1),r}getRangeControl(e,r){const i=document.createElement("div");return i.classList.add("je-range-control"),r&&i.appendChild(r),i.appendChild(e),i}getFormInputField(e){const r=document.createElement("input");return r.setAttribute("type",e),r}afterInputReady(e){}getFormControl(e,r,i,n,s){const o=document.createElement("div");return o.classList.add("form-control"),e&&(o.appendChild(e),s&&e.setAttribute("for",s)),(r.type==="checkbox"||r.type==="radio")&&e?(r.style.width="auto",e.insertBefore(r,e.firstChild),n&&e.appendChild(n)):(n&&e&&e.appendChild(n),o.appendChild(r)),r.tagName.toLowerCase()!=="div"&&r&&e&&s&&(e.setAttribute("for",s),r.setAttribute("id",s)),r.tagName.toLowerCase()!=="div"&&r&&i&&(i.setAttribute("id",s+"-description"),r.setAttribute("aria-describedby",s+"-description")),i&&o.appendChild(i),o}getIndentedPanel(){const e=document.createElement("div");return e.classList.add("je-indented-panel"),e}getTopIndentedPanel(){const e=document.createElement("div");return e.classList.add("je-indented-panel--top"),e}getChildEditorHolder(){return document.createElement("div")}getDescription(e){const r=document.createElement("p");return window.DOMPurify?r.innerHTML=window.DOMPurify.sanitize(e):r.textContent=this.cleanText(e),r}getCheckboxDescription(e){return this.getDescription(e)}getFormInputDescription(e){return this.getDescription(e)}getButtonHolder(){return document.createElement("span")}getHeaderButtonHolder(){return this.getButtonHolder()}getFormButtonHolder(e){return this.getButtonHolder()}getButton(e,r,i){const n=document.createElement("button");return n.type="button",this.setButtonText(n,e,r,i),n}getFormButton(e,r,i){return this.getButton(e,r,i)}setButtonText(e,r,i,n){for(;e.firstChild;)e.removeChild(e.firstChild);if(i&&(e.appendChild(i),r=` ${r}`),!this.jsoneditor.options.iconlib||!this.jsoneditor.options.remove_button_labels||!i){const s=document.createElement("span");s.appendChild(document.createTextNode(r)),e.appendChild(s)}n&&e.setAttribute("title",n)}getTableContainer(){return document.createElement("div")}getTable(){return document.createElement("table")}getTableRow(){return document.createElement("tr")}getTableHead(){return document.createElement("thead")}getTableBody(){return document.createElement("tbody")}getTableHeaderCell(e){const r=document.createElement("th");return r.textContent=e,r}getTableCell(){return document.createElement("td")}getErrorMessage(e){const r=document.createElement("p");return r.style=r.style||{},r.style.color="red",r.appendChild(document.createTextNode(e)),r}addInputError(e,r){e.errmsg.setAttribute("role","alert")}removeInputError(e){}addTableRowError(e){}removeTableRowError(e){}getTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.innerHTML=`<div class='je-tabholder tabs'></div><div class='content' id='${r}'></div><div class='je-tabholder--clear'></div>`,i}getTopTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.innerHTML=`<div class='tabs je-tabholder--top'></div><div class='je-tabholder--clear'></div><div class='content' id='${r}'></div>`,i}applyStyles(e,r){Object.keys(r).forEach(i=>e.style[i]=r[i])}closest(e,r){for(;e&&e!==document;)if(e[cre]){if(e[cre](r))return e;e=e.parentNode}else return!1;return!1}insertBasicTopTab(e,r){r.firstChild.insertBefore(e,r.firstChild.firstChild)}getTab(e,r){const i=document.createElement("div");return i.appendChild(e),i.id=r,i.classList.add("je-tab"),i}getTopTab(e,r){const i=document.createElement("div");return i.appendChild(e),i.id=r,i.classList.add("je-tab--top"),i}getTabContentHolder(e){return e.children[1]}getTopTabContentHolder(e){return e.children[1]}getTabContent(){return this.getIndentedPanel()}getTopTabContent(){return this.getTopIndentedPanel()}markTabActive(e){this.applyStyles(e.tab,{opacity:1,background:"white"}),typeof e.rowPane<"u"?e.rowPane.style.display="":e.container.style.display=""}markTabInactive(e){this.applyStyles(e.tab,{opacity:.5,background:""}),typeof e.rowPane<"u"?e.rowPane.style.display="none":e.container.style.display="none"}addTab(e,r){e.children[0].appendChild(r)}addTopTab(e,r){e.children[0].appendChild(r)}getBlockLink(){const e=document.createElement("a");return e.classList.add("je-block-link"),e}getBlockLinkHolder(){return document.createElement("div")}getLinksHolder(){return document.createElement("div")}createMediaLink(e,r,i){e.appendChild(r),i.classList.add("je-media"),e.appendChild(i)}createImageLink(e,r,i){e.appendChild(r),r.appendChild(i)}getFirstTab(e){return e.firstChild.firstChild}getInputGroup(e,r){}cleanText(e){const r=document.createElement("div");return r.innerHTML=e,r.textContent||r.innerText}getDropZone(e){const r=document.createElement("div");return r.setAttribute("data-text",e),r.classList.add("je-dropzone"),r}getUploadPreview(e,r,i){const n=document.createElement("div");if(n.classList.add("je-upload-preview"),e.mimeType.substr(0,5)==="image"){const a=document.createElement("img");a.src=i,n.appendChild(a)}const s=document.createElement("div");s.innerHTML+=`<strong>Name:</strong> ${e.name}<br><strong>Type:</strong> ${e.type}<br><strong>Size:</strong> ${e.formattedSize}`,n.appendChild(s),n.appendChild(r);const o=document.createElement("div");return o.style.clear="left",n.appendChild(o),n}getProgressBar(){const i=document.createElement("progress");return i.setAttribute("max",100),i.setAttribute("value",0),i}updateProgressBar(e,r){e&&e.setAttribute("value",r)}updateProgressBarUnknown(e){e&&e.removeAttribute("value")}}const OPe={".je-form-input-label":"display:block;margin-bottom:3px;font-weight:bold",".je-form-input-description":"display:inline-block;margin:0;font-size:0.8em;font-style:italic",".je-indented-panel":"padding:5px;margin:10px;border-radius:3px;border:1px%20solid%20%23ddd",".je-child-editor-holder":"margin-bottom:8px",".je-header-button-holder":"display:inline-block;margin-left:10px;font-size:0.8em;vertical-align:middle",".je-table":"margin-bottom:5px;border-bottom:1px%20solid%20%23ccc",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};class rce extends Cu{getFormInputLabel(e,r){const i=super.getFormInputLabel(e,r);return i.classList.add("je-form-input-label"),i}getFormInputDescription(e){const r=super.getFormInputDescription(e);return r.classList.add("je-form-input-label"),r}getIndentedPanel(){const e=super.getIndentedPanel();return e.classList.add("je-indented-panel"),e}getTopIndentedPanel(){return this.getIndentedPanel()}getChildEditorHolder(){const e=super.getChildEditorHolder();return e.classList.add("je-child-editor-holder"),e}getHeaderButtonHolder(){const e=this.getButtonHolder();return e.classList.add("je-header-button-holder"),e}getTable(){const e=super.getTable();return e.classList.add("je-table"),e}addInputError(e,r){const i=this.closest(e,".form-control")||e.controlgroup;e.errmsg?e.errmsg.style.display="block":(e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),e.errmsg.style=e.errmsg.style||{},e.errmsg.style.color="red",i.appendChild(e.errmsg)),e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(r)),e.errmsg.setAttribute("role","alert")}removeInputError(e){e.style&&(e.style.borderColor=""),e.errmsg&&(e.errmsg.style.display="none")}}rce.rules=OPe;const MPe={};class ice extends Cu{getSelectInput(e,r){const i=super.getSelectInput(e);return i.classList.add("form-control"),i}setGridColumnSize(e,r,i){e.classList.add(`col-md-${r}`),i&&e.classList.add(`col-md-offset-${i}`)}afterInputReady(e){e.controlgroup||(e.controlgroup=this.closest(e,".form-group"),this.closest(e,".compact")&&(e.controlgroup.style.marginBottom=0))}getTextareaInput(){const e=document.createElement("textarea");return e.classList.add("form-control"),e}getRangeInput(e,r,i,n,s){return super.getRangeInput(e,r,i,n,s)}getFormInputField(e){const r=super.getFormInputField(e);return e!=="checkbox"&&e!=="radio"&&r.classList.add("form-control"),r}getHiddenLabel(e){const r=document.createElement("label");return r.textContent=e,r.classList.add("sr-only"),r}visuallyHidden(e){e&&e.classList.add("sr-only")}getHiddenText(e){const r=document.createElement("span");return r.textContent=e,r.classList.add("sr-only"),r}getFormControl(e,r,i,n,s){const o=document.createElement("div");return e&&(r.type==="checkbox"||r.type==="radio")?(o.classList.add(r.type),n&&e.appendChild(n),e.insertBefore(r,e.firstChild),o.appendChild(e)):(o.classList.add("form-group"),e&&(e.classList.add("control-label"),o.appendChild(e),n&&e.appendChild(n)),o.appendChild(r)),i&&o.appendChild(i),r.tagName.toLowerCase()!=="div"&&r&&e&&s&&(e.setAttribute("for",s),r.setAttribute("id",s)),r.tagName.toLowerCase()!=="div"&&r&&i&&(i.setAttribute("id",s+"-description"),r.setAttribute("aria-describedby",s+"-description")),o}getIndentedPanel(){const e=document.createElement("div");return e.classList.add("well","well-sm"),e.style.paddingBottom=0,e}getInfoButton(e){const r=document.createElement("span");r.classList.add("glyphicon","glyphicon-info-sign","pull-right"),r.style.padding=".25rem",r.style.position="relative",r.style.display="inline-block";const i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.position="absolute",i.innerText=e,r.onmouseover=()=>{i.style.visibility="visible"},r.onmouseleave=()=>{i.style.visibility="hidden"},r.appendChild(i),r}getFormInputDescription(e){const r=document.createElement("p");return r.classList.add("help-block"),window.DOMPurify?r.innerHTML=window.DOMPurify.sanitize(e):r.textContent=this.cleanText(e),r}getHeader(e,r){const i=document.createElement("span");return i.classList.add("h3"),typeof e=="string"?i.textContent=e:i.appendChild(e),i}getHeaderButtonHolder(){const e=this.getButtonHolder();return e.style.marginLeft="10px",e}getButtonHolder(){const e=document.createElement("span");return e.classList.add("btn-group"),e}getButton(e,r,i){const n=super.getButton(e,r,i);return n.classList.add("btn","btn-default"),n}getTableContainer(){const e=super.getTableContainer();return e.classList.add("table-responsive"),e}getTable(){const e=document.createElement("table");return e.classList.add("table","table-bordered"),e.style.width="auto",e.style.maxWidth="none",e}addInputError(e,r){e.controlgroup&&(e.controlgroup.classList.add("has-error"),e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.classList.add("help-block","errormsg"),e.controlgroup.appendChild(e.errmsg)),e.errmsg.textContent=r,e.errmsg.setAttribute("role","alert"))}removeInputError(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.classList.remove("has-error"))}getTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.innerHTML=`<ul class='col-md-2 nav nav-pills nav-stacked' id='${r}' role='tablist'></ul><div class='col-md-10 tab-content active well well-small'  id='${r}'></div>`,i}getTopTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.innerHTML=`<ul class='nav nav-tabs' id='${r}' role='tablist'></ul><div class='tab-content active well well-small'  id='${r}'></div>`,i}getTab(e,r){const i=document.createElement("li");i.setAttribute("role","presentation");const n=document.createElement("a");return n.setAttribute("href",`#${r}`),n.appendChild(e),n.setAttribute("aria-controls",r),n.setAttribute("role","tab"),n.setAttribute("data-toggle","tab"),i.appendChild(n),i}getTopTab(e,r){const i=document.createElement("li");i.setAttribute("role","presentation");const n=document.createElement("a");return n.setAttribute("href",`#${r}`),n.appendChild(e),n.setAttribute("aria-controls",r),n.setAttribute("role","tab"),n.setAttribute("data-toggle","tab"),i.appendChild(n),i}getTabContent(){const e=document.createElement("div");return e.classList.add("tab-pane"),e.setAttribute("role","tabpanel"),e}getTopTabContent(){const e=document.createElement("div");return e.classList.add("tab-pane"),e.setAttribute("role","tabpanel"),e}markTabActive(e){e.tab.classList.add("active"),typeof e.rowPane<"u"?e.rowPane.classList.add("active"):e.container.classList.add("active")}markTabInactive(e){e.tab.classList.remove("active"),typeof e.rowPane<"u"?e.rowPane.classList.remove("active"):e.container.classList.remove("active")}getProgressBar(){const n=document.createElement("div");n.classList.add("progress");const s=document.createElement("div");return s.classList.add("progress-bar"),s.setAttribute("role","progressbar"),s.setAttribute("aria-valuenow",0),s.setAttribute("aria-valuemin",0),s.setAttribute("aria-valuenax",100),s.innerHTML="0%",n.appendChild(s),n}updateProgressBar(e,r){if(!e)return;const i=e.firstChild,n=`${r}%`;i.setAttribute("aria-valuenow",r),i.style.width=n,i.innerHTML=n}updateProgressBarUnknown(e){if(!e)return;const r=e.firstChild;e.classList.add("progress","progress-striped","active"),r.removeAttribute("aria-valuenow"),r.style.width="100%",r.innerHTML=""}getInputGroup(e,r){if(!e)return;const i=document.createElement("div");i.classList.add("input-group"),i.appendChild(e);const n=document.createElement("div");n.classList.add("input-group-btn"),i.appendChild(n);for(let s=0;s<r.length;s++)n.appendChild(r[s]);return i}}ice.rules=MPe;const RPe={".jsoneditor-twbs4-text-button":"background:none;padding:0;border:0;color:currentColor","td > .form-group":"margin-bottom:0",".json-editor-btn-upload":"margin-top:1rem",".je-noindent .card":"padding:0;border:0",".je-tooltip:hover::before":"display:block;position:absolute;font-size:0.8em;color:%23fff;border-radius:0.2em;content:attr(title);background-color:%23000;margin-top:-2.5em;padding:0.3em",".je-tooltip:hover::after":"display:block;position:absolute;font-size:0.8em;color:%23fff",".select2-container--default .select2-selection--single":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__rendered":"line-height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".selectize-control.form-control":"padding:0",".selectize-dropdown.form-control":"padding:0;height:auto",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"},IPe={disable_theme_rules:!1,input_size:"normal",custom_forms:!1,object_indent:!0,object_background:"bg-light",object_text:"",table_border:!1,table_zebrastyle:!1,tooltip:"bootstrap"};class nce extends Cu{constructor(e){super(e,IPe)}getSelectInput(e,r){const i=super.getSelectInput(e);return i.classList.add("form-control"),this.options.custom_forms===!1?(this.options.input_size==="small"&&i.classList.add("form-control-sm"),this.options.input_size==="large"&&i.classList.add("form-control-lg")):(i.classList.remove("form-control"),i.classList.add("custom-select"),this.options.input_size==="small"&&i.classList.add("custom-select-sm"),this.options.input_size==="large"&&i.classList.add("custom-select-lg")),i}getContainer(){const e=document.createElement("div");return this.options.object_indent||e.classList.add("je-noindent"),e}setGridColumnSize(e,r,i){e.classList.add(`col-md-${r}`),i&&e.classList.add(`offset-md-${i}`)}afterInputReady(e){if(e.controlgroup)return;const r=e.name;e.id=r;const i=e.parentNode.parentNode.getElementsByTagName("label")[0];i&&(i.htmlFor=r),e.controlgroup=this.closest(e,".form-group")}getTextareaInput(){const e=document.createElement("textarea");return e.classList.add("form-control"),this.options.input_size==="small"&&e.classList.add("form-control-sm"),this.options.input_size==="large"&&e.classList.add("form-control-lg"),e}getRangeInput(e,r,i,n,s){const o=super.getRangeInput(e,r,i,n,s);return this.options.custom_forms===!0&&(o.classList.remove("form-control"),o.classList.add("custom-range")),o}getStepperButtons(e){const r=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("button");s.setAttribute("type","button");const o=document.createElement("button");o.setAttribute("type","button"),r.appendChild(i),r.appendChild(e),r.appendChild(n),i.appendChild(s),n.appendChild(o),r.classList.add("input-group"),i.classList.add("input-group-prepend"),n.classList.add("input-group-append"),s.classList.add("btn"),s.classList.add("btn-secondary"),s.classList.add("stepper-down"),o.classList.add("btn"),o.classList.add("btn-secondary"),o.classList.add("stepper-up"),e.getAttribute("readonly")&&(s.setAttribute("disabled",!0),o.setAttribute("disabled",!0)),s.textContent="-",o.textContent="+";const l=(d,f)=>{f?d.value=Number(f):d.value=Number(d.value),d.setAttribute("initialized","1")},u=e.getAttribute("min"),h=e.getAttribute("max");return e.addEventListener("change",()=>{e.getAttribute("initialized")||e.setAttribute("initialized","1")}),s.addEventListener("click",()=>{e.getAttribute("initialized")?u?Number(e.value)>Number(u)&&e.stepDown():e.stepDown():l(e,u),Ka(e,"change")}),o.addEventListener("click",()=>{e.getAttribute("initialized")?h?Number(e.value)<Number(h)&&e.stepUp():e.stepUp():l(e,u),Ka(e,"change")}),r}getFormInputField(e){const r=super.getFormInputField(e);return e!=="checkbox"&&e!=="radio"&&e!=="file"&&(r.classList.add("form-control"),this.options.input_size==="small"&&r.classList.add("form-control-sm"),this.options.input_size==="large"&&r.classList.add("form-control-lg")),e==="file"&&r.classList.add("form-control-file"),r}getHiddenLabel(e){const r=document.createElement("label");return r.textContent=e,r.classList.add("sr-only"),r}visuallyHidden(e){e&&e.classList.add("sr-only")}getHiddenText(e){const r=document.createElement("span");return r.textContent=e,r.classList.add("sr-only"),r}getFormControl(e,r,i,n,s){const o=document.createElement("div");if(o.classList.add("form-group"),e&&(r.type==="checkbox"||r.type==="radio")){const a=document.createElement("div");this.options.custom_forms===!1?(a.classList.add("form-check"),r.classList.add("form-check-input"),e.classList.add("form-check-label")):(a.classList.add("custom-control"),r.classList.add("custom-control-input"),e.classList.add("custom-control-label"),r.type==="checkbox"?a.classList.add("custom-checkbox"):a.classList.add("custom-radio")),a.appendChild(r),a.appendChild(e),n&&a.appendChild(n),o.appendChild(a)}else e&&(o.appendChild(e),n&&o.appendChild(n)),o.appendChild(r);return i&&o.appendChild(i),r.tagName.toLowerCase()!=="div"&&r&&e&&s&&(e.setAttribute("for",s),r.setAttribute("id",s)),r.tagName.toLowerCase()!=="div"&&r&&i&&(i.setAttribute("id",s+"-description"),r.setAttribute("aria-describedby",s+"-description")),o}getInfoButton(e){const r=document.createElement("button");r.type="button",r.classList.add("ml-3","jsoneditor-twbs4-text-button"),r.setAttribute("data-toggle","tooltip"),r.setAttribute("data-placement","auto"),r.title=e;const i=document.createTextNode("ⓘ");return r.appendChild(i),this.options.tooltip==="bootstrap"?window.jQuery&&window.jQuery().tooltip?window.jQuery(r).tooltip():console.warn("Could not find popper jQuery plugin of Bootstrap."):this.options.tooltip==="css"&&r.classList.add("je-tooltip"),r}getCheckbox(){return this.getFormInputField("checkbox")}getMultiCheckboxHolder(e,r,i,n){const s=document.createElement("div");s.classList.add("form-group"),r&&(s.appendChild(r),n&&r.appendChild(n));const o=document.createElement("div");return Object.values(e).forEach(a=>{const l=a.firstChild;o.appendChild(l)}),s.appendChild(o),i&&s.appendChild(i),s}getFormRadio(e){const r=this.getFormInputField("radio");for(const i in e)r.setAttribute(i,e[i]);return this.options.custom_forms===!1?r.classList.add("form-check-input"):r.classList.add("custom-control-input"),r}getFormRadioLabel(e,r){const i=document.createElement("label");return this.options.custom_forms===!1?i.classList.add("form-check-label"):i.classList.add("custom-control-label"),i.appendChild(document.createTextNode(e)),i}getFormRadioControl(e,r,i){const n=document.createElement("div");return this.options.custom_forms===!1?n.classList.add("form-check"):n.classList.add("custom-control","custom-radio"),n.appendChild(r),n.appendChild(e),i&&(this.options.custom_forms===!1?n.classList.add("form-check-inline"):n.classList.add("custom-control-inline")),n}getIndentedPanel(){const e=document.createElement("div");return e.classList.add("card","card-body","mb-3"),this.options.object_background&&e.classList.add(this.options.object_background),this.options.object_text&&e.classList.add(this.options.object_text),e}getFormInputDescription(e){const r=document.createElement("small");return r.classList.add("form-text"),window.DOMPurify?r.innerHTML=window.DOMPurify.sanitize(e):r.textContent=this.cleanText(e),r}getHeader(e,r){const i=document.createElement("span");return i.classList.add("h3"),i.classList.add("card-title"),i.classList.add("level-"+r),typeof e=="string"?i.textContent=e:i.appendChild(e),i.style.display="inline-block",i}getHeaderButtonHolder(){return this.getButtonHolder()}getButtonHolder(){const e=document.createElement("span");return e.classList.add("btn-group"),e}getFormButtonHolder(e){const r=this.getButtonHolder();return r.classList.add("d-block"),e==="center"?r.classList.add("text-center"):e==="right"&&r.classList.add("text-right"),r}getButton(e,r,i){const n=super.getButton(e,r,i);return n.classList.add("btn","btn-secondary","btn-sm"),n}getTableContainer(){const e=super.getTableContainer();return e.classList.add("table-responsive"),e}getTable(){const e=document.createElement("table");return e.classList.add("table","table-sm"),this.options.table_border&&e.classList.add("table-bordered"),this.options.table_zebrastyle&&e.classList.add("table-striped"),e}getErrorMessage(e){const r=document.createElement("div");return r.classList.add("alert","alert-danger"),r.setAttribute("role","alert"),r.appendChild(document.createTextNode(e)),r}addInputError(e,r){e.controlgroup&&(e.controlgroup.classList.add("is-invalid"),e.errmsg||(e.errmsg=document.createElement("p"),e.errmsg.classList.add("invalid-feedback"),e.controlgroup.appendChild(e.errmsg),e.errmsg.style.display="block"),e.errmsg.style.display="block",e.errmsg.textContent=r,e.errmsg.setAttribute("role","alert"))}removeInputError(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.classList.remove("is-invalid"))}getTabHolder(e){const r=document.createElement("div"),i=typeof e>"u"?"":e;return r.innerHTML=`<div class='col-md-2' id='${i}'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='${i}'></div></div>`,r.classList.add("row"),r}addTab(e,r){e.children[0].children[0].appendChild(r)}getTabContentHolder(e){return e.children[1].children[0]}getTopTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.classList.add("card"),i.innerHTML=`<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='${r}'></ul></div><div class='card-body'><div class='tab-content' id='${r}'></div></div>`,i}getTab(e,r){const i=document.createElement("li");i.classList.add("nav-item");const n=document.createElement("a");return n.classList.add("nav-link"),n.setAttribute("href",`#${r}`),n.setAttribute("data-toggle","tab"),n.appendChild(e),i.appendChild(n),i}getTopTab(e,r){const i=document.createElement("li");i.classList.add("nav-item");const n=document.createElement("a");return n.classList.add("nav-link"),n.setAttribute("href",`#${r}`),n.setAttribute("data-toggle","tab"),n.appendChild(e),i.appendChild(n),i}getTabContent(){const e=document.createElement("div");return e.classList.add("tab-pane"),e.setAttribute("role","tabpanel"),e}getTopTabContent(){const e=document.createElement("div");return e.classList.add("tab-pane"),e.setAttribute("role","tabpanel"),e}markTabActive(e){e.tab.firstChild.classList.add("active"),typeof e.rowPane<"u"?e.rowPane.classList.add("active"):e.container.classList.add("active")}markTabInactive(e){e.tab.firstChild.classList.remove("active"),typeof e.rowPane<"u"?e.rowPane.classList.remove("active"):e.container.classList.remove("active")}insertBasicTopTab(e,r){r.children[0].children[0].insertBefore(e,r.children[0].children[0].firstChild)}addTopTab(e,r){e.children[0].children[0].appendChild(r)}getTopTabContentHolder(e){return e.children[1].children[0]}getFirstTab(e){return e.firstChild.firstChild.firstChild}getProgressBar(){const n=document.createElement("div");n.classList.add("progress");const s=document.createElement("div");return s.classList.add("progress-bar"),s.setAttribute("role","progressbar"),s.setAttribute("aria-valuenow",0),s.setAttribute("aria-valuemin",0),s.setAttribute("aria-valuenax",100),s.innerHTML="0%",n.appendChild(s),n}updateProgressBar(e,r){if(!e)return;const i=e.firstChild,n=`${r}%`;i.setAttribute("aria-valuenow",r),i.style.width=n,i.innerHTML=n}updateProgressBarUnknown(e){if(!e)return;const r=e.firstChild;e.classList.add("progress","progress-striped","active"),r.removeAttribute("aria-valuenow"),r.style.width="100%",r.innerHTML=""}getBlockLink(){const e=document.createElement("a");return e.classList.add("mb-3","d-inline-block"),e}getLinksHolder(){return document.createElement("div")}getInputGroup(e,r){if(!e)return;const i=document.createElement("div");i.classList.add("input-group"),i.appendChild(e);const n=document.createElement("div");n.classList.add("input-group-append"),i.appendChild(n);for(let s=0;s<r.length;s++)r[s].classList.remove("mr-2","btn-secondary"),r[s].classList.add("btn-outline-secondary"),n.appendChild(r[s]);return i}}nce.rules=RPe;const FPe={".form-group":"margin-bottom:1rem",".form-text":"display:block",".jsoneditor-twbs5-text-button":"background:none;padding:0;border:0;color:currentColor","td > .form-group":"margin-bottom:0",".json-editor-btn-upload":"margin-top:1rem",".je-noindent .card":"padding:0;border:0",".je-tooltip:hover::before":"display:block;position:absolute;font-size:0.8em;color:%23fff;border-radius:0.2em;content:attr(title);background-color:%23000;margin-top:-2.5em;padding:0.3em",".je-tooltip:hover::after":"display:block;position:absolute;font-size:0.8em;color:%23fff",".select2-container--default .select2-selection--single":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".select2-container--default   .select2-selection--single   .select2-selection__rendered":"line-height:calc(1.5em%20%2B%200.75rem%20%2B%202px)",".selectize-control.form-control":"padding:0",".selectize-dropdown.form-control":"padding:0;height:auto",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"},PPe={disable_theme_rules:!1,input_size:"normal",object_indent:!0,object_background:"bg-light",object_text:"",table_border:!1,table_zebrastyle:!1,tooltip:"bootstrap"};class sce extends Cu{constructor(e){super(e,PPe)}getSelectInput(e,r){const i=super.getSelectInput(e);return i.classList.add("form-control"),i.classList.add("form-select"),this.options.input_size==="small"&&i.classList.add("form-control-sm"),this.options.input_size==="large"&&i.classList.add("form-control-lg"),i}getContainer(){const e=document.createElement("div");return this.options.object_indent||e.classList.add("je-noindent"),e}setGridColumnSize(e,r,i){e.classList.add(`col-md-${r}`),i&&e.classList.add(`offset-md-${i}`)}afterInputReady(e){if(e.controlgroup)return;const r=e.name;e.id=r;const i=e.parentNode.parentNode.getElementsByTagName("label")[0];i&&(i.classList.add("form-label"),i.htmlFor=r),e.controlgroup=this.closest(e,".form-group")}getTextareaInput(){const e=document.createElement("textarea");return e.classList.add("form-control"),this.options.input_size==="small"&&e.classList.add("form-control-sm"),this.options.input_size==="large"&&e.classList.add("form-control-lg"),e}getRangeInput(e,r,i,n,s){const o=super.getRangeInput(e,r,i,n,s);return o.classList.remove("form-control"),o.classList.add("form-range"),o}getStepperButtons(e){const r=document.createElement("div"),i=document.createElement("button");i.setAttribute("type","button");const n=document.createElement("button");n.setAttribute("type","button"),r.appendChild(i),r.appendChild(e),r.appendChild(n),r.classList.add("input-group"),i.classList.add("btn"),i.classList.add("btn-secondary"),i.classList.add("stepper-down"),n.classList.add("btn"),n.classList.add("btn-secondary"),n.classList.add("stepper-up"),e.getAttribute("readonly")&&(i.setAttribute("disabled",!0),n.setAttribute("disabled",!0)),i.textContent="-",n.textContent="+";const o=(u,h)=>{h?u.value=Number(h):u.value=Number(u.value),u.setAttribute("initialized","1")},a=e.getAttribute("min"),l=e.getAttribute("max");return e.addEventListener("change",()=>{e.getAttribute("initialized")||e.setAttribute("initialized","1")}),i.addEventListener("click",()=>{e.getAttribute("initialized")?a?Number(e.value)>Number(a)&&e.stepDown():e.stepDown():o(e,a),Ka(e,"change")}),n.addEventListener("click",()=>{e.getAttribute("initialized")?l?Number(e.value)<Number(l)&&e.stepUp():e.stepUp():o(e,a),Ka(e,"change")}),r}getFormInputField(e){const r=super.getFormInputField(e);return e!=="checkbox"&&e!=="radio"&&(r.classList.add("form-control"),this.options.input_size==="small"&&r.classList.add("form-control-sm"),this.options.input_size==="large"&&r.classList.add("form-control-lg")),r}getFormControl(e,r,i,n,s){const o=document.createElement("div");if(o.classList.add("form-group"),e&&(r.type==="checkbox"||r.type==="radio")){const a=document.createElement("div");a.classList.add("form-check"),r.classList.add("form-check-input"),e.classList.add("form-check-label"),r.tagName.toLowerCase()!=="div"&&r&&e&&s&&(e.setAttribute("for",s),r.setAttribute("id",s)),r.tagName.toLowerCase()!=="div"&&r&&i&&(i.setAttribute("id",s+"-description"),r.setAttribute("aria-describedby",s+"-description")),a.appendChild(r),a.appendChild(e),n&&a.appendChild(n),o.appendChild(a)}else e&&(e.classList.add("form-label"),o.appendChild(e),n&&o.appendChild(n)),o.appendChild(r);return i&&o.appendChild(i),o}getHiddenLabel(e){const r=document.createElement("label");return r.textContent=e,r.classList.add("visually-hidden"),r}visuallyHidden(e){e&&e.classList.add("visually-hidden")}getHiddenText(e){const r=document.createElement("span");return r.textContent=e,r.classList.add("sr-only"),r}getInfoButton(e){const r=document.createElement("button");r.type="button",r.classList.add("ms-3","jsoneditor-twbs5-text-button"),r.setAttribute("data-toggle","tooltip"),r.setAttribute("data-placement","auto"),r.title=e;const i=document.createTextNode("ⓘ");return r.appendChild(i),this.options.tooltip==="bootstrap"?window.jQuery&&window.jQuery().tooltip?window.jQuery(r).tooltip():console.warn("Could not find popper jQuery plugin of Bootstrap."):this.options.tooltip==="css"&&r.classList.add("je-tooltip"),r}getCheckbox(){return this.getFormInputField("checkbox")}getMultiCheckboxHolder(e,r,i,n){const s=document.createElement("div");s.classList.add("form-group"),r&&(s.appendChild(r),n&&r.appendChild(n));const o=document.createElement("div");return Object.values(e).forEach(a=>{const l=a.firstChild;o.appendChild(l)}),s.appendChild(o),i&&s.appendChild(i),s}getFormRadio(e){const r=this.getFormInputField("radio");for(const i in e)r.setAttribute(i,e[i]);return r.classList.add("form-check-input"),r}getFormRadioLabel(e,r){const i=document.createElement("label");return i.classList.add("form-check-label"),i.appendChild(document.createTextNode(e)),i}getFormRadioControl(e,r,i){const n=document.createElement("div");return n.classList.add("form-check"),n.appendChild(r),n.appendChild(e),i&&n.classList.add("form-check-inline"),n}getIndentedPanel(){const e=document.createElement("div");return e.classList.add("card","card-body","my-3"),this.options.object_background&&e.classList.add(this.options.object_background),this.options.object_text&&e.classList.add(this.options.object_text),e}getFormInputDescription(e){const r=document.createElement("small");return r.classList.add("form-text"),r.classList.add("d-block"),window.DOMPurify?r.innerHTML=window.DOMPurify.sanitize(e):r.textContent=this.cleanText(e),r}getHeader(e,r){const i=document.createElement("span");return i.classList.add("h3"),i.classList.add("card-title"),i.classList.add("level-"+r),typeof e=="string"?i.textContent=e:i.appendChild(e),i.style.display="inline-block",i}getHeaderButtonHolder(){return this.getButtonHolder()}getButtonHolder(){const e=document.createElement("span");return e.classList.add("btn-group"),e}getFormButtonHolder(e){const r=this.getButtonHolder();return r.classList.add("d-block"),e==="center"?r.classList.add("text-center"):e==="right"&&r.classList.add("text-end"),r}getButton(e,r,i){const n=super.getButton(e,r,i);return n.classList.add("btn","btn-secondary","btn-sm"),n}getTableContainer(){const e=super.getTableContainer();return e.classList.add("table-responsive"),e}getTable(){const e=document.createElement("table");return e.classList.add("table","table-sm"),this.options.table_border&&e.classList.add("table-bordered"),this.options.table_zebrastyle&&e.classList.add("table-striped"),e}getErrorMessage(e){const r=document.createElement("div");return r.classList.add("alert","alert-danger"),r.setAttribute("role","alert"),r.appendChild(document.createTextNode(e)),r}addInputError(e,r){e.controlgroup&&(e.controlgroup.classList.add("is-invalid"),e.errmsg||(e.errmsg=document.createElement("p"),e.errmsg.classList.add("invalid-feedback"),e.controlgroup.appendChild(e.errmsg),e.errmsg.style.display="block"),e.errmsg.style.display="block",e.errmsg.textContent=r,e.errmsg.setAttribute("role","alert"))}removeInputError(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.classList.remove("is-invalid"))}getTabHolder(e){const r=document.createElement("div"),i=typeof e>"u"?"":e;return r.innerHTML=`<div class='col-md-2' id='${i}'><ul class='nav flex-column nav-pills'></ul></div><div class='col-md-10'><div class='tab-content' id='${i}'></div></div>`,r.classList.add("row"),r}addTab(e,r){e.children[0].children[0].appendChild(r)}getTabContentHolder(e){return e.children[1].children[0]}getTopTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.classList.add("card"),i.innerHTML=`<div class='card-header'><ul class='nav nav-tabs card-header-tabs' id='${r}'></ul></div><div class='card-body'><div class='tab-content' id='${r}'></div></div>`,i}getTab(e,r){const i=document.createElement("li");i.classList.add("nav-item");const n=document.createElement("a");return n.classList.add("nav-link"),n.setAttribute("href",`#${r}`),n.setAttribute("data-toggle","tab"),n.appendChild(e),i.appendChild(n),i}getTopTab(e,r){const i=document.createElement("li");i.classList.add("nav-item");const n=document.createElement("a");return n.classList.add("nav-link"),n.setAttribute("href",`#${r}`),n.setAttribute("data-toggle","tab"),n.appendChild(e),i.appendChild(n),i}getTabContent(){const e=document.createElement("div");return e.classList.add("tab-pane"),e.setAttribute("role","tabpanel"),e}getTopTabContent(){const e=document.createElement("div");return e.classList.add("tab-pane"),e.setAttribute("role","tabpanel"),e}markTabActive(e){e.tab.firstChild.classList.add("active"),typeof e.rowPane<"u"?e.rowPane.classList.add("active"):e.container.classList.add("active")}markTabInactive(e){e.tab.firstChild.classList.remove("active"),typeof e.rowPane<"u"?e.rowPane.classList.remove("active"):e.container.classList.remove("active")}insertBasicTopTab(e,r){r.children[0].children[0].insertBefore(e,r.children[0].children[0].firstChild)}addTopTab(e,r){e.children[0].children[0].appendChild(r)}getTopTabContentHolder(e){return e.children[1].children[0]}getFirstTab(e){return e.firstChild.firstChild.firstChild}getProgressBar(){const n=document.createElement("div");n.classList.add("progress");const s=document.createElement("div");return s.classList.add("progress-bar"),s.setAttribute("role","progressbar"),s.setAttribute("aria-valuenow",0),s.setAttribute("aria-valuemin",0),s.setAttribute("aria-valuenax",100),s.innerHTML="0%",n.appendChild(s),n}updateProgressBar(e,r){if(!e)return;const i=e.firstChild,n=`${r}%`;i.setAttribute("aria-valuenow",r),i.style.width=n,i.innerHTML=n}updateProgressBarUnknown(e){if(!e)return;const r=e.firstChild;e.classList.add("progress","progress-striped","active"),r.removeAttribute("aria-valuenow"),r.style.width="100%",r.innerHTML=""}getBlockLink(){const e=document.createElement("a");return e.classList.add("mb-3","d-inline-block"),e}getLinksHolder(){return document.createElement("div")}getInputGroup(e,r){if(!e)return;const i=document.createElement("div");i.classList.add("input-group"),i.appendChild(e);for(let n=0;n<r.length;n++)r[n].classList.remove("me-2","btn-secondary"),r[n].classList.add("btn-outline-secondary"),i.appendChild(r[n]);return i}}sce.rules=FPe;class oce extends Cu{getTable(){const e=super.getTable();return e.setAttribute("cellpadding",5),e.setAttribute("cellspacing",0),e}getTableHeaderCell(e){const r=super.getTableHeaderCell(e);return r.classList.add("ui-state-active"),r.style.fontWeight="bold",r}getTableCell(){const e=super.getTableCell();return e.classList.add("ui-widget-content"),e}getHeaderButtonHolder(){const e=this.getButtonHolder();return e.style.marginLeft="10px",e.style.fontSize=".6em",e.style.display="inline-block",e}getFormInputDescription(e){const r=this.getDescription(e);return r.style.marginLeft="10px",r.style.display="inline-block",r}getFormControl(e,r,i,n){const s=super.getFormControl(e,r,i,n);return r.type==="checkbox"?(s.style.lineHeight="25px",s.style.padding="3px 0"):s.style.padding="4px 0 8px 0",s}getDescription(e){const r=document.createElement("span");return r.style.fontSize=".8em",r.style.fontStyle="italic",window.DOMPurify?r.innerHTML=window.DOMPurify.sanitize(e):r.textContent=this.cleanText(e),r}getButtonHolder(){const e=document.createElement("div");return e.classList.add("ui-buttonset"),e.style.fontSize=".7em",e}getFormInputLabel(e,r){const i=document.createElement("label");return i.style.fontWeight="bold",i.style.display="block",i.textContent=e,r&&i.classList.add("required"),i}getButton(e,r,i){const n=document.createElement("button");n.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),r&&!e?(n.classList.add("ui-button-icon-only"),r.classList.add("ui-button-icon-primary","ui-icon-primary"),n.appendChild(r)):r?(n.classList.add("ui-button-text-icon-primary"),r.classList.add("ui-button-icon-primary","ui-icon-primary"),n.appendChild(r)):n.classList.add("ui-button-text-only");const s=document.createElement("span");return s.classList.add("ui-button-text"),s.textContent=e||i||".",n.appendChild(s),n.setAttribute("title",i),n}setButtonText(e,r,i,n){e.innerHTML="",e.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all"),i&&!r?(e.classList.add("ui-button-icon-only"),i.classList.add("ui-button-icon-primary","ui-icon-primary"),e.appendChild(i)):i?(e.classList.add("ui-button-text-icon-primary"),i.classList.add("ui-button-icon-primary","ui-icon-primary"),e.appendChild(i)):e.classList.add("ui-button-text-only");const s=document.createElement("span");s.classList.add("ui-button-text"),s.textContent=r||n||".",e.appendChild(s),e.setAttribute("title",n)}getIndentedPanel(){const e=document.createElement("div");return e.classList.add("ui-widget-content","ui-corner-all"),e.style.padding="1em 1.4em",e.style.marginBottom="20px",e}afterInputReady(e){if(!e.controls&&(e.controls=this.closest(e,".form-control"),this.queuedInputErrorText)){const r=this.queuedInputErrorText;delete this.queuedInputErrorText,this.addInputError(e,r)}}addInputError(e,r){if(!e.controls){this.queuedInputErrorText=r;return}e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("div"),e.errmsg.classList.add("ui-state-error"),e.controls.appendChild(e.errmsg)),e.errmsg.textContent=r}removeInputError(e){e.controls||delete this.queuedInputErrorText,e.errmsg&&(e.errmsg.style.display="none")}markTabActive(e){e.tab.classList.remove("ui-widget-header"),e.tab.classList.add("ui-state-active"),typeof e.rowPane<"u"?e.rowPane.style.display="":e.container.style.display=""}markTabInactive(e){e.tab.classList.add("ui-widget-header"),e.tab.classList.remove("ui-state-active"),typeof e.rowPane<"u"?e.rowPane.style.display="none":e.container.style.display="none"}}oce.rules={'div[data-schemaid="root"]:after':'position:relative;color:red;margin:10px 0;font-weight:600;display:block;width:100%;text-align:center;content:"This is an old JSON-Editor 1.x Theme and might not display elements correctly when used with the 2.x version"'};const NPe={".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"};class ace extends Cu{addInputError(e,r){if(e.errmsg)e.errmsg.style.display="block";else{const i=this.closest(e,".form-control");e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),i.nodeName&&i.appendChild(e.errmsg)}e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(r)),e.errmsg.setAttribute("role","alert")}removeInputError(e){e.style&&(e.style.borderColor=""),e.errmsg&&(e.errmsg.style.display="none")}}ace.rules=NPe;const $Pe={"*":"--primary-color:%235755d9;--gray-color:%23bcc3ce;--light-color:%23fff",".slider:focus":"box-shadow:none","h4 > label + .btn-group":"margin-left:1rem",".text-right > button":"margin-right:0%20!important",".text-left > button":"margin-left:0%20!important",".property-selector":"font-size:0.7rem;font-weight:normal;max-height:260px%20!important;width:395px%20!important",".property-selector .form-checkbox":"margin:0",textarea:"width:100%25;min-height:2rem;resize:vertical",table:"border-collapse:collapse",".table td":"padding:0.4rem%200.4rem",".mr-5":"margin-right:1rem%20!important","div[data-schematype]:not([data-schematype='object'])":"transition:0.5s","div[data-schematype]:not([data-schematype='object']):hover":"background-color:%23eee",".je-table-border td":"border:0.05rem%20solid%20%23dadee4%20!important",".btn-info":"font-size:0.5rem;font-weight:bold;height:0.8rem;padding:0.15rem%200;line-height:0.8;margin:0.3rem%200%200.3rem%200.1rem",".je-label + select":"min-width:5rem",".je-label":"font-weight:600",".btn-action.btn-info":"width:0.8rem",".je-border":"border:0.05rem%20solid%20%23dadee4",".je-panel":"padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-panel-top":"padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".required:after":"content:%22%20*%22;color:red;font:inherit",".je-align-bottom":"margin-top:auto",".je-desc":"font-size:smaller;margin:0.2rem%200",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem;border:3px%20solid%20white;box-shadow:0px%200px%208px%20rgba(0%2C%200%2C%200%2C%200.3);box-sizing:border-box",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red",".columns .container.je-noindent":"padding-left:0;padding-right:0",".selectize-control.multi .item":"background:var(--primary-color)%20!important",".select2-container--default   .select2-selection--single   .select2-selection__arrow":"display:none",".select2-container--default .select2-selection--single":"border:none",".select2-container .select2-selection--single .select2-selection__rendered":"padding:0",".select2-container .select2-search--inline .select2-search__field":"margin-top:0",".select2-container--default.select2-container--focus   .select2-selection--multiple":"border:0.05rem%20solid%20var(--gray-color)",".select2-container--default   .select2-selection--multiple   .select2-selection__choice":"margin:0.4rem%200.2rem%200.2rem%200;padding:2px%205px;background-color:var(--primary-color);color:var(--light-color)",".select2-container--default .select2-search--inline .select2-search__field":"line-height:normal",".choices":"margin-bottom:auto",".choices__list--multiple .choices__item":"border:none;background-color:var(--primary-color);color:var(--light-color)",".choices[data-type*='select-multiple'] .choices__button":"border-left:0.05rem%20solid%20%232826a6",".choices__inner":"font-size:inherit;min-height:20px;padding:4px%207.5px%204px%203.75px",".choices[data-type*='select-one'] .choices__inner":"padding-bottom:4px",".choices__list--dropdown .choices__item":"font-size:inherit"},BPe={disable_theme_rules:!1,label_bold:!0,align_bottom:!1,object_indent:!1,object_border:!1,table_border:!1,table_zebrastyle:!1,input_size:"normal"};class lce extends Cu{constructor(e){super(e,BPe)}setGridColumnSize(e,r,i){e.classList.add(`col-${r}`),i&&e.classList.add("col-mx-auto")}getGridContainer(){const e=document.createElement("div");return e.classList.add("container"),this.options.object_indent||e.classList.add("je-noindent"),e}getGridRow(){const e=document.createElement("div");return e.classList.add("columns"),e}getGridColumn(){const e=document.createElement("div");return e.classList.add("column"),this.options.align_bottom&&e.classList.add("je-align-bottom"),e}getIndentedPanel(){const e=document.createElement("div");return e.classList.add("je-panel"),this.options.object_border&&e.classList.add("je-border"),e}getTopIndentedPanel(){const e=document.createElement("div");return e.classList.add("je-panel-top"),this.options.object_border&&e.classList.add("je-border"),e}getHeaderButtonHolder(){return this.getButtonHolder()}getButtonHolder(){const e=super.getButtonHolder();return e.classList.add("btn-group"),e}getFormButtonHolder(e){const r=super.getFormButtonHolder();return r.classList.remove("btn-group"),r.classList.add("d-block"),e==="center"?r.classList.add("text-center"):e==="right"?r.classList.add("text-right"):r.classList.add("text-left"),r}getFormButton(e,r,i){const n=super.getFormButton(e,r,i);return n.classList.add("btn","btn-primary","mx-2","my-1"),this.options.input_size!=="small"&&n.classList.remove("btn-sm"),this.options.input_size==="large"&&n.classList.add("btn-lg"),n}getButton(e,r,i){const n=super.getButton(e,r,i);return n.classList.add("btn","btn-sm","btn-primary","mr-2","my-1"),n}getHeader(e,r){const i=document.createElement("span");return typeof e=="string"?i.textContent=e:i.appendChild(e),i.style.display="inline-block",i}getFormInputDescription(e){const r=super.getFormInputDescription(e);return r.classList.add("je-desc","hide-sm"),r}getFormInputLabel(e,r){const i=super.getFormInputLabel(e,r);return this.options.label_bold&&i.classList.add("je-label"),i}getCheckbox(){return this.getFormInputField("checkbox")}getCheckboxLabel(e,r){const i=super.getCheckboxLabel(e,r),n=document.createElement("i");return n.classList.add("form-icon"),i.classList.add("form-checkbox","pr-0"),i.insertBefore(n,i.firstChild),i}getFormCheckboxControl(e,r,i){return e.insertBefore(r,e.firstChild),i&&e.classList.add("form-inline"),e}getMultiCheckboxHolder(e,r,i,n){return super.getMultiCheckboxHolder(e,r,i,n)}getFormRadio(e){const r=this.getFormInputField("radio");for(const i in e)r.setAttribute(i,e[i]);return r}getFormRadioLabel(e,r){const i=super.getFormRadioLabel(e,r),n=document.createElement("i");return n.classList.add("form-icon"),i.classList.add("form-radio"),i.insertBefore(n,i.firstChild),i}getFormRadioControl(e,r,i){return e.insertBefore(r,e.firstChild),i&&e.classList.add("form-inline"),e}getFormInputField(e){const r=super.getFormInputField(e);return["checkbox","radio"].includes(e)||r.classList.add("form-input"),r}getRangeInput(e,r,i,n,s){const o=super.getRangeInput(e,r,i,n,s);return o.classList.add("slider"),o.classList.remove("form-input"),o.setAttribute("oninput",'this.setAttribute("value", this.value)'),o}getRangeControl(e,r){const i=super.getRangeControl(e,r);return i.classList.add("text-center"),i}getSelectInput(e,r){const i=super.getSelectInput(e);return i.classList.add("form-select"),i}getTextareaInput(){const e=document.createElement("textarea");return e.classList.add("form-input"),e}getFormControl(e,r,i,n,s){const o=document.createElement("div");return o.classList.add("form-group"),e&&(r.type==="checkbox"||r.type==="radio")?(o.classList.add(r.type),n&&e.appendChild(n),e.insertBefore(r,e.firstChild),o.appendChild(e)):(e&&(e.classList.add("form-label"),o.appendChild(e),n&&e.appendChild(n)),o.appendChild(r)),this.options.input_size==="small"?r.classList.add("input-sm","select-sm"):this.options.input_size==="large"&&r.classList.add("input-lg","select-lg"),r.type!=="checkbox"&&o.appendChild(r),i&&o.appendChild(i),r.tagName.toLowerCase()!=="div"&&r&&e&&s&&(e.setAttribute("for",s),r.setAttribute("id",s)),r.tagName.toLowerCase()!=="div"&&r&&i&&(i.setAttribute("id",s+"-description"),r.setAttribute("aria-describedby",s+"-description")),o}getInputGroup(e,r){if(!e)return;const i=document.createElement("div");i.classList.add("input-group"),i.appendChild(e);for(let n=0;n<r.length;n++)r[n].classList.add("input-group-btn"),r[n].classList.remove("btn-sm","mr-2","my-1"),i.appendChild(r[n]);return i}getInfoButton(e){const r=document.createElement("div");r.classList.add("popover","popover-left","float-right");const i=document.createElement("button");i.classList.add("btn","btn-secondary","btn-info","btn-action","s-circle"),i.setAttribute("tabindex","-1"),r.appendChild(i);const n=document.createTextNode("I");i.appendChild(n);const s=document.createElement("div");s.classList.add("popover-container"),r.appendChild(s);const o=document.createElement("div");o.classList.add("card"),s.appendChild(o);const a=document.createElement("div");return a.classList.add("card-body"),a.innerHTML=e,o.appendChild(a),r}getTable(){const e=super.getTable();return e.classList.add("table","table-scroll"),this.options.table_border&&e.classList.add("je-table-border"),this.options.table_zebrastyle&&e.classList.add("table-striped"),e}getProgressBar(){const e=super.getProgressBar();return e.classList.add("progress"),e}getTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.classList.add("columns"),i.innerHTML=`<div class="column col-2"></div><div class="column col-10 content" id="${r}"></div>`,i}getTopTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.innerHTML=`<ul class="tab"></ul><div class="content" id="${r}"></div>`,i}getTab(e,r){const i=document.createElement("a");return i.classList.add("btn","btn-secondary","btn-block"),i.setAttribute("href",`#${r}`),i.appendChild(e),i}getTopTab(e,r){const i=document.createElement("li");i.id=r,i.classList.add("tab-item");const n=document.createElement("a");return n.setAttribute("href",`#${r}`),n.appendChild(e),i.appendChild(n),i}markTabActive(e){e.tab.classList.add("active"),typeof e.rowPane<"u"?e.rowPane.style.display="":e.container.style.display=""}markTabInactive(e){e.tab.classList.remove("active"),typeof e.rowPane<"u"?e.rowPane.style.display="none":e.container.style.display="none"}afterInputReady(e){if(e.localName==="select"){if(e.classList.contains("selectized")){const r=e.nextSibling;r&&(r.classList.remove("form-select"),Array.from(r.querySelectorAll(".form-select")).forEach(i=>{i.classList.remove("form-select")}))}else if(e.classList.contains("select2-hidden-accessible")){const r=e.nextSibling;r&&r.querySelector(".select2-selection--single")&&r.classList.add("form-select")}}e.controlgroup||(e.controlgroup=this.closest(e,".form-group"),this.closest(e,".compact")&&(e.controlgroup.style.marginBottom=0))}addInputError(e,r){e.controlgroup&&(e.controlgroup.classList.add("has-error"),e.errmsg||(e.errmsg=document.createElement("p"),e.errmsg.classList.add("form-input-hint"),e.controlgroup.appendChild(e.errmsg)),e.errmsg.classList.remove("d-hide"),e.errmsg.textContent=r,e.errmsg.setAttribute("role","alert"))}removeInputError(e){e.errmsg&&(e.errmsg.classList.add("d-hide"),e.controlgroup.classList.remove("has-error"))}}lce.rules=$Pe;const jPe={".slider":"-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;display:block;border:none;height:1.2rem;width:100%25",".slider:focus":"box-shadow:0%200%200%200%20rgba(87%2C%2085%2C%20217%2C%200.2);outline:none",".slider.tooltip:not([data-tooltip])::after":"content:attr(value)",".slider::-webkit-slider-thumb":"-webkit-appearance:none;background:%23f17405;border-radius:100%25;height:0.6rem;margin-top:-0.25rem;transition:transform%200.2s;width:0.6rem",".slider:active::-webkit-slider-thumb":"transform:scale(1.25);outline:none",".slider::-webkit-slider-runnable-track":"background:%23b2b4b6;border-radius:0.1rem;height:0.1rem;width:100%25","a.tooltips":"position:relative;display:inline","a.tooltips span":"position:absolute;white-space:nowrap;width:auto;padding-left:1rem;padding-right:1rem;color:%23ffffff;background:rgba(56%2C%2056%2C%2056%2C%200.85);height:1.5rem;line-height:1.5rem;text-align:center;visibility:hidden;border-radius:3px","a.tooltips span:after":"content:%22%22;position:absolute;top:50%25;left:100%25;margin-top:-5px;width:0;height:0;border-left:5px%20solid%20rgba(56%2C%2056%2C%2056%2C%200.85);border-top:5px%20solid%20transparent;border-bottom:5px%20solid%20transparent","a:hover.tooltips span":"visibility:visible;opacity:0.9;font-size:0.8rem;right:100%25;top:50%25;margin-top:-12px;margin-right:10px;z-index:999",".json-editor-btntype-properties + div":"font-size:0.8rem;font-weight:normal",textarea:"width:100%25;min-height:2rem;resize:vertical",table:"width:100%25;border-collapse:collapse",".table td":"padding:0rem%200rem","div[data-schematype]:not([data-schematype='object'])":"transition:0.5s","div[data-schematype]:not([data-schematype='object']):hover":"background-color:%23e6f4fe","div[data-schemaid='root']":"position:relative;width:inherit;display:inherit;overflow-x:hidden;z-index:10","select[multiple]":"height:auto","select[multiple].from-select":"height:auto",".je-table-zebra:nth-child(even)":"background-color:%23f2f2f2",".je-table-border":"border:0.5px%20solid%20black",".je-table-hdiv":"border-bottom:1px%20solid%20black",".je-border":"border:0.05rem%20solid%20%233182ce",".je-panel":"width:inherit;padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-panel-top":"width:100%25;padding:0.2rem;margin:0.2rem;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".required:after":"content:%22%20*%22;color:red;font:inherit;font-weight:bold",".je-desc":"font-size:smaller;margin:0.2rem%200",".container-xl.je-noindent":"padding-left:0;padding-right:0",".json-editor-btntype-add":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%234299e1;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-deletelast":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%23e53e3e;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-deleteall":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%23000000;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btn-save":"float:right;color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%232b6cb0;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btn-back":"color:white;margin:0.3rem;padding:0.3rem%200.8rem;background-color:%232b6cb0;box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-webkit-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2);-moz-box-shadow:3px%203px%205px%201px%20rgba(4%2C%204%2C%204%2C%200.2)",".json-editor-btntype-delete":"color:%23e53e3e;background-color:rgba(218%2C%20222%2C%20228%2C%200.1);margin:0.03rem;padding:0.1rem",".json-editor-btntype-move":"color:%23000000;background-color:rgba(218%2C%20222%2C%20228%2C%200.1);margin:0.03rem;padding:0.1rem",".json-editor-btn-collapse":"padding:0em%200.8rem;font-size:1.3rem;color:%23e53e3e;background-color:rgba(218%2C%20222%2C%20228%2C%200.1)",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-dropzone":"position:relative;margin:0.5rem%200;border:2px%20dashed%20black;width:100%25;height:60px;background:teal;transition:all%200.5s",".je-dropzone:before":"position:absolute;content:attr(data-text);color:rgba(0%2C%200%2C%200%2C%200.6);left:50%25;top:50%25;transform:translate(-50%25%2C%20-50%25)",".je-dropzone.valid-dropzone":"background:green",".je-dropzone.invalid-dropzone":"background:red"},zPe={disable_theme_rules:!1,label_bold:!1,object_panel_default:!0,object_indent:!0,object_border:!1,table_border:!1,table_hdiv:!1,table_zebrastyle:!1,input_size:"small",enable_compact:!1};class uce extends Cu{constructor(e){super(e,zPe)}getGridContainer(){const e=document.createElement("div");return e.classList.add("flex","flex-col","w-full"),this.options.object_indent||e.classList.add("je-noindent"),e}getGridRow(){const e=document.createElement("div");return e.classList.add("flex","flex-wrap","w-full"),e}getGridColumn(){const e=document.createElement("div");return e.classList.add("flex","flex-col"),e}setGridColumnSize(e,r,i){r>0&&r<12?e.classList.add(`w-${r}/12`,"px-1"):e.classList.add("w-full","px-1"),i&&(e.style.marginLeft=`${100/12*i}%`)}getIndentedPanel(){const e=document.createElement("div");return this.options.object_panel_default?e.classList.add("w-full","p-1"):e.classList.add("relative","flex","flex-col","rounded","break-words","border","bg-white","border-0","border-blue-400","p-1","shadow-md"),this.options.object_border&&e.classList.add("je-border"),e}getTopIndentedPanel(){const e=document.createElement("div");return this.options.object_panel_default?e.classList.add("w-full","m-2"):e.classList.add("relative","flex","flex-col","rounded","break-words","border","bg-white","border-0","border-blue-400","p-1","shadow-md"),this.options.object_border&&e.classList.add("je-border"),e}getTitle(){return this.translateProperty(this.schema.title)}getSelectInput(e,r){const i=super.getSelectInput(e);return r?i.classList.add("form-multiselect","block","py-0","h-auto","w-full","px-1","text-sm","text-black","leading-normal","bg-white","border","border-grey","rounded"):i.classList.add("form-select","block","py-0","h-6","w-full","px-1","text-sm","text-black","leading-normal","bg-white","border","border-grey","rounded"),this.options.enable_compact&&i.classList.add("compact"),i}afterInputReady(e){e.controlgroup||(e.controlgroup=this.closest(e,".form-group"),this.closest(e,".compact")&&(e.controlgroup.style.marginBottom=0))}getTextareaInput(){const e=super.getTextareaInput();return e.classList.add("block","w-full","px-1","text-sm","leading-normal","bg-white","text-black","border","border-grey","rounded"),this.options.enable_compact&&e.classList.add("compact"),e.style.height=0,e}getRangeInput(e,r,i){const n=this.getFormInputField("range");return n.classList.add("slider"),this.options.enable_compact&&n.classList.add("compact"),n.setAttribute("oninput",'this.setAttribute("value", this.value)'),n.setAttribute("min",e),n.setAttribute("max",r),n.setAttribute("step",i),n}getRangeControl(e,r){const i=super.getRangeControl(e,r);return i.classList.add("text-center","text-black"),i}getCheckbox(){const e=this.getFormInputField("checkbox");return e.classList.add("form-checkbox","text-red-600"),e}getCheckboxLabel(e,r){const i=super.getCheckboxLabel(e,r);return i.classList.add("inline-flex","items-center"),i}getFormCheckboxControl(e,r,i){return e.insertBefore(r,e.firstChild),i&&e.classList.add("inline-flex flex-row"),e}getMultiCheckboxHolder(e,r,i,n){const s=super.getMultiCheckboxHolder(e,r,i,n);return s.classList.add("inline-flex","flex-col"),s}getFormRadio(e){const r=this.getFormInputField("radio");r.classList.add("form-radio","text-red-600");for(const i in e)r.setAttribute(i,e[i]);return r}getFormRadioLabel(e,r){const i=super.getFormRadioLabel(e,r);return i.classList.add("inline-flex","items-center","mr-2"),i}getFormRadioControl(e,r,i){return e.insertBefore(r,e.firstChild),i&&e.classList.add("form-radio"),e}getRadioHolder(e,r,i,n,s){const o=super.getRadioHolder(r,i,n,s);return e.options.layout==="h"?o.classList.add("inline-flex","flex-row"):o.classList.add("inline-flex","flex-col"),o}getFormInputLabel(e,r){const i=super.getFormInputLabel(e,r);return this.options.label_bold?i.classList.add("font-bold"):i.classList.add("required"),i}getFormInputField(e){const r=super.getFormInputField(e);return["checkbox","radio"].includes(e)||r.classList.add("block","w-full","px-1","text-black","text-sm","leading-normal","bg-white","border","border-grey","rounded"),this.options.enable_compact&&r.classList.add("compact"),r}getFormInputDescription(e){const r=document.createElement("p");return r.classList.add("block","mt-1","text-xs"),window.DOMPurify?r.innerHTML=window.DOMPurify.sanitize(e):r.textContent=this.cleanText(e),r}getFormControl(e,r,i,n){const s=document.createElement("div");return s.classList.add("form-group","mb-1","w-full"),e&&(e.classList.add("text-xs"),r.type==="checkbox"&&(r.classList.add("form-checkbox","text-xs","text-red-600","mr-1"),e.classList.add("items-center","flex"),e=this.getFormCheckboxControl(e,r,!1,n)),r.type==="radio"&&(r.classList.add("form-radio","text-red-600","mr-1"),e.classList.add("items-center","flex"),e=this.getFormRadioControl(e,r,!1,n)),s.appendChild(e),!["checkbox","radio"].includes(r.type)&&n&&s.appendChild(n)),["checkbox","radio"].includes(r.type)||(this.options.input_size==="small"?r.classList.add("text-xs"):this.options.input_size==="normal"?r.classList.add("text-base"):this.options.input_size==="large"&&r.classList.add("text-xl"),s.appendChild(r)),i&&s.appendChild(i),s}getHeaderButtonHolder(){const e=this.getButtonHolder();return e.classList.add("text-sm"),e}getButtonHolder(){const e=document.createElement("div");return e.classList.add("flex","relative","inline-flex","align-middle"),e}getButton(e,r,i){const n=super.getButton(e,r,i);return n.classList.add("inline-block","align-middle","text-center","text-sm","bg-blue-700","text-white","py-1","pr-1","m-2","shadow","select-none","whitespace-no-wrap","rounded"),n}getInfoButton(e){const r=document.createElement("a");r.classList.add("tooltips","float-right"),r.innerHTML="ⓘ";const i=document.createElement("span");return i.innerHTML=e,r.appendChild(i),r}getTable(){const e=super.getTable();return this.options.table_border?e.classList.add("je-table-border"):e.classList.add("table","border","p-0"),e}getTableRow(){const e=super.getTableRow();return this.options.table_border&&e.classList.add("je-table-border"),this.options.table_zebrastyle&&e.classList.add("je-table-zebra"),e}getTableHeaderCell(e){const r=super.getTableHeaderCell(e);return this.options.table_border?r.classList.add("je-table-border"):this.options.table_hdiv?r.classList.add("je-table-hdiv"):r.classList.add("text-xs","border","p-0","m-0"),r}getTableCell(){const e=super.getTableCell();return this.options.table_border?e.classList.add("je-table-border"):this.options.table_hdiv?e.classList.add("je-table-hdiv"):e.classList.add("border-0","p-0","m-0"),e}addInputError(e,r){e.controlgroup&&(e.controlgroup.classList.add("has-error"),e.controlgroup.classList.add("text-red-600"),e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.classList.add("block","mt-1","text-xs","text-red"),e.controlgroup.appendChild(e.errmsg)),e.errmsg.textContent=r)}removeInputError(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.classList.remove("text-red-600"),e.controlgroup.classList.remove("has-error"))}getTabHolder(e){const r=document.createElement("div"),i=typeof e>"u"?"":e;return r.innerHTML=`<div class='w-2/12' id='${i}'><ul class='list-reset pl-0 mb-0'></ul></div><div class='w-10/12' id='${i}'></div>`,r.classList.add("flex"),r}addTab(e,r){e.children[0].children[0].appendChild(r)}getTopTabHolder(e){const r=typeof e>"u"?"":e,i=document.createElement("div");return i.innerHTML=`<ul class='nav-tabs flex list-reset pl-0 mb-0 border-b border-grey-light' id='${r}'></ul><div class='p-6 block' id='${r}'></div>`,i}getTab(e,r){const i=document.createElement("li");i.classList.add("nav-item","flex-col","text-center","text-white","bg-blue-500","shadow-md","border","p-2","mb-2","mr-2","hover:bg-blue-400","rounded");const n=document.createElement("a");return n.classList.add("nav-link","text-center"),n.setAttribute("href",`#${r}`),n.setAttribute("data-toggle","tab"),n.appendChild(e),i.appendChild(n),i}getTopTab(e,r){const i=document.createElement("li");i.classList.add("nav-item","flex","border-l","border-t","border-r");const n=document.createElement("a");return n.classList.add("nav-link","-mb-px","flex-row","text-center","bg-white","p-2","hover:bg-blue-400","rounded-t"),n.setAttribute("href",`#${r}`),n.setAttribute("data-toggle","tab"),n.appendChild(e),i.appendChild(n),i}getTabContent(){const e=document.createElement("div");return e.setAttribute("role","tabpanel"),e}getTopTabContent(){const e=document.createElement("div");return e.setAttribute("role","tabpanel"),e}markTabActive(e){e.tab.firstChild.classList.add("block"),e.tab.firstChild.classList.contains("border-b")===!0?(e.tab.firstChild.classList.add("border-b-0"),e.tab.firstChild.classList.remove("border-b")):e.tab.firstChild.classList.add("border-b-0"),e.container.classList.contains("hidden")===!0&&e.container.classList.remove("hidden"),e.container.classList.add("block")}markTabInactive(e){e.tab.firstChild.classList.contains("border-b-0")===!0?(e.tab.firstChild.classList.add("border-b"),e.tab.firstChild.classList.remove("border-b-0")):e.tab.firstChild.classList.add("border-b"),e.container.classList.contains("block")===!0&&(e.container.classList.remove("block"),e.container.classList.add("hidden"))}getProgressBar(){const n=document.createElement("div");n.classList.add("progress");const s=document.createElement("div");return s.classList.add("bg-blue","leading-none","py-1","text-xs","text-center","text-white"),s.setAttribute("role","progressbar"),s.setAttribute("aria-valuenow",0),s.setAttribute("aria-valuemin",0),s.setAttribute("aria-valuenax",100),s.innerHTML="0%",n.appendChild(s),n}updateProgressBar(e,r){if(!e)return;const i=e.firstChild,n=`${r}%`;i.setAttribute("aria-valuenow",r),i.style.width=n,i.innerHTML=n}updateProgressBarUnknown(e){if(!e)return;const r=e.firstChild;e.classList.add("progress","bg-blue","leading-none","py-1","text-xs","text-center","text-white","block"),r.removeAttribute("aria-valuenow"),r.classList.add("w-full"),r.innerHTML=""}getInputGroup(e,r){if(!e)return;const i=document.createElement("div");i.classList.add("relative","items-stretch","w-full"),i.appendChild(e);const n=document.createElement("div");n.classList.add("-mr-1"),i.appendChild(n);for(let s=0;s<r.length;s++)n.appendChild(r[s]);return i}}uce.rules=jPe;const UPe={html:rce,bootstrap3:ice,bootstrap4:nce,bootstrap5:sce,jqueryui:oce,barebones:ace,spectre:lce,tailwind:uce},qPe={".table-responsive .autocomplete-result-list":"position:relative%20!important",".je-float-right-linkholder":"float:right;margin-left:10px",".je-modal":"background-color:white;border:1px%20solid%20black;box-shadow:3px%203px%20black;position:absolute;z-index:10",".je-infobutton-icon":"font-size:16px;font-weight:bold;padding:0.25rem;position:relative;display:inline-block",".je-infobutton-tooltip":"font-size:12px;font-weight:normal;font-family:sans-serif;visibility:hidden;background-color:rgba(50%2C%2050%2C%2050%2C%200.75);margin:0%200.25rem;color:%23fafafa;padding:0.5rem%201rem;border-radius:0.25rem;width:20rem;position:absolute",".je-not-loaded":"pointer-events:none",".je-header":"display:inline-block",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-checkbox":"display:inline-block;width:auto",".je-checkbox-control--compact":"display:inline-block;margin-right:1rem",".je-radio":"display:inline-block;width:auto",".je-radio-control--compact":"display:inline-block;margin-right:1rem",".je-switcher":"background-color:transparent;display:inline-block;font-style:italic;font-weight:normal;height:auto;width:auto;margin-bottom:0;margin-left:5px;padding:0%200%200%203px",".je-textarea":"width:100%25;height:300px;box-sizing:border-box",".je-range-control":"text-align:center",".je-indented-panel":"padding-left:10px;margin-left:10px;border-left:1px%20solid%20%23ccc",".je-indented-panel--top":"padding-left:10px;margin-left:10px",".je-tabholder":"float:left;width:130px",".je-tabholder .content":"margin-left:120px",".je-tabholder--top":"margin-left:10px",".je-tabholder--clear":"clear:both",".je-tab":"border:1px%20solid%20%23ccc;border-width:1px%200%201px%201px;text-align:center;line-height:30px;border-radius:5px;border-bottom-right-radius:0;border-top-right-radius:0;font-weight:bold;cursor:pointer",".je-tab--top":"float:left;border:1px%20solid%20%23ccc;border-width:1px%201px%200px%201px;text-align:center;line-height:30px;border-radius:5px;padding-left:5px;padding-right:5px;border-bottom-right-radius:0;border-bottom-left-radius:0;font-weight:bold;cursor:pointer",".je-block-link":"display:block",".je-media":"width:100%25"};class Hi{constructor(e,r={}){if(!(e instanceof Element))throw new Error("element should be an instance of Element");this.element=e,this.options=gr({},Hi.defaults.options,r),this.ready=!1,this.copyClipboard=null,this.schema=this.options.schema,this.template=this.options.template,this.translate=this.options.translate||Hi.defaults.translate,this.translateProperty=this.options.translateProperty||Hi.defaults.translateProperty,this.uuid=0,this.__data={};const i=this.options.theme||Hi.defaults.theme,n=Hi.defaults.themes[i];if(!n)throw new Error(`Unknown theme ${i}`);this.element.setAttribute("data-theme",i),this.element.classList.add("je-not-loaded"),this.element.classList.remove("je-ready"),this.theme=new n(this);const s=gr(qPe,this.getEditorsRules()),o=(l,u,h)=>h?this.addNewStyleRulesToShadowRoot(l,u,h):this.addNewStyleRules(l,u);if(!this.theme.options.disable_theme_rules){const l=Gue(this.element);o("default",s,l),typeof n.rules<"u"&&o(i,n.rules,l)}const a=Hi.defaults.iconlibs[this.options.iconlib||Hi.defaults.iconlib];a&&(this.iconlib=new a),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.promise=this.load()}async load(){const e=document.location.origin+document.location.pathname.toString(),r=new YFe(this.options);r.onSchemaLoaded=a=>{this.trigger("schemaLoaded",a)},r.onAllSchemasLoaded=()=>{this.trigger("allSchemasLoaded")},this.expandSchema=a=>r.expandSchema(a),this.expandRefs=(a,l)=>r.expandRefs(a,l);const i=document.location.toString(),n=await r.load(this.schema,e,i),s=this.options.custom_validators?{custom_validators:this.options.custom_validators}:{};this.validator=new Kue(this,null,s,Hi.defaults);const o=this.getEditorClass(n);this.root=this.createEditor(o,{jsoneditor:this,schema:n,required:!0,container:this.root_container}),this.root.preBuild(),this.root.build(),this.root.postBuild(),ia(this.options,"startval")&&this.root.setValue(this.options.startval),this.validation_results=this.validator.validate(this.root.getValue()),this.root.showValidationErrors(this.validation_results),this.ready=!0,this.element.classList.remove("je-not-loaded"),this.element.classList.add("je-ready"),window.requestAnimationFrame(()=>{this.ready&&(this.validation_results=this.validator.validate(this.root.getValue()),this.root.showValidationErrors(this.validation_results),this.trigger("ready"),this.trigger("change"))})}getValue(){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.getValue()}setValue(e){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.setValue(e),this}validate(e){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return arguments.length===1?this.validator.validate(e):this.validation_results}destroy(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.element.removeAttribute("data-theme"),this.destroyed=!0)}on(e,r){return this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(r),this}off(e,r){if(e&&r){this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[];const i=[];for(let n=0;n<this.callbacks[e].length;n++)this.callbacks[e][n]!==r&&i.push(this.callbacks[e][n]);this.callbacks[e]=i}else e?(this.callbacks=this.callbacks||{},this.callbacks[e]=[]):this.callbacks={};return this}trigger(e,r){if(this.callbacks&&this.callbacks[e]&&this.callbacks[e].length)for(let i=0;i<this.callbacks[e].length;i++)this.callbacks[e][i].apply(this,[r]);return this}setOption(e,r){if(e==="show_errors")this.options.show_errors=r,this.onChange();else throw new Error(`Option ${e} must be set during instantiation and cannot be changed later`);return this}getEditorsRules(){const e=(r,i)=>i.rules?gr(r,i.rules):r;return Object.values(Hi.defaults.editors).reduce(e,{})}getEditorClass(e){let r;if(e=this.expandSchema(e),Hi.defaults.resolvers.find(i=>(r=i(e,this),r&&Hi.defaults.editors[r])),!r)throw new Error(`Unknown editor for schema ${JSON.stringify(e)}`);if(!Hi.defaults.editors[r])throw new Error(`Unknown editor ${r}`);return Hi.defaults.editors[r]}createEditor(e,r,i=1){return r=gr({},e.options||{},r),new e(r,Hi.defaults,i)}onChange(e){if(this.ready&&(e&&this.trigger(e.event,e.data),!this.firing_change))return this.firing_change=!0,window.requestAnimationFrame(()=>{this.firing_change=!1,this.ready&&(this.validation_results=this.validator.validate(this.root.getValue()),this.options.show_errors!=="never"?this.root.showValidationErrors(this.validation_results):this.root.showValidationErrors([]),this.trigger("change"))}),this}compileTemplate(e,r=Hi.defaults.template){let i;if(typeof r=="string"){if(!Hi.defaults.templates[r])throw new Error(`Unknown template engine ${r}`);if(i=Hi.defaults.templates[r](),!i)throw new Error(`Template engine ${r} missing required library.`)}else i=r;if(!i)throw new Error("No template engine set");if(!i.compile)throw new Error("Invalid template engine set");return i.compile(e)}_data(e,r,i){if(arguments.length===3){let n;e.hasAttribute(`data-jsoneditor-${r}`)?n=e.getAttribute(`data-jsoneditor-${r}`):(n=this.uuid++,e.setAttribute(`data-jsoneditor-${r}`,n)),this.__data[n]=i}else return e.hasAttribute(`data-jsoneditor-${r}`)?this.__data[e.getAttribute(`data-jsoneditor-${r}`)]:null}registerEditor(e){return this.editors=this.editors||{},this.editors[e.path]=e,this}unregisterEditor(e){return this.editors=this.editors||{},this.editors[e.path]=null,this}getEditor(e){if(this.editors)return this.editors[e]}watch(e,r){return this.watchlist=this.watchlist||{},this.watchlist[e]=this.watchlist[e]||[],this.watchlist[e].push(r),this}unwatch(e,r){if(!this.watchlist||!this.watchlist[e])return this;if(!r)return this.watchlist[e]=null,this;const i=[];for(let n=0;n<this.watchlist[e].length;n++)this.watchlist[e][n]!==r&&i.push(this.watchlist[e][n]);return this.watchlist[e]=i.length?i:null,this}notifyWatchers(e){if(!this.watchlist||!this.watchlist[e])return this;for(let r=0;r<this.watchlist[e].length;r++)this.watchlist[e][r]()}isEnabled(){return!this.root||this.root.isEnabled()}enable(){this.root.enable()}disable(){this.root.disable()}setCopyClipboardContents(e){this.copyClipboard=e}getCopyClipboardContents(){return this.copyClipboard}addNewStyleRules(e,r){let i=document.querySelector(`#theme-${e}`);i||(i=document.createElement("style"),i.setAttribute("id",`theme-${e}`),i.appendChild(document.createTextNode("")),document.head.appendChild(i));const n=i.sheet?i.sheet:i.styleSheet,s=this.element.nodeName.toLowerCase();for(;n.cssRules.length>0;)n.deleteRule(0);Object.keys(r).forEach(o=>{const a=e==="default"?o:`${s}[data-theme="${e}"] ${o}`;n.insertRule?n.insertRule(a+" {"+decodeURIComponent(r[o])+"}",0):n.addRule&&n.addRule(a,decodeURIComponent(r[o]),0)})}addNewStyleRulesToShadowRoot(e,r,i){const n=this.element.nodeName.toLowerCase();let s="";Object.keys(r).forEach(a=>{const l=e==="default"?a:`${n}[data-theme="${e}"] ${a}`;s+=l+" {"+decodeURIComponent(r[a])+`}
`});const o=new CSSStyleSheet;o.replaceSync(s),i.adoptedStyleSheets=[...i.adoptedStyleSheets,o]}}Hi.defaults=Nd;Hi.AbstractEditor=uo;Hi.AbstractTheme=Cu;Hi.AbstractIconLib=Su;Object.assign(Hi.defaults.themes,UPe);Object.assign(Hi.defaults.editors,e1);Object.assign(Hi.defaults.templates,nPe);Object.assign(Hi.defaults.iconlibs,LPe);var cce={exports:{}};/**
 * easymde v2.18.0
 * Copyright Jeroen Akkerman
 * @link https://github.com/ionaru/easy-markdown-editor
 * @license MIT
 */(function(t,e){(function(r){t.exports=r()})(function(){return function r(i,n,s){function o(u,h){if(!n[u]){if(!i[u]){var d=typeof Ky=="function"&&Ky;if(!h&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=n[u]={exports:{}};i[u][0].call(p.exports,function(g){return o(i[u][1][g]||g)},p,p.exports,r,i,n,s)}return n[u].exports}for(var a=typeof Ky=="function"&&Ky,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,i,n){},{}],2:[function(r,i,n){var s=r("typo-js");function o(a){typeof(a=a||{}).codeMirrorInstance=="function"&&typeof a.codeMirrorInstance.defineMode=="function"?(String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),a.codeMirrorInstance.defineMode("spell-checker",function(l){if(!o.aff_loading){o.aff_loading=!0;var u=new XMLHttpRequest;u.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),u.onload=function(){u.readyState===4&&u.status===200&&(o.aff_data=u.responseText,o.num_loaded++,o.num_loaded==2&&(o.typo=new s("en_US",o.aff_data,o.dic_data,{platform:"any"})))},u.send(null)}if(!o.dic_loading){o.dic_loading=!0;var h=new XMLHttpRequest;h.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),h.onload=function(){h.readyState===4&&h.status===200&&(o.dic_data=h.responseText,o.num_loaded++,o.num_loaded==2&&(o.typo=new s("en_US",o.aff_data,o.dic_data,{platform:"any"})))},h.send(null)}var d='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',f={token:function(g){var y=g.peek(),b="";if(d.includes(y))return g.next(),null;for(;(y=g.peek())!=null&&!d.includes(y);)b+=y,g.next();return o.typo&&!o.typo.check(b)?"spell-error":null}},p=a.codeMirrorInstance.getMode(l,l.backdrop||"text/plain");return a.codeMirrorInstance.overlayMode(p,f,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}o.num_loaded=0,o.aff_loading=!1,o.dic_loading=!1,o.aff_data="",o.dic_data="",o.typo,i.exports=o},{"typo-js":16}],3:[function(r,i,n){(function(s){function o(a,l){clearTimeout(l.timeout),s.off(window,"mouseup",l.hurry),s.off(window,"keyup",l.hurry)}s.defineOption("autoRefresh",!1,function(a,l){a.state.autoRefresh&&(o(0,a.state.autoRefresh),a.state.autoRefresh=null),l&&a.display.wrapper.offsetHeight==0&&function(u,h){function d(){u.display.wrapper.offsetHeight?(o(0,h),u.display.lastWrapHeight!=u.display.wrapper.clientHeight&&u.refresh()):h.timeout=setTimeout(d,h.delay)}h.timeout=setTimeout(d,h.delay),h.hurry=function(){clearTimeout(h.timeout),h.timeout=setTimeout(d,50)},s.on(window,"mouseup",h.hurry),s.on(window,"keyup",h.hurry)}(a,a.state.autoRefresh={delay:l.delay||250})})})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],4:[function(r,i,n){(function(s){s.defineOption("fullScreen",!1,function(o,a,l){l==s.Init&&(l=!1),!l!=!a&&(a?function(u){var h=u.getWrapperElement();u.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:h.style.width,height:h.style.height},h.style.width="",h.style.height="auto",h.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",u.refresh()}(o):function(u){var h=u.getWrapperElement();h.className=h.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var d=u.state.fullScreenRestore;h.style.width=d.width,h.style.height=d.height,window.scrollTo(d.scrollLeft,d.scrollTop),u.refresh()}(o))})})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],5:[function(r,i,n){(function(s){function o(d){d.state.placeholder&&(d.state.placeholder.parentNode.removeChild(d.state.placeholder),d.state.placeholder=null)}function a(d){o(d);var f=d.state.placeholder=document.createElement("pre");f.style.cssText="height: 0; overflow: visible",f.style.direction=d.getOption("direction"),f.className="CodeMirror-placeholder CodeMirror-line-like";var p=d.getOption("placeholder");typeof p=="string"&&(p=document.createTextNode(p)),f.appendChild(p),d.display.lineSpace.insertBefore(f,d.display.lineSpace.firstChild)}function l(d){h(d)&&a(d)}function u(d){var f=d.getWrapperElement(),p=h(d);f.className=f.className.replace(" CodeMirror-empty","")+(p?" CodeMirror-empty":""),p?a(d):o(d)}function h(d){return d.lineCount()===1&&d.getLine(0)===""}s.defineOption("placeholder","",function(d,f,p){var g=p&&p!=s.Init;if(f&&!g)d.on("blur",l),d.on("change",u),d.on("swapDoc",u),s.on(d.getInputField(),"compositionupdate",d.state.placeholderCompose=function(){(function(b){setTimeout(function(){var x=!1;if(b.lineCount()==1){var w=b.getInputField();x=w.nodeName=="TEXTAREA"?!b.getLine(0).length:!/[^\u200b]/.test(w.querySelector(".CodeMirror-line").textContent)}x?a(b):o(b)},20)})(d)}),u(d);else if(!f&&g){d.off("blur",l),d.off("change",u),d.off("swapDoc",u),s.off(d.getInputField(),"compositionupdate",d.state.placeholderCompose),o(d);var y=d.getWrapperElement();y.className=y.className.replace(" CodeMirror-empty","")}f&&!d.hasFocus()&&l(d)})})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(r,i,n){(function(s){var o=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,a=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,l=/[*+-]\s/;function u(h,d){var f=d.line,p=0,g=0,y=o.exec(h.getLine(f)),b=y[1];do{var x=f+(p+=1),w=h.getLine(x),S=o.exec(w);if(S){var C=S[1],k=parseInt(y[3],10)+p-g,O=parseInt(S[3],10),M=O;if(b!==C||isNaN(O)){if(b.length>C.length||b.length<C.length&&p===1)return;g+=1}else k===O&&(M=O+1),k>O&&(M=k+1),h.replaceRange(w.replace(o,C+M+S[4]+S[5]),{line:x,ch:0},{line:x,ch:w.length})}}while(S)}s.commands.newlineAndIndentContinueMarkdownList=function(h){if(h.getOption("disableInput"))return s.Pass;for(var d=h.listSelections(),f=[],p=0;p<d.length;p++){var g=d[p].head,y=h.getStateAfter(g.line),b=s.innerMode(h.getMode(),y);if(b.mode.name!=="markdown"&&b.mode.helperType!=="markdown")return void h.execCommand("newlineAndIndent");var x=(y=b.state).list!==!1,w=y.quote!==0,S=h.getLine(g.line),C=o.exec(S),k=/^\s*$/.test(S.slice(0,g.ch));if(!d[p].empty()||!x&&!w||!C||k)return void h.execCommand("newlineAndIndent");if(a.test(S)){var O=w&&/>\s*$/.test(S),M=!/>\s*$/.test(S);(O||M)&&h.replaceRange("",{line:g.line,ch:0},{line:g.line,ch:g.ch+1}),f[p]=`
`}else{var A=C[1],I=C[5],R=!(l.test(C[2])||C[2].indexOf(">")>=0),V=R?parseInt(C[3],10)+1+C[4]:C[2].replace("x"," ");f[p]=`
`+A+V+I,R&&u(h,g)}}h.replaceSelections(f)}})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(r,i,n){(function(s){s.overlayMode=function(o,a,l){return{startState:function(){return{base:s.startState(o),overlay:s.startState(a),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(u){return{base:s.copyState(o,u.base),overlay:s.copyState(a,u.overlay),basePos:u.basePos,baseCur:null,overlayPos:u.overlayPos,overlayCur:null}},token:function(u,h){return(u!=h.streamSeen||Math.min(h.basePos,h.overlayPos)<u.start)&&(h.streamSeen=u,h.basePos=h.overlayPos=u.start),u.start==h.basePos&&(h.baseCur=o.token(u,h.base),h.basePos=u.pos),u.start==h.overlayPos&&(u.pos=u.start,h.overlayCur=a.token(u,h.overlay),h.overlayPos=u.pos),u.pos=Math.min(h.basePos,h.overlayPos),h.overlayCur==null?h.baseCur:h.baseCur!=null&&h.overlay.combineTokens||l&&h.overlay.combineTokens==null?h.baseCur+" "+h.overlayCur:h.overlayCur},indent:o.indent&&function(u,h,d){return o.indent(u.base,h,d)},electricChars:o.electricChars,innerMode:function(u){return{state:u.base,mode:o}},blankLine:function(u){var h,d;return o.blankLine&&(h=o.blankLine(u.base)),a.blankLine&&(d=a.blankLine(u.overlay)),d==null?h:l&&h!=null?h+" "+d:d}}}})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(r,i,n){(function(s){var o,a,l=s.Pos;function u(C,k){for(var O=function(I){var R=I.flags;return R??(I.ignoreCase?"i":"")+(I.global?"g":"")+(I.multiline?"m":"")}(C),M=O,A=0;A<k.length;A++)M.indexOf(k.charAt(A))==-1&&(M+=k.charAt(A));return O==M?C:new RegExp(C.source,M)}function h(C){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(C.source)}function d(C,k,O){k=u(k,"g");for(var M=O.line,A=O.ch,I=C.lastLine();M<=I;M++,A=0){k.lastIndex=A;var R=C.getLine(M),V=k.exec(R);if(V)return{from:l(M,V.index),to:l(M,V.index+V[0].length),match:V}}}function f(C,k,O){if(!h(k))return d(C,k,O);k=u(k,"gm");for(var M,A=1,I=O.line,R=C.lastLine();I<=R;){for(var V=0;V<A&&!(I>R);V++){var oe=C.getLine(I++);M=M==null?oe:M+`
`+oe}A*=2,k.lastIndex=O.ch;var L=k.exec(M);if(L){var F=M.slice(0,L.index).split(`
`),U=L[0].split(`
`),Y=O.line+F.length-1,G=F[F.length-1].length;return{from:l(Y,G),to:l(Y+U.length-1,U.length==1?G+U[0].length:U[U.length-1].length),match:L}}}}function p(C,k,O){for(var M,A=0;A<=C.length;){k.lastIndex=A;var I=k.exec(C);if(!I)break;var R=I.index+I[0].length;if(R>C.length-O)break;(!M||R>M.index+M[0].length)&&(M=I),A=I.index+1}return M}function g(C,k,O){k=u(k,"g");for(var M=O.line,A=O.ch,I=C.firstLine();M>=I;M--,A=-1){var R=C.getLine(M),V=p(R,k,A<0?0:R.length-A);if(V)return{from:l(M,V.index),to:l(M,V.index+V[0].length),match:V}}}function y(C,k,O){if(!h(k))return g(C,k,O);k=u(k,"gm");for(var M,A=1,I=C.getLine(O.line).length-O.ch,R=O.line,V=C.firstLine();R>=V;){for(var oe=0;oe<A&&R>=V;oe++){var L=C.getLine(R--);M=M==null?L:L+`
`+M}A*=2;var F=p(M,k,I);if(F){var U=M.slice(0,F.index).split(`
`),Y=F[0].split(`
`),G=R+U.length,Q=U[U.length-1].length;return{from:l(G,Q),to:l(G+Y.length-1,Y.length==1?Q+Y[0].length:Y[Y.length-1].length),match:F}}}}function b(C,k,O,M){if(C.length==k.length)return O;for(var A=0,I=O+Math.max(0,C.length-k.length);;){if(A==I)return A;var R=A+I>>1,V=M(C.slice(0,R)).length;if(V==O)return R;V>O?I=R:A=R+1}}function x(C,k,O,M){if(!k.length)return null;var A=M?o:a,I=A(k).split(/\r|\n\r?/);e:for(var R=O.line,V=O.ch,oe=C.lastLine()+1-I.length;R<=oe;R++,V=0){var L=C.getLine(R).slice(V),F=A(L);if(I.length==1){var U=F.indexOf(I[0]);if(U==-1)continue e;return O=b(L,F,U,A)+V,{from:l(R,b(L,F,U,A)+V),to:l(R,b(L,F,U+I[0].length,A)+V)}}var Y=F.length-I[0].length;if(F.slice(Y)==I[0]){for(var G=1;G<I.length-1;G++)if(A(C.getLine(R+G))!=I[G])continue e;var Q=C.getLine(R+I.length-1),J=A(Q),re=I[I.length-1];if(J.slice(0,re.length)==re)return{from:l(R,b(L,F,Y,A)+V),to:l(R+I.length-1,b(Q,J,re.length,A))}}}}function w(C,k,O,M){if(!k.length)return null;var A=M?o:a,I=A(k).split(/\r|\n\r?/);e:for(var R=O.line,V=O.ch,oe=C.firstLine()-1+I.length;R>=oe;R--,V=-1){var L=C.getLine(R);V>-1&&(L=L.slice(0,V));var F=A(L);if(I.length==1){var U=F.lastIndexOf(I[0]);if(U==-1)continue e;return{from:l(R,b(L,F,U,A)),to:l(R,b(L,F,U+I[0].length,A))}}var Y=I[I.length-1];if(F.slice(0,Y.length)==Y){var G=1;for(O=R-I.length+1;G<I.length-1;G++)if(A(C.getLine(O+G))!=I[G])continue e;var Q=C.getLine(R+1-I.length),J=A(Q);if(J.slice(J.length-I[0].length)==I[0])return{from:l(R+1-I.length,b(Q,J,Q.length-I[0].length,A)),to:l(R,b(L,F,Y.length,A))}}}}function S(C,k,O,M){var A;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=C,O=O?C.clipPos(O):l(0,0),this.pos={from:O,to:O},typeof M=="object"?A=M.caseFold:(A=M,M=null),typeof k=="string"?(A==null&&(A=!1),this.matches=function(I,R){return(I?w:x)(C,k,R,A)}):(k=u(k,"gm"),M&&M.multiline===!1?this.matches=function(I,R){return(I?g:d)(C,k,R)}:this.matches=function(I,R){return(I?y:f)(C,k,R)})}String.prototype.normalize?(o=function(C){return C.normalize("NFD").toLowerCase()},a=function(C){return C.normalize("NFD")}):(o=function(C){return C.toLowerCase()},a=function(C){return C}),S.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(C){var k=this.doc.clipPos(C?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(k=l(k.line,k.ch),C?(k.ch--,k.ch<0&&(k.line--,k.ch=(this.doc.getLine(k.line)||"").length)):(k.ch++,k.ch>(this.doc.getLine(k.line)||"").length&&(k.ch=0,k.line++)),s.cmpPos(k,this.doc.clipPos(k))!=0))return this.atOccurrence=!1;var O=this.matches(C,k);if(this.afterEmptyMatch=O&&s.cmpPos(O.from,O.to)==0,O)return this.pos=O,this.atOccurrence=!0,this.pos.match||!0;var M=l(C?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:M,to:M},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(C,k){if(this.atOccurrence){var O=s.splitLines(C);this.doc.replaceRange(O,this.pos.from,this.pos.to,k),this.pos.to=l(this.pos.from.line+O.length-1,O[O.length-1].length+(O.length==1?this.pos.from.ch:0))}}},s.defineExtension("getSearchCursor",function(C,k,O){return new S(this.doc,C,k,O)}),s.defineDocExtension("getSearchCursor",function(C,k,O){return new S(this,C,k,O)}),s.defineExtension("selectMatches",function(C,k){for(var O=[],M=this.getSearchCursor(C,this.getCursor("from"),k);M.findNext()&&!(s.cmpPos(M.to(),this.getCursor("to"))>0);)O.push({anchor:M.from(),head:M.to()});O.length&&this.setSelections(O,0)})})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(r,i,n){(function(s){function o(p){p.state.markedSelection&&p.operation(function(){(function(g){if(!g.somethingSelected())return d(g);if(g.listSelections().length>1)return f(g);var y=g.getCursor("start"),b=g.getCursor("end"),x=g.state.markedSelection;if(!x.length)return h(g,y,b);var w=x[0].find(),S=x[x.length-1].find();if(!w||!S||b.line-y.line<=8||u(y,S.to)>=0||u(b,w.from)<=0)return f(g);for(;u(y,w.from)>0;)x.shift().clear(),w=x[0].find();for(u(y,w.from)<0&&(w.to.line-y.line<8?(x.shift().clear(),h(g,y,w.to,0)):h(g,y,w.from,0));u(b,S.to)<0;)x.pop().clear(),S=x[x.length-1].find();u(b,S.to)>0&&(b.line-S.from.line<8?(x.pop().clear(),h(g,S.from,b)):h(g,S.to,b))})(p)})}function a(p){p.state.markedSelection&&p.state.markedSelection.length&&p.operation(function(){d(p)})}s.defineOption("styleSelectedText",!1,function(p,g,y){var b=y&&y!=s.Init;g&&!b?(p.state.markedSelection=[],p.state.markedSelectionStyle=typeof g=="string"?g:"CodeMirror-selectedtext",f(p),p.on("cursorActivity",o),p.on("change",a)):!g&&b&&(p.off("cursorActivity",o),p.off("change",a),d(p),p.state.markedSelection=p.state.markedSelectionStyle=null)});var l=s.Pos,u=s.cmpPos;function h(p,g,y,b){if(u(g,y)!=0)for(var x=p.state.markedSelection,w=p.state.markedSelectionStyle,S=g.line;;){var C=S==g.line?g:l(S,0),k=S+8,O=k>=y.line,M=O?y:l(k,0),A=p.markText(C,M,{className:w});if(b==null?x.push(A):x.splice(b++,0,A),O)break;S=k}}function d(p){for(var g=p.state.markedSelection,y=0;y<g.length;++y)g[y].clear();g.length=0}function f(p){d(p);for(var g=p.listSelections(),y=0;y<g.length;y++)h(p,g[y].from(),g[y].to())}})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(r,i,n){(function(s,o){typeof n=="object"&&i!==void 0?i.exports=o():(s=s||self).CodeMirror=o()})(this,function(){var s=navigator.userAgent,o=navigator.platform,a=/gecko\/\d/i.test(s),l=/MSIE \d/.test(s),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),h=/Edge\/(\d+)/.exec(s),d=l||u||h,f=d&&(l?document.documentMode||6:+(h||u)[1]),p=!h&&/WebKit\//.test(s),g=p&&/Qt\/\d+\.\d+/.test(s),y=!h&&/Chrome\/(\d+)/.exec(s),b=y&&+y[1],x=/Opera\//.test(s),w=/Apple Computer/.test(navigator.vendor),S=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),C=/PhantomJS/.test(s),k=w&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),O=/Android/.test(s),M=k||O||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),A=k||/Mac/.test(o),I=/\bCrOS\b/.test(s),R=/win/i.test(o),V=x&&s.match(/Version\/(\d*\.\d*)/);V&&(V=Number(V[1])),V&&V>=15&&(x=!1,p=!0);var oe=A&&(g||x&&(V==null||V<12.11)),L=a||d&&f>=9;function F(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}var U,Y=function(c,m){var _=c.className,v=F(m).exec(_);if(v){var E=_.slice(v.index+v[0].length);c.className=_.slice(0,v.index)+(E?v[1]+E:"")}};function G(c){for(var m=c.childNodes.length;m>0;--m)c.removeChild(c.firstChild);return c}function Q(c,m){return G(c).appendChild(m)}function J(c,m,_,v){var E=document.createElement(c);if(_&&(E.className=_),v&&(E.style.cssText=v),typeof m=="string")E.appendChild(document.createTextNode(m));else if(m)for(var D=0;D<m.length;++D)E.appendChild(m[D]);return E}function re(c,m,_,v){var E=J(c,m,_,v);return E.setAttribute("role","presentation"),E}function pe(c,m){if(m.nodeType==3&&(m=m.parentNode),c.contains)return c.contains(m);do if(m.nodeType==11&&(m=m.host),m==c)return!0;while(m=m.parentNode)}function ee(c){var m;try{m=c.activeElement}catch{m=c.body||null}for(;m&&m.shadowRoot&&m.shadowRoot.activeElement;)m=m.shadowRoot.activeElement;return m}function B(c,m){var _=c.className;F(m).test(_)||(c.className+=(_?" ":"")+m)}function ge(c,m){for(var _=c.split(" "),v=0;v<_.length;v++)_[v]&&!F(_[v]).test(m)&&(m+=" "+_[v]);return m}U=document.createRange?function(c,m,_,v){var E=document.createRange();return E.setEnd(v||c,_),E.setStart(c,m),E}:function(c,m,_){var v=document.body.createTextRange();try{v.moveToElementText(c.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",_),v.moveStart("character",m),v};var ve=function(c){c.select()};function ze(c){return c.display.wrapper.ownerDocument}function it(c){return ze(c).defaultView}function tt(c){var m=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,m)}}function Ne(c,m,_){for(var v in m||(m={}),c)!c.hasOwnProperty(v)||_===!1&&m.hasOwnProperty(v)||(m[v]=c[v]);return m}function Xe(c,m,_,v,E){m==null&&(m=c.search(/[^\s\u00a0]/))==-1&&(m=c.length);for(var D=v||0,P=E||0;;){var N=c.indexOf("	",D);if(N<0||N>=m)return P+(m-D);P+=N-D,P+=_-P%_,D=N+1}}k?ve=function(c){c.selectionStart=0,c.selectionEnd=c.value.length}:d&&(ve=function(c){try{c.select()}catch{}});var nt=function(){this.id=null,this.f=null,this.time=0,this.handler=tt(this.onTimeout,this)};function vt(c,m){for(var _=0;_<c.length;++_)if(c[_]==m)return _;return-1}nt.prototype.onTimeout=function(c){c.id=0,c.time<=+new Date?c.f():setTimeout(c.handler,c.time-+new Date)},nt.prototype.set=function(c,m){this.f=m;var _=+new Date+c;(!this.id||_<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,c),this.time=_)};var Dt={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Er={origin:"*mouse"},or={origin:"+move"};function di(c,m,_){for(var v=0,E=0;;){var D=c.indexOf("	",v);D==-1&&(D=c.length);var P=D-v;if(D==c.length||E+P>=m)return v+Math.min(P,m-E);if(E+=D-v,v=D+1,(E+=_-E%_)>=m)return v}}var We=[""];function he(c){for(;We.length<=c;)We.push(ue(We)+" ");return We[c]}function ue(c){return c[c.length-1]}function ae(c,m){for(var _=[],v=0;v<c.length;v++)_[v]=m(c[v],v);return _}function me(){}function T(c,m){var _;return Object.create?_=Object.create(c):(me.prototype=c,_=new me),m&&Ne(m,_),_}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function W(c){return/\w/.test(c)||c>""&&(c.toUpperCase()!=c.toLowerCase()||$.test(c))}function K(c,m){return m?!!(m.source.indexOf("\\w")>-1&&W(c))||m.test(c):W(c)}function ye(c){for(var m in c)if(c.hasOwnProperty(m)&&c[m])return!1;return!0}var xe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Me(c){return c.charCodeAt(0)>=768&&xe.test(c)}function j(c,m,_){for(;(_<0?m>0:m<c.length)&&Me(c.charAt(m));)m+=_;return m}function te(c,m,_){for(var v=m>_?-1:1;;){if(m==_)return m;var E=(m+_)/2,D=v<0?Math.ceil(E):Math.floor(E);if(D==m)return c(D)?m:_;c(D)?_=D:m=D+v}}var de=null;function ce(c,m,_){var v;de=null;for(var E=0;E<c.length;++E){var D=c[E];if(D.from<m&&D.to>m)return E;D.to==m&&(D.from!=D.to&&_=="before"?v=E:de=E),D.from==m&&(D.from!=D.to&&_!="before"?v=E:de=E)}return v??de}var Ae=function(){var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,m=/[stwN]/,_=/[LRr]/,v=/[Lb1n]/,E=/[1n]/;function D(P,N,q){this.level=P,this.from=N,this.to=q}return function(P,N){var q=N=="ltr"?"L":"R";if(P.length==0||N=="ltr"&&!c.test(P))return!1;for(var H,se=P.length,le=[],we=0;we<se;++we)le.push((H=P.charCodeAt(we))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L");for(var be=0,Fe=q;be<se;++be){var Pe=le[be];Pe=="m"?le[be]=Fe:Fe=Pe}for(var Re=0,Ue=q;Re<se;++Re){var Qe=le[Re];Qe=="1"&&Ue=="r"?le[Re]="n":_.test(Qe)&&(Ue=Qe,Qe=="r"&&(le[Re]="R"))}for(var Ze=1,dt=le[0];Ze<se-1;++Ze){var ut=le[Ze];ut=="+"&&dt=="1"&&le[Ze+1]=="1"?le[Ze]="1":ut!=","||dt!=le[Ze+1]||dt!="1"&&dt!="n"||(le[Ze]=dt),dt=ut}for(var ft=0;ft<se;++ft){var Qt=le[ft];if(Qt==",")le[ft]="N";else if(Qt=="%"){var St=void 0;for(St=ft+1;St<se&&le[St]=="%";++St);for(var wr=ft&&le[ft-1]=="!"||St<se&&le[St]=="1"?"1":"N",Zt=ft;Zt<St;++Zt)le[Zt]=wr;ft=St-1}}for(var Hr=0,mi=q;Hr<se;++Hr){var Vr=le[Hr];mi=="L"&&Vr=="1"?le[Hr]="L":_.test(Vr)&&(mi=Vr)}for(var Mr=0;Mr<se;++Mr)if(m.test(le[Mr])){var Gr=void 0;for(Gr=Mr+1;Gr<se&&m.test(le[Gr]);++Gr);for(var mr=(Mr?le[Mr-1]:q)=="L",gi=mr==((Gr<se?le[Gr]:q)=="L")?mr?"L":"R":q,dr=Mr;dr<Gr;++dr)le[dr]=gi;Mr=Gr-1}for(var Fr,br=[],Qr=0;Qr<se;)if(v.test(le[Qr])){var Es=Qr;for(++Qr;Qr<se&&v.test(le[Qr]);++Qr);br.push(new D(0,Es,Qr))}else{var yi=Qr,ss=br.length,os=N=="rtl"?1:0;for(++Qr;Qr<se&&le[Qr]!="L";++Qr);for(var Yi=yi;Yi<Qr;)if(E.test(le[Yi])){yi<Yi&&(br.splice(ss,0,new D(1,yi,Yi)),ss+=os);var Ss=Yi;for(++Yi;Yi<Qr&&E.test(le[Yi]);++Yi);br.splice(ss,0,new D(2,Ss,Yi)),ss+=os,yi=Yi}else++Yi;yi<Qr&&br.splice(ss,0,new D(1,yi,Qr))}return N=="ltr"&&(br[0].level==1&&(Fr=P.match(/^\s+/))&&(br[0].from=Fr[0].length,br.unshift(new D(0,0,Fr[0].length))),ue(br).level==1&&(Fr=P.match(/\s+$/))&&(ue(br).to-=Fr[0].length,br.push(new D(0,se-Fr[0].length,se)))),N=="rtl"?br.reverse():br}}();function Ce(c,m){var _=c.order;return _==null&&(_=c.order=Ae(c.text,m)),_}var Se=[],De=function(c,m,_){if(c.addEventListener)c.addEventListener(m,_,!1);else if(c.attachEvent)c.attachEvent("on"+m,_);else{var v=c._handlers||(c._handlers={});v[m]=(v[m]||Se).concat(_)}};function Ie(c,m){return c._handlers&&c._handlers[m]||Se}function Ve(c,m,_){if(c.removeEventListener)c.removeEventListener(m,_,!1);else if(c.detachEvent)c.detachEvent("on"+m,_);else{var v=c._handlers,E=v&&v[m];if(E){var D=vt(E,_);D>-1&&(v[m]=E.slice(0,D).concat(E.slice(D+1)))}}}function ot(c,m){var _=Ie(c,m);if(_.length)for(var v=Array.prototype.slice.call(arguments,2),E=0;E<_.length;++E)_[E].apply(null,v)}function lt(c,m,_){return typeof m=="string"&&(m={type:m,preventDefault:function(){this.defaultPrevented=!0}}),ot(c,_||m.type,c,m),fr(m)||m.codemirrorIgnore}function $t(c){var m=c._handlers&&c._handlers.cursorActivity;if(m)for(var _=c.curOp.cursorActivityHandlers||(c.curOp.cursorActivityHandlers=[]),v=0;v<m.length;++v)vt(_,m[v])==-1&&_.push(m[v])}function mt(c,m){return Ie(c,m).length>0}function zt(c){c.prototype.on=function(m,_){De(this,m,_)},c.prototype.off=function(m,_){Ve(this,m,_)}}function Ht(c){c.preventDefault?c.preventDefault():c.returnValue=!1}function Vt(c){c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}function fr(c){return c.defaultPrevented!=null?c.defaultPrevented:c.returnValue==0}function Yt(c){Ht(c),Vt(c)}function ri(c){return c.target||c.srcElement}function dn(c){var m=c.which;return m==null&&(1&c.button?m=1:2&c.button?m=3:4&c.button&&(m=2)),A&&c.ctrlKey&&m==1&&(m=3),m}var hn,on,$s=function(){if(d&&f<9)return!1;var c=J("div");return"draggable"in c||"dragDrop"in c}();function Sr(c){if(hn==null){var m=J("span","​");Q(c,J("span",[m,document.createTextNode("x")])),c.firstChild.offsetHeight!=0&&(hn=m.offsetWidth<=1&&m.offsetHeight>2&&!(d&&f<8))}var _=hn?J("span","​"):J("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return _.setAttribute("cm-text",""),_}function ai(c){if(on!=null)return on;var m=Q(c,document.createTextNode("AخA")),_=U(m,0,1).getBoundingClientRect(),v=U(m,1,2).getBoundingClientRect();return G(c),!(!_||_.left==_.right)&&(on=v.right-_.right<3)}var hi,$r=`

b`.split(/\n/).length!=3?function(c){for(var m=0,_=[],v=c.length;m<=v;){var E=c.indexOf(`
`,m);E==-1&&(E=c.length);var D=c.slice(m,c.charAt(E-1)=="\r"?E-1:E),P=D.indexOf("\r");P!=-1?(_.push(D.slice(0,P)),m+=P+1):(_.push(D),m=E+1)}return _}:function(c){return c.split(/\r\n?|\n/)},pr=window.getSelection?function(c){try{return c.selectionStart!=c.selectionEnd}catch{return!1}}:function(c){var m;try{m=c.ownerDocument.selection.createRange()}catch{}return!(!m||m.parentElement()!=c)&&m.compareEndPoints("StartToEnd",m)!=0},an="oncopy"in(hi=J("div"))||(hi.setAttribute("oncopy","return;"),typeof hi.oncopy=="function"),Ir=null,Cn={},ur={};function qn(c,m){arguments.length>2&&(m.dependencies=Array.prototype.slice.call(arguments,2)),Cn[c]=m}function fe(c){if(typeof c=="string"&&ur.hasOwnProperty(c))c=ur[c];else if(c&&typeof c.name=="string"&&ur.hasOwnProperty(c.name)){var m=ur[c.name];typeof m=="string"&&(m={name:m}),(c=T(m,c)).name=m.name}else{if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(c))return fe("application/xml");if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(c))return fe("application/json")}return typeof c=="string"?{name:c}:c||{name:"null"}}function Te(c,m){m=fe(m);var _=Cn[m.name];if(!_)return Te(c,"text/plain");var v=_(c,m);if(rt.hasOwnProperty(m.name)){var E=rt[m.name];for(var D in E)E.hasOwnProperty(D)&&(v.hasOwnProperty(D)&&(v["_"+D]=v[D]),v[D]=E[D])}if(v.name=m.name,m.helperType&&(v.helperType=m.helperType),m.modeProps)for(var P in m.modeProps)v[P]=m.modeProps[P];return v}var rt={};function Ye(c,m){Ne(m,rt.hasOwnProperty(c)?rt[c]:rt[c]={})}function bt(c,m){if(m===!0)return m;if(c.copyState)return c.copyState(m);var _={};for(var v in m){var E=m[v];E instanceof Array&&(E=E.concat([])),_[v]=E}return _}function qt(c,m){for(var _;c.innerMode&&(_=c.innerMode(m))&&_.mode!=c;)m=_.state,c=_.mode;return _||{mode:c,state:m}}function Wt(c,m,_){return!c.startState||c.startState(m,_)}var pt=function(c,m,_){this.pos=this.start=0,this.string=c,this.tabSize=m||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=_};function Je(c,m){if((m-=c.first)<0||m>=c.size)throw new Error("There is no line "+(m+c.first)+" in the document.");for(var _=c;!_.lines;)for(var v=0;;++v){var E=_.children[v],D=E.chunkSize();if(m<D){_=E;break}m-=D}return _.lines[m]}function Kt(c,m,_){var v=[],E=m.line;return c.iter(m.line,_.line+1,function(D){var P=D.text;E==_.line&&(P=P.slice(0,_.ch)),E==m.line&&(P=P.slice(m.ch)),v.push(P),++E}),v}function Jt(c,m,_){var v=[];return c.iter(m,_,function(E){v.push(E.text)}),v}function Lt(c,m){var _=m-c.height;if(_)for(var v=c;v;v=v.parent)v.height+=_}function Ct(c){if(c.parent==null)return null;for(var m=c.parent,_=vt(m.lines,c),v=m.parent;v;m=v,v=v.parent)for(var E=0;v.children[E]!=m;++E)_+=v.children[E].chunkSize();return _+m.first}function ii(c,m){var _=c.first;e:do{for(var v=0;v<c.children.length;++v){var E=c.children[v],D=E.height;if(m<D){c=E;continue e}m-=D,_+=E.chunkSize()}return _}while(!c.lines);for(var P=0;P<c.lines.length;++P){var N=c.lines[P].height;if(m<N)break;m-=N}return _+P}function Li(c,m){return m>=c.first&&m<c.first+c.size}function Bt(c,m){return String(c.lineNumberFormatter(m+c.firstLineNumber))}function He(c,m,_){if(_===void 0&&(_=null),!(this instanceof He))return new He(c,m,_);this.line=c,this.ch=m,this.sticky=_}function ht(c,m){return c.line-m.line||c.ch-m.ch}function Dr(c,m){return c.sticky==m.sticky&&ht(c,m)==0}function li(c){return He(c.line,c.ch)}function ni(c,m){return ht(c,m)<0?m:c}function ui(c,m){return ht(c,m)<0?c:m}function qr(c,m){return Math.max(c.first,Math.min(m,c.first+c.size-1))}function Ot(c,m){if(m.line<c.first)return He(c.first,0);var _=c.first+c.size-1;return m.line>_?He(_,Je(c,_).text.length):function(v,E){var D=v.ch;return D==null||D>E?He(v.line,E):D<0?He(v.line,0):v}(m,Je(c,m.line).text.length)}function Ki(c,m){for(var _=[],v=0;v<m.length;v++)_[v]=Ot(c,m[v]);return _}pt.prototype.eol=function(){return this.pos>=this.string.length},pt.prototype.sol=function(){return this.pos==this.lineStart},pt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},pt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},pt.prototype.eat=function(c){var m=this.string.charAt(this.pos);if(typeof c=="string"?m==c:m&&(c.test?c.test(m):c(m)))return++this.pos,m},pt.prototype.eatWhile=function(c){for(var m=this.pos;this.eat(c););return this.pos>m},pt.prototype.eatSpace=function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},pt.prototype.skipToEnd=function(){this.pos=this.string.length},pt.prototype.skipTo=function(c){var m=this.string.indexOf(c,this.pos);if(m>-1)return this.pos=m,!0},pt.prototype.backUp=function(c){this.pos-=c},pt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Xe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Xe(this.string,this.lineStart,this.tabSize):0)},pt.prototype.indentation=function(){return Xe(this.string,null,this.tabSize)-(this.lineStart?Xe(this.string,this.lineStart,this.tabSize):0)},pt.prototype.match=function(c,m,_){if(typeof c!="string"){var v=this.string.slice(this.pos).match(c);return v&&v.index>0?null:(v&&m!==!1&&(this.pos+=v[0].length),v)}var E=function(D){return _?D.toLowerCase():D};if(E(this.string.substr(this.pos,c.length))==E(c))return m!==!1&&(this.pos+=c.length),!0},pt.prototype.current=function(){return this.string.slice(this.start,this.pos)},pt.prototype.hideFirstChars=function(c,m){this.lineStart+=c;try{return m()}finally{this.lineStart-=c}},pt.prototype.lookAhead=function(c){var m=this.lineOracle;return m&&m.lookAhead(c)},pt.prototype.baseToken=function(){var c=this.lineOracle;return c&&c.baseToken(this.pos)};var fn=function(c,m){this.state=c,this.lookAhead=m},pn=function(c,m,_,v){this.state=m,this.doc=c,this.line=_,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function kn(c,m,_,v){var E=[c.state.modeGen],D={};bs(c,m.text,c.doc.mode,_,function(H,se){return E.push(H,se)},D,v);for(var P=_.state,N=function(H){_.baseTokens=E;var se=c.state.overlays[H],le=1,we=0;_.state=!0,bs(c,m.text,se.mode,_,function(be,Fe){for(var Pe=le;we<be;){var Re=E[le];Re>be&&E.splice(le,1,be,E[le+1],Re),le+=2,we=Math.min(be,Re)}if(Fe)if(se.opaque)E.splice(Pe,le-Pe,be,"overlay "+Fe),le=Pe+2;else for(;Pe<le;Pe+=2){var Ue=E[Pe+1];E[Pe+1]=(Ue?Ue+" ":"")+"overlay "+Fe}},D),_.state=P,_.baseTokens=null,_.baseTokenPos=1},q=0;q<c.state.overlays.length;++q)N(q);return{styles:E,classes:D.bgClass||D.textClass?D:null}}function Hn(c,m,_){if(!m.styles||m.styles[0]!=c.state.modeGen){var v=ps(c,Ct(m)),E=m.text.length>c.options.maxHighlightLength&&bt(c.doc.mode,v.state),D=kn(c,m,v);E&&(v.state=E),m.stateAfter=v.save(!E),m.styles=D.styles,D.classes?m.styleClasses=D.classes:m.styleClasses&&(m.styleClasses=null),_===c.doc.highlightFrontier&&(c.doc.modeFrontier=Math.max(c.doc.modeFrontier,++c.doc.highlightFrontier))}return m.styles}function ps(c,m,_){var v=c.doc,E=c.display;if(!v.mode.startState)return new pn(v,!0,m);var D=function(q,H,se){for(var le,we,be=q.doc,Fe=se?-1:H-(q.doc.mode.innerMode?1e3:100),Pe=H;Pe>Fe;--Pe){if(Pe<=be.first)return be.first;var Re=Je(be,Pe-1),Ue=Re.stateAfter;if(Ue&&(!se||Pe+(Ue instanceof fn?Ue.lookAhead:0)<=be.modeFrontier))return Pe;var Qe=Xe(Re.text,null,q.options.tabSize);(we==null||le>Qe)&&(we=Pe-1,le=Qe)}return we}(c,m,_),P=D>v.first&&Je(v,D-1).stateAfter,N=P?pn.fromSaved(v,P,D):new pn(v,Wt(v.mode),D);return v.iter(D,m,function(q){ms(c,q.text,N);var H=N.line;q.stateAfter=H==m-1||H%5==0||H>=E.viewFrom&&H<E.viewTo?N.save():null,N.nextLine()}),_&&(v.modeFrontier=N.line),N}function ms(c,m,_,v){var E=c.doc.mode,D=new pt(m,c.options.tabSize,_);for(D.start=D.pos=v||0,m==""&&gs(E,_.state);!D.eol();)Dn(E,D,_.state),D.start=D.pos}function gs(c,m){if(c.blankLine)return c.blankLine(m);if(c.innerMode){var _=qt(c,m);return _.mode.blankLine?_.mode.blankLine(_.state):void 0}}function Dn(c,m,_,v){for(var E=0;E<10;E++){v&&(v[0]=qt(c,_).mode);var D=c.token(m,_);if(m.pos>m.start)return D}throw new Error("Mode "+c.name+" failed to advance stream.")}pn.prototype.lookAhead=function(c){var m=this.doc.getLine(this.line+c);return m!=null&&c>this.maxLookAhead&&(this.maxLookAhead=c),m},pn.prototype.baseToken=function(c){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=c;)this.baseTokenPos+=2;var m=this.baseTokens[this.baseTokenPos+1];return{type:m&&m.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-c}},pn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pn.fromSaved=function(c,m,_){return m instanceof fn?new pn(c,bt(c.mode,m.state),_,m.lookAhead):new pn(c,bt(c.mode,m),_)},pn.prototype.save=function(c){var m=c!==!1?bt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fn(m,this.maxLookAhead):m};var Bs=function(c,m,_){this.start=c.start,this.end=c.pos,this.string=c.current(),this.type=m||null,this.state=_};function ys(c,m,_,v){var E,D,P=c.doc,N=P.mode,q=Je(P,(m=Ot(P,m)).line),H=ps(c,m.line,_),se=new pt(q.text,c.options.tabSize,H);for(v&&(D=[]);(v||se.pos<m.ch)&&!se.eol();)se.start=se.pos,E=Dn(N,se,H.state),v&&D.push(new Bs(se,E,bt(P.mode,H.state)));return v?D:new Bs(se,E,H.state)}function Ii(c,m){if(c)for(;;){var _=c.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!_)break;c=c.slice(0,_.index)+c.slice(_.index+_[0].length);var v=_[1]?"bgClass":"textClass";m[v]==null?m[v]=_[2]:new RegExp("(?:^|\\s)"+_[2]+"(?:$|\\s)").test(m[v])||(m[v]+=" "+_[2])}return c}function bs(c,m,_,v,E,D,P){var N=_.flattenSpans;N==null&&(N=c.options.flattenSpans);var q,H=0,se=null,le=new pt(m,c.options.tabSize,v),we=c.options.addModeClass&&[null];for(m==""&&Ii(gs(_,v.state),D);!le.eol();){if(le.pos>c.options.maxHighlightLength?(N=!1,P&&ms(c,m,v,le.pos),le.pos=m.length,q=null):q=Ii(Dn(_,le,v.state,we),D),we){var be=we[0].name;be&&(q="m-"+(q?be+" "+q:be))}if(!N||se!=q){for(;H<le.start;)E(H=Math.min(le.start,H+5e3),se);se=q}le.start=le.pos}for(;H<le.pos;){var Fe=Math.min(le.pos,H+5e3);E(Fe,se),H=Fe}}var es=!1,Vn=!1;function Gn(c,m,_){this.marker=c,this.from=m,this.to=_}function Wn(c,m){if(c)for(var _=0;_<c.length;++_){var v=c[_];if(v.marker==m)return v}}function vs(c,m){for(var _,v=0;v<c.length;++v)c[v]!=m&&(_||(_=[])).push(c[v]);return _}function ho(c,m){if(m.full)return null;var _=Li(c,m.from.line)&&Je(c,m.from.line).markedSpans,v=Li(c,m.to.line)&&Je(c,m.to.line).markedSpans;if(!_&&!v)return null;var E=m.from.ch,D=m.to.ch,P=ht(m.from,m.to)==0,N=function(ut,ft,Qt){var St;if(ut)for(var wr=0;wr<ut.length;++wr){var Zt=ut[wr],Hr=Zt.marker;if(Zt.from==null||(Hr.inclusiveLeft?Zt.from<=ft:Zt.from<ft)||Zt.from==ft&&Hr.type=="bookmark"&&(!Qt||!Zt.marker.insertLeft)){var mi=Zt.to==null||(Hr.inclusiveRight?Zt.to>=ft:Zt.to>ft);(St||(St=[])).push(new Gn(Hr,Zt.from,mi?null:Zt.to))}}return St}(_,E,P),q=function(ut,ft,Qt){var St;if(ut)for(var wr=0;wr<ut.length;++wr){var Zt=ut[wr],Hr=Zt.marker;if(Zt.to==null||(Hr.inclusiveRight?Zt.to>=ft:Zt.to>ft)||Zt.from==ft&&Hr.type=="bookmark"&&(!Qt||Zt.marker.insertLeft)){var mi=Zt.from==null||(Hr.inclusiveLeft?Zt.from<=ft:Zt.from<ft);(St||(St=[])).push(new Gn(Hr,mi?null:Zt.from-ft,Zt.to==null?null:Zt.to-ft))}}return St}(v,D,P),H=m.text.length==1,se=ue(m.text).length+(H?E:0);if(N)for(var le=0;le<N.length;++le){var we=N[le];if(we.to==null){var be=Wn(q,we.marker);be?H&&(we.to=be.to==null?null:be.to+se):we.to=E}}if(q)for(var Fe=0;Fe<q.length;++Fe){var Pe=q[Fe];Pe.to!=null&&(Pe.to+=se),Pe.from==null?Wn(N,Pe.marker)||(Pe.from=se,H&&(N||(N=[])).push(Pe)):(Pe.from+=se,H&&(N||(N=[])).push(Pe))}N&&(N=ts(N)),q&&q!=N&&(q=ts(q));var Re=[N];if(!H){var Ue,Qe=m.text.length-2;if(Qe>0&&N)for(var Ze=0;Ze<N.length;++Ze)N[Ze].to==null&&(Ue||(Ue=[])).push(new Gn(N[Ze].marker,null,null));for(var dt=0;dt<Qe;++dt)Re.push(Ue);Re.push(q)}return Re}function ts(c){for(var m=0;m<c.length;++m){var _=c[m];_.from!=null&&_.from==_.to&&_.marker.clearWhenEmpty!==!1&&c.splice(m--,1)}return c.length?c:null}function fo(c){var m=c.markedSpans;if(m){for(var _=0;_<m.length;++_)m[_].marker.detachLine(c);c.markedSpans=null}}function js(c,m){if(m){for(var _=0;_<m.length;++_)m[_].marker.attachLine(c);c.markedSpans=m}}function Oi(c){return c.inclusiveLeft?-1:0}function Yn(c){return c.inclusiveRight?1:0}function An(c,m){var _=c.lines.length-m.lines.length;if(_!=0)return _;var v=c.find(),E=m.find(),D=ht(v.from,E.from)||Oi(c)-Oi(m);if(D)return-D;var P=ht(v.to,E.to)||Yn(c)-Yn(m);return P||m.id-c.id}function Ks(c,m){var _,v=Vn&&c.markedSpans;if(v)for(var E=void 0,D=0;D<v.length;++D)(E=v[D]).marker.collapsed&&(m?E.from:E.to)==null&&(!_||An(_,E.marker)<0)&&(_=E.marker);return _}function rs(c){return Ks(c,!0)}function wn(c){return Ks(c,!1)}function Ln(c,m){var _,v=Vn&&c.markedSpans;if(v)for(var E=0;E<v.length;++E){var D=v[E];D.marker.collapsed&&(D.from==null||D.from<m)&&(D.to==null||D.to>m)&&(!_||An(_,D.marker)<0)&&(_=D.marker)}return _}function xs(c,m,_,v,E){var D=Je(c,m),P=Vn&&D.markedSpans;if(P)for(var N=0;N<P.length;++N){var q=P[N];if(q.marker.collapsed){var H=q.marker.find(0),se=ht(H.from,_)||Oi(q.marker)-Oi(E),le=ht(H.to,v)||Yn(q.marker)-Yn(E);if(!(se>=0&&le<=0||se<=0&&le>=0)&&(se<=0&&(q.marker.inclusiveRight&&E.inclusiveLeft?ht(H.to,_)>=0:ht(H.to,_)>0)||se>=0&&(q.marker.inclusiveRight&&E.inclusiveLeft?ht(H.from,v)<=0:ht(H.from,v)<0)))return!0}}}function ln(c){for(var m;m=rs(c);)c=m.find(-1,!0).line;return c}function _s(c,m){var _=Je(c,m),v=ln(_);return _==v?m:Ct(v)}function po(c,m){if(m>c.lastLine())return m;var _,v=Je(c,m);if(!Zn(c,v))return m;for(;_=wn(v);)v=_.find(1,!0).line;return Ct(v)+1}function Zn(c,m){var _=Vn&&m.markedSpans;if(_){for(var v=void 0,E=0;E<_.length;++E)if((v=_[E]).marker.collapsed&&(v.from==null||!v.marker.widgetNode&&v.from==0&&v.marker.inclusiveLeft&&ie(c,m,v)))return!0}}function ie(c,m,_){if(_.to==null){var v=_.marker.find(1,!0);return ie(c,v.line,Wn(v.line.markedSpans,_.marker))}if(_.marker.inclusiveRight&&_.to==m.text.length)return!0;for(var E=void 0,D=0;D<m.markedSpans.length;++D)if((E=m.markedSpans[D]).marker.collapsed&&!E.marker.widgetNode&&E.from==_.to&&(E.to==null||E.to!=_.from)&&(E.marker.inclusiveLeft||_.marker.inclusiveRight)&&ie(c,m,E))return!0}function X(c){for(var m=0,_=(c=ln(c)).parent,v=0;v<_.lines.length;++v){var E=_.lines[v];if(E==c)break;m+=E.height}for(var D=_.parent;D;D=(_=D).parent)for(var P=0;P<D.children.length;++P){var N=D.children[P];if(N==_)break;m+=N.height}return m}function Oe(c){if(c.height==0)return 0;for(var m,_=c.text.length,v=c;m=rs(v);){var E=m.find(0,!0);v=E.from.line,_+=E.from.ch-E.to.ch}for(v=c;m=wn(v);){var D=m.find(0,!0);_-=v.text.length-D.from.ch,_+=(v=D.to.line).text.length-D.to.ch}return _}function Ke(c){var m=c.display,_=c.doc;m.maxLine=Je(_,_.first),m.maxLineLength=Oe(m.maxLine),m.maxLineChanged=!0,_.iter(function(v){var E=Oe(v);E>m.maxLineLength&&(m.maxLineLength=E,m.maxLine=v)})}var Pt=function(c,m,_){this.text=c,js(this,m),this.height=_?_(this):1};function kt(c){c.parent=null,fo(c)}Pt.prototype.lineNo=function(){return Ct(this)},zt(Pt);var cr={},Lr={};function Br(c,m){if(!c||/^\s*$/.test(c))return null;var _=m.addModeClass?Lr:cr;return _[c]||(_[c]=c.replace(/\S+/g,"cm-$&"))}function jr(c,m){var _=re("span",null,null,p?"padding-right: .1px":null),v={pre:re("pre",[_],"CodeMirror-line"),content:_,col:0,pos:0,cm:c,trailingSpace:!1,splitSpaces:c.getOption("lineWrapping")};m.measure={};for(var E=0;E<=(m.rest?m.rest.length:0);E++){var D=E?m.rest[E-1]:m.line,P=void 0;v.pos=0,v.addToken=Ei,ai(c.display.measure)&&(P=Ce(D,c.doc.direction))&&(v.addToken=Or(v.addToken,P)),v.map=[],On(D,v,Hn(c,D,m!=c.display.externalMeasured&&Ct(D))),D.styleClasses&&(D.styleClasses.bgClass&&(v.bgClass=ge(D.styleClasses.bgClass,v.bgClass||"")),D.styleClasses.textClass&&(v.textClass=ge(D.styleClasses.textClass,v.textClass||""))),v.map.length==0&&v.map.push(0,0,v.content.appendChild(Sr(c.display.measure))),E==0?(m.measure.map=v.map,m.measure.cache={}):((m.measure.maps||(m.measure.maps=[])).push(v.map),(m.measure.caches||(m.measure.caches=[])).push({}))}if(p){var N=v.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return ot(c,"renderLine",c,m.line,v.pre),v.pre.className&&(v.textClass=ge(v.pre.className,v.textClass||"")),v}function zr(c){var m=J("span","•","cm-invalidchar");return m.title="\\u"+c.charCodeAt(0).toString(16),m.setAttribute("aria-label",m.title),m}function Ei(c,m,_,v,E,D,P){if(m){var N,q=c.splitSpaces?function(ut,ft){if(ut.length>1&&!/  /.test(ut))return ut;for(var Qt=ft,St="",wr=0;wr<ut.length;wr++){var Zt=ut.charAt(wr);Zt!=" "||!Qt||wr!=ut.length-1&&ut.charCodeAt(wr+1)!=32||(Zt=" "),St+=Zt,Qt=Zt==" "}return St}(m,c.trailingSpace):m,H=c.cm.state.specialChars,se=!1;if(H.test(m)){N=document.createDocumentFragment();for(var le=0;;){H.lastIndex=le;var we=H.exec(m),be=we?we.index-le:m.length-le;if(be){var Fe=document.createTextNode(q.slice(le,le+be));d&&f<9?N.appendChild(J("span",[Fe])):N.appendChild(Fe),c.map.push(c.pos,c.pos+be,Fe),c.col+=be,c.pos+=be}if(!we)break;le+=be+1;var Pe=void 0;if(we[0]=="	"){var Re=c.cm.options.tabSize,Ue=Re-c.col%Re;(Pe=N.appendChild(J("span",he(Ue),"cm-tab"))).setAttribute("role","presentation"),Pe.setAttribute("cm-text","	"),c.col+=Ue}else we[0]=="\r"||we[0]==`
`?((Pe=N.appendChild(J("span",we[0]=="\r"?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",we[0]),c.col+=1):((Pe=c.cm.options.specialCharPlaceholder(we[0])).setAttribute("cm-text",we[0]),d&&f<9?N.appendChild(J("span",[Pe])):N.appendChild(Pe),c.col+=1);c.map.push(c.pos,c.pos+1,Pe),c.pos++}}else c.col+=m.length,N=document.createTextNode(q),c.map.push(c.pos,c.pos+m.length,N),d&&f<9&&(se=!0),c.pos+=m.length;if(c.trailingSpace=q.charCodeAt(m.length-1)==32,_||v||E||se||D||P){var Qe=_||"";v&&(Qe+=v),E&&(Qe+=E);var Ze=J("span",[N],Qe,D);if(P)for(var dt in P)P.hasOwnProperty(dt)&&dt!="style"&&dt!="class"&&Ze.setAttribute(dt,P[dt]);return c.content.appendChild(Ze)}c.content.appendChild(N)}}function Or(c,m){return function(_,v,E,D,P,N,q){E=E?E+" cm-force-border":"cm-force-border";for(var H=_.pos,se=H+v.length;;){for(var le=void 0,we=0;we<m.length&&!((le=m[we]).to>H&&le.from<=H);we++);if(le.to>=se)return c(_,v,E,D,P,N,q);c(_,v.slice(0,le.to-H),E,D,null,N,q),D=null,v=v.slice(le.to-H),H=le.to}}}function Fi(c,m,_,v){var E=!v&&_.widgetNode;E&&c.map.push(c.pos,c.pos+m,E),!v&&c.cm.display.input.needsContentAttribute&&(E||(E=c.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",_.id)),E&&(c.cm.display.input.setUneditable(E),c.content.appendChild(E)),c.pos+=m,c.trailingSpace=!1}function On(c,m,_){var v=c.markedSpans,E=c.text,D=0;if(v)for(var P,N,q,H,se,le,we,be=E.length,Fe=0,Pe=1,Re="",Ue=0;;){if(Ue==Fe){q=H=se=N="",we=null,le=null,Ue=1/0;for(var Qe=[],Ze=void 0,dt=0;dt<v.length;++dt){var ut=v[dt],ft=ut.marker;if(ft.type=="bookmark"&&ut.from==Fe&&ft.widgetNode)Qe.push(ft);else if(ut.from<=Fe&&(ut.to==null||ut.to>Fe||ft.collapsed&&ut.to==Fe&&ut.from==Fe)){if(ut.to!=null&&ut.to!=Fe&&Ue>ut.to&&(Ue=ut.to,H=""),ft.className&&(q+=" "+ft.className),ft.css&&(N=(N?N+";":"")+ft.css),ft.startStyle&&ut.from==Fe&&(se+=" "+ft.startStyle),ft.endStyle&&ut.to==Ue&&(Ze||(Ze=[])).push(ft.endStyle,ut.to),ft.title&&((we||(we={})).title=ft.title),ft.attributes)for(var Qt in ft.attributes)(we||(we={}))[Qt]=ft.attributes[Qt];ft.collapsed&&(!le||An(le.marker,ft)<0)&&(le=ut)}else ut.from>Fe&&Ue>ut.from&&(Ue=ut.from)}if(Ze)for(var St=0;St<Ze.length;St+=2)Ze[St+1]==Ue&&(H+=" "+Ze[St]);if(!le||le.from==Fe)for(var wr=0;wr<Qe.length;++wr)Fi(m,0,Qe[wr]);if(le&&(le.from||0)==Fe){if(Fi(m,(le.to==null?be+1:le.to)-Fe,le.marker,le.from==null),le.to==null)return;le.to==Fe&&(le=!1)}}if(Fe>=be)break;for(var Zt=Math.min(be,Ue);;){if(Re){var Hr=Fe+Re.length;if(!le){var mi=Hr>Zt?Re.slice(0,Zt-Fe):Re;m.addToken(m,mi,P?P+q:q,se,Fe+mi.length==Ue?H:"",N,we)}if(Hr>=Zt){Re=Re.slice(Zt-Fe),Fe=Zt;break}Fe=Hr,se=""}Re=E.slice(D,D=_[Pe++]),P=Br(_[Pe++],m.cm.options)}}else for(var Vr=1;Vr<_.length;Vr+=2)m.addToken(m,E.slice(D,D=_[Vr]),Br(_[Vr+1],m.cm.options))}function is(c,m,_){this.line=m,this.rest=function(v){for(var E,D;E=wn(v);)v=E.find(1,!0).line,(D||(D=[])).push(v);return D}(m),this.size=this.rest?Ct(ue(this.rest))-_+1:1,this.node=this.text=null,this.hidden=Zn(c,m)}function tn(c,m,_){for(var v,E=[],D=m;D<_;D=v){var P=new is(c.doc,Je(c.doc,D),D);v=D+P.size,E.push(P)}return E}var rn=null,Ts=null;function bi(c,m){var _=Ie(c,m);if(_.length){var v,E=Array.prototype.slice.call(arguments,2);rn?v=rn.delayedCallbacks:Ts?v=Ts:(v=Ts=[],setTimeout(Js,0));for(var D=function(N){v.push(function(){return _[N].apply(null,E)})},P=0;P<_.length;++P)D(P)}}function Js(){var c=Ts;Ts=null;for(var m=0;m<c.length;++m)c[m]()}function Ca(c,m,_,v){for(var E=0;E<m.changes.length;E++){var D=m.changes[E];D=="text"?il(c,m):D=="gutter"?Z(c,m,_,v):D=="class"?ka(c,m):D=="widget"&&_e(c,m,v)}m.changes=null}function Eo(c){return c.node==c.text&&(c.node=J("div",null,null,"position: relative"),c.text.parentNode&&c.text.parentNode.replaceChild(c.node,c.text),c.node.appendChild(c.text),d&&f<8&&(c.node.style.zIndex=2)),c.node}function So(c,m){var _=c.display.externalMeasured;return _&&_.line==m.line?(c.display.externalMeasured=null,m.measure=_.measure,_.built):jr(c,m)}function il(c,m){var _=m.text.className,v=So(c,m);m.text==m.node&&(m.node=v.pre),m.text.parentNode.replaceChild(v.pre,m.text),m.text=v.pre,v.bgClass!=m.bgClass||v.textClass!=m.textClass?(m.bgClass=v.bgClass,m.textClass=v.textClass,ka(c,m)):_&&(m.text.className=_)}function ka(c,m){(function(v,E){var D=E.bgClass?E.bgClass+" "+(E.line.bgClass||""):E.line.bgClass;if(D&&(D+=" CodeMirror-linebackground"),E.background)D?E.background.className=D:(E.background.parentNode.removeChild(E.background),E.background=null);else if(D){var P=Eo(E);E.background=P.insertBefore(J("div",null,D),P.firstChild),v.display.input.setUneditable(E.background)}})(c,m),m.line.wrapClass?Eo(m).className=m.line.wrapClass:m.node!=m.text&&(m.node.className="");var _=m.textClass?m.textClass+" "+(m.line.textClass||""):m.line.textClass;m.text.className=_||""}function Z(c,m,_,v){if(m.gutter&&(m.node.removeChild(m.gutter),m.gutter=null),m.gutterBackground&&(m.node.removeChild(m.gutterBackground),m.gutterBackground=null),m.line.gutterClass){var E=Eo(m);m.gutterBackground=J("div",null,"CodeMirror-gutter-background "+m.line.gutterClass,"left: "+(c.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),c.display.input.setUneditable(m.gutterBackground),E.insertBefore(m.gutterBackground,m.text)}var D=m.line.gutterMarkers;if(c.options.lineNumbers||D){var P=Eo(m),N=m.gutter=J("div",null,"CodeMirror-gutter-wrapper","left: "+(c.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(N.setAttribute("aria-hidden","true"),c.display.input.setUneditable(N),P.insertBefore(N,m.text),m.line.gutterClass&&(N.className+=" "+m.line.gutterClass),!c.options.lineNumbers||D&&D["CodeMirror-linenumbers"]||(m.lineNumber=N.appendChild(J("div",Bt(c.options,_),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.display.lineNumInnerWidth+"px"))),D)for(var q=0;q<c.display.gutterSpecs.length;++q){var H=c.display.gutterSpecs[q].className,se=D.hasOwnProperty(H)&&D[H];se&&N.appendChild(J("div",[se],"CodeMirror-gutter-elt","left: "+v.gutterLeft[H]+"px; width: "+v.gutterWidth[H]+"px"))}}}function _e(c,m,_){m.alignable&&(m.alignable=null);for(var v=F("CodeMirror-linewidget"),E=m.node.firstChild,D=void 0;E;E=D)D=E.nextSibling,v.test(E.className)&&m.node.removeChild(E);gt(c,m,_)}function qe(c,m,_,v){var E=So(c,m);return m.text=m.node=E.pre,E.bgClass&&(m.bgClass=E.bgClass),E.textClass&&(m.textClass=E.textClass),ka(c,m),Z(c,m,_,v),gt(c,m,v),m.node}function gt(c,m,_){if(jt(c,m.line,m,_,!0),m.rest)for(var v=0;v<m.rest.length;v++)jt(c,m.rest[v],m,_,!1)}function jt(c,m,_,v,E){if(m.widgets)for(var D=Eo(_),P=0,N=m.widgets;P<N.length;++P){var q=N[P],H=J("div",[q.node],"CodeMirror-linewidget"+(q.className?" "+q.className:""));q.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),Mt(q,H,_,v),c.display.input.setUneditable(H),E&&q.above?D.insertBefore(H,_.gutter||_.text):D.appendChild(H),bi(q,"redraw")}}function Mt(c,m,_,v){if(c.noHScroll){(_.alignable||(_.alignable=[])).push(m);var E=v.wrapperWidth;m.style.left=v.fixedPos+"px",c.coverGutter||(E-=v.gutterTotalWidth,m.style.paddingLeft=v.gutterTotalWidth+"px"),m.style.width=E+"px"}c.coverGutter&&(m.style.zIndex=5,m.style.position="relative",c.noHScroll||(m.style.marginLeft=-v.gutterTotalWidth+"px"))}function ir(c){if(c.height!=null)return c.height;var m=c.doc.cm;if(!m)return 0;if(!pe(document.body,c.node)){var _="position: relative;";c.coverGutter&&(_+="margin-left: -"+m.display.gutters.offsetWidth+"px;"),c.noHScroll&&(_+="width: "+m.display.wrapper.clientWidth+"px;"),Q(m.display.measure,J("div",[c.node],null,_))}return c.height=c.node.parentNode.offsetHeight}function Xr(c,m){for(var _=ri(m);_!=c.wrapper;_=_.parentNode)if(!_||_.nodeType==1&&_.getAttribute("cm-ignore-events")=="true"||_.parentNode==c.sizer&&_!=c.mover)return!0}function fi(c){return c.lineSpace.offsetTop}function mn(c){return c.mover.offsetHeight-c.lineSpace.offsetHeight}function Mn(c){if(c.cachedPaddingH)return c.cachedPaddingH;var m=Q(c.measure,J("pre","x","CodeMirror-line-like")),_=window.getComputedStyle?window.getComputedStyle(m):m.currentStyle,v={left:parseInt(_.paddingLeft),right:parseInt(_.paddingRight)};return isNaN(v.left)||isNaN(v.right)||(c.cachedPaddingH=v),v}function Ui(c){return 50-c.display.nativeBarWidth}function Ji(c){return c.display.scroller.clientWidth-Ui(c)-c.display.barWidth}function ke(c){return c.display.scroller.clientHeight-Ui(c)-c.display.barHeight}function at(c,m,_){if(c.line==m)return{map:c.measure.map,cache:c.measure.cache};if(c.rest){for(var v=0;v<c.rest.length;v++)if(c.rest[v]==m)return{map:c.measure.maps[v],cache:c.measure.caches[v]};for(var E=0;E<c.rest.length;E++)if(Ct(c.rest[E])>_)return{map:c.measure.maps[E],cache:c.measure.caches[E],before:!0}}}function It(c,m,_,v){return yr(c,Kr(c,m),_,v)}function Cr(c,m){if(m>=c.display.viewFrom&&m<c.display.viewTo)return c.display.view[sl(c,m)];var _=c.display.externalMeasured;return _&&m>=_.lineN&&m<_.lineN+_.size?_:void 0}function Kr(c,m){var _=Ct(m),v=Cr(c,_);v&&!v.text?v=null:v&&v.changes&&(Ca(c,v,_,Sh(c)),c.curOp.forceUpdate=!0),v||(v=function(D,P){var N=Ct(P=ln(P)),q=D.display.externalMeasured=new is(D.doc,P,N);q.lineN=N;var H=q.built=jr(D,q);return q.text=H.pre,Q(D.display.lineMeasure,H.pre),q}(c,m));var E=at(v,m,_);return{line:m,view:v,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function yr(c,m,_,v,E){m.before&&(_=-1);var D,P=_+(v||"");return m.cache.hasOwnProperty(P)?D=m.cache[P]:(m.rect||(m.rect=m.view.text.getBoundingClientRect()),m.hasHeights||(function(N,q,H){var se=N.options.lineWrapping,le=se&&Ji(N);if(!q.measure.heights||se&&q.measure.width!=le){var we=q.measure.heights=[];if(se){q.measure.width=le;for(var be=q.text.firstChild.getClientRects(),Fe=0;Fe<be.length-1;Fe++){var Pe=be[Fe],Re=be[Fe+1];Math.abs(Pe.bottom-Re.bottom)>2&&we.push((Pe.bottom+Re.top)/2-H.top)}}we.push(H.bottom-H.top)}}(c,m.view,m.rect),m.hasHeights=!0),D=function(N,q,H,se){var le,we=$p(q.map,H,se),be=we.node,Fe=we.start,Pe=we.end,Re=we.collapse;if(be.nodeType==3){for(var Ue=0;Ue<4;Ue++){for(;Fe&&Me(q.line.text.charAt(we.coverStart+Fe));)--Fe;for(;we.coverStart+Pe<we.coverEnd&&Me(q.line.text.charAt(we.coverStart+Pe));)++Pe;if((le=d&&f<9&&Fe==0&&Pe==we.coverEnd-we.coverStart?be.parentNode.getBoundingClientRect():by(U(be,Fe,Pe).getClientRects(),se)).left||le.right||Fe==0)break;Pe=Fe,Fe-=1,Re="right"}d&&f<11&&(le=function(mi,Vr){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!function(mr){if(Ir!=null)return Ir;var gi=Q(mr,J("span","x")),dr=gi.getBoundingClientRect(),Fr=U(gi,0,1).getBoundingClientRect();return Ir=Math.abs(dr.left-Fr.left)>1}(mi))return Vr;var Mr=screen.logicalXDPI/screen.deviceXDPI,Gr=screen.logicalYDPI/screen.deviceYDPI;return{left:Vr.left*Mr,right:Vr.right*Mr,top:Vr.top*Gr,bottom:Vr.bottom*Gr}}(N.display.measure,le))}else{var Qe;Fe>0&&(Re=se="right"),le=N.options.lineWrapping&&(Qe=be.getClientRects()).length>1?Qe[se=="right"?Qe.length-1:0]:be.getBoundingClientRect()}if(d&&f<9&&!Fe&&(!le||!le.left&&!le.right)){var Ze=be.parentNode.getClientRects()[0];le=Ze?{left:Ze.left,right:Ze.left+Nl(N.display),top:Ze.top,bottom:Ze.bottom}:mo}for(var dt=le.top-q.rect.top,ut=le.bottom-q.rect.top,ft=(dt+ut)/2,Qt=q.view.measure.heights,St=0;St<Qt.length-1&&!(ft<Qt[St]);St++);var wr=St?Qt[St-1]:0,Zt=Qt[St],Hr={left:(Re=="right"?le.right:le.left)-q.rect.left,right:(Re=="left"?le.left:le.right)-q.rect.left,top:wr,bottom:Zt};return le.left||le.right||(Hr.bogus=!0),N.options.singleCursorHeightPerLine||(Hr.rtop=dt,Hr.rbottom=ut),Hr}(c,m,_,v),D.bogus||(m.cache[P]=D)),{left:D.left,right:D.right,top:E?D.rtop:D.top,bottom:E?D.rbottom:D.bottom}}var nn,mo={left:0,right:0,top:0,bottom:0};function $p(c,m,_){for(var v,E,D,P,N,q,H=0;H<c.length;H+=3)if(N=c[H],q=c[H+1],m<N?(E=0,D=1,P="left"):m<q?D=(E=m-N)+1:(H==c.length-3||m==q&&c[H+3]>m)&&(E=(D=q-N)-1,m>=q&&(P="right")),E!=null){if(v=c[H+2],N==q&&_==(v.insertLeft?"left":"right")&&(P=_),_=="left"&&E==0)for(;H&&c[H-2]==c[H-3]&&c[H-1].insertLeft;)v=c[2+(H-=3)],P="left";if(_=="right"&&E==q-N)for(;H<c.length-3&&c[H+3]==c[H+4]&&!c[H+5].insertLeft;)v=c[(H+=3)+2],P="right";break}return{node:v,start:E,end:D,collapse:P,coverStart:N,coverEnd:q}}function by(c,m){var _=mo;if(m=="left")for(var v=0;v<c.length&&(_=c[v]).left==_.right;v++);else for(var E=c.length-1;E>=0&&(_=c[E]).left==_.right;E--);return _}function Bp(c){if(c.measure&&(c.measure.cache={},c.measure.heights=null,c.rest))for(var m=0;m<c.rest.length;m++)c.measure.caches[m]={}}function jp(c){c.display.externalMeasure=null,G(c.display.lineMeasure);for(var m=0;m<c.display.view.length;m++)Bp(c.display.view[m])}function Au(c){jp(c),c.display.cachedCharWidth=c.display.cachedTextHeight=c.display.cachedPaddingH=null,c.options.lineWrapping||(c.display.maxLineChanged=!0),c.display.lineNumChars=null}function zp(c){return y&&O?-(c.body.getBoundingClientRect().left-parseInt(getComputedStyle(c.body).marginLeft)):c.defaultView.pageXOffset||(c.documentElement||c.body).scrollLeft}function Up(c){return y&&O?-(c.body.getBoundingClientRect().top-parseInt(getComputedStyle(c.body).marginTop)):c.defaultView.pageYOffset||(c.documentElement||c.body).scrollTop}function xh(c){var m=ln(c).widgets,_=0;if(m)for(var v=0;v<m.length;++v)m[v].above&&(_+=ir(m[v]));return _}function Uc(c,m,_,v,E){if(!E){var D=xh(m);_.top+=D,_.bottom+=D}if(v=="line")return _;v||(v="local");var P=X(m);if(v=="local"?P+=fi(c.display):P-=c.display.viewOffset,v=="page"||v=="window"){var N=c.display.lineSpace.getBoundingClientRect();P+=N.top+(v=="window"?0:Up(ze(c)));var q=N.left+(v=="window"?0:zp(ze(c)));_.left+=q,_.right+=q}return _.top+=P,_.bottom+=P,_}function qp(c,m,_){if(_=="div")return m;var v=m.left,E=m.top;if(_=="page")v-=zp(ze(c)),E-=Up(ze(c));else if(_=="local"||!_){var D=c.display.sizer.getBoundingClientRect();v+=D.left,E+=D.top}var P=c.display.lineSpace.getBoundingClientRect();return{left:v-P.left,top:E-P.top}}function qc(c,m,_,v,E){return v||(v=Je(c.doc,m.line)),Uc(c,v,It(c,v,m.ch,E),_)}function Co(c,m,_,v,E,D){function P(Fe,Pe){var Re=yr(c,E,Fe,Pe?"right":"left",D);return Pe?Re.left=Re.right:Re.right=Re.left,Uc(c,v,Re,_)}v=v||Je(c.doc,m.line),E||(E=Kr(c,v));var N=Ce(v,c.doc.direction),q=m.ch,H=m.sticky;if(q>=v.text.length?(q=v.text.length,H="before"):q<=0&&(q=0,H="after"),!N)return P(H=="before"?q-1:q,H=="before");function se(Fe,Pe,Re){return P(Re?Fe-1:Fe,N[Pe].level==1!=Re)}var le=ce(N,q,H),we=de,be=se(q,le,H=="before");return we!=null&&(be.other=se(q,we,H!="before")),be}function Hp(c,m){var _=0;m=Ot(c.doc,m),c.options.lineWrapping||(_=Nl(c.display)*m.ch);var v=Je(c.doc,m.line),E=X(v)+fi(c.display);return{left:_,right:_,top:E,bottom:E+v.height}}function _h(c,m,_,v,E){var D=He(c,m,_);return D.xRel=E,v&&(D.outside=v),D}function wh(c,m,_){var v=c.doc;if((_+=c.display.viewOffset)<0)return _h(v.first,0,null,-1,-1);var E=ii(v,_),D=v.first+v.size-1;if(E>D)return _h(v.first+v.size-1,Je(v,D).text.length,null,1,1);m<0&&(m=0);for(var P=Je(v,E);;){var N=vy(c,P,E,m,_),q=Ln(P,N.ch+(N.xRel>0||N.outside>0?1:0));if(!q)return N;var H=q.find(1);if(H.line==E)return H;P=Je(v,E=H.line)}}function Vp(c,m,_,v){v-=xh(m);var E=m.text.length,D=te(function(P){return yr(c,_,P-1).bottom<=v},E,0);return{begin:D,end:E=te(function(P){return yr(c,_,P).top>v},D,E)}}function Gp(c,m,_,v){return _||(_=Kr(c,m)),Vp(c,m,_,Uc(c,m,yr(c,_,v),"line").top)}function Eh(c,m,_,v){return!(c.bottom<=_)&&(c.top>_||(v?c.left:c.right)>m)}function vy(c,m,_,v,E){E-=X(m);var D=Kr(c,m),P=xh(m),N=0,q=m.text.length,H=!0,se=Ce(m,c.doc.direction);if(se){var le=(c.options.lineWrapping?_y:xy)(c,m,_,D,se,v,E);N=(H=le.level!=1)?le.from:le.to-1,q=H?le.to:le.from-1}var we,be,Fe=null,Pe=null,Re=te(function(ut){var ft=yr(c,D,ut);return ft.top+=P,ft.bottom+=P,!!Eh(ft,v,E,!1)&&(ft.top<=E&&ft.left<=v&&(Fe=ut,Pe=ft),!0)},N,q),Ue=!1;if(Pe){var Qe=v-Pe.left<Pe.right-v,Ze=Qe==H;Re=Fe+(Ze?0:1),be=Ze?"after":"before",we=Qe?Pe.left:Pe.right}else{H||Re!=q&&Re!=N||Re++,be=Re==0?"after":Re==m.text.length?"before":yr(c,D,Re-(H?1:0)).bottom+P<=E==H?"after":"before";var dt=Co(c,He(_,Re,be),"line",m,D);we=dt.left,Ue=E<dt.top?-1:E>=dt.bottom?1:0}return _h(_,Re=j(m.text,Re,1),be,Ue,v-we)}function xy(c,m,_,v,E,D,P){var N=te(function(le){var we=E[le],be=we.level!=1;return Eh(Co(c,He(_,be?we.to:we.from,be?"before":"after"),"line",m,v),D,P,!0)},0,E.length-1),q=E[N];if(N>0){var H=q.level!=1,se=Co(c,He(_,H?q.from:q.to,H?"after":"before"),"line",m,v);Eh(se,D,P,!0)&&se.top>P&&(q=E[N-1])}return q}function _y(c,m,_,v,E,D,P){var N=Vp(c,m,v,P),q=N.begin,H=N.end;/\s/.test(m.text.charAt(H-1))&&H--;for(var se=null,le=null,we=0;we<E.length;we++){var be=E[we];if(!(be.from>=H||be.to<=q)){var Fe=yr(c,v,be.level!=1?Math.min(H,be.to)-1:Math.max(q,be.from)).right,Pe=Fe<D?D-Fe+1e9:Fe-D;(!se||le>Pe)&&(se=be,le=Pe)}}return se||(se=E[E.length-1]),se.from<q&&(se={from:q,to:se.to,level:se.level}),se.to>H&&(se={from:se.from,to:H,level:se.level}),se}function Pl(c){if(c.cachedTextHeight!=null)return c.cachedTextHeight;if(nn==null){nn=J("pre",null,"CodeMirror-line-like");for(var m=0;m<49;++m)nn.appendChild(document.createTextNode("x")),nn.appendChild(J("br"));nn.appendChild(document.createTextNode("x"))}Q(c.measure,nn);var _=nn.offsetHeight/50;return _>3&&(c.cachedTextHeight=_),G(c.measure),_||1}function Nl(c){if(c.cachedCharWidth!=null)return c.cachedCharWidth;var m=J("span","xxxxxxxxxx"),_=J("pre",[m],"CodeMirror-line-like");Q(c.measure,_);var v=m.getBoundingClientRect(),E=(v.right-v.left)/10;return E>2&&(c.cachedCharWidth=E),E||10}function Sh(c){for(var m=c.display,_={},v={},E=m.gutters.clientLeft,D=m.gutters.firstChild,P=0;D;D=D.nextSibling,++P){var N=c.display.gutterSpecs[P].className;_[N]=D.offsetLeft+D.clientLeft+E,v[N]=D.clientWidth}return{fixedPos:Ch(m),gutterTotalWidth:m.gutters.offsetWidth,gutterLeft:_,gutterWidth:v,wrapperWidth:m.wrapper.clientWidth}}function Ch(c){return c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left}function Wp(c){var m=Pl(c.display),_=c.options.lineWrapping,v=_&&Math.max(5,c.display.scroller.clientWidth/Nl(c.display)-3);return function(E){if(Zn(c.doc,E))return 0;var D=0;if(E.widgets)for(var P=0;P<E.widgets.length;P++)E.widgets[P].height&&(D+=E.widgets[P].height);return _?D+(Math.ceil(E.text.length/v)||1)*m:D+m}}function kh(c){var m=c.doc,_=Wp(c);m.iter(function(v){var E=_(v);E!=v.height&&Lt(v,E)})}function nl(c,m,_,v){var E=c.display;if(!_&&ri(m).getAttribute("cm-not-content")=="true")return null;var D,P,N=E.lineSpace.getBoundingClientRect();try{D=m.clientX-N.left,P=m.clientY-N.top}catch{return null}var q,H=wh(c,D,P);if(v&&H.xRel>0&&(q=Je(c.doc,H.line).text).length==H.ch){var se=Xe(q,q.length,c.options.tabSize)-q.length;H=He(H.line,Math.max(0,Math.round((D-Mn(c.display).left)/Nl(c.display))-se))}return H}function sl(c,m){if(m>=c.display.viewTo||(m-=c.display.viewFrom)<0)return null;for(var _=c.display.view,v=0;v<_.length;v++)if((m-=_[v].size)<0)return v}function Ds(c,m,_,v){m==null&&(m=c.doc.first),_==null&&(_=c.doc.first+c.doc.size),v||(v=0);var E=c.display;if(v&&_<E.viewTo&&(E.updateLineNumbers==null||E.updateLineNumbers>m)&&(E.updateLineNumbers=m),c.curOp.viewChanged=!0,m>=E.viewTo)Vn&&_s(c.doc,m)<E.viewTo&&Ta(c);else if(_<=E.viewFrom)Vn&&po(c.doc,_+v)>E.viewFrom?Ta(c):(E.viewFrom+=v,E.viewTo+=v);else if(m<=E.viewFrom&&_>=E.viewTo)Ta(c);else if(m<=E.viewFrom){var D=Hc(c,_,_+v,1);D?(E.view=E.view.slice(D.index),E.viewFrom=D.lineN,E.viewTo+=v):Ta(c)}else if(_>=E.viewTo){var P=Hc(c,m,m,-1);P?(E.view=E.view.slice(0,P.index),E.viewTo=P.lineN):Ta(c)}else{var N=Hc(c,m,m,-1),q=Hc(c,_,_+v,1);N&&q?(E.view=E.view.slice(0,N.index).concat(tn(c,N.lineN,q.lineN)).concat(E.view.slice(q.index)),E.viewTo+=v):Ta(c)}var H=E.externalMeasured;H&&(_<H.lineN?H.lineN+=v:m<H.lineN+H.size&&(E.externalMeasured=null))}function Aa(c,m,_){c.curOp.viewChanged=!0;var v=c.display,E=c.display.externalMeasured;if(E&&m>=E.lineN&&m<E.lineN+E.size&&(v.externalMeasured=null),!(m<v.viewFrom||m>=v.viewTo)){var D=v.view[sl(c,m)];if(D.node!=null){var P=D.changes||(D.changes=[]);vt(P,_)==-1&&P.push(_)}}}function Ta(c){c.display.viewFrom=c.display.viewTo=c.doc.first,c.display.view=[],c.display.viewOffset=0}function Hc(c,m,_,v){var E,D=sl(c,m),P=c.display.view;if(!Vn||_==c.doc.first+c.doc.size)return{index:D,lineN:_};for(var N=c.display.viewFrom,q=0;q<D;q++)N+=P[q].size;if(N!=m){if(v>0){if(D==P.length-1)return null;E=N+P[D].size-m,D++}else E=N-m;m+=E,_+=E}for(;_s(c.doc,_)!=_;){if(D==(v<0?0:P.length-1))return null;_+=v*P[D-(v<0?1:0)].size,D+=v}return{index:D,lineN:_}}function Yp(c){for(var m=c.display.view,_=0,v=0;v<m.length;v++){var E=m[v];E.hidden||E.node&&!E.changes||++_}return _}function Tu(c){c.display.input.showSelection(c.display.input.prepareSelection())}function Zp(c,m){m===void 0&&(m=!0);var _=c.doc,v={},E=v.cursors=document.createDocumentFragment(),D=v.selection=document.createDocumentFragment(),P=c.options.$customCursor;P&&(m=!0);for(var N=0;N<_.sel.ranges.length;N++)if(m||N!=_.sel.primIndex){var q=_.sel.ranges[N];if(!(q.from().line>=c.display.viewTo||q.to().line<c.display.viewFrom)){var H=q.empty();if(P){var se=P(c,q);se&&Ah(c,se,E)}else(H||c.options.showCursorWhenSelecting)&&Ah(c,q.head,E);H||wy(c,q,D)}}return v}function Ah(c,m,_){var v=Co(c,m,"div",null,null,!c.options.singleCursorHeightPerLine),E=_.appendChild(J("div"," ","CodeMirror-cursor"));if(E.style.left=v.left+"px",E.style.top=v.top+"px",E.style.height=Math.max(0,v.bottom-v.top)*c.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(c.getWrapperElement().className)){var D=qc(c,m,"div",null,null),P=D.right-D.left;E.style.width=(P>0?P:c.defaultCharWidth())+"px"}if(v.other){var N=_.appendChild(J("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));N.style.display="",N.style.left=v.other.left+"px",N.style.top=v.other.top+"px",N.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Vc(c,m){return c.top-m.top||c.left-m.left}function wy(c,m,_){var v=c.display,E=c.doc,D=document.createDocumentFragment(),P=Mn(c.display),N=P.left,q=Math.max(v.sizerWidth,Ji(c)-v.sizer.offsetLeft)-P.right,H=E.direction=="ltr";function se(Ze,dt,ut,ft){dt<0&&(dt=0),dt=Math.round(dt),ft=Math.round(ft),D.appendChild(J("div",null,"CodeMirror-selected","position: absolute; left: "+Ze+`px;
                             top: `+dt+"px; width: "+(ut??q-Ze)+`px;
                             height: `+(ft-dt)+"px"))}function le(Ze,dt,ut){var ft,Qt,St=Je(E,Ze),wr=St.text.length;function Zt(Vr,Mr){return qc(c,He(Ze,Vr),"div",St,Mr)}function Hr(Vr,Mr,Gr){var mr=Gp(c,St,null,Vr),gi=Mr=="ltr"==(Gr=="after")?"left":"right";return Zt(Gr=="after"?mr.begin:mr.end-(/\s/.test(St.text.charAt(mr.end-1))?2:1),gi)[gi]}var mi=Ce(St,E.direction);return function(Vr,Mr,Gr,mr){if(!Vr)return mr(Mr,Gr,"ltr",0);for(var gi=!1,dr=0;dr<Vr.length;++dr){var Fr=Vr[dr];(Fr.from<Gr&&Fr.to>Mr||Mr==Gr&&Fr.to==Mr)&&(mr(Math.max(Fr.from,Mr),Math.min(Fr.to,Gr),Fr.level==1?"rtl":"ltr",dr),gi=!0)}gi||mr(Mr,Gr,"ltr")}(mi,dt||0,ut??wr,function(Vr,Mr,Gr,mr){var gi=Gr=="ltr",dr=Zt(Vr,gi?"left":"right"),Fr=Zt(Mr-1,gi?"right":"left"),br=dt==null&&Vr==0,Qr=ut==null&&Mr==wr,Es=mr==0,yi=!mi||mr==mi.length-1;if(Fr.top-dr.top<=3){var ss=(H?Qr:br)&&yi,os=(H?br:Qr)&&Es?N:(gi?dr:Fr).left,Yi=ss?q:(gi?Fr:dr).right;se(os,dr.top,Yi-os,dr.bottom)}else{var Ss,go,Xn,To;gi?(Ss=H&&br&&Es?N:dr.left,go=H?q:Hr(Vr,Gr,"before"),Xn=H?N:Hr(Mr,Gr,"after"),To=H&&Qr&&yi?q:Fr.right):(Ss=H?Hr(Vr,Gr,"before"):N,go=!H&&br&&Es?q:dr.right,Xn=!H&&Qr&&yi?N:Fr.left,To=H?Hr(Mr,Gr,"after"):q),se(Ss,dr.top,go-Ss,dr.bottom),dr.bottom<Fr.top&&se(N,dr.bottom,null,Fr.top),se(Xn,Fr.top,To-Xn,Fr.bottom)}(!ft||Vc(dr,ft)<0)&&(ft=dr),Vc(Fr,ft)<0&&(ft=Fr),(!Qt||Vc(dr,Qt)<0)&&(Qt=dr),Vc(Fr,Qt)<0&&(Qt=Fr)}),{start:ft,end:Qt}}var we=m.from(),be=m.to();if(we.line==be.line)le(we.line,we.ch,be.ch);else{var Fe=Je(E,we.line),Pe=Je(E,be.line),Re=ln(Fe)==ln(Pe),Ue=le(we.line,we.ch,Re?Fe.text.length+1:null).end,Qe=le(be.line,Re?0:null,be.ch).start;Re&&(Ue.top<Qe.top-2?(se(Ue.right,Ue.top,null,Ue.bottom),se(N,Qe.top,Qe.left,Qe.bottom)):se(Ue.right,Ue.top,Qe.left-Ue.right,Ue.bottom)),Ue.bottom<Qe.top&&se(N,Ue.bottom,null,Qe.top)}_.appendChild(D)}function Th(c){if(c.state.focused){var m=c.display;clearInterval(m.blinker);var _=!0;m.cursorDiv.style.visibility="",c.options.cursorBlinkRate>0?m.blinker=setInterval(function(){c.hasFocus()||$l(c),m.cursorDiv.style.visibility=(_=!_)?"":"hidden"},c.options.cursorBlinkRate):c.options.cursorBlinkRate<0&&(m.cursorDiv.style.visibility="hidden")}}function Xp(c){c.hasFocus()||(c.display.input.focus(),c.state.focused||Lh(c))}function Dh(c){c.state.delayingBlurEvent=!0,setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,c.state.focused&&$l(c))},100)}function Lh(c,m){c.state.delayingBlurEvent&&!c.state.draggingText&&(c.state.delayingBlurEvent=!1),c.options.readOnly!="nocursor"&&(c.state.focused||(ot(c,"focus",c,m),c.state.focused=!0,B(c.display.wrapper,"CodeMirror-focused"),c.curOp||c.display.selForContextMenu==c.doc.sel||(c.display.input.reset(),p&&setTimeout(function(){return c.display.input.reset(!0)},20)),c.display.input.receivedFocus()),Th(c))}function $l(c,m){c.state.delayingBlurEvent||(c.state.focused&&(ot(c,"blur",c,m),c.state.focused=!1,Y(c.display.wrapper,"CodeMirror-focused")),clearInterval(c.display.blinker),setTimeout(function(){c.state.focused||(c.display.shift=!1)},150))}function Gc(c){for(var m=c.display,_=m.lineDiv.offsetTop,v=Math.max(0,m.scroller.getBoundingClientRect().top),E=m.lineDiv.getBoundingClientRect().top,D=0,P=0;P<m.view.length;P++){var N=m.view[P],q=c.options.lineWrapping,H=void 0,se=0;if(!N.hidden){if(E+=N.line.height,d&&f<8){var le=N.node.offsetTop+N.node.offsetHeight;H=le-_,_=le}else{var we=N.node.getBoundingClientRect();H=we.bottom-we.top,!q&&N.text.firstChild&&(se=N.text.firstChild.getBoundingClientRect().right-we.left-1)}var be=N.line.height-H;if((be>.005||be<-.005)&&(E<v&&(D-=be),Lt(N.line,H),Kp(N.line),N.rest))for(var Fe=0;Fe<N.rest.length;Fe++)Kp(N.rest[Fe]);if(se>c.display.sizerWidth){var Pe=Math.ceil(se/Nl(c.display));Pe>c.display.maxLineLength&&(c.display.maxLineLength=Pe,c.display.maxLine=N.line,c.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(m.scroller.scrollTop+=D)}function Kp(c){if(c.widgets)for(var m=0;m<c.widgets.length;++m){var _=c.widgets[m],v=_.node.parentNode;v&&(_.height=v.offsetHeight)}}function Wc(c,m,_){var v=_&&_.top!=null?Math.max(0,_.top):c.scroller.scrollTop;v=Math.floor(v-fi(c));var E=_&&_.bottom!=null?_.bottom:v+c.wrapper.clientHeight,D=ii(m,v),P=ii(m,E);if(_&&_.ensure){var N=_.ensure.from.line,q=_.ensure.to.line;N<D?(D=N,P=ii(m,X(Je(m,N))+c.wrapper.clientHeight)):Math.min(q,m.lastLine())>=P&&(D=ii(m,X(Je(m,q))-c.wrapper.clientHeight),P=q)}return{from:D,to:Math.max(P,D+1)}}function Oh(c,m){var _=c.display,v=Pl(c.display);m.top<0&&(m.top=0);var E=c.curOp&&c.curOp.scrollTop!=null?c.curOp.scrollTop:_.scroller.scrollTop,D=ke(c),P={};m.bottom-m.top>D&&(m.bottom=m.top+D);var N=c.doc.height+mn(_),q=m.top<v,H=m.bottom>N-v;if(m.top<E)P.scrollTop=q?0:m.top;else if(m.bottom>E+D){var se=Math.min(m.top,(H?N:m.bottom)-D);se!=E&&(P.scrollTop=se)}var le=c.options.fixedGutter?0:_.gutters.offsetWidth,we=c.curOp&&c.curOp.scrollLeft!=null?c.curOp.scrollLeft:_.scroller.scrollLeft-le,be=Ji(c)-_.gutters.offsetWidth,Fe=m.right-m.left>be;return Fe&&(m.right=m.left+be),m.left<10?P.scrollLeft=0:m.left<we?P.scrollLeft=Math.max(0,m.left+le-(Fe?0:10)):m.right>be+we-3&&(P.scrollLeft=m.right+(Fe?0:10)-be),P}function Mh(c,m){m!=null&&(Yc(c),c.curOp.scrollTop=(c.curOp.scrollTop==null?c.doc.scrollTop:c.curOp.scrollTop)+m)}function Bl(c){Yc(c);var m=c.getCursor();c.curOp.scrollToPos={from:m,to:m,margin:c.options.cursorScrollMargin}}function Du(c,m,_){m==null&&_==null||Yc(c),m!=null&&(c.curOp.scrollLeft=m),_!=null&&(c.curOp.scrollTop=_)}function Yc(c){var m=c.curOp.scrollToPos;m&&(c.curOp.scrollToPos=null,Jp(c,Hp(c,m.from),Hp(c,m.to),m.margin))}function Jp(c,m,_,v){var E=Oh(c,{left:Math.min(m.left,_.left),top:Math.min(m.top,_.top)-v,right:Math.max(m.right,_.right),bottom:Math.max(m.bottom,_.bottom)+v});Du(c,E.scrollLeft,E.scrollTop)}function Lu(c,m){Math.abs(c.doc.scrollTop-m)<2||(a||Ih(c,{top:m}),Qp(c,m,!0),a&&Ih(c),Ru(c,100))}function Qp(c,m,_){m=Math.max(0,Math.min(c.display.scroller.scrollHeight-c.display.scroller.clientHeight,m)),(c.display.scroller.scrollTop!=m||_)&&(c.doc.scrollTop=m,c.display.scrollbars.setScrollTop(m),c.display.scroller.scrollTop!=m&&(c.display.scroller.scrollTop=m))}function ol(c,m,_,v){m=Math.max(0,Math.min(m,c.display.scroller.scrollWidth-c.display.scroller.clientWidth)),(_?m==c.doc.scrollLeft:Math.abs(c.doc.scrollLeft-m)<2)&&!v||(c.doc.scrollLeft=m,nm(c),c.display.scroller.scrollLeft!=m&&(c.display.scroller.scrollLeft=m),c.display.scrollbars.setScrollLeft(m))}function Ou(c){var m=c.display,_=m.gutters.offsetWidth,v=Math.round(c.doc.height+mn(c.display));return{clientHeight:m.scroller.clientHeight,viewHeight:m.wrapper.clientHeight,scrollWidth:m.scroller.scrollWidth,clientWidth:m.scroller.clientWidth,viewWidth:m.wrapper.clientWidth,barLeft:c.options.fixedGutter?_:0,docHeight:v,scrollHeight:v+Ui(c)+m.barHeight,nativeBarWidth:m.nativeBarWidth,gutterWidth:_}}var al=function(c,m,_){this.cm=_;var v=this.vert=J("div",[J("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=J("div",[J("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=E.tabIndex=-1,c(v),c(E),De(v,"scroll",function(){v.clientHeight&&m(v.scrollTop,"vertical")}),De(E,"scroll",function(){E.clientWidth&&m(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,d&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};al.prototype.update=function(c){var m=c.scrollWidth>c.clientWidth+1,_=c.scrollHeight>c.clientHeight+1,v=c.nativeBarWidth;if(_){this.vert.style.display="block",this.vert.style.bottom=m?v+"px":"0";var E=c.viewHeight-(m?v:0);this.vert.firstChild.style.height=Math.max(0,c.scrollHeight-c.clientHeight+E)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(m){this.horiz.style.display="block",this.horiz.style.right=_?v+"px":"0",this.horiz.style.left=c.barLeft+"px";var D=c.viewWidth-c.barLeft-(_?v:0);this.horiz.firstChild.style.width=Math.max(0,c.scrollWidth-c.clientWidth+D)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&c.clientHeight>0&&(v==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:_?v:0,bottom:m?v:0}},al.prototype.setScrollLeft=function(c){this.horiz.scrollLeft!=c&&(this.horiz.scrollLeft=c),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},al.prototype.setScrollTop=function(c){this.vert.scrollTop!=c&&(this.vert.scrollTop=c),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},al.prototype.zeroWidthHack=function(){var c=A&&!S?"12px":"18px";this.horiz.style.height=this.vert.style.width=c,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new nt,this.disableVert=new nt},al.prototype.enableZeroWidthBar=function(c,m,_){c.style.visibility="",m.set(1e3,function v(){var E=c.getBoundingClientRect();(_=="vert"?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1))!=c?c.style.visibility="hidden":m.set(1e3,v)})},al.prototype.clear=function(){var c=this.horiz.parentNode;c.removeChild(this.horiz),c.removeChild(this.vert)};var Mu=function(){};function jl(c,m){m||(m=Ou(c));var _=c.display.barWidth,v=c.display.barHeight;em(c,m);for(var E=0;E<4&&_!=c.display.barWidth||v!=c.display.barHeight;E++)_!=c.display.barWidth&&c.options.lineWrapping&&Gc(c),em(c,Ou(c)),_=c.display.barWidth,v=c.display.barHeight}function em(c,m){var _=c.display,v=_.scrollbars.update(m);_.sizer.style.paddingRight=(_.barWidth=v.right)+"px",_.sizer.style.paddingBottom=(_.barHeight=v.bottom)+"px",_.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(_.scrollbarFiller.style.display="block",_.scrollbarFiller.style.height=v.bottom+"px",_.scrollbarFiller.style.width=v.right+"px"):_.scrollbarFiller.style.display="",v.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter?(_.gutterFiller.style.display="block",_.gutterFiller.style.height=v.bottom+"px",_.gutterFiller.style.width=m.gutterWidth+"px"):_.gutterFiller.style.display=""}Mu.prototype.update=function(){return{bottom:0,right:0}},Mu.prototype.setScrollLeft=function(){},Mu.prototype.setScrollTop=function(){},Mu.prototype.clear=function(){};var tm={native:al,null:Mu};function rm(c){c.display.scrollbars&&(c.display.scrollbars.clear(),c.display.scrollbars.addClass&&Y(c.display.wrapper,c.display.scrollbars.addClass)),c.display.scrollbars=new tm[c.options.scrollbarStyle](function(m){c.display.wrapper.insertBefore(m,c.display.scrollbarFiller),De(m,"mousedown",function(){c.state.focused&&setTimeout(function(){return c.display.input.focus()},0)}),m.setAttribute("cm-not-content","true")},function(m,_){_=="horizontal"?ol(c,m):Lu(c,m)},c),c.display.scrollbars.addClass&&B(c.display.wrapper,c.display.scrollbars.addClass)}var Ey=0;function ll(c){var m;c.curOp={cm:c,viewChanged:!1,startHeight:c.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ey,markArrays:null},m=c.curOp,rn?rn.ops.push(m):m.ownsGroup=rn={ops:[m],delayedCallbacks:[]}}function ul(c){var m=c.curOp;m&&function(_,v){var E=_.ownsGroup;if(E)try{(function(D){var P=D.delayedCallbacks,N=0;do{for(;N<P.length;N++)P[N].call(null);for(var q=0;q<D.ops.length;q++){var H=D.ops[q];if(H.cursorActivityHandlers)for(;H.cursorActivityCalled<H.cursorActivityHandlers.length;)H.cursorActivityHandlers[H.cursorActivityCalled++].call(null,H.cm)}}while(N<P.length)})(E)}finally{rn=null,v(E)}}(m,function(_){for(var v=0;v<_.ops.length;v++)_.ops[v].cm.curOp=null;(function(E){for(var D=E.ops,P=0;P<D.length;P++)Sy(D[P]);for(var N=0;N<D.length;N++)Cy(D[N]);for(var q=0;q<D.length;q++)ky(D[q]);for(var H=0;H<D.length;H++)Ay(D[H]);for(var se=0;se<D.length;se++)Ty(D[se])})(_)})}function Sy(c){var m=c.cm,_=m.display;(function(v){var E=v.display;!E.scrollbarsClipped&&E.scroller.offsetWidth&&(E.nativeBarWidth=E.scroller.offsetWidth-E.scroller.clientWidth,E.heightForcer.style.height=Ui(v)+"px",E.sizer.style.marginBottom=-E.nativeBarWidth+"px",E.sizer.style.borderRightWidth=Ui(v)+"px",E.scrollbarsClipped=!0)})(m),c.updateMaxLine&&Ke(m),c.mustUpdate=c.viewChanged||c.forceUpdate||c.scrollTop!=null||c.scrollToPos&&(c.scrollToPos.from.line<_.viewFrom||c.scrollToPos.to.line>=_.viewTo)||_.maxLineChanged&&m.options.lineWrapping,c.update=c.mustUpdate&&new Zc(m,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}function Cy(c){c.updatedDisplay=c.mustUpdate&&Rh(c.cm,c.update)}function ky(c){var m=c.cm,_=m.display;c.updatedDisplay&&Gc(m),c.barMeasure=Ou(m),_.maxLineChanged&&!m.options.lineWrapping&&(c.adjustWidthTo=It(m,_.maxLine,_.maxLine.text.length).left+3,m.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(_.scroller.clientWidth,_.sizer.offsetLeft+c.adjustWidthTo+Ui(m)+m.display.barWidth),c.maxScrollLeft=Math.max(0,_.sizer.offsetLeft+c.adjustWidthTo-Ji(m))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=_.input.prepareSelection())}function Ay(c){var m=c.cm;c.adjustWidthTo!=null&&(m.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<m.doc.scrollLeft&&ol(m,Math.min(m.display.scroller.scrollLeft,c.maxScrollLeft),!0),m.display.maxLineChanged=!1);var _=c.focus&&c.focus==ee(ze(m));c.preparedSelection&&m.display.input.showSelection(c.preparedSelection,_),(c.updatedDisplay||c.startHeight!=m.doc.height)&&jl(m,c.barMeasure),c.updatedDisplay&&Ph(m,c.barMeasure),c.selectionChanged&&Th(m),m.state.focused&&c.updateInput&&m.display.input.reset(c.typing),_&&Xp(c.cm)}function Ty(c){var m=c.cm,_=m.display,v=m.doc;if(c.updatedDisplay&&im(m,c.update),_.wheelStartX==null||c.scrollTop==null&&c.scrollLeft==null&&!c.scrollToPos||(_.wheelStartX=_.wheelStartY=null),c.scrollTop!=null&&Qp(m,c.scrollTop,c.forceScroll),c.scrollLeft!=null&&ol(m,c.scrollLeft,!0,!0),c.scrollToPos){var E=function(H,se,le,we){var be;we==null&&(we=0),H.options.lineWrapping||se!=le||(le=se.sticky=="before"?He(se.line,se.ch+1,"before"):se,se=se.ch?He(se.line,se.sticky=="before"?se.ch-1:se.ch,"after"):se);for(var Fe=0;Fe<5;Fe++){var Pe=!1,Re=Co(H,se),Ue=le&&le!=se?Co(H,le):Re,Qe=Oh(H,be={left:Math.min(Re.left,Ue.left),top:Math.min(Re.top,Ue.top)-we,right:Math.max(Re.left,Ue.left),bottom:Math.max(Re.bottom,Ue.bottom)+we}),Ze=H.doc.scrollTop,dt=H.doc.scrollLeft;if(Qe.scrollTop!=null&&(Lu(H,Qe.scrollTop),Math.abs(H.doc.scrollTop-Ze)>1&&(Pe=!0)),Qe.scrollLeft!=null&&(ol(H,Qe.scrollLeft),Math.abs(H.doc.scrollLeft-dt)>1&&(Pe=!0)),!Pe)break}return be}(m,Ot(v,c.scrollToPos.from),Ot(v,c.scrollToPos.to),c.scrollToPos.margin);(function(H,se){if(!lt(H,"scrollCursorIntoView")){var le=H.display,we=le.sizer.getBoundingClientRect(),be=null,Fe=le.wrapper.ownerDocument;if(se.top+we.top<0?be=!0:se.bottom+we.top>(Fe.defaultView.innerHeight||Fe.documentElement.clientHeight)&&(be=!1),be!=null&&!C){var Pe=J("div","​",null,`position: absolute;
                         top: `+(se.top-le.viewOffset-fi(H.display))+`px;
                         height: `+(se.bottom-se.top+Ui(H)+le.barHeight)+`px;
                         left: `+se.left+"px; width: "+Math.max(2,se.right-se.left)+"px;");H.display.lineSpace.appendChild(Pe),Pe.scrollIntoView(be),H.display.lineSpace.removeChild(Pe)}}})(m,E)}var D=c.maybeHiddenMarkers,P=c.maybeUnhiddenMarkers;if(D)for(var N=0;N<D.length;++N)D[N].lines.length||ot(D[N],"hide");if(P)for(var q=0;q<P.length;++q)P[q].lines.length&&ot(P[q],"unhide");_.wrapper.offsetHeight&&(v.scrollTop=m.display.scroller.scrollTop),c.changeObjs&&ot(m,"changes",m,c.changeObjs),c.update&&c.update.finish()}function zs(c,m){if(c.curOp)return m();ll(c);try{return m()}finally{ul(c)}}function Rn(c,m){return function(){if(c.curOp)return m.apply(c,arguments);ll(c);try{return m.apply(c,arguments)}finally{ul(c)}}}function ws(c){return function(){if(this.curOp)return c.apply(this,arguments);ll(this);try{return c.apply(this,arguments)}finally{ul(this)}}}function In(c){return function(){var m=this.cm;if(!m||m.curOp)return c.apply(this,arguments);ll(m);try{return c.apply(this,arguments)}finally{ul(m)}}}function Ru(c,m){c.doc.highlightFrontier<c.display.viewTo&&c.state.highlight.set(m,tt(Dy,c))}function Dy(c){var m=c.doc;if(!(m.highlightFrontier>=c.display.viewTo)){var _=+new Date+c.options.workTime,v=ps(c,m.highlightFrontier),E=[];m.iter(v.line,Math.min(m.first+m.size,c.display.viewTo+500),function(D){if(v.line>=c.display.viewFrom){var P=D.styles,N=D.text.length>c.options.maxHighlightLength?bt(m.mode,v.state):null,q=kn(c,D,v,!0);N&&(v.state=N),D.styles=q.styles;var H=D.styleClasses,se=q.classes;se?D.styleClasses=se:H&&(D.styleClasses=null);for(var le=!P||P.length!=D.styles.length||H!=se&&(!H||!se||H.bgClass!=se.bgClass||H.textClass!=se.textClass),we=0;!le&&we<P.length;++we)le=P[we]!=D.styles[we];le&&E.push(v.line),D.stateAfter=v.save(),v.nextLine()}else D.text.length<=c.options.maxHighlightLength&&ms(c,D.text,v),D.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>_)return Ru(c,c.options.workDelay),!0}),m.highlightFrontier=v.line,m.modeFrontier=Math.max(m.modeFrontier,v.line),E.length&&zs(c,function(){for(var D=0;D<E.length;D++)Aa(c,E[D],"text")})}}var Zc=function(c,m,_){var v=c.display;this.viewport=m,this.visible=Wc(v,c.doc,m),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Ji(c),this.force=_,this.dims=Sh(c),this.events=[]};function Ly(c){if(c.hasFocus())return null;var m=ee(ze(c));if(!m||!pe(c.display.lineDiv,m))return null;var _={activeElt:m};if(window.getSelection){var v=it(c).getSelection();v.anchorNode&&v.extend&&pe(c.display.lineDiv,v.anchorNode)&&(_.anchorNode=v.anchorNode,_.anchorOffset=v.anchorOffset,_.focusNode=v.focusNode,_.focusOffset=v.focusOffset)}return _}function Rh(c,m){var _=c.display,v=c.doc;if(m.editorIsHidden)return Ta(c),!1;if(!m.force&&m.visible.from>=_.viewFrom&&m.visible.to<=_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>=_.viewTo)&&_.renderedView==_.view&&Yp(c)==0)return!1;sm(c)&&(Ta(c),m.dims=Sh(c));var E=v.first+v.size,D=Math.max(m.visible.from-c.options.viewportMargin,v.first),P=Math.min(E,m.visible.to+c.options.viewportMargin);_.viewFrom<D&&D-_.viewFrom<20&&(D=Math.max(v.first,_.viewFrom)),_.viewTo>P&&_.viewTo-P<20&&(P=Math.min(E,_.viewTo)),Vn&&(D=_s(c.doc,D),P=po(c.doc,P));var N=D!=_.viewFrom||P!=_.viewTo||_.lastWrapHeight!=m.wrapperHeight||_.lastWrapWidth!=m.wrapperWidth;(function(se,le,we){var be=se.display;be.view.length==0||le>=be.viewTo||we<=be.viewFrom?(be.view=tn(se,le,we),be.viewFrom=le):(be.viewFrom>le?be.view=tn(se,le,be.viewFrom).concat(be.view):be.viewFrom<le&&(be.view=be.view.slice(sl(se,le))),be.viewFrom=le,be.viewTo<we?be.view=be.view.concat(tn(se,be.viewTo,we)):be.viewTo>we&&(be.view=be.view.slice(0,sl(se,we)))),be.viewTo=we})(c,D,P),_.viewOffset=X(Je(c.doc,_.viewFrom)),c.display.mover.style.top=_.viewOffset+"px";var q=Yp(c);if(!N&&q==0&&!m.force&&_.renderedView==_.view&&(_.updateLineNumbers==null||_.updateLineNumbers>=_.viewTo))return!1;var H=Ly(c);return q>4&&(_.lineDiv.style.display="none"),function(se,le,we){var be=se.display,Fe=se.options.lineNumbers,Pe=be.lineDiv,Re=Pe.firstChild;function Ue(St){var wr=St.nextSibling;return p&&A&&se.display.currentWheelTarget==St?St.style.display="none":St.parentNode.removeChild(St),wr}for(var Qe=be.view,Ze=be.viewFrom,dt=0;dt<Qe.length;dt++){var ut=Qe[dt];if(!ut.hidden)if(ut.node&&ut.node.parentNode==Pe){for(;Re!=ut.node;)Re=Ue(Re);var ft=Fe&&le!=null&&le<=Ze&&ut.lineNumber;ut.changes&&(vt(ut.changes,"gutter")>-1&&(ft=!1),Ca(se,ut,Ze,we)),ft&&(G(ut.lineNumber),ut.lineNumber.appendChild(document.createTextNode(Bt(se.options,Ze)))),Re=ut.node.nextSibling}else{var Qt=qe(se,ut,Ze,we);Pe.insertBefore(Qt,Re)}Ze+=ut.size}for(;Re;)Re=Ue(Re)}(c,_.updateLineNumbers,m.dims),q>4&&(_.lineDiv.style.display=""),_.renderedView=_.view,function(se){if(se&&se.activeElt&&se.activeElt!=ee(se.activeElt.ownerDocument)&&(se.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(se.activeElt.nodeName)&&se.anchorNode&&pe(document.body,se.anchorNode)&&pe(document.body,se.focusNode))){var le=se.activeElt.ownerDocument,we=le.defaultView.getSelection(),be=le.createRange();be.setEnd(se.anchorNode,se.anchorOffset),be.collapse(!1),we.removeAllRanges(),we.addRange(be),we.extend(se.focusNode,se.focusOffset)}}(H),G(_.cursorDiv),G(_.selectionDiv),_.gutters.style.height=_.sizer.style.minHeight=0,N&&(_.lastWrapHeight=m.wrapperHeight,_.lastWrapWidth=m.wrapperWidth,Ru(c,400)),_.updateLineNumbers=null,!0}function im(c,m){for(var _=m.viewport,v=!0;;v=!1){if(v&&c.options.lineWrapping&&m.oldDisplayWidth!=Ji(c))v&&(m.visible=Wc(c.display,c.doc,_));else if(_&&_.top!=null&&(_={top:Math.min(c.doc.height+mn(c.display)-ke(c),_.top)}),m.visible=Wc(c.display,c.doc,_),m.visible.from>=c.display.viewFrom&&m.visible.to<=c.display.viewTo)break;if(!Rh(c,m))break;Gc(c);var E=Ou(c);Tu(c),jl(c,E),Ph(c,E),m.force=!1}m.signal(c,"update",c),c.display.viewFrom==c.display.reportedViewFrom&&c.display.viewTo==c.display.reportedViewTo||(m.signal(c,"viewportChange",c,c.display.viewFrom,c.display.viewTo),c.display.reportedViewFrom=c.display.viewFrom,c.display.reportedViewTo=c.display.viewTo)}function Ih(c,m){var _=new Zc(c,m);if(Rh(c,_)){Gc(c),im(c,_);var v=Ou(c);Tu(c),jl(c,v),Ph(c,v),_.finish()}}function Fh(c){var m=c.gutters.offsetWidth;c.sizer.style.marginLeft=m+"px",bi(c,"gutterChanged",c)}function Ph(c,m){c.display.sizer.style.minHeight=m.docHeight+"px",c.display.heightForcer.style.top=m.docHeight+"px",c.display.gutters.style.height=m.docHeight+c.display.barHeight+Ui(c)+"px"}function nm(c){var m=c.display,_=m.view;if(m.alignWidgets||m.gutters.firstChild&&c.options.fixedGutter){for(var v=Ch(m)-m.scroller.scrollLeft+c.doc.scrollLeft,E=m.gutters.offsetWidth,D=v+"px",P=0;P<_.length;P++)if(!_[P].hidden){c.options.fixedGutter&&(_[P].gutter&&(_[P].gutter.style.left=D),_[P].gutterBackground&&(_[P].gutterBackground.style.left=D));var N=_[P].alignable;if(N)for(var q=0;q<N.length;q++)N[q].style.left=D}c.options.fixedGutter&&(m.gutters.style.left=v+E+"px")}}function sm(c){if(!c.options.lineNumbers)return!1;var m=c.doc,_=Bt(c.options,m.first+m.size-1),v=c.display;if(_.length!=v.lineNumChars){var E=v.measure.appendChild(J("div",[J("div",_)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=E.firstChild.offsetWidth,P=E.offsetWidth-D;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(D,v.lineGutter.offsetWidth-P)+1,v.lineNumWidth=v.lineNumInnerWidth+P,v.lineNumChars=v.lineNumInnerWidth?_.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Fh(c.display),!0}return!1}function Nh(c,m){for(var _=[],v=!1,E=0;E<c.length;E++){var D=c[E],P=null;if(typeof D!="string"&&(P=D.style,D=D.className),D=="CodeMirror-linenumbers"){if(!m)continue;v=!0}_.push({className:D,style:P})}return m&&!v&&_.push({className:"CodeMirror-linenumbers",style:null}),_}function om(c){var m=c.gutters,_=c.gutterSpecs;G(m),c.lineGutter=null;for(var v=0;v<_.length;++v){var E=_[v],D=E.className,P=E.style,N=m.appendChild(J("div",null,"CodeMirror-gutter "+D));P&&(N.style.cssText=P),D=="CodeMirror-linenumbers"&&(c.lineGutter=N,N.style.width=(c.lineNumWidth||1)+"px")}m.style.display=_.length?"":"none",Fh(c)}function Iu(c){om(c.display),Ds(c),nm(c)}function Oy(c,m,_,v){var E=this;this.input=_,E.scrollbarFiller=J("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=J("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=re("div",null,"CodeMirror-code"),E.selectionDiv=J("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=J("div",null,"CodeMirror-cursors"),E.measure=J("div",null,"CodeMirror-measure"),E.lineMeasure=J("div",null,"CodeMirror-measure"),E.lineSpace=re("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var D=re("div",[E.lineSpace],"CodeMirror-lines");E.mover=J("div",[D],null,"position: relative"),E.sizer=J("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=J("div",null,null,"position: absolute; height: 50px; width: 1px;"),E.gutters=J("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=J("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=J("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),y&&b>=105&&(E.wrapper.style.clipPath="inset(0px)"),E.wrapper.setAttribute("translate","no"),d&&f<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),p||a&&M||(E.scroller.draggable=!0),c&&(c.appendChild?c.appendChild(E.wrapper):c(E.wrapper)),E.viewFrom=E.viewTo=m.first,E.reportedViewFrom=E.reportedViewTo=m.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=Nh(v.gutters,v.lineNumbers),om(E),_.init(E)}Zc.prototype.signal=function(c,m){mt(c,m)&&this.events.push(arguments)},Zc.prototype.finish=function(){for(var c=0;c<this.events.length;c++)ot.apply(null,this.events[c])};var Xc=0,ua=null;function am(c){var m=c.wheelDeltaX,_=c.wheelDeltaY;return m==null&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(m=c.detail),_==null&&c.detail&&c.axis==c.VERTICAL_AXIS?_=c.detail:_==null&&(_=c.wheelDelta),{x:m,y:_}}function My(c){var m=am(c);return m.x*=ua,m.y*=ua,m}function lm(c,m){y&&b==102&&(c.display.chromeScrollHack==null?c.display.sizer.style.pointerEvents="none":clearTimeout(c.display.chromeScrollHack),c.display.chromeScrollHack=setTimeout(function(){c.display.chromeScrollHack=null,c.display.sizer.style.pointerEvents=""},100));var _=am(m),v=_.x,E=_.y,D=ua;m.deltaMode===0&&(v=m.deltaX,E=m.deltaY,D=1);var P=c.display,N=P.scroller,q=N.scrollWidth>N.clientWidth,H=N.scrollHeight>N.clientHeight;if(v&&q||E&&H){if(E&&A&&p){e:for(var se=m.target,le=P.view;se!=N;se=se.parentNode)for(var we=0;we<le.length;we++)if(le[we].node==se){c.display.currentWheelTarget=se;break e}}if(v&&!a&&!x&&D!=null)return E&&H&&Lu(c,Math.max(0,N.scrollTop+E*D)),ol(c,Math.max(0,N.scrollLeft+v*D)),(!E||E&&H)&&Ht(m),void(P.wheelStartX=null);if(E&&D!=null){var be=E*D,Fe=c.doc.scrollTop,Pe=Fe+P.wrapper.clientHeight;be<0?Fe=Math.max(0,Fe+be-50):Pe=Math.min(c.doc.height,Pe+be+50),Ih(c,{top:Fe,bottom:Pe})}Xc<20&&m.deltaMode!==0&&(P.wheelStartX==null?(P.wheelStartX=N.scrollLeft,P.wheelStartY=N.scrollTop,P.wheelDX=v,P.wheelDY=E,setTimeout(function(){if(P.wheelStartX!=null){var Re=N.scrollLeft-P.wheelStartX,Ue=N.scrollTop-P.wheelStartY,Qe=Ue&&P.wheelDY&&Ue/P.wheelDY||Re&&P.wheelDX&&Re/P.wheelDX;P.wheelStartX=P.wheelStartY=null,Qe&&(ua=(ua*Xc+Qe)/(Xc+1),++Xc)}},200)):(P.wheelDX+=v,P.wheelDY+=E))}}d?ua=-.53:a?ua=15:y?ua=-.7:w&&(ua=-1/3);var Qs=function(c,m){this.ranges=c,this.primIndex=m};Qs.prototype.primary=function(){return this.ranges[this.primIndex]},Qs.prototype.equals=function(c){if(c==this)return!0;if(c.primIndex!=this.primIndex||c.ranges.length!=this.ranges.length)return!1;for(var m=0;m<this.ranges.length;m++){var _=this.ranges[m],v=c.ranges[m];if(!Dr(_.anchor,v.anchor)||!Dr(_.head,v.head))return!1}return!0},Qs.prototype.deepCopy=function(){for(var c=[],m=0;m<this.ranges.length;m++)c[m]=new pi(li(this.ranges[m].anchor),li(this.ranges[m].head));return new Qs(c,this.primIndex)},Qs.prototype.somethingSelected=function(){for(var c=0;c<this.ranges.length;c++)if(!this.ranges[c].empty())return!0;return!1},Qs.prototype.contains=function(c,m){m||(m=c);for(var _=0;_<this.ranges.length;_++){var v=this.ranges[_];if(ht(m,v.from())>=0&&ht(c,v.to())<=0)return _}return-1};var pi=function(c,m){this.anchor=c,this.head=m};function ko(c,m,_){var v=c&&c.options.selectionsMayTouch,E=m[_];m.sort(function(we,be){return ht(we.from(),be.from())}),_=vt(m,E);for(var D=1;D<m.length;D++){var P=m[D],N=m[D-1],q=ht(N.to(),P.from());if(v&&!P.empty()?q>0:q>=0){var H=ui(N.from(),P.from()),se=ni(N.to(),P.to()),le=N.empty()?P.from()==P.head:N.from()==N.head;D<=_&&--_,m.splice(--D,2,new pi(le?se:H,le?H:se))}}return new Qs(m,_)}function Da(c,m){return new Qs([new pi(c,m||c)],0)}function La(c){return c.text?He(c.from.line+c.text.length-1,ue(c.text).length+(c.text.length==1?c.from.ch:0)):c.to}function um(c,m){if(ht(c,m.from)<0)return c;if(ht(c,m.to)<=0)return La(m);var _=c.line+m.text.length-(m.to.line-m.from.line)-1,v=c.ch;return c.line==m.to.line&&(v+=La(m).ch-m.to.ch),He(_,v)}function $h(c,m){for(var _=[],v=0;v<c.sel.ranges.length;v++){var E=c.sel.ranges[v];_.push(new pi(um(E.anchor,m),um(E.head,m)))}return ko(c.cm,_,c.sel.primIndex)}function cm(c,m,_){return c.line==m.line?He(_.line,c.ch-m.ch+_.ch):He(_.line+(c.line-m.line),c.ch)}function Bh(c){c.doc.mode=Te(c.options,c.doc.modeOption),Fu(c)}function Fu(c){c.doc.iter(function(m){m.stateAfter&&(m.stateAfter=null),m.styles&&(m.styles=null)}),c.doc.modeFrontier=c.doc.highlightFrontier=c.doc.first,Ru(c,100),c.state.modeGen++,c.curOp&&Ds(c)}function dm(c,m){return m.from.ch==0&&m.to.ch==0&&ue(m.text)==""&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function jh(c,m,_,v){function E(Qe){return _?_[Qe]:null}function D(Qe,Ze,dt){(function(ut,ft,Qt,St){ut.text=ft,ut.stateAfter&&(ut.stateAfter=null),ut.styles&&(ut.styles=null),ut.order!=null&&(ut.order=null),fo(ut),js(ut,Qt);var wr=St?St(ut):1;wr!=ut.height&&Lt(ut,wr)})(Qe,Ze,dt,v),bi(Qe,"change",Qe,m)}function P(Qe,Ze){for(var dt=[],ut=Qe;ut<Ze;++ut)dt.push(new Pt(H[ut],E(ut),v));return dt}var N=m.from,q=m.to,H=m.text,se=Je(c,N.line),le=Je(c,q.line),we=ue(H),be=E(H.length-1),Fe=q.line-N.line;if(m.full)c.insert(0,P(0,H.length)),c.remove(H.length,c.size-H.length);else if(dm(c,m)){var Pe=P(0,H.length-1);D(le,le.text,be),Fe&&c.remove(N.line,Fe),Pe.length&&c.insert(N.line,Pe)}else if(se==le)if(H.length==1)D(se,se.text.slice(0,N.ch)+we+se.text.slice(q.ch),be);else{var Re=P(1,H.length-1);Re.push(new Pt(we+se.text.slice(q.ch),be,v)),D(se,se.text.slice(0,N.ch)+H[0],E(0)),c.insert(N.line+1,Re)}else if(H.length==1)D(se,se.text.slice(0,N.ch)+H[0]+le.text.slice(q.ch),E(0)),c.remove(N.line+1,Fe);else{D(se,se.text.slice(0,N.ch)+H[0],E(0)),D(le,we+le.text.slice(q.ch),be);var Ue=P(1,H.length-1);Fe>1&&c.remove(N.line+1,Fe-1),c.insert(N.line+1,Ue)}bi(c,"change",c,m)}function Oa(c,m,_){(function v(E,D,P){if(E.linked)for(var N=0;N<E.linked.length;++N){var q=E.linked[N];if(q.doc!=D){var H=P&&q.sharedHist;_&&!H||(m(q.doc,H),v(q.doc,E,H))}}})(c,null,!0)}function hm(c,m){if(m.cm)throw new Error("This document is already in use.");c.doc=m,m.cm=c,kh(c),Bh(c),fm(c),c.options.direction=m.direction,c.options.lineWrapping||Ke(c),c.options.mode=m.modeOption,Ds(c)}function fm(c){(c.doc.direction=="rtl"?B:Y)(c.display.lineDiv,"CodeMirror-rtl")}function Kc(c){this.done=[],this.undone=[],this.undoDepth=c?c.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=c?c.maxGeneration:1}function zh(c,m){var _={from:li(m.from),to:La(m),text:Kt(c,m.from,m.to)};return gm(c,_,m.from.line,m.to.line+1),Oa(c,function(v){return gm(v,_,m.from.line,m.to.line+1)},!0),_}function pm(c){for(;c.length&&ue(c).ranges;)c.pop()}function mm(c,m,_,v){var E=c.history;E.undone.length=0;var D,P,N=+new Date;if((E.lastOp==v||E.lastOrigin==m.origin&&m.origin&&(m.origin.charAt(0)=="+"&&E.lastModTime>N-(c.cm?c.cm.options.historyEventDelay:500)||m.origin.charAt(0)=="*"))&&(D=function(H,se){return se?(pm(H.done),ue(H.done)):H.done.length&&!ue(H.done).ranges?ue(H.done):H.done.length>1&&!H.done[H.done.length-2].ranges?(H.done.pop(),ue(H.done)):void 0}(E,E.lastOp==v)))P=ue(D.changes),ht(m.from,m.to)==0&&ht(m.from,P.to)==0?P.to=La(m):D.changes.push(zh(c,m));else{var q=ue(E.done);for(q&&q.ranges||Jc(c.sel,E.done),D={changes:[zh(c,m)],generation:E.generation},E.done.push(D);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(_),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=N,E.lastOp=E.lastSelOp=v,E.lastOrigin=E.lastSelOrigin=m.origin,P||ot(c,"historyAdded")}function Ry(c,m,_,v){var E=c.history,D=v&&v.origin;_==E.lastSelOp||D&&E.lastSelOrigin==D&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==D||function(P,N,q,H){var se=N.charAt(0);return se=="*"||se=="+"&&q.ranges.length==H.ranges.length&&q.somethingSelected()==H.somethingSelected()&&new Date-P.history.lastSelTime<=(P.cm?P.cm.options.historyEventDelay:500)}(c,D,ue(E.done),m))?E.done[E.done.length-1]=m:Jc(m,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=D,E.lastSelOp=_,v&&v.clearRedo!==!1&&pm(E.undone)}function Jc(c,m){var _=ue(m);_&&_.ranges&&_.equals(c)||m.push(c)}function gm(c,m,_,v){var E=m["spans_"+c.id],D=0;c.iter(Math.max(c.first,_),Math.min(c.first+c.size,v),function(P){P.markedSpans&&((E||(E=m["spans_"+c.id]={}))[D]=P.markedSpans),++D})}function Iy(c){if(!c)return null;for(var m,_=0;_<c.length;++_)c[_].marker.explicitlyCleared?m||(m=c.slice(0,_)):m&&m.push(c[_]);return m?m.length?m:null:c}function ym(c,m){var _=function(se,le){var we=le["spans_"+se.id];if(!we)return null;for(var be=[],Fe=0;Fe<le.text.length;++Fe)be.push(Iy(we[Fe]));return be}(c,m),v=ho(c,m);if(!_)return v;if(!v)return _;for(var E=0;E<_.length;++E){var D=_[E],P=v[E];if(D&&P)e:for(var N=0;N<P.length;++N){for(var q=P[N],H=0;H<D.length;++H)if(D[H].marker==q.marker)continue e;D.push(q)}else P&&(_[E]=P)}return _}function zl(c,m,_){for(var v=[],E=0;E<c.length;++E){var D=c[E];if(D.ranges)v.push(_?Qs.prototype.deepCopy.call(D):D);else{var P=D.changes,N=[];v.push({changes:N});for(var q=0;q<P.length;++q){var H=P[q],se=void 0;if(N.push({from:H.from,to:H.to,text:H.text}),m)for(var le in H)(se=le.match(/^spans_(\d+)$/))&&vt(m,Number(se[1]))>-1&&(ue(N)[le]=H[le],delete H[le])}}}return v}function Uh(c,m,_,v){if(v){var E=c.anchor;if(_){var D=ht(m,E)<0;D!=ht(_,E)<0?(E=m,m=_):D!=ht(m,_)<0&&(m=_)}return new pi(E,m)}return new pi(_||m,m)}function Qc(c,m,_,v,E){E==null&&(E=c.cm&&(c.cm.display.shift||c.extend)),ns(c,new Qs([Uh(c.sel.primary(),m,_,E)],0),v)}function bm(c,m,_){for(var v=[],E=c.cm&&(c.cm.display.shift||c.extend),D=0;D<c.sel.ranges.length;D++)v[D]=Uh(c.sel.ranges[D],m[D],null,E);ns(c,ko(c.cm,v,c.sel.primIndex),_)}function qh(c,m,_,v){var E=c.sel.ranges.slice(0);E[m]=_,ns(c,ko(c.cm,E,c.sel.primIndex),v)}function vm(c,m,_,v){ns(c,Da(m,_),v)}function xm(c,m,_){var v=c.history.done,E=ue(v);E&&E.ranges?(v[v.length-1]=m,ed(c,m,_)):ns(c,m,_)}function ns(c,m,_){ed(c,m,_),Ry(c,c.sel,c.cm?c.cm.curOp.id:NaN,_)}function ed(c,m,_){(mt(c,"beforeSelectionChange")||c.cm&&mt(c.cm,"beforeSelectionChange"))&&(m=function(E,D,P){var N={ranges:D.ranges,update:function(q){this.ranges=[];for(var H=0;H<q.length;H++)this.ranges[H]=new pi(Ot(E,q[H].anchor),Ot(E,q[H].head))},origin:P&&P.origin};return ot(E,"beforeSelectionChange",E,N),E.cm&&ot(E.cm,"beforeSelectionChange",E.cm,N),N.ranges!=D.ranges?ko(E.cm,N.ranges,N.ranges.length-1):D}(c,m,_));var v=_&&_.bias||(ht(m.primary().head,c.sel.primary().head)<0?-1:1);_m(c,Em(c,m,v,!0)),_&&_.scroll===!1||!c.cm||c.cm.getOption("readOnly")=="nocursor"||Bl(c.cm)}function _m(c,m){m.equals(c.sel)||(c.sel=m,c.cm&&(c.cm.curOp.updateInput=1,c.cm.curOp.selectionChanged=!0,$t(c.cm)),bi(c,"cursorActivity",c))}function wm(c){_m(c,Em(c,c.sel,null,!1))}function Em(c,m,_,v){for(var E,D=0;D<m.ranges.length;D++){var P=m.ranges[D],N=m.ranges.length==c.sel.ranges.length&&c.sel.ranges[D],q=td(c,P.anchor,N&&N.anchor,_,v),H=P.head==P.anchor?q:td(c,P.head,N&&N.head,_,v);(E||q!=P.anchor||H!=P.head)&&(E||(E=m.ranges.slice(0,D)),E[D]=new pi(q,H))}return E?ko(c.cm,E,m.primIndex):m}function Ul(c,m,_,v,E){var D=Je(c,m.line);if(D.markedSpans)for(var P=0;P<D.markedSpans.length;++P){var N=D.markedSpans[P],q=N.marker,H="selectLeft"in q?!q.selectLeft:q.inclusiveLeft,se="selectRight"in q?!q.selectRight:q.inclusiveRight;if((N.from==null||(H?N.from<=m.ch:N.from<m.ch))&&(N.to==null||(se?N.to>=m.ch:N.to>m.ch))){if(E&&(ot(q,"beforeCursorEnter"),q.explicitlyCleared)){if(D.markedSpans){--P;continue}break}if(!q.atomic)continue;if(_){var le=q.find(v<0?1:-1),we=void 0;if((v<0?se:H)&&(le=Sm(c,le,-v,le&&le.line==m.line?D:null)),le&&le.line==m.line&&(we=ht(le,_))&&(v<0?we<0:we>0))return Ul(c,le,m,v,E)}var be=q.find(v<0?-1:1);return(v<0?H:se)&&(be=Sm(c,be,v,be.line==m.line?D:null)),be?Ul(c,be,m,v,E):null}}return m}function td(c,m,_,v,E){var D=v||1,P=Ul(c,m,_,D,E)||!E&&Ul(c,m,_,D,!0)||Ul(c,m,_,-D,E)||!E&&Ul(c,m,_,-D,!0);return P||(c.cantEdit=!0,He(c.first,0))}function Sm(c,m,_,v){return _<0&&m.ch==0?m.line>c.first?Ot(c,He(m.line-1)):null:_>0&&m.ch==(v||Je(c,m.line)).text.length?m.line<c.first+c.size-1?He(m.line+1,0):null:new He(m.line,m.ch+_)}function Cm(c){c.setSelection(He(c.firstLine(),0),He(c.lastLine()),Rt)}function km(c,m,_){var v={canceled:!1,from:m.from,to:m.to,text:m.text,origin:m.origin,cancel:function(){return v.canceled=!0}};return _&&(v.update=function(E,D,P,N){E&&(v.from=Ot(c,E)),D&&(v.to=Ot(c,D)),P&&(v.text=P),N!==void 0&&(v.origin=N)}),ot(c,"beforeChange",c,v),c.cm&&ot(c.cm,"beforeChange",c.cm,v),v.canceled?(c.cm&&(c.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function ql(c,m,_){if(c.cm){if(!c.cm.curOp)return Rn(c.cm,ql)(c,m,_);if(c.cm.state.suppressEdits)return}if(!(mt(c,"beforeChange")||c.cm&&mt(c.cm,"beforeChange"))||(m=km(c,m,!0))){var v=es&&!_&&function(D,P,N){var q=null;if(D.iter(P.line,N.line+1,function(Qe){if(Qe.markedSpans)for(var Ze=0;Ze<Qe.markedSpans.length;++Ze){var dt=Qe.markedSpans[Ze].marker;!dt.readOnly||q&&vt(q,dt)!=-1||(q||(q=[])).push(dt)}}),!q)return null;for(var H=[{from:P,to:N}],se=0;se<q.length;++se)for(var le=q[se],we=le.find(0),be=0;be<H.length;++be){var Fe=H[be];if(!(ht(Fe.to,we.from)<0||ht(Fe.from,we.to)>0)){var Pe=[be,1],Re=ht(Fe.from,we.from),Ue=ht(Fe.to,we.to);(Re<0||!le.inclusiveLeft&&!Re)&&Pe.push({from:Fe.from,to:we.from}),(Ue>0||!le.inclusiveRight&&!Ue)&&Pe.push({from:we.to,to:Fe.to}),H.splice.apply(H,Pe),be+=Pe.length-3}}return H}(c,m.from,m.to);if(v)for(var E=v.length-1;E>=0;--E)Am(c,{from:v[E].from,to:v[E].to,text:E?[""]:m.text,origin:m.origin});else Am(c,m)}}function Am(c,m){if(m.text.length!=1||m.text[0]!=""||ht(m.from,m.to)!=0){var _=$h(c,m);mm(c,m,_,c.cm?c.cm.curOp.id:NaN),Pu(c,m,_,ho(c,m));var v=[];Oa(c,function(E,D){D||vt(v,E.history)!=-1||(Om(E.history,m),v.push(E.history)),Pu(E,m,null,ho(E,m))})}}function rd(c,m,_){var v=c.cm&&c.cm.state.suppressEdits;if(!v||_){for(var E,D=c.history,P=c.sel,N=m=="undo"?D.done:D.undone,q=m=="undo"?D.undone:D.done,H=0;H<N.length&&(E=N[H],_?!E.ranges||E.equals(c.sel):E.ranges);H++);if(H!=N.length){for(D.lastOrigin=D.lastSelOrigin=null;;){if(!(E=N.pop()).ranges){if(v)return void N.push(E);break}if(Jc(E,q),_&&!E.equals(c.sel))return void ns(c,E,{clearRedo:!1});P=E}var se=[];Jc(P,q),q.push({changes:se,generation:D.generation}),D.generation=E.generation||++D.maxGeneration;for(var le=mt(c,"beforeChange")||c.cm&&mt(c.cm,"beforeChange"),we=function(Pe){var Re=E.changes[Pe];if(Re.origin=m,le&&!km(c,Re,!1))return N.length=0,{};se.push(zh(c,Re));var Ue=Pe?$h(c,Re):ue(N);Pu(c,Re,Ue,ym(c,Re)),!Pe&&c.cm&&c.cm.scrollIntoView({from:Re.from,to:La(Re)});var Qe=[];Oa(c,function(Ze,dt){dt||vt(Qe,Ze.history)!=-1||(Om(Ze.history,Re),Qe.push(Ze.history)),Pu(Ze,Re,null,ym(Ze,Re))})},be=E.changes.length-1;be>=0;--be){var Fe=we(be);if(Fe)return Fe.v}}}}function Tm(c,m){if(m!=0&&(c.first+=m,c.sel=new Qs(ae(c.sel.ranges,function(E){return new pi(He(E.anchor.line+m,E.anchor.ch),He(E.head.line+m,E.head.ch))}),c.sel.primIndex),c.cm)){Ds(c.cm,c.first,c.first-m,m);for(var _=c.cm.display,v=_.viewFrom;v<_.viewTo;v++)Aa(c.cm,v,"gutter")}}function Pu(c,m,_,v){if(c.cm&&!c.cm.curOp)return Rn(c.cm,Pu)(c,m,_,v);if(m.to.line<c.first)Tm(c,m.text.length-1-(m.to.line-m.from.line));else if(!(m.from.line>c.lastLine())){if(m.from.line<c.first){var E=m.text.length-1-(c.first-m.from.line);Tm(c,E),m={from:He(c.first,0),to:He(m.to.line+E,m.to.ch),text:[ue(m.text)],origin:m.origin}}var D=c.lastLine();m.to.line>D&&(m={from:m.from,to:He(D,Je(c,D).text.length),text:[m.text[0]],origin:m.origin}),m.removed=Kt(c,m.from,m.to),_||(_=$h(c,m)),c.cm?function(P,N,q){var H=P.doc,se=P.display,le=N.from,we=N.to,be=!1,Fe=le.line;P.options.lineWrapping||(Fe=Ct(ln(Je(H,le.line))),H.iter(Fe,we.line+1,function(Ze){if(Ze==se.maxLine)return be=!0,!0})),H.sel.contains(N.from,N.to)>-1&&$t(P),jh(H,N,q,Wp(P)),P.options.lineWrapping||(H.iter(Fe,le.line+N.text.length,function(Ze){var dt=Oe(Ze);dt>se.maxLineLength&&(se.maxLine=Ze,se.maxLineLength=dt,se.maxLineChanged=!0,be=!1)}),be&&(P.curOp.updateMaxLine=!0)),function(Ze,dt){if(Ze.modeFrontier=Math.min(Ze.modeFrontier,dt),!(Ze.highlightFrontier<dt-10)){for(var ut=Ze.first,ft=dt-1;ft>ut;ft--){var Qt=Je(Ze,ft).stateAfter;if(Qt&&(!(Qt instanceof fn)||ft+Qt.lookAhead<dt)){ut=ft+1;break}}Ze.highlightFrontier=Math.min(Ze.highlightFrontier,ut)}}(H,le.line),Ru(P,400);var Pe=N.text.length-(we.line-le.line)-1;N.full?Ds(P):le.line!=we.line||N.text.length!=1||dm(P.doc,N)?Ds(P,le.line,we.line+1,Pe):Aa(P,le.line,"text");var Re=mt(P,"changes"),Ue=mt(P,"change");if(Ue||Re){var Qe={from:le,to:we,text:N.text,removed:N.removed,origin:N.origin};Ue&&bi(P,"change",P,Qe),Re&&(P.curOp.changeObjs||(P.curOp.changeObjs=[])).push(Qe)}P.display.selForContextMenu=null}(c.cm,m,v):jh(c,m,v),ed(c,_,Rt),c.cantEdit&&td(c,He(c.firstLine(),0))&&(c.cantEdit=!1)}}function Hl(c,m,_,v,E){var D;v||(v=_),ht(v,_)<0&&(_=(D=[v,_])[0],v=D[1]),typeof m=="string"&&(m=c.splitLines(m)),ql(c,{from:_,to:v,text:m,origin:E})}function Dm(c,m,_,v){_<c.line?c.line+=v:m<c.line&&(c.line=m,c.ch=0)}function Lm(c,m,_,v){for(var E=0;E<c.length;++E){var D=c[E],P=!0;if(D.ranges){D.copied||((D=c[E]=D.deepCopy()).copied=!0);for(var N=0;N<D.ranges.length;N++)Dm(D.ranges[N].anchor,m,_,v),Dm(D.ranges[N].head,m,_,v)}else{for(var q=0;q<D.changes.length;++q){var H=D.changes[q];if(_<H.from.line)H.from=He(H.from.line+v,H.from.ch),H.to=He(H.to.line+v,H.to.ch);else if(m<=H.to.line){P=!1;break}}P||(c.splice(0,E+1),E=0)}}}function Om(c,m){var _=m.from.line,v=m.to.line,E=m.text.length-(v-_)-1;Lm(c.done,_,v,E),Lm(c.undone,_,v,E)}function Nu(c,m,_,v){var E=m,D=m;return typeof m=="number"?D=Je(c,qr(c,m)):E=Ct(m),E==null?null:(v(D,E)&&c.cm&&Aa(c.cm,E,_),D)}function $u(c){this.lines=c,this.parent=null;for(var m=0,_=0;_<c.length;++_)c[_].parent=this,m+=c[_].height;this.height=m}function Bu(c){this.children=c;for(var m=0,_=0,v=0;v<c.length;++v){var E=c[v];m+=E.chunkSize(),_+=E.height,E.parent=this}this.size=m,this.height=_,this.parent=null}pi.prototype.from=function(){return ui(this.anchor,this.head)},pi.prototype.to=function(){return ni(this.anchor,this.head)},pi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},$u.prototype={chunkSize:function(){return this.lines.length},removeInner:function(c,m){for(var _=c,v=c+m;_<v;++_){var E=this.lines[_];this.height-=E.height,kt(E),bi(E,"delete")}this.lines.splice(c,m)},collapse:function(c){c.push.apply(c,this.lines)},insertInner:function(c,m,_){this.height+=_,this.lines=this.lines.slice(0,c).concat(m).concat(this.lines.slice(c));for(var v=0;v<m.length;++v)m[v].parent=this},iterN:function(c,m,_){for(var v=c+m;c<v;++c)if(_(this.lines[c]))return!0}},Bu.prototype={chunkSize:function(){return this.size},removeInner:function(c,m){this.size-=m;for(var _=0;_<this.children.length;++_){var v=this.children[_],E=v.chunkSize();if(c<E){var D=Math.min(m,E-c),P=v.height;if(v.removeInner(c,D),this.height-=P-v.height,E==D&&(this.children.splice(_--,1),v.parent=null),(m-=D)==0)break;c=0}else c-=E}if(this.size-m<25&&(this.children.length>1||!(this.children[0]instanceof $u))){var N=[];this.collapse(N),this.children=[new $u(N)],this.children[0].parent=this}},collapse:function(c){for(var m=0;m<this.children.length;++m)this.children[m].collapse(c)},insertInner:function(c,m,_){this.size+=m.length,this.height+=_;for(var v=0;v<this.children.length;++v){var E=this.children[v],D=E.chunkSize();if(c<=D){if(E.insertInner(c,m,_),E.lines&&E.lines.length>50){for(var P=E.lines.length%25+25,N=P;N<E.lines.length;){var q=new $u(E.lines.slice(N,N+=25));E.height-=q.height,this.children.splice(++v,0,q),q.parent=this}E.lines=E.lines.slice(0,P),this.maybeSpill()}break}c-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var c=this;do{var m=new Bu(c.children.splice(c.children.length-5,5));if(c.parent){c.size-=m.size,c.height-=m.height;var _=vt(c.parent.children,c);c.parent.children.splice(_+1,0,m)}else{var v=new Bu(c.children);v.parent=c,c.children=[v,m],c=v}m.parent=c.parent}while(c.children.length>10);c.parent.maybeSpill()}},iterN:function(c,m,_){for(var v=0;v<this.children.length;++v){var E=this.children[v],D=E.chunkSize();if(c<D){var P=Math.min(m,D-c);if(E.iterN(c,P,_))return!0;if((m-=P)==0)break;c=0}else c-=D}}};var ju=function(c,m,_){if(_)for(var v in _)_.hasOwnProperty(v)&&(this[v]=_[v]);this.doc=c,this.node=m};function Mm(c,m,_){X(m)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&Mh(c,_)}ju.prototype.clear=function(){var c=this.doc.cm,m=this.line.widgets,_=this.line,v=Ct(_);if(v!=null&&m){for(var E=0;E<m.length;++E)m[E]==this&&m.splice(E--,1);m.length||(_.widgets=null);var D=ir(this);Lt(_,Math.max(0,_.height-D)),c&&(zs(c,function(){Mm(c,_,-D),Aa(c,v,"widget")}),bi(c,"lineWidgetCleared",c,this,v))}},ju.prototype.changed=function(){var c=this,m=this.height,_=this.doc.cm,v=this.line;this.height=null;var E=ir(this)-m;E&&(Zn(this.doc,v)||Lt(v,v.height+E),_&&zs(_,function(){_.curOp.forceUpdate=!0,Mm(_,v,E),bi(_,"lineWidgetChanged",_,c,Ct(v))}))},zt(ju);var Rm=0,Ma=function(c,m){this.lines=[],this.type=m,this.doc=c,this.id=++Rm};function Vl(c,m,_,v,E){if(v&&v.shared)return function(le,we,be,Fe,Pe){(Fe=Ne(Fe)).shared=!1;var Re=[Vl(le,we,be,Fe,Pe)],Ue=Re[0],Qe=Fe.widgetNode;return Oa(le,function(Ze){Qe&&(Fe.widgetNode=Qe.cloneNode(!0)),Re.push(Vl(Ze,Ot(Ze,we),Ot(Ze,be),Fe,Pe));for(var dt=0;dt<Ze.linked.length;++dt)if(Ze.linked[dt].isParent)return;Ue=ue(Re)}),new zu(Re,Ue)}(c,m,_,v,E);if(c.cm&&!c.cm.curOp)return Rn(c.cm,Vl)(c,m,_,v,E);var D=new Ma(c,E),P=ht(m,_);if(v&&Ne(v,D,!1),P>0||P==0&&D.clearWhenEmpty!==!1)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=re("span",[D.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(xs(c,m.line,m,_,D)||m.line!=_.line&&xs(c,_.line,m,_,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");Vn=!0}D.addToHistory&&mm(c,{from:m,to:_,origin:"markText"},c.sel,NaN);var N,q=m.line,H=c.cm;if(c.iter(q,_.line+1,function(le){H&&D.collapsed&&!H.options.lineWrapping&&ln(le)==H.display.maxLine&&(N=!0),D.collapsed&&q!=m.line&&Lt(le,0),function(we,be,Fe){var Pe=Fe&&window.WeakSet&&(Fe.markedSpans||(Fe.markedSpans=new WeakSet));Pe&&we.markedSpans&&Pe.has(we.markedSpans)?we.markedSpans.push(be):(we.markedSpans=we.markedSpans?we.markedSpans.concat([be]):[be],Pe&&Pe.add(we.markedSpans)),be.marker.attachLine(we)}(le,new Gn(D,q==m.line?m.ch:null,q==_.line?_.ch:null),c.cm&&c.cm.curOp),++q}),D.collapsed&&c.iter(m.line,_.line+1,function(le){Zn(c,le)&&Lt(le,0)}),D.clearOnEnter&&De(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(es=!0,(c.history.done.length||c.history.undone.length)&&c.clearHistory()),D.collapsed&&(D.id=++Rm,D.atomic=!0),H){if(N&&(H.curOp.updateMaxLine=!0),D.collapsed)Ds(H,m.line,_.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var se=m.line;se<=_.line;se++)Aa(H,se,"text");D.atomic&&wm(H.doc),bi(H,"markerAdded",H,D)}return D}Ma.prototype.clear=function(){if(!this.explicitlyCleared){var c=this.doc.cm,m=c&&!c.curOp;if(m&&ll(c),mt(this,"clear")){var _=this.find();_&&bi(this,"clear",_.from,_.to)}for(var v=null,E=null,D=0;D<this.lines.length;++D){var P=this.lines[D],N=Wn(P.markedSpans,this);c&&!this.collapsed?Aa(c,Ct(P),"text"):c&&(N.to!=null&&(E=Ct(P)),N.from!=null&&(v=Ct(P))),P.markedSpans=vs(P.markedSpans,N),N.from==null&&this.collapsed&&!Zn(this.doc,P)&&c&&Lt(P,Pl(c.display))}if(c&&this.collapsed&&!c.options.lineWrapping)for(var q=0;q<this.lines.length;++q){var H=ln(this.lines[q]),se=Oe(H);se>c.display.maxLineLength&&(c.display.maxLine=H,c.display.maxLineLength=se,c.display.maxLineChanged=!0)}v!=null&&c&&this.collapsed&&Ds(c,v,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,c&&wm(c.doc)),c&&bi(c,"markerCleared",c,this,v,E),m&&ul(c),this.parent&&this.parent.clear()}},Ma.prototype.find=function(c,m){var _,v;c==null&&this.type=="bookmark"&&(c=1);for(var E=0;E<this.lines.length;++E){var D=this.lines[E],P=Wn(D.markedSpans,this);if(P.from!=null&&(_=He(m?D:Ct(D),P.from),c==-1))return _;if(P.to!=null&&(v=He(m?D:Ct(D),P.to),c==1))return v}return _&&{from:_,to:v}},Ma.prototype.changed=function(){var c=this,m=this.find(-1,!0),_=this,v=this.doc.cm;m&&v&&zs(v,function(){var E=m.line,D=Ct(m.line),P=Cr(v,D);if(P&&(Bp(P),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!Zn(_.doc,E)&&_.height!=null){var N=_.height;_.height=null;var q=ir(_)-N;q&&Lt(E,E.height+q)}bi(v,"markerChanged",v,c)})},Ma.prototype.attachLine=function(c){if(!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;m.maybeHiddenMarkers&&vt(m.maybeHiddenMarkers,this)!=-1||(m.maybeUnhiddenMarkers||(m.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(c)},Ma.prototype.detachLine=function(c){if(this.lines.splice(vt(this.lines,c),1),!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(m.maybeHiddenMarkers||(m.maybeHiddenMarkers=[])).push(this)}},zt(Ma);var zu=function(c,m){this.markers=c,this.primary=m;for(var _=0;_<c.length;++_)c[_].parent=this};function Im(c){return c.findMarks(He(c.first,0),c.clipPos(He(c.lastLine())),function(m){return m.parent})}function Fy(c){for(var m=function(v){var E=c[v],D=[E.primary.doc];Oa(E.primary.doc,function(q){return D.push(q)});for(var P=0;P<E.markers.length;P++){var N=E.markers[P];vt(D,N.doc)==-1&&(N.parent=null,E.markers.splice(P--,1))}},_=0;_<c.length;_++)m(_)}zu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var c=0;c<this.markers.length;++c)this.markers[c].clear();bi(this,"clear")}},zu.prototype.find=function(c,m){return this.primary.find(c,m)},zt(zu);var Py=0,Ls=function(c,m,_,v,E){if(!(this instanceof Ls))return new Ls(c,m,_,v,E);_==null&&(_=0),Bu.call(this,[new $u([new Pt("",null)])]),this.first=_,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=_;var D=He(_,0);this.sel=Da(D),this.history=new Kc(null),this.id=++Py,this.modeOption=m,this.lineSep=v,this.direction=E=="rtl"?"rtl":"ltr",this.extend=!1,typeof c=="string"&&(c=this.splitLines(c)),jh(this,{from:D,to:D,text:c}),ns(this,Da(D),Rt)};Ls.prototype=T(Bu.prototype,{constructor:Ls,iter:function(c,m,_){_?this.iterN(c-this.first,m-c,_):this.iterN(this.first,this.first+this.size,c)},insert:function(c,m){for(var _=0,v=0;v<m.length;++v)_+=m[v].height;this.insertInner(c-this.first,m,_)},remove:function(c,m){this.removeInner(c-this.first,m)},getValue:function(c){var m=Jt(this,this.first,this.first+this.size);return c===!1?m:m.join(c||this.lineSeparator())},setValue:In(function(c){var m=He(this.first,0),_=this.first+this.size-1;ql(this,{from:m,to:He(_,Je(this,_).text.length),text:this.splitLines(c),origin:"setValue",full:!0},!0),this.cm&&Du(this.cm,0,0),ns(this,Da(m),Rt)}),replaceRange:function(c,m,_,v){Hl(this,c,m=Ot(this,m),_=_?Ot(this,_):m,v)},getRange:function(c,m,_){var v=Kt(this,Ot(this,c),Ot(this,m));return _===!1?v:_===""?v.join(""):v.join(_||this.lineSeparator())},getLine:function(c){var m=this.getLineHandle(c);return m&&m.text},getLineHandle:function(c){if(Li(this,c))return Je(this,c)},getLineNumber:function(c){return Ct(c)},getLineHandleVisualStart:function(c){return typeof c=="number"&&(c=Je(this,c)),ln(c)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(c){return Ot(this,c)},getCursor:function(c){var m=this.sel.primary();return c==null||c=="head"?m.head:c=="anchor"?m.anchor:c=="end"||c=="to"||c===!1?m.to():m.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:In(function(c,m,_){vm(this,Ot(this,typeof c=="number"?He(c,m||0):c),null,_)}),setSelection:In(function(c,m,_){vm(this,Ot(this,c),Ot(this,m||c),_)}),extendSelection:In(function(c,m,_){Qc(this,Ot(this,c),m&&Ot(this,m),_)}),extendSelections:In(function(c,m){bm(this,Ki(this,c),m)}),extendSelectionsBy:In(function(c,m){bm(this,Ki(this,ae(this.sel.ranges,c)),m)}),setSelections:In(function(c,m,_){if(c.length){for(var v=[],E=0;E<c.length;E++)v[E]=new pi(Ot(this,c[E].anchor),Ot(this,c[E].head||c[E].anchor));m==null&&(m=Math.min(c.length-1,this.sel.primIndex)),ns(this,ko(this.cm,v,m),_)}}),addSelection:In(function(c,m,_){var v=this.sel.ranges.slice(0);v.push(new pi(Ot(this,c),Ot(this,m||c))),ns(this,ko(this.cm,v,v.length-1),_)}),getSelection:function(c){for(var m,_=this.sel.ranges,v=0;v<_.length;v++){var E=Kt(this,_[v].from(),_[v].to());m=m?m.concat(E):E}return c===!1?m:m.join(c||this.lineSeparator())},getSelections:function(c){for(var m=[],_=this.sel.ranges,v=0;v<_.length;v++){var E=Kt(this,_[v].from(),_[v].to());c!==!1&&(E=E.join(c||this.lineSeparator())),m[v]=E}return m},replaceSelection:function(c,m,_){for(var v=[],E=0;E<this.sel.ranges.length;E++)v[E]=c;this.replaceSelections(v,m,_||"+input")},replaceSelections:In(function(c,m,_){for(var v=[],E=this.sel,D=0;D<E.ranges.length;D++){var P=E.ranges[D];v[D]={from:P.from(),to:P.to(),text:this.splitLines(c[D]),origin:_}}for(var N=m&&m!="end"&&function(H,se,le){for(var we=[],be=He(H.first,0),Fe=be,Pe=0;Pe<se.length;Pe++){var Re=se[Pe],Ue=cm(Re.from,be,Fe),Qe=cm(La(Re),be,Fe);if(be=Re.to,Fe=Qe,le=="around"){var Ze=H.sel.ranges[Pe],dt=ht(Ze.head,Ze.anchor)<0;we[Pe]=new pi(dt?Qe:Ue,dt?Ue:Qe)}else we[Pe]=new pi(Ue,Ue)}return new Qs(we,H.sel.primIndex)}(this,v,m),q=v.length-1;q>=0;q--)ql(this,v[q]);N?xm(this,N):this.cm&&Bl(this.cm)}),undo:In(function(){rd(this,"undo")}),redo:In(function(){rd(this,"redo")}),undoSelection:In(function(){rd(this,"undo",!0)}),redoSelection:In(function(){rd(this,"redo",!0)}),setExtending:function(c){this.extend=c},getExtending:function(){return this.extend},historySize:function(){for(var c=this.history,m=0,_=0,v=0;v<c.done.length;v++)c.done[v].ranges||++m;for(var E=0;E<c.undone.length;E++)c.undone[E].ranges||++_;return{undo:m,redo:_}},clearHistory:function(){var c=this;this.history=new Kc(this.history),Oa(this,function(m){return m.history=c.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(c){return c&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(c){return this.history.generation==(c||this.cleanGeneration)},getHistory:function(){return{done:zl(this.history.done),undone:zl(this.history.undone)}},setHistory:function(c){var m=this.history=new Kc(this.history);m.done=zl(c.done.slice(0),null,!0),m.undone=zl(c.undone.slice(0),null,!0)},setGutterMarker:In(function(c,m,_){return Nu(this,c,"gutter",function(v){var E=v.gutterMarkers||(v.gutterMarkers={});return E[m]=_,!_&&ye(E)&&(v.gutterMarkers=null),!0})}),clearGutter:In(function(c){var m=this;this.iter(function(_){_.gutterMarkers&&_.gutterMarkers[c]&&Nu(m,_,"gutter",function(){return _.gutterMarkers[c]=null,ye(_.gutterMarkers)&&(_.gutterMarkers=null),!0})})}),lineInfo:function(c){var m;if(typeof c=="number"){if(!Li(this,c)||(m=c,!(c=Je(this,c))))return null}else if((m=Ct(c))==null)return null;return{line:m,handle:c,text:c.text,gutterMarkers:c.gutterMarkers,textClass:c.textClass,bgClass:c.bgClass,wrapClass:c.wrapClass,widgets:c.widgets}},addLineClass:In(function(c,m,_){return Nu(this,c,m=="gutter"?"gutter":"class",function(v){var E=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass";if(v[E]){if(F(_).test(v[E]))return!1;v[E]+=" "+_}else v[E]=_;return!0})}),removeLineClass:In(function(c,m,_){return Nu(this,c,m=="gutter"?"gutter":"class",function(v){var E=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass",D=v[E];if(!D)return!1;if(_==null)v[E]=null;else{var P=D.match(F(_));if(!P)return!1;var N=P.index+P[0].length;v[E]=D.slice(0,P.index)+(P.index&&N!=D.length?" ":"")+D.slice(N)||null}return!0})}),addLineWidget:In(function(c,m,_){return function(v,E,D,P){var N=new ju(v,D,P),q=v.cm;return q&&N.noHScroll&&(q.display.alignWidgets=!0),Nu(v,E,"widget",function(H){var se=H.widgets||(H.widgets=[]);if(N.insertAt==null?se.push(N):se.splice(Math.min(se.length,Math.max(0,N.insertAt)),0,N),N.line=H,q&&!Zn(v,H)){var le=X(H)<v.scrollTop;Lt(H,H.height+ir(N)),le&&Mh(q,N.height),q.curOp.forceUpdate=!0}return!0}),q&&bi(q,"lineWidgetAdded",q,N,typeof E=="number"?E:Ct(E)),N}(this,c,m,_)}),removeLineWidget:function(c){c.clear()},markText:function(c,m,_){return Vl(this,Ot(this,c),Ot(this,m),_,_&&_.type||"range")},setBookmark:function(c,m){var _={replacedWith:m&&(m.nodeType==null?m.widget:m),insertLeft:m&&m.insertLeft,clearWhenEmpty:!1,shared:m&&m.shared,handleMouseEvents:m&&m.handleMouseEvents};return Vl(this,c=Ot(this,c),c,_,"bookmark")},findMarksAt:function(c){var m=[],_=Je(this,(c=Ot(this,c)).line).markedSpans;if(_)for(var v=0;v<_.length;++v){var E=_[v];(E.from==null||E.from<=c.ch)&&(E.to==null||E.to>=c.ch)&&m.push(E.marker.parent||E.marker)}return m},findMarks:function(c,m,_){c=Ot(this,c),m=Ot(this,m);var v=[],E=c.line;return this.iter(c.line,m.line+1,function(D){var P=D.markedSpans;if(P)for(var N=0;N<P.length;N++){var q=P[N];q.to!=null&&E==c.line&&c.ch>=q.to||q.from==null&&E!=c.line||q.from!=null&&E==m.line&&q.from>=m.ch||_&&!_(q.marker)||v.push(q.marker.parent||q.marker)}++E}),v},getAllMarks:function(){var c=[];return this.iter(function(m){var _=m.markedSpans;if(_)for(var v=0;v<_.length;++v)_[v].from!=null&&c.push(_[v].marker)}),c},posFromIndex:function(c){var m,_=this.first,v=this.lineSeparator().length;return this.iter(function(E){var D=E.text.length+v;if(D>c)return m=c,!0;c-=D,++_}),Ot(this,He(_,m))},indexFromPos:function(c){var m=(c=Ot(this,c)).ch;if(c.line<this.first||c.ch<0)return 0;var _=this.lineSeparator().length;return this.iter(this.first,c.line,function(v){m+=v.text.length+_}),m},copy:function(c){var m=new Ls(Jt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return m.scrollTop=this.scrollTop,m.scrollLeft=this.scrollLeft,m.sel=this.sel,m.extend=!1,c&&(m.history.undoDepth=this.history.undoDepth,m.setHistory(this.getHistory())),m},linkedDoc:function(c){c||(c={});var m=this.first,_=this.first+this.size;c.from!=null&&c.from>m&&(m=c.from),c.to!=null&&c.to<_&&(_=c.to);var v=new Ls(Jt(this,m,_),c.mode||this.modeOption,m,this.lineSep,this.direction);return c.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:c.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:c.sharedHist}],function(E,D){for(var P=0;P<D.length;P++){var N=D[P],q=N.find(),H=E.clipPos(q.from),se=E.clipPos(q.to);if(ht(H,se)){var le=Vl(E,H,se,N.primary,N.primary.type);N.markers.push(le),le.parent=N}}}(v,Im(this)),v},unlinkDoc:function(c){if(c instanceof Qi&&(c=c.doc),this.linked){for(var m=0;m<this.linked.length;++m)if(this.linked[m].doc==c){this.linked.splice(m,1),c.unlinkDoc(this),Fy(Im(this));break}}if(c.history==this.history){var _=[c.id];Oa(c,function(v){return _.push(v.id)},!0),c.history=new Kc(null),c.history.done=zl(this.history.done,_),c.history.undone=zl(this.history.undone,_)}},iterLinkedDocs:function(c){Oa(this,c)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(c){return this.lineSep?c.split(this.lineSep):$r(c)},lineSeparator:function(){return this.lineSep||`
`},setDirection:In(function(c){var m;c!="rtl"&&(c="ltr"),c!=this.direction&&(this.direction=c,this.iter(function(_){return _.order=null}),this.cm&&zs(m=this.cm,function(){fm(m),Ds(m)}))})}),Ls.prototype.eachLine=Ls.prototype.iter;var Fm=0;function Ny(c){var m=this;if(Pm(m),!lt(m,c)&&!Xr(m.display,c)){Ht(c),d&&(Fm=+new Date);var _=nl(m,c,!0),v=c.dataTransfer.files;if(_&&!m.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var E=v.length,D=Array(E),P=0,N=function(){++P==E&&Rn(m,function(){var be={from:_=Ot(m.doc,_),to:_,text:m.doc.splitLines(D.filter(function(Fe){return Fe!=null}).join(m.doc.lineSeparator())),origin:"paste"};ql(m.doc,be),xm(m.doc,Da(Ot(m.doc,_),Ot(m.doc,La(be))))})()},q=function(be,Fe){if(m.options.allowDropFileTypes&&vt(m.options.allowDropFileTypes,be.type)==-1)N();else{var Pe=new FileReader;Pe.onerror=function(){return N()},Pe.onload=function(){var Re=Pe.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Re)||(D[Fe]=Re),N()},Pe.readAsText(be)}},H=0;H<v.length;H++)q(v[H],H);else{if(m.state.draggingText&&m.doc.sel.contains(_)>-1)return m.state.draggingText(c),void setTimeout(function(){return m.display.input.focus()},20);try{var se=c.dataTransfer.getData("Text");if(se){var le;if(m.state.draggingText&&!m.state.draggingText.copy&&(le=m.listSelections()),ed(m.doc,Da(_,_)),le)for(var we=0;we<le.length;++we)Hl(m.doc,"",le[we].anchor,le[we].head,"drag");m.replaceSelection(se,"around","paste"),m.display.input.focus()}}catch{}}}}function Pm(c){c.display.dragCursor&&(c.display.lineSpace.removeChild(c.display.dragCursor),c.display.dragCursor=null)}function Nm(c){if(document.getElementsByClassName){for(var m=document.getElementsByClassName("CodeMirror"),_=[],v=0;v<m.length;v++){var E=m[v].CodeMirror;E&&_.push(E)}_.length&&_[0].operation(function(){for(var D=0;D<_.length;D++)c(_[D])})}}var $m=!1;function $y(){var c;$m||(De(window,"resize",function(){c==null&&(c=setTimeout(function(){c=null,Nm(By)},100))}),De(window,"blur",function(){return Nm($l)}),$m=!0)}function By(c){var m=c.display;m.cachedCharWidth=m.cachedTextHeight=m.cachedPaddingH=null,m.scrollbarsClipped=!1,c.setSize()}for(var Ra={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Uu=0;Uu<10;Uu++)Ra[Uu+48]=Ra[Uu+96]=String(Uu);for(var id=65;id<=90;id++)Ra[id]=String.fromCharCode(id);for(var qu=1;qu<=12;qu++)Ra[qu+111]=Ra[qu+63235]="F"+qu;var ca={};function jy(c){var m,_,v,E,D=c.split(/-(?!$)/);c=D[D.length-1];for(var P=0;P<D.length-1;P++){var N=D[P];if(/^(cmd|meta|m)$/i.test(N))E=!0;else if(/^a(lt)?$/i.test(N))m=!0;else if(/^(c|ctrl|control)$/i.test(N))_=!0;else{if(!/^s(hift)?$/i.test(N))throw new Error("Unrecognized modifier name: "+N);v=!0}}return m&&(c="Alt-"+c),_&&(c="Ctrl-"+c),E&&(c="Cmd-"+c),v&&(c="Shift-"+c),c}function zy(c){var m={};for(var _ in c)if(c.hasOwnProperty(_)){var v=c[_];if(/^(name|fallthrough|(de|at)tach)$/.test(_))continue;if(v=="..."){delete c[_];continue}for(var E=ae(_.split(" "),jy),D=0;D<E.length;D++){var P=void 0,N=void 0;D==E.length-1?(N=E.join(" "),P=v):(N=E.slice(0,D+1).join(" "),P="...");var q=m[N];if(q){if(q!=P)throw new Error("Inconsistent bindings for "+N)}else m[N]=P}delete c[_]}for(var H in m)c[H]=m[H];return c}function Gl(c,m,_,v){var E=(m=nd(m)).call?m.call(c,v):m[c];if(E===!1)return"nothing";if(E==="...")return"multi";if(E!=null&&_(E))return"handled";if(m.fallthrough){if(Object.prototype.toString.call(m.fallthrough)!="[object Array]")return Gl(c,m.fallthrough,_,v);for(var D=0;D<m.fallthrough.length;D++){var P=Gl(c,m.fallthrough[D],_,v);if(P)return P}}}function Bm(c){var m=typeof c=="string"?c:Ra[c.keyCode];return m=="Ctrl"||m=="Alt"||m=="Shift"||m=="Mod"}function jm(c,m,_){var v=c;return m.altKey&&v!="Alt"&&(c="Alt-"+c),(oe?m.metaKey:m.ctrlKey)&&v!="Ctrl"&&(c="Ctrl-"+c),(oe?m.ctrlKey:m.metaKey)&&v!="Mod"&&(c="Cmd-"+c),!_&&m.shiftKey&&v!="Shift"&&(c="Shift-"+c),c}function zm(c,m){if(x&&c.keyCode==34&&c.char)return!1;var _=Ra[c.keyCode];return _!=null&&!c.altGraphKey&&(c.keyCode==3&&c.code&&(_=c.code),jm(_,c,m))}function nd(c){return typeof c=="string"?ca[c]:c}function Wl(c,m){for(var _=c.doc.sel.ranges,v=[],E=0;E<_.length;E++){for(var D=m(_[E]);v.length&&ht(D.from,ue(v).to)<=0;){var P=v.pop();if(ht(P.from,D.from)<0){D.from=P.from;break}}v.push(D)}zs(c,function(){for(var N=v.length-1;N>=0;N--)Hl(c.doc,"",v[N].from,v[N].to,"+delete");Bl(c)})}function Hh(c,m,_){var v=j(c.text,m+_,_);return v<0||v>c.text.length?null:v}function Vh(c,m,_){var v=Hh(c,m.ch,_);return v==null?null:new He(m.line,v,_<0?"after":"before")}function Gh(c,m,_,v,E){if(c){m.doc.direction=="rtl"&&(E=-E);var D=Ce(_,m.doc.direction);if(D){var P,N=E<0?ue(D):D[0],q=E<0==(N.level==1)?"after":"before";if(N.level>0||m.doc.direction=="rtl"){var H=Kr(m,_);P=E<0?_.text.length-1:0;var se=yr(m,H,P).top;P=te(function(le){return yr(m,H,le).top==se},E<0==(N.level==1)?N.from:N.to-1,P),q=="before"&&(P=Hh(_,P,1))}else P=E<0?N.to:N.from;return new He(v,P,q)}}return new He(v,E<0?_.text.length:0,E<0?"before":"after")}ca.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ca.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ca.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ca.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ca.default=A?ca.macDefault:ca.pcDefault;var Hu={selectAll:Cm,singleSelection:function(c){return c.setSelection(c.getCursor("anchor"),c.getCursor("head"),Rt)},killLine:function(c){return Wl(c,function(m){if(m.empty()){var _=Je(c.doc,m.head.line).text.length;return m.head.ch==_&&m.head.line<c.lastLine()?{from:m.head,to:He(m.head.line+1,0)}:{from:m.head,to:He(m.head.line,_)}}return{from:m.from(),to:m.to()}})},deleteLine:function(c){return Wl(c,function(m){return{from:He(m.from().line,0),to:Ot(c.doc,He(m.to().line+1,0))}})},delLineLeft:function(c){return Wl(c,function(m){return{from:He(m.from().line,0),to:m.from()}})},delWrappedLineLeft:function(c){return Wl(c,function(m){var _=c.charCoords(m.head,"div").top+5;return{from:c.coordsChar({left:0,top:_},"div"),to:m.from()}})},delWrappedLineRight:function(c){return Wl(c,function(m){var _=c.charCoords(m.head,"div").top+5,v=c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:_},"div");return{from:m.from(),to:v}})},undo:function(c){return c.undo()},redo:function(c){return c.redo()},undoSelection:function(c){return c.undoSelection()},redoSelection:function(c){return c.redoSelection()},goDocStart:function(c){return c.extendSelection(He(c.firstLine(),0))},goDocEnd:function(c){return c.extendSelection(He(c.lastLine()))},goLineStart:function(c){return c.extendSelectionsBy(function(m){return Um(c,m.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(c){return c.extendSelectionsBy(function(m){return qm(c,m.head)},{origin:"+move",bias:1})},goLineEnd:function(c){return c.extendSelectionsBy(function(m){return function(_,v){var E=Je(_.doc,v),D=function(P){for(var N;N=wn(P);)P=N.find(1,!0).line;return P}(E);return D!=E&&(v=Ct(D)),Gh(!0,_,E,v,-1)}(c,m.head.line)},{origin:"+move",bias:-1})},goLineRight:function(c){return c.extendSelectionsBy(function(m){var _=c.cursorCoords(m.head,"div").top+5;return c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:_},"div")},or)},goLineLeft:function(c){return c.extendSelectionsBy(function(m){var _=c.cursorCoords(m.head,"div").top+5;return c.coordsChar({left:0,top:_},"div")},or)},goLineLeftSmart:function(c){return c.extendSelectionsBy(function(m){var _=c.cursorCoords(m.head,"div").top+5,v=c.coordsChar({left:0,top:_},"div");return v.ch<c.getLine(v.line).search(/\S/)?qm(c,m.head):v},or)},goLineUp:function(c){return c.moveV(-1,"line")},goLineDown:function(c){return c.moveV(1,"line")},goPageUp:function(c){return c.moveV(-1,"page")},goPageDown:function(c){return c.moveV(1,"page")},goCharLeft:function(c){return c.moveH(-1,"char")},goCharRight:function(c){return c.moveH(1,"char")},goColumnLeft:function(c){return c.moveH(-1,"column")},goColumnRight:function(c){return c.moveH(1,"column")},goWordLeft:function(c){return c.moveH(-1,"word")},goGroupRight:function(c){return c.moveH(1,"group")},goGroupLeft:function(c){return c.moveH(-1,"group")},goWordRight:function(c){return c.moveH(1,"word")},delCharBefore:function(c){return c.deleteH(-1,"codepoint")},delCharAfter:function(c){return c.deleteH(1,"char")},delWordBefore:function(c){return c.deleteH(-1,"word")},delWordAfter:function(c){return c.deleteH(1,"word")},delGroupBefore:function(c){return c.deleteH(-1,"group")},delGroupAfter:function(c){return c.deleteH(1,"group")},indentAuto:function(c){return c.indentSelection("smart")},indentMore:function(c){return c.indentSelection("add")},indentLess:function(c){return c.indentSelection("subtract")},insertTab:function(c){return c.replaceSelection("	")},insertSoftTab:function(c){for(var m=[],_=c.listSelections(),v=c.options.tabSize,E=0;E<_.length;E++){var D=_[E].from(),P=Xe(c.getLine(D.line),D.ch,v);m.push(he(v-P%v))}c.replaceSelections(m)},defaultTab:function(c){c.somethingSelected()?c.indentSelection("add"):c.execCommand("insertTab")},transposeChars:function(c){return zs(c,function(){for(var m=c.listSelections(),_=[],v=0;v<m.length;v++)if(m[v].empty()){var E=m[v].head,D=Je(c.doc,E.line).text;if(D){if(E.ch==D.length&&(E=new He(E.line,E.ch-1)),E.ch>0)E=new He(E.line,E.ch+1),c.replaceRange(D.charAt(E.ch-1)+D.charAt(E.ch-2),He(E.line,E.ch-2),E,"+transpose");else if(E.line>c.doc.first){var P=Je(c.doc,E.line-1).text;P&&(E=new He(E.line,1),c.replaceRange(D.charAt(0)+c.doc.lineSeparator()+P.charAt(P.length-1),He(E.line-1,P.length-1),E,"+transpose"))}}_.push(new pi(E,E))}c.setSelections(_)})},newlineAndIndent:function(c){return zs(c,function(){for(var m=c.listSelections(),_=m.length-1;_>=0;_--)c.replaceRange(c.doc.lineSeparator(),m[_].anchor,m[_].head,"+input");m=c.listSelections();for(var v=0;v<m.length;v++)c.indentLine(m[v].from().line,null,!0);Bl(c)})},openLine:function(c){return c.replaceSelection(`
`,"start")},toggleOverwrite:function(c){return c.toggleOverwrite()}};function Um(c,m){var _=Je(c.doc,m),v=ln(_);return v!=_&&(m=Ct(v)),Gh(!0,c,v,m,1)}function qm(c,m){var _=Um(c,m.line),v=Je(c.doc,_.line),E=Ce(v,c.doc.direction);if(!E||E[0].level==0){var D=Math.max(_.ch,v.text.search(/\S/)),P=m.line==_.line&&m.ch<=D&&m.ch;return He(_.line,P?0:D,_.sticky)}return _}function sd(c,m,_){if(typeof m=="string"&&!(m=Hu[m]))return!1;c.display.input.ensurePolled();var v=c.display.shift,E=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),_&&(c.display.shift=!1),E=m(c)!=Dt}finally{c.display.shift=v,c.state.suppressEdits=!1}return E}var Uy=new nt;function Vu(c,m,_,v){var E=c.state.keySeq;if(E){if(Bm(m))return"handled";if(/\'$/.test(m)?c.state.keySeq=null:Uy.set(50,function(){c.state.keySeq==E&&(c.state.keySeq=null,c.display.input.reset())}),Hm(c,E+" "+m,_,v))return!0}return Hm(c,m,_,v)}function Hm(c,m,_,v){var E=function(D,P,N){for(var q=0;q<D.state.keyMaps.length;q++){var H=Gl(P,D.state.keyMaps[q],N,D);if(H)return H}return D.options.extraKeys&&Gl(P,D.options.extraKeys,N,D)||Gl(P,D.options.keyMap,N,D)}(c,m,v);return E=="multi"&&(c.state.keySeq=m),E=="handled"&&bi(c,"keyHandled",c,m,_),E!="handled"&&E!="multi"||(Ht(_),Th(c)),!!E}function Vm(c,m){var _=zm(m,!0);return!!_&&(m.shiftKey&&!c.state.keySeq?Vu(c,"Shift-"+_,m,function(v){return sd(c,v,!0)})||Vu(c,_,m,function(v){if(typeof v=="string"?/^go[A-Z]/.test(v):v.motion)return sd(c,v)}):Vu(c,_,m,function(v){return sd(c,v)}))}var Wh=null;function Gm(c){var m=this;if(!(c.target&&c.target!=m.display.input.getField()||(m.curOp.focus=ee(ze(m)),lt(m,c)))){d&&f<11&&c.keyCode==27&&(c.returnValue=!1);var _=c.keyCode;m.display.shift=_==16||c.shiftKey;var v=Vm(m,c);x&&(Wh=v?_:null,v||_!=88||an||!(A?c.metaKey:c.ctrlKey)||m.replaceSelection("",null,"cut")),a&&!A&&!v&&_==46&&c.shiftKey&&!c.ctrlKey&&document.execCommand&&document.execCommand("cut"),_!=18||/\bCodeMirror-crosshair\b/.test(m.display.lineDiv.className)||function(E){var D=E.display.lineDiv;function P(N){N.keyCode!=18&&N.altKey||(Y(D,"CodeMirror-crosshair"),Ve(document,"keyup",P),Ve(document,"mouseover",P))}B(D,"CodeMirror-crosshair"),De(document,"keyup",P),De(document,"mouseover",P)}(m)}}function Wm(c){c.keyCode==16&&(this.doc.sel.shift=!1),lt(this,c)}function Ym(c){var m=this;if(!(c.target&&c.target!=m.display.input.getField()||Xr(m.display,c)||lt(m,c)||c.ctrlKey&&!c.altKey||A&&c.metaKey)){var _=c.keyCode,v=c.charCode;if(x&&_==Wh)return Wh=null,void Ht(c);if(!x||c.which&&!(c.which<10)||!Vm(m,c)){var E=String.fromCharCode(v??_);E!="\b"&&(function(D,P,N){return Vu(D,"'"+N+"'",P,function(q){return sd(D,q,!0)})}(m,c,E)||m.display.input.onKeyPress(c))}}}var Gu,Wu,Yh=function(c,m,_){this.time=c,this.pos=m,this.button=_};function Zm(c){var m=this,_=m.display;if(!(lt(m,c)||_.activeTouch&&_.input.supportsTouch())){if(_.input.ensurePolled(),_.shift=c.shiftKey,Xr(_,c))p||(_.scroller.draggable=!1,setTimeout(function(){return _.scroller.draggable=!0},100));else if(!Zh(m,c)){var v=nl(m,c),E=dn(c),D=v?function(P,N){var q=+new Date;return Wu&&Wu.compare(q,P,N)?(Gu=Wu=null,"triple"):Gu&&Gu.compare(q,P,N)?(Wu=new Yh(q,P,N),Gu=null,"double"):(Gu=new Yh(q,P,N),Wu=null,"single")}(v,E):"single";it(m).focus(),E==1&&m.state.selectingText&&m.state.selectingText(c),v&&function(P,N,q,H,se){var le="Click";return H=="double"?le="Double"+le:H=="triple"&&(le="Triple"+le),Vu(P,jm(le=(N==1?"Left":N==2?"Middle":"Right")+le,se),se,function(we){if(typeof we=="string"&&(we=Hu[we]),!we)return!1;var be=!1;try{P.isReadOnly()&&(P.state.suppressEdits=!0),be=we(P,q)!=Dt}finally{P.state.suppressEdits=!1}return be})}(m,E,v,D,c)||(E==1?v?function(P,N,q,H){d?setTimeout(tt(Xp,P),0):P.curOp.focus=ee(ze(P));var se,le=function(be,Fe,Pe){var Re=be.getOption("configureMouse"),Ue=Re?Re(be,Fe,Pe):{};if(Ue.unit==null){var Qe=I?Pe.shiftKey&&Pe.metaKey:Pe.altKey;Ue.unit=Qe?"rectangle":Fe=="single"?"char":Fe=="double"?"word":"line"}return(Ue.extend==null||be.doc.extend)&&(Ue.extend=be.doc.extend||Pe.shiftKey),Ue.addNew==null&&(Ue.addNew=A?Pe.metaKey:Pe.ctrlKey),Ue.moveOnDrag==null&&(Ue.moveOnDrag=!(A?Pe.altKey:Pe.ctrlKey)),Ue}(P,q,H),we=P.doc.sel;P.options.dragDrop&&$s&&!P.isReadOnly()&&q=="single"&&(se=we.contains(N))>-1&&(ht((se=we.ranges[se]).from(),N)<0||N.xRel>0)&&(ht(se.to(),N)>0||N.xRel<0)?function(be,Fe,Pe,Re){var Ue=be.display,Qe=!1,Ze=Rn(be,function(ft){p&&(Ue.scroller.draggable=!1),be.state.draggingText=!1,be.state.delayingBlurEvent&&(be.hasFocus()?be.state.delayingBlurEvent=!1:Dh(be)),Ve(Ue.wrapper.ownerDocument,"mouseup",Ze),Ve(Ue.wrapper.ownerDocument,"mousemove",dt),Ve(Ue.scroller,"dragstart",ut),Ve(Ue.scroller,"drop",Ze),Qe||(Ht(ft),Re.addNew||Qc(be.doc,Pe,null,null,Re.extend),p&&!w||d&&f==9?setTimeout(function(){Ue.wrapper.ownerDocument.body.focus({preventScroll:!0}),Ue.input.focus()},20):Ue.input.focus())}),dt=function(ft){Qe=Qe||Math.abs(Fe.clientX-ft.clientX)+Math.abs(Fe.clientY-ft.clientY)>=10},ut=function(){return Qe=!0};p&&(Ue.scroller.draggable=!0),be.state.draggingText=Ze,Ze.copy=!Re.moveOnDrag,De(Ue.wrapper.ownerDocument,"mouseup",Ze),De(Ue.wrapper.ownerDocument,"mousemove",dt),De(Ue.scroller,"dragstart",ut),De(Ue.scroller,"drop",Ze),be.state.delayingBlurEvent=!0,setTimeout(function(){return Ue.input.focus()},20),Ue.scroller.dragDrop&&Ue.scroller.dragDrop()}(P,H,N,le):function(be,Fe,Pe,Re){d&&Dh(be);var Ue=be.display,Qe=be.doc;Ht(Fe);var Ze,dt,ut=Qe.sel,ft=ut.ranges;if(Re.addNew&&!Re.extend?(dt=Qe.sel.contains(Pe),Ze=dt>-1?ft[dt]:new pi(Pe,Pe)):(Ze=Qe.sel.primary(),dt=Qe.sel.primIndex),Re.unit=="rectangle")Re.addNew||(Ze=new pi(Pe,Pe)),Pe=nl(be,Fe,!0,!0),dt=-1;else{var Qt=Xm(be,Pe,Re.unit);Ze=Re.extend?Uh(Ze,Qt.anchor,Qt.head,Re.extend):Qt}Re.addNew?dt==-1?(dt=ft.length,ns(Qe,ko(be,ft.concat([Ze]),dt),{scroll:!1,origin:"*mouse"})):ft.length>1&&ft[dt].empty()&&Re.unit=="char"&&!Re.extend?(ns(Qe,ko(be,ft.slice(0,dt).concat(ft.slice(dt+1)),0),{scroll:!1,origin:"*mouse"}),ut=Qe.sel):qh(Qe,dt,Ze,Er):(dt=0,ns(Qe,new Qs([Ze],0),Er),ut=Qe.sel);var St=Pe;function wr(mr){if(ht(St,mr)!=0)if(St=mr,Re.unit=="rectangle"){for(var gi=[],dr=be.options.tabSize,Fr=Xe(Je(Qe,Pe.line).text,Pe.ch,dr),br=Xe(Je(Qe,mr.line).text,mr.ch,dr),Qr=Math.min(Fr,br),Es=Math.max(Fr,br),yi=Math.min(Pe.line,mr.line),ss=Math.min(be.lastLine(),Math.max(Pe.line,mr.line));yi<=ss;yi++){var os=Je(Qe,yi).text,Yi=di(os,Qr,dr);Qr==Es?gi.push(new pi(He(yi,Yi),He(yi,Yi))):os.length>Yi&&gi.push(new pi(He(yi,Yi),He(yi,di(os,Es,dr))))}gi.length||gi.push(new pi(Pe,Pe)),ns(Qe,ko(be,ut.ranges.slice(0,dt).concat(gi),dt),{origin:"*mouse",scroll:!1}),be.scrollIntoView(mr)}else{var Ss,go=Ze,Xn=Xm(be,mr,Re.unit),To=go.anchor;ht(Xn.anchor,To)>0?(Ss=Xn.head,To=ui(go.from(),Xn.anchor)):(Ss=Xn.anchor,To=ni(go.to(),Xn.head));var cd=ut.ranges.slice(0);cd[dt]=function(lg,cl){var Us=cl.anchor,Ia=cl.head,Wy=Je(lg.doc,Us.line);if(ht(Us,Ia)==0&&Us.sticky==Ia.sticky)return cl;var Xl=Ce(Wy);if(!Xl)return cl;var Qh=ce(Xl,Us.ch,Us.sticky),Zu=Xl[Qh];if(Zu.from!=Us.ch&&Zu.to!=Us.ch)return cl;var dd,Xu=Qh+(Zu.from==Us.ch==(Zu.level!=1)?0:1);if(Xu==0||Xu==Xl.length)return cl;if(Ia.line!=Us.line)dd=(Ia.line-Us.line)*(lg.doc.direction=="ltr"?1:-1)>0;else{var ef=ce(Xl,Ia.ch,Ia.sticky),ug=ef-Qh||(Ia.ch-Us.ch)*(Zu.level==1?-1:1);dd=ef==Xu-1||ef==Xu?ug<0:ug>0}var tf=Xl[Xu+(dd?-1:0)],cg=dd==(tf.level==1),dg=cg?tf.from:tf.to,hg=cg?"after":"before";return Us.ch==dg&&Us.sticky==hg?cl:new pi(new He(Us.line,dg,hg),Ia)}(be,new pi(Ot(Qe,To),Ss)),ns(Qe,ko(be,cd,dt),Er)}}var Zt=Ue.wrapper.getBoundingClientRect(),Hr=0;function mi(mr){var gi=++Hr,dr=nl(be,mr,!0,Re.unit=="rectangle");if(dr)if(ht(dr,St)!=0){be.curOp.focus=ee(ze(be)),wr(dr);var Fr=Wc(Ue,Qe);(dr.line>=Fr.to||dr.line<Fr.from)&&setTimeout(Rn(be,function(){Hr==gi&&mi(mr)}),150)}else{var br=mr.clientY<Zt.top?-20:mr.clientY>Zt.bottom?20:0;br&&setTimeout(Rn(be,function(){Hr==gi&&(Ue.scroller.scrollTop+=br,mi(mr))}),50)}}function Vr(mr){be.state.selectingText=!1,Hr=1/0,mr&&(Ht(mr),Ue.input.focus()),Ve(Ue.wrapper.ownerDocument,"mousemove",Mr),Ve(Ue.wrapper.ownerDocument,"mouseup",Gr),Qe.history.lastSelOrigin=null}var Mr=Rn(be,function(mr){mr.buttons!==0&&dn(mr)?mi(mr):Vr(mr)}),Gr=Rn(be,Vr);be.state.selectingText=Gr,De(Ue.wrapper.ownerDocument,"mousemove",Mr),De(Ue.wrapper.ownerDocument,"mouseup",Gr)}(P,H,N,le)}(m,v,D,c):ri(c)==_.scroller&&Ht(c):E==2?(v&&Qc(m.doc,v),setTimeout(function(){return _.input.focus()},20)):E==3&&(L?m.display.input.onContextMenu(c):Dh(m)))}}}function Xm(c,m,_){if(_=="char")return new pi(m,m);if(_=="word")return c.findWordAt(m);if(_=="line")return new pi(He(m.line,0),Ot(c.doc,He(m.line+1,0)));var v=_(c,m);return new pi(v.from,v.to)}function Km(c,m,_,v){var E,D;if(m.touches)E=m.touches[0].clientX,D=m.touches[0].clientY;else try{E=m.clientX,D=m.clientY}catch{return!1}if(E>=Math.floor(c.display.gutters.getBoundingClientRect().right))return!1;v&&Ht(m);var P=c.display,N=P.lineDiv.getBoundingClientRect();if(D>N.bottom||!mt(c,_))return fr(m);D-=N.top-P.viewOffset;for(var q=0;q<c.display.gutterSpecs.length;++q){var H=P.gutters.childNodes[q];if(H&&H.getBoundingClientRect().right>=E)return ot(c,_,c,ii(c.doc,D),c.display.gutterSpecs[q].className,m),fr(m)}}function Zh(c,m){return Km(c,m,"gutterClick",!0)}function Jm(c,m){Xr(c.display,m)||function(_,v){return mt(_,"gutterContextMenu")?Km(_,v,"gutterContextMenu",!1):!1}(c,m)||lt(c,m,"contextmenu")||L||c.display.input.onContextMenu(m)}function Qm(c){c.display.wrapper.className=c.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+c.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Au(c)}Yh.prototype.compare=function(c,m,_){return this.time+400>c&&ht(m,this.pos)==0&&_==this.button};var Yl={toString:function(){return"CodeMirror.Init"}},eg={},od={};function qy(c,m,_){if(!m!=!(_&&_!=Yl)){var v=c.display.dragFunctions,E=m?De:Ve;E(c.display.scroller,"dragstart",v.start),E(c.display.scroller,"dragenter",v.enter),E(c.display.scroller,"dragover",v.over),E(c.display.scroller,"dragleave",v.leave),E(c.display.scroller,"drop",v.drop)}}function Hy(c){c.options.lineWrapping?(B(c.display.wrapper,"CodeMirror-wrap"),c.display.sizer.style.minWidth="",c.display.sizerWidth=null):(Y(c.display.wrapper,"CodeMirror-wrap"),Ke(c)),kh(c),Ds(c),Au(c),setTimeout(function(){return jl(c)},100)}function Qi(c,m){var _=this;if(!(this instanceof Qi))return new Qi(c,m);this.options=m=m?Ne(m):{},Ne(eg,m,!1);var v=m.value;typeof v=="string"?v=new Ls(v,m.mode,null,m.lineSeparator,m.direction):m.mode&&(v.modeOption=m.mode),this.doc=v;var E=new Qi.inputStyles[m.inputStyle](this),D=this.display=new Oy(c,v,E,m);for(var P in D.wrapper.CodeMirror=this,Qm(this),m.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rm(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new nt,keySeq:null,specialChars:null},m.autofocus&&!M&&D.input.focus(),d&&f<11&&setTimeout(function(){return _.display.input.reset(!0)},20),function(q){var H=q.display;De(H.scroller,"mousedown",Rn(q,Zm)),De(H.scroller,"dblclick",d&&f<11?Rn(q,function(Re){if(!lt(q,Re)){var Ue=nl(q,Re);if(Ue&&!Zh(q,Re)&&!Xr(q.display,Re)){Ht(Re);var Qe=q.findWordAt(Ue);Qc(q.doc,Qe.anchor,Qe.head)}}}):function(Re){return lt(q,Re)||Ht(Re)}),De(H.scroller,"contextmenu",function(Re){return Jm(q,Re)}),De(H.input.getField(),"contextmenu",function(Re){H.scroller.contains(Re.target)||Jm(q,Re)});var se,le={end:0};function we(){H.activeTouch&&(se=setTimeout(function(){return H.activeTouch=null},1e3),(le=H.activeTouch).end=+new Date)}function be(Re){if(Re.touches.length!=1)return!1;var Ue=Re.touches[0];return Ue.radiusX<=1&&Ue.radiusY<=1}function Fe(Re,Ue){if(Ue.left==null)return!0;var Qe=Ue.left-Re.left,Ze=Ue.top-Re.top;return Qe*Qe+Ze*Ze>400}De(H.scroller,"touchstart",function(Re){if(!lt(q,Re)&&!be(Re)&&!Zh(q,Re)){H.input.ensurePolled(),clearTimeout(se);var Ue=+new Date;H.activeTouch={start:Ue,moved:!1,prev:Ue-le.end<=300?le:null},Re.touches.length==1&&(H.activeTouch.left=Re.touches[0].pageX,H.activeTouch.top=Re.touches[0].pageY)}}),De(H.scroller,"touchmove",function(){H.activeTouch&&(H.activeTouch.moved=!0)}),De(H.scroller,"touchend",function(Re){var Ue=H.activeTouch;if(Ue&&!Xr(H,Re)&&Ue.left!=null&&!Ue.moved&&new Date-Ue.start<300){var Qe,Ze=q.coordsChar(H.activeTouch,"page");Qe=!Ue.prev||Fe(Ue,Ue.prev)?new pi(Ze,Ze):!Ue.prev.prev||Fe(Ue,Ue.prev.prev)?q.findWordAt(Ze):new pi(He(Ze.line,0),Ot(q.doc,He(Ze.line+1,0))),q.setSelection(Qe.anchor,Qe.head),q.focus(),Ht(Re)}we()}),De(H.scroller,"touchcancel",we),De(H.scroller,"scroll",function(){H.scroller.clientHeight&&(Lu(q,H.scroller.scrollTop),ol(q,H.scroller.scrollLeft,!0),ot(q,"scroll",q))}),De(H.scroller,"mousewheel",function(Re){return lm(q,Re)}),De(H.scroller,"DOMMouseScroll",function(Re){return lm(q,Re)}),De(H.wrapper,"scroll",function(){return H.wrapper.scrollTop=H.wrapper.scrollLeft=0}),H.dragFunctions={enter:function(Re){lt(q,Re)||Yt(Re)},over:function(Re){lt(q,Re)||(function(Ue,Qe){var Ze=nl(Ue,Qe);if(Ze){var dt=document.createDocumentFragment();Ah(Ue,Ze,dt),Ue.display.dragCursor||(Ue.display.dragCursor=J("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),Ue.display.lineSpace.insertBefore(Ue.display.dragCursor,Ue.display.cursorDiv)),Q(Ue.display.dragCursor,dt)}}(q,Re),Yt(Re))},start:function(Re){return function(Ue,Qe){if(d&&(!Ue.state.draggingText||+new Date-Fm<100))Yt(Qe);else if(!lt(Ue,Qe)&&!Xr(Ue.display,Qe)&&(Qe.dataTransfer.setData("Text",Ue.getSelection()),Qe.dataTransfer.effectAllowed="copyMove",Qe.dataTransfer.setDragImage&&!w)){var Ze=J("img",null,null,"position: fixed; left: 0; top: 0;");Ze.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",x&&(Ze.width=Ze.height=1,Ue.display.wrapper.appendChild(Ze),Ze._top=Ze.offsetTop),Qe.dataTransfer.setDragImage(Ze,0,0),x&&Ze.parentNode.removeChild(Ze)}}(q,Re)},drop:Rn(q,Ny),leave:function(Re){lt(q,Re)||Pm(q)}};var Pe=H.input.getField();De(Pe,"keyup",function(Re){return Wm.call(q,Re)}),De(Pe,"keydown",Rn(q,Gm)),De(Pe,"keypress",Rn(q,Ym)),De(Pe,"focus",function(Re){return Lh(q,Re)}),De(Pe,"blur",function(Re){return $l(q,Re)})}(this),$y(),ll(this),this.curOp.forceUpdate=!0,hm(this,v),m.autofocus&&!M||this.hasFocus()?setTimeout(function(){_.hasFocus()&&!_.state.focused&&Lh(_)},20):$l(this),od)od.hasOwnProperty(P)&&od[P](this,m[P],Yl);sm(this),m.finishInit&&m.finishInit(this);for(var N=0;N<Xh.length;++N)Xh[N](this);ul(this),p&&m.lineWrapping&&getComputedStyle(D.lineDiv).textRendering=="optimizelegibility"&&(D.lineDiv.style.textRendering="auto")}Qi.defaults=eg,Qi.optionHandlers=od;var Xh=[];function Yu(c,m,_,v){var E,D=c.doc;_==null&&(_="add"),_=="smart"&&(D.mode.indent?E=ps(c,m).state:_="prev");var P=c.options.tabSize,N=Je(D,m),q=Xe(N.text,null,P);N.stateAfter&&(N.stateAfter=null);var H,se=N.text.match(/^\s*/)[0];if(v||/\S/.test(N.text)){if(_=="smart"&&((H=D.mode.indent(E,N.text.slice(se.length),N.text))==Dt||H>150)){if(!v)return;_="prev"}}else H=0,_="not";_=="prev"?H=m>D.first?Xe(Je(D,m-1).text,null,P):0:_=="add"?H=q+c.options.indentUnit:_=="subtract"?H=q-c.options.indentUnit:typeof _=="number"&&(H=q+_),H=Math.max(0,H);var le="",we=0;if(c.options.indentWithTabs)for(var be=Math.floor(H/P);be;--be)we+=P,le+="	";if(we<H&&(le+=he(H-we)),le!=se)return Hl(D,le,He(m,0),He(m,se.length),"+input"),N.stateAfter=null,!0;for(var Fe=0;Fe<D.sel.ranges.length;Fe++){var Pe=D.sel.ranges[Fe];if(Pe.head.line==m&&Pe.head.ch<se.length){var Re=He(m,se.length);qh(D,Fe,new pi(Re,Re));break}}}Qi.defineInitHook=function(c){return Xh.push(c)};var Ao=null;function ad(c){Ao=c}function Kh(c,m,_,v,E){var D=c.doc;c.display.shift=!1,v||(v=D.sel);var P=+new Date-200,N=E=="paste"||c.state.pasteIncoming>P,q=$r(m),H=null;if(N&&v.ranges.length>1)if(Ao&&Ao.text.join(`
`)==m){if(v.ranges.length%Ao.text.length==0){H=[];for(var se=0;se<Ao.text.length;se++)H.push(D.splitLines(Ao.text[se]))}}else q.length==v.ranges.length&&c.options.pasteLinesPerSelection&&(H=ae(q,function(Ue){return[Ue]}));for(var le=c.curOp.updateInput,we=v.ranges.length-1;we>=0;we--){var be=v.ranges[we],Fe=be.from(),Pe=be.to();be.empty()&&(_&&_>0?Fe=He(Fe.line,Fe.ch-_):c.state.overwrite&&!N?Pe=He(Pe.line,Math.min(Je(D,Pe.line).text.length,Pe.ch+ue(q).length)):N&&Ao&&Ao.lineWise&&Ao.text.join(`
`)==q.join(`
`)&&(Fe=Pe=He(Fe.line,0)));var Re={from:Fe,to:Pe,text:H?H[we%H.length]:q,origin:E||(N?"paste":c.state.cutIncoming>P?"cut":"+input")};ql(c.doc,Re),bi(c,"inputRead",c,Re)}m&&!N&&rg(c,m),Bl(c),c.curOp.updateInput<2&&(c.curOp.updateInput=le),c.curOp.typing=!0,c.state.pasteIncoming=c.state.cutIncoming=-1}function tg(c,m){var _=c.clipboardData&&c.clipboardData.getData("Text");if(_)return c.preventDefault(),m.isReadOnly()||m.options.disableInput||!m.hasFocus()||zs(m,function(){return Kh(m,_,0,null,"paste")}),!0}function rg(c,m){if(c.options.electricChars&&c.options.smartIndent)for(var _=c.doc.sel,v=_.ranges.length-1;v>=0;v--){var E=_.ranges[v];if(!(E.head.ch>100||v&&_.ranges[v-1].head.line==E.head.line)){var D=c.getModeAt(E.head),P=!1;if(D.electricChars){for(var N=0;N<D.electricChars.length;N++)if(m.indexOf(D.electricChars.charAt(N))>-1){P=Yu(c,E.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(Je(c.doc,E.head.line).text.slice(0,E.head.ch))&&(P=Yu(c,E.head.line,"smart"));P&&bi(c,"electricInput",c,E.head.line)}}}function ig(c){for(var m=[],_=[],v=0;v<c.doc.sel.ranges.length;v++){var E=c.doc.sel.ranges[v].head.line,D={anchor:He(E,0),head:He(E+1,0)};_.push(D),m.push(c.getRange(D.anchor,D.head))}return{text:m,ranges:_}}function ng(c,m,_,v){c.setAttribute("autocorrect",_?"":"off"),c.setAttribute("autocapitalize",v?"":"off"),c.setAttribute("spellcheck",!!m)}function sg(){var c=J("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),m=J("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?c.style.width="1000px":c.setAttribute("wrap","off"),k&&(c.style.border="1px solid black"),ng(c),m}function Jh(c,m,_,v,E){var D=m,P=_,N=Je(c,m.line),q=E&&c.direction=="rtl"?-_:_;function H(Ue){var Qe,Ze;if(v=="codepoint"){var dt=N.text.charCodeAt(m.ch+(_>0?0:-1));if(isNaN(dt))Qe=null;else{var ut=_>0?dt>=55296&&dt<56320:dt>=56320&&dt<57343;Qe=new He(m.line,Math.max(0,Math.min(N.text.length,m.ch+_*(ut?2:1))),-_)}}else Qe=E?function(ft,Qt,St,wr){var Zt=Ce(Qt,ft.doc.direction);if(!Zt)return Vh(Qt,St,wr);St.ch>=Qt.text.length?(St.ch=Qt.text.length,St.sticky="before"):St.ch<=0&&(St.ch=0,St.sticky="after");var Hr=ce(Zt,St.ch,St.sticky),mi=Zt[Hr];if(ft.doc.direction=="ltr"&&mi.level%2==0&&(wr>0?mi.to>St.ch:mi.from<St.ch))return Vh(Qt,St,wr);var Vr,Mr=function(yi,ss){return Hh(Qt,yi instanceof He?yi.ch:yi,ss)},Gr=function(yi){return ft.options.lineWrapping?(Vr=Vr||Kr(ft,Qt),Gp(ft,Qt,Vr,yi)):{begin:0,end:Qt.text.length}},mr=Gr(St.sticky=="before"?Mr(St,-1):St.ch);if(ft.doc.direction=="rtl"||mi.level==1){var gi=mi.level==1==wr<0,dr=Mr(St,gi?1:-1);if(dr!=null&&(gi?dr<=mi.to&&dr<=mr.end:dr>=mi.from&&dr>=mr.begin)){var Fr=gi?"before":"after";return new He(St.line,dr,Fr)}}var br=function(yi,ss,os){for(var Yi=function(To,cd){return cd?new He(St.line,Mr(To,1),"before"):new He(St.line,To,"after")};yi>=0&&yi<Zt.length;yi+=ss){var Ss=Zt[yi],go=ss>0==(Ss.level!=1),Xn=go?os.begin:Mr(os.end,-1);if(Ss.from<=Xn&&Xn<Ss.to||(Xn=go?Ss.from:Mr(Ss.to,-1),os.begin<=Xn&&Xn<os.end))return Yi(Xn,go)}},Qr=br(Hr+wr,wr,mr);if(Qr)return Qr;var Es=wr>0?mr.end:Mr(mr.begin,-1);return Es==null||wr>0&&Es==Qt.text.length||!(Qr=br(wr>0?0:Zt.length-1,wr,Gr(Es)))?null:Qr}(c.cm,N,m,_):Vh(N,m,_);if(Qe==null){if(Ue||(Ze=m.line+q)<c.first||Ze>=c.first+c.size||(m=new He(Ze,m.ch,m.sticky),!(N=Je(c,Ze))))return!1;m=Gh(E,c.cm,N,m.line,q)}else m=Qe;return!0}if(v=="char"||v=="codepoint")H();else if(v=="column")H(!0);else if(v=="word"||v=="group")for(var se=null,le=v=="group",we=c.cm&&c.cm.getHelper(m,"wordChars"),be=!0;!(_<0)||H(!be);be=!1){var Fe=N.text.charAt(m.ch)||`
`,Pe=K(Fe,we)?"w":le&&Fe==`
`?"n":!le||/\s/.test(Fe)?null:"p";if(!le||be||Pe||(Pe="s"),se&&se!=Pe){_<0&&(_=1,H(),m.sticky="after");break}if(Pe&&(se=Pe),_>0&&!H(!be))break}var Re=td(c,m,D,P,!0);return Dr(D,Re)&&(Re.hitSide=!0),Re}function og(c,m,_,v){var E,D,P=c.doc,N=m.left;if(v=="page"){var q=Math.min(c.display.wrapper.clientHeight,it(c).innerHeight||P(c).documentElement.clientHeight),H=Math.max(q-.5*Pl(c.display),3);E=(_>0?m.bottom:m.top)+_*H}else v=="line"&&(E=_>0?m.bottom+3:m.top-3);for(;(D=wh(c,N,E)).outside;){if(_<0?E<=0:E>=P.height){D.hitSide=!0;break}E+=5*_}return D}var Si=function(c){this.cm=c,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function ag(c,m){var _=Cr(c,m.line);if(!_||_.hidden)return null;var v=Je(c.doc,m.line),E=at(_,v,m.line),D=Ce(v,c.doc.direction),P="left";D&&(P=ce(D,m.ch)%2?"right":"left");var N=$p(E.map,m.ch,P);return N.offset=N.collapse=="right"?N.end:N.start,N}function Zl(c,m){return m&&(c.bad=!0),c}function ld(c,m,_){var v;if(m==c.display.lineDiv){if(!(v=c.display.lineDiv.childNodes[_]))return Zl(c.clipPos(He(c.display.viewTo-1)),!0);m=null,_=0}else for(v=m;;v=v.parentNode){if(!v||v==c.display.lineDiv)return null;if(v.parentNode&&v.parentNode==c.display.lineDiv)break}for(var E=0;E<c.display.view.length;E++){var D=c.display.view[E];if(D.node==v)return Vy(D,m,_)}}function Vy(c,m,_){var v=c.text.firstChild,E=!1;if(!m||!pe(v,m))return Zl(He(Ct(c.line),0),!0);if(m==v&&(E=!0,m=v.childNodes[_],_=0,!m)){var D=c.rest?ue(c.rest):c.line;return Zl(He(Ct(D),D.text.length),E)}var P=m.nodeType==3?m:null,N=m;for(P||m.childNodes.length!=1||m.firstChild.nodeType!=3||(P=m.firstChild,_&&(_=P.nodeValue.length));N.parentNode!=v;)N=N.parentNode;var q=c.measure,H=q.maps;function se(Re,Ue,Qe){for(var Ze=-1;Ze<(H?H.length:0);Ze++)for(var dt=Ze<0?q.map:H[Ze],ut=0;ut<dt.length;ut+=3){var ft=dt[ut+2];if(ft==Re||ft==Ue){var Qt=Ct(Ze<0?c.line:c.rest[Ze]),St=dt[ut]+Qe;return(Qe<0||ft!=Re)&&(St=dt[ut+(Qe?1:0)]),He(Qt,St)}}}var le=se(P,N,_);if(le)return Zl(le,E);for(var we=N.nextSibling,be=P?P.nodeValue.length-_:0;we;we=we.nextSibling){if(le=se(we,we.firstChild,0))return Zl(He(le.line,le.ch-be),E);be+=we.textContent.length}for(var Fe=N.previousSibling,Pe=_;Fe;Fe=Fe.previousSibling){if(le=se(Fe,Fe.firstChild,-1))return Zl(He(le.line,le.ch+Pe),E);Pe+=Fe.textContent.length}}Si.prototype.init=function(c){var m=this,_=this,v=_.cm,E=_.div=c.lineDiv;function D(N){for(var q=N.target;q;q=q.parentNode){if(q==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(q.className))break}return!1}function P(N){if(D(N)&&!lt(v,N)){if(v.somethingSelected())ad({lineWise:!1,text:v.getSelections()}),N.type=="cut"&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var q=ig(v);ad({lineWise:!0,text:q.text}),N.type=="cut"&&v.operation(function(){v.setSelections(q.ranges,0,Rt),v.replaceSelection("",null,"cut")})}if(N.clipboardData){N.clipboardData.clearData();var H=Ao.text.join(`
`);if(N.clipboardData.setData("Text",H),N.clipboardData.getData("Text")==H)return void N.preventDefault()}var se=sg(),le=se.firstChild;v.display.lineSpace.insertBefore(se,v.display.lineSpace.firstChild),le.value=Ao.text.join(`
`);var we=ee(E.ownerDocument);ve(le),setTimeout(function(){v.display.lineSpace.removeChild(se),we.focus(),we==E&&_.showPrimarySelection()},50)}}E.contentEditable=!0,ng(E,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),De(E,"paste",function(N){!D(N)||lt(v,N)||tg(N,v)||f<=11&&setTimeout(Rn(v,function(){return m.updateFromDOM()}),20)}),De(E,"compositionstart",function(N){m.composing={data:N.data,done:!1}}),De(E,"compositionupdate",function(N){m.composing||(m.composing={data:N.data,done:!1})}),De(E,"compositionend",function(N){m.composing&&(N.data!=m.composing.data&&m.readFromDOMSoon(),m.composing.done=!0)}),De(E,"touchstart",function(){return _.forceCompositionEnd()}),De(E,"input",function(){m.composing||m.readFromDOMSoon()}),De(E,"copy",P),De(E,"cut",P)},Si.prototype.screenReaderLabelChanged=function(c){c?this.div.setAttribute("aria-label",c):this.div.removeAttribute("aria-label")},Si.prototype.prepareSelection=function(){var c=Zp(this.cm,!1);return c.focus=ee(this.div.ownerDocument)==this.div,c},Si.prototype.showSelection=function(c,m){c&&this.cm.display.view.length&&((c.focus||m)&&this.showPrimarySelection(),this.showMultipleSelections(c))},Si.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Si.prototype.showPrimarySelection=function(){var c=this.getSelection(),m=this.cm,_=m.doc.sel.primary(),v=_.from(),E=_.to();if(m.display.viewTo==m.display.viewFrom||v.line>=m.display.viewTo||E.line<m.display.viewFrom)c.removeAllRanges();else{var D=ld(m,c.anchorNode,c.anchorOffset),P=ld(m,c.focusNode,c.focusOffset);if(!D||D.bad||!P||P.bad||ht(ui(D,P),v)!=0||ht(ni(D,P),E)!=0){var N=m.display.view,q=v.line>=m.display.viewFrom&&ag(m,v)||{node:N[0].measure.map[2],offset:0},H=E.line<m.display.viewTo&&ag(m,E);if(!H){var se=N[N.length-1].measure,le=se.maps?se.maps[se.maps.length-1]:se.map;H={node:le[le.length-1],offset:le[le.length-2]-le[le.length-3]}}if(q&&H){var we,be=c.rangeCount&&c.getRangeAt(0);try{we=U(q.node,q.offset,H.offset,H.node)}catch{}we&&(!a&&m.state.focused?(c.collapse(q.node,q.offset),we.collapsed||(c.removeAllRanges(),c.addRange(we))):(c.removeAllRanges(),c.addRange(we)),be&&c.anchorNode==null?c.addRange(be):a&&this.startGracePeriod()),this.rememberSelection()}else c.removeAllRanges()}}},Si.prototype.startGracePeriod=function(){var c=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){c.gracePeriod=!1,c.selectionChanged()&&c.cm.operation(function(){return c.cm.curOp.selectionChanged=!0})},20)},Si.prototype.showMultipleSelections=function(c){Q(this.cm.display.cursorDiv,c.cursors),Q(this.cm.display.selectionDiv,c.selection)},Si.prototype.rememberSelection=function(){var c=this.getSelection();this.lastAnchorNode=c.anchorNode,this.lastAnchorOffset=c.anchorOffset,this.lastFocusNode=c.focusNode,this.lastFocusOffset=c.focusOffset},Si.prototype.selectionInEditor=function(){var c=this.getSelection();if(!c.rangeCount)return!1;var m=c.getRangeAt(0).commonAncestorContainer;return pe(this.div,m)},Si.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&ee(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Si.prototype.blur=function(){this.div.blur()},Si.prototype.getField=function(){return this.div},Si.prototype.supportsTouch=function(){return!0},Si.prototype.receivedFocus=function(){var c=this,m=this;this.selectionInEditor()?setTimeout(function(){return c.pollSelection()},20):zs(this.cm,function(){return m.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function _(){m.cm.state.focused&&(m.pollSelection(),m.polling.set(m.cm.options.pollInterval,_))})},Si.prototype.selectionChanged=function(){var c=this.getSelection();return c.anchorNode!=this.lastAnchorNode||c.anchorOffset!=this.lastAnchorOffset||c.focusNode!=this.lastFocusNode||c.focusOffset!=this.lastFocusOffset},Si.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var c=this.getSelection(),m=this.cm;if(O&&y&&this.cm.display.gutterSpecs.length&&function(E){for(var D=E;D;D=D.parentNode)if(/CodeMirror-gutter-wrapper/.test(D.className))return!0;return!1}(c.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var _=ld(m,c.anchorNode,c.anchorOffset),v=ld(m,c.focusNode,c.focusOffset);_&&v&&zs(m,function(){ns(m.doc,Da(_,v),Rt),(_.bad||v.bad)&&(m.curOp.selectionChanged=!0)})}}},Si.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var c,m,_,v=this.cm,E=v.display,D=v.doc.sel.primary(),P=D.from(),N=D.to();if(P.ch==0&&P.line>v.firstLine()&&(P=He(P.line-1,Je(v.doc,P.line-1).length)),N.ch==Je(v.doc,N.line).text.length&&N.line<v.lastLine()&&(N=He(N.line+1,0)),P.line<E.viewFrom||N.line>E.viewTo-1)return!1;P.line==E.viewFrom||(c=sl(v,P.line))==0?(m=Ct(E.view[0].line),_=E.view[0].node):(m=Ct(E.view[c].line),_=E.view[c-1].node.nextSibling);var q,H,se=sl(v,N.line);if(se==E.view.length-1?(q=E.viewTo-1,H=E.lineDiv.lastChild):(q=Ct(E.view[se+1].line)-1,H=E.view[se+1].node.previousSibling),!_)return!1;for(var le=v.doc.splitLines(function(Qt,St,wr,Zt,Hr){var mi="",Vr=!1,Mr=Qt.doc.lineSeparator(),Gr=!1;function mr(br){return function(Qr){return Qr.id==br}}function gi(){Vr&&(mi+=Mr,Gr&&(mi+=Mr),Vr=Gr=!1)}function dr(br){br&&(gi(),mi+=br)}function Fr(br){if(br.nodeType==1){var Qr=br.getAttribute("cm-text");if(Qr)return void dr(Qr);var Es,yi=br.getAttribute("cm-marker");if(yi){var ss=Qt.findMarks(He(Zt,0),He(Hr+1,0),mr(+yi));return void(ss.length&&(Es=ss[0].find(0))&&dr(Kt(Qt.doc,Es.from,Es.to).join(Mr)))}if(br.getAttribute("contenteditable")=="false")return;var os=/^(pre|div|p|li|table|br)$/i.test(br.nodeName);if(!/^br$/i.test(br.nodeName)&&br.textContent.length==0)return;os&&gi();for(var Yi=0;Yi<br.childNodes.length;Yi++)Fr(br.childNodes[Yi]);/^(pre|p)$/i.test(br.nodeName)&&(Gr=!0),os&&(Vr=!0)}else br.nodeType==3&&dr(br.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Fr(St),St!=wr;)St=St.nextSibling,Gr=!1;return mi}(v,_,H,m,q)),we=Kt(v.doc,He(m,0),He(q,Je(v.doc,q).text.length));le.length>1&&we.length>1;)if(ue(le)==ue(we))le.pop(),we.pop(),q--;else{if(le[0]!=we[0])break;le.shift(),we.shift(),m++}for(var be=0,Fe=0,Pe=le[0],Re=we[0],Ue=Math.min(Pe.length,Re.length);be<Ue&&Pe.charCodeAt(be)==Re.charCodeAt(be);)++be;for(var Qe=ue(le),Ze=ue(we),dt=Math.min(Qe.length-(le.length==1?be:0),Ze.length-(we.length==1?be:0));Fe<dt&&Qe.charCodeAt(Qe.length-Fe-1)==Ze.charCodeAt(Ze.length-Fe-1);)++Fe;if(le.length==1&&we.length==1&&m==P.line)for(;be&&be>P.ch&&Qe.charCodeAt(Qe.length-Fe-1)==Ze.charCodeAt(Ze.length-Fe-1);)be--,Fe++;le[le.length-1]=Qe.slice(0,Qe.length-Fe).replace(/^\u200b+/,""),le[0]=le[0].slice(be).replace(/\u200b+$/,"");var ut=He(m,be),ft=He(q,we.length?ue(we).length-Fe:0);return le.length>1||le[0]||ht(ut,ft)?(Hl(v.doc,le,ut,ft,"+input"),!0):void 0},Si.prototype.ensurePolled=function(){this.forceCompositionEnd()},Si.prototype.reset=function(){this.forceCompositionEnd()},Si.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Si.prototype.readFromDOMSoon=function(){var c=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(c.readDOMTimeout=null,c.composing){if(!c.composing.done)return;c.composing=null}c.updateFromDOM()},80))},Si.prototype.updateFromDOM=function(){var c=this;!this.cm.isReadOnly()&&this.pollContent()||zs(this.cm,function(){return Ds(c.cm)})},Si.prototype.setUneditable=function(c){c.contentEditable="false"},Si.prototype.onKeyPress=function(c){c.charCode==0||this.composing||(c.preventDefault(),this.cm.isReadOnly()||Rn(this.cm,Kh)(this.cm,String.fromCharCode(c.charCode==null?c.keyCode:c.charCode),0))},Si.prototype.readOnlyChanged=function(c){this.div.contentEditable=String(c!="nocursor")},Si.prototype.onContextMenu=function(){},Si.prototype.resetPosition=function(){},Si.prototype.needsContentAttribute=!0;var gn=function(c){this.cm=c,this.prevInput="",this.pollingFast=!1,this.polling=new nt,this.hasSelection=!1,this.composing=null,this.resetting=!1};gn.prototype.init=function(c){var m=this,_=this,v=this.cm;this.createField(c);var E=this.textarea;function D(P){if(!lt(v,P)){if(v.somethingSelected())ad({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var N=ig(v);ad({lineWise:!0,text:N.text}),P.type=="cut"?v.setSelections(N.ranges,null,Rt):(_.prevInput="",E.value=N.text.join(`
`),ve(E))}P.type=="cut"&&(v.state.cutIncoming=+new Date)}}c.wrapper.insertBefore(this.wrapper,c.wrapper.firstChild),k&&(E.style.width="0px"),De(E,"input",function(){d&&f>=9&&m.hasSelection&&(m.hasSelection=null),_.poll()}),De(E,"paste",function(P){lt(v,P)||tg(P,v)||(v.state.pasteIncoming=+new Date,_.fastPoll())}),De(E,"cut",D),De(E,"copy",D),De(c.scroller,"paste",function(P){if(!Xr(c,P)&&!lt(v,P)){if(!E.dispatchEvent)return v.state.pasteIncoming=+new Date,void _.focus();var N=new Event("paste");N.clipboardData=P.clipboardData,E.dispatchEvent(N)}}),De(c.lineSpace,"selectstart",function(P){Xr(c,P)||Ht(P)}),De(E,"compositionstart",function(){var P=v.getCursor("from");_.composing&&_.composing.range.clear(),_.composing={start:P,range:v.markText(P,v.getCursor("to"),{className:"CodeMirror-composing"})}}),De(E,"compositionend",function(){_.composing&&(_.poll(),_.composing.range.clear(),_.composing=null)})},gn.prototype.createField=function(c){this.wrapper=sg(),this.textarea=this.wrapper.firstChild},gn.prototype.screenReaderLabelChanged=function(c){c?this.textarea.setAttribute("aria-label",c):this.textarea.removeAttribute("aria-label")},gn.prototype.prepareSelection=function(){var c=this.cm,m=c.display,_=c.doc,v=Zp(c);if(c.options.moveInputWithCursor){var E=Co(c,_.sel.primary().head,"div"),D=m.wrapper.getBoundingClientRect(),P=m.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(m.wrapper.clientHeight-10,E.top+P.top-D.top)),v.teLeft=Math.max(0,Math.min(m.wrapper.clientWidth-10,E.left+P.left-D.left))}return v},gn.prototype.showSelection=function(c){var m=this.cm.display;Q(m.cursorDiv,c.cursors),Q(m.selectionDiv,c.selection),c.teTop!=null&&(this.wrapper.style.top=c.teTop+"px",this.wrapper.style.left=c.teLeft+"px")},gn.prototype.reset=function(c){if(!(this.contextMenuPending||this.composing&&c)){var m=this.cm;if(this.resetting=!0,m.somethingSelected()){this.prevInput="";var _=m.getSelection();this.textarea.value=_,m.state.focused&&ve(this.textarea),d&&f>=9&&(this.hasSelection=_)}else c||(this.prevInput=this.textarea.value="",d&&f>=9&&(this.hasSelection=null));this.resetting=!1}},gn.prototype.getField=function(){return this.textarea},gn.prototype.supportsTouch=function(){return!1},gn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!M||ee(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},gn.prototype.blur=function(){this.textarea.blur()},gn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gn.prototype.receivedFocus=function(){this.slowPoll()},gn.prototype.slowPoll=function(){var c=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){c.poll(),c.cm.state.focused&&c.slowPoll()})},gn.prototype.fastPoll=function(){var c=!1,m=this;m.pollingFast=!0,m.polling.set(20,function _(){m.poll()||c?(m.pollingFast=!1,m.slowPoll()):(c=!0,m.polling.set(60,_))})},gn.prototype.poll=function(){var c=this,m=this.cm,_=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!m.state.focused||pr(_)&&!v&&!this.composing||m.isReadOnly()||m.options.disableInput||m.state.keySeq)return!1;var E=_.value;if(E==v&&!m.somethingSelected())return!1;if(d&&f>=9&&this.hasSelection===E||A&&/[\uf700-\uf7ff]/.test(E))return m.display.input.reset(),!1;if(m.doc.sel==m.display.selForContextMenu){var D=E.charCodeAt(0);if(D!=8203||v||(v="​"),D==8666)return this.reset(),this.cm.execCommand("undo")}for(var P=0,N=Math.min(v.length,E.length);P<N&&v.charCodeAt(P)==E.charCodeAt(P);)++P;return zs(m,function(){Kh(m,E.slice(P),v.length-P,null,c.composing?"*compose":null),E.length>1e3||E.indexOf(`
`)>-1?_.value=c.prevInput="":c.prevInput=E,c.composing&&(c.composing.range.clear(),c.composing.range=m.markText(c.composing.start,m.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gn.prototype.onKeyPress=function(){d&&f>=9&&(this.hasSelection=null),this.fastPoll()},gn.prototype.onContextMenu=function(c){var m=this,_=m.cm,v=_.display,E=m.textarea;m.contextMenuPending&&m.contextMenuPending();var D=nl(_,c),P=v.scroller.scrollTop;if(D&&!x){_.options.resetSelectionOnContextMenu&&_.doc.sel.contains(D)==-1&&Rn(_,ns)(_.doc,Da(D),Rt);var N,q=E.style.cssText,H=m.wrapper.style.cssText,se=m.wrapper.offsetParent.getBoundingClientRect();if(m.wrapper.style.cssText="position: static",E.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(c.clientY-se.top-5)+"px; left: "+(c.clientX-se.left-5)+`px;
      z-index: 1000; background: `+(d?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,p&&(N=E.ownerDocument.defaultView.scrollY),v.input.focus(),p&&E.ownerDocument.defaultView.scrollTo(null,N),v.input.reset(),_.somethingSelected()||(E.value=m.prevInput=" "),m.contextMenuPending=be,v.selForContextMenu=_.doc.sel,clearTimeout(v.detectingSelectAll),d&&f>=9&&we(),L){Yt(c);var le=function(){Ve(window,"mouseup",le),setTimeout(be,20)};De(window,"mouseup",le)}else setTimeout(be,50)}function we(){if(E.selectionStart!=null){var Fe=_.somethingSelected(),Pe="​"+(Fe?E.value:"");E.value="⇚",E.value=Pe,m.prevInput=Fe?"":"​",E.selectionStart=1,E.selectionEnd=Pe.length,v.selForContextMenu=_.doc.sel}}function be(){if(m.contextMenuPending==be&&(m.contextMenuPending=!1,m.wrapper.style.cssText=H,E.style.cssText=q,d&&f<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=P),E.selectionStart!=null)){(!d||d&&f<9)&&we();var Fe=0,Pe=function(){v.selForContextMenu==_.doc.sel&&E.selectionStart==0&&E.selectionEnd>0&&m.prevInput=="​"?Rn(_,Cm)(_):Fe++<10?v.detectingSelectAll=setTimeout(Pe,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Pe,200)}}},gn.prototype.readOnlyChanged=function(c){c||this.reset(),this.textarea.disabled=c=="nocursor",this.textarea.readOnly=!!c},gn.prototype.setUneditable=function(){},gn.prototype.needsContentAttribute=!1,function(c){var m=c.optionHandlers;function _(v,E,D,P){c.defaults[v]=E,D&&(m[v]=P?function(N,q,H){H!=Yl&&D(N,q,H)}:D)}c.defineOption=_,c.Init=Yl,_("value","",function(v,E){return v.setValue(E)},!0),_("mode",null,function(v,E){v.doc.modeOption=E,Bh(v)},!0),_("indentUnit",2,Bh,!0),_("indentWithTabs",!1),_("smartIndent",!0),_("tabSize",4,function(v){Fu(v),Au(v),Ds(v)},!0),_("lineSeparator",null,function(v,E){if(v.doc.lineSep=E,E){var D=[],P=v.doc.first;v.doc.iter(function(q){for(var H=0;;){var se=q.text.indexOf(E,H);if(se==-1)break;H=se+E.length,D.push(He(P,se))}P++});for(var N=D.length-1;N>=0;N--)Hl(v.doc,E,D[N],He(D[N].line,D[N].ch+E.length))}}),_("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,E,D){v.state.specialChars=new RegExp(E.source+(E.test("	")?"":"|	"),"g"),D!=Yl&&v.refresh()}),_("specialCharPlaceholder",zr,function(v){return v.refresh()},!0),_("electricChars",!0),_("inputStyle",M?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),_("spellcheck",!1,function(v,E){return v.getInputField().spellcheck=E},!0),_("autocorrect",!1,function(v,E){return v.getInputField().autocorrect=E},!0),_("autocapitalize",!1,function(v,E){return v.getInputField().autocapitalize=E},!0),_("rtlMoveVisually",!R),_("wholeLineUpdateBefore",!0),_("theme","default",function(v){Qm(v),Iu(v)},!0),_("keyMap","default",function(v,E,D){var P=nd(E),N=D!=Yl&&nd(D);N&&N.detach&&N.detach(v,P),P.attach&&P.attach(v,N||null)}),_("extraKeys",null),_("configureMouse",null),_("lineWrapping",!1,Hy,!0),_("gutters",[],function(v,E){v.display.gutterSpecs=Nh(E,v.options.lineNumbers),Iu(v)},!0),_("fixedGutter",!0,function(v,E){v.display.gutters.style.left=E?Ch(v.display)+"px":"0",v.refresh()},!0),_("coverGutterNextToScrollbar",!1,function(v){return jl(v)},!0),_("scrollbarStyle","native",function(v){rm(v),jl(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),_("lineNumbers",!1,function(v,E){v.display.gutterSpecs=Nh(v.options.gutters,E),Iu(v)},!0),_("firstLineNumber",1,Iu,!0),_("lineNumberFormatter",function(v){return v},Iu,!0),_("showCursorWhenSelecting",!1,Tu,!0),_("resetSelectionOnContextMenu",!0),_("lineWiseCopyCut",!0),_("pasteLinesPerSelection",!0),_("selectionsMayTouch",!1),_("readOnly",!1,function(v,E){E=="nocursor"&&($l(v),v.display.input.blur()),v.display.input.readOnlyChanged(E)}),_("screenReaderLabel",null,function(v,E){E=E===""?null:E,v.display.input.screenReaderLabelChanged(E)}),_("disableInput",!1,function(v,E){E||v.display.input.reset()},!0),_("dragDrop",!0,qy),_("allowDropFileTypes",null),_("cursorBlinkRate",530),_("cursorScrollMargin",0),_("cursorHeight",1,Tu,!0),_("singleCursorHeightPerLine",!0,Tu,!0),_("workTime",100),_("workDelay",100),_("flattenSpans",!0,Fu,!0),_("addModeClass",!1,Fu,!0),_("pollInterval",100),_("undoDepth",200,function(v,E){return v.doc.history.undoDepth=E}),_("historyEventDelay",1250),_("viewportMargin",10,function(v){return v.refresh()},!0),_("maxHighlightLength",1e4,Fu,!0),_("moveInputWithCursor",!0,function(v,E){E||v.display.input.resetPosition()}),_("tabindex",null,function(v,E){return v.display.input.getField().tabIndex=E||""}),_("autofocus",null),_("direction","ltr",function(v,E){return v.doc.setDirection(E)},!0),_("phrases",null)}(Qi),function(c){var m=c.optionHandlers,_=c.helpers={};c.prototype={constructor:c,focus:function(){it(this).focus(),this.display.input.focus()},setOption:function(v,E){var D=this.options,P=D[v];D[v]==E&&v!="mode"||(D[v]=E,m.hasOwnProperty(v)&&Rn(this,m[v])(this,E,P),ot(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,E){this.state.keyMaps[E?"push":"unshift"](nd(v))},removeKeyMap:function(v){for(var E=this.state.keyMaps,D=0;D<E.length;++D)if(E[D]==v||E[D].name==v)return E.splice(D,1),!0},addOverlay:ws(function(v,E){var D=v.token?v:c.getMode(this.options,v);if(D.startState)throw new Error("Overlays may not be stateful.");(function(P,N,q){for(var H=0,se=q(N);H<P.length&&q(P[H])<=se;)H++;P.splice(H,0,N)})(this.state.overlays,{mode:D,modeSpec:v,opaque:E&&E.opaque,priority:E&&E.priority||0},function(P){return P.priority}),this.state.modeGen++,Ds(this)}),removeOverlay:ws(function(v){for(var E=this.state.overlays,D=0;D<E.length;++D){var P=E[D].modeSpec;if(P==v||typeof v=="string"&&P.name==v)return E.splice(D,1),this.state.modeGen++,void Ds(this)}}),indentLine:ws(function(v,E,D){typeof E!="string"&&typeof E!="number"&&(E=E==null?this.options.smartIndent?"smart":"prev":E?"add":"subtract"),Li(this.doc,v)&&Yu(this,v,E,D)}),indentSelection:ws(function(v){for(var E=this.doc.sel.ranges,D=-1,P=0;P<E.length;P++){var N=E[P];if(N.empty())N.head.line>D&&(Yu(this,N.head.line,v,!0),D=N.head.line,P==this.doc.sel.primIndex&&Bl(this));else{var q=N.from(),H=N.to(),se=Math.max(D,q.line);D=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var le=se;le<D;++le)Yu(this,le,v);var we=this.doc.sel.ranges;q.ch==0&&E.length==we.length&&we[P].from().ch>0&&qh(this.doc,P,new pi(q,we[P].to()),Rt)}}}),getTokenAt:function(v,E){return ys(this,v,E)},getLineTokens:function(v,E){return ys(this,He(v),E,!0)},getTokenTypeAt:function(v){v=Ot(this.doc,v);var E,D=Hn(this,Je(this.doc,v.line)),P=0,N=(D.length-1)/2,q=v.ch;if(q==0)E=D[2];else for(;;){var H=P+N>>1;if((H?D[2*H-1]:0)>=q)N=H;else{if(!(D[2*H+1]<q)){E=D[2*H+2];break}P=H+1}}var se=E?E.indexOf("overlay "):-1;return se<0?E:se==0?null:E.slice(0,se-1)},getModeAt:function(v){var E=this.doc.mode;return E.innerMode?c.innerMode(E,this.getTokenAt(v).state).mode:E},getHelper:function(v,E){return this.getHelpers(v,E)[0]},getHelpers:function(v,E){var D=[];if(!_.hasOwnProperty(E))return D;var P=_[E],N=this.getModeAt(v);if(typeof N[E]=="string")P[N[E]]&&D.push(P[N[E]]);else if(N[E])for(var q=0;q<N[E].length;q++){var H=P[N[E][q]];H&&D.push(H)}else N.helperType&&P[N.helperType]?D.push(P[N.helperType]):P[N.name]&&D.push(P[N.name]);for(var se=0;se<P._global.length;se++){var le=P._global[se];le.pred(N,this)&&vt(D,le.val)==-1&&D.push(le.val)}return D},getStateAfter:function(v,E){var D=this.doc;return ps(this,(v=qr(D,v??D.first+D.size-1))+1,E).state},cursorCoords:function(v,E){var D=this.doc.sel.primary();return Co(this,v==null?D.head:typeof v=="object"?Ot(this.doc,v):v?D.from():D.to(),E||"page")},charCoords:function(v,E){return qc(this,Ot(this.doc,v),E||"page")},coordsChar:function(v,E){return wh(this,(v=qp(this,v,E||"page")).left,v.top)},lineAtHeight:function(v,E){return v=qp(this,{top:v,left:0},E||"page").top,ii(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,E,D){var P,N=!1;if(typeof v=="number"){var q=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>q&&(v=q,N=!0),P=Je(this.doc,v)}else P=v;return Uc(this,P,{top:0,left:0},E||"page",D||N).top+(N?this.doc.height-X(P):0)},defaultTextHeight:function(){return Pl(this.display)},defaultCharWidth:function(){return Nl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,E,D,P,N){var q,H,se,le=this.display,we=(v=Co(this,Ot(this.doc,v))).bottom,be=v.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),le.sizer.appendChild(E),P=="over")we=v.top;else if(P=="above"||P=="near"){var Fe=Math.max(le.wrapper.clientHeight,this.doc.height),Pe=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);(P=="above"||v.bottom+E.offsetHeight>Fe)&&v.top>E.offsetHeight?we=v.top-E.offsetHeight:v.bottom+E.offsetHeight<=Fe&&(we=v.bottom),be+E.offsetWidth>Pe&&(be=Pe-E.offsetWidth)}E.style.top=we+"px",E.style.left=E.style.right="",N=="right"?(be=le.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):(N=="left"?be=0:N=="middle"&&(be=(le.sizer.clientWidth-E.offsetWidth)/2),E.style.left=be+"px"),D&&(q=this,H={left:be,top:we,right:be+E.offsetWidth,bottom:we+E.offsetHeight},(se=Oh(q,H)).scrollTop!=null&&Lu(q,se.scrollTop),se.scrollLeft!=null&&ol(q,se.scrollLeft))},triggerOnKeyDown:ws(Gm),triggerOnKeyPress:ws(Ym),triggerOnKeyUp:Wm,triggerOnMouseDown:ws(Zm),execCommand:function(v){if(Hu.hasOwnProperty(v))return Hu[v].call(null,this)},triggerElectric:ws(function(v){rg(this,v)}),findPosH:function(v,E,D,P){var N=1;E<0&&(N=-1,E=-E);for(var q=Ot(this.doc,v),H=0;H<E&&!(q=Jh(this.doc,q,N,D,P)).hitSide;++H);return q},moveH:ws(function(v,E){var D=this;this.extendSelectionsBy(function(P){return D.display.shift||D.doc.extend||P.empty()?Jh(D.doc,P.head,v,E,D.options.rtlMoveVisually):v<0?P.from():P.to()},or)}),deleteH:ws(function(v,E){var D=this.doc.sel,P=this.doc;D.somethingSelected()?P.replaceSelection("",null,"+delete"):Wl(this,function(N){var q=Jh(P,N.head,v,E,!1);return v<0?{from:q,to:N.head}:{from:N.head,to:q}})}),findPosV:function(v,E,D,P){var N=1,q=P;E<0&&(N=-1,E=-E);for(var H=Ot(this.doc,v),se=0;se<E;++se){var le=Co(this,H,"div");if(q==null?q=le.left:le.left=q,(H=og(this,le,N,D)).hitSide)break}return H},moveV:ws(function(v,E){var D=this,P=this.doc,N=[],q=!this.display.shift&&!P.extend&&P.sel.somethingSelected();if(P.extendSelectionsBy(function(se){if(q)return v<0?se.from():se.to();var le=Co(D,se.head,"div");se.goalColumn!=null&&(le.left=se.goalColumn),N.push(le.left);var we=og(D,le,v,E);return E=="page"&&se==P.sel.primary()&&Mh(D,qc(D,we,"div").top-le.top),we},or),N.length)for(var H=0;H<P.sel.ranges.length;H++)P.sel.ranges[H].goalColumn=N[H]}),findWordAt:function(v){var E=Je(this.doc,v.line).text,D=v.ch,P=v.ch;if(E){var N=this.getHelper(v,"wordChars");v.sticky!="before"&&P!=E.length||!D?++P:--D;for(var q=E.charAt(D),H=K(q,N)?function(se){return K(se,N)}:/\s/.test(q)?function(se){return/\s/.test(se)}:function(se){return!/\s/.test(se)&&!K(se)};D>0&&H(E.charAt(D-1));)--D;for(;P<E.length&&H(E.charAt(P));)++P}return new pi(He(v.line,D),He(v.line,P))},toggleOverwrite:function(v){v!=null&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?B(this.display.cursorDiv,"CodeMirror-overwrite"):Y(this.display.cursorDiv,"CodeMirror-overwrite"),ot(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ee(ze(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ws(function(v,E){Du(this,v,E)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-Ui(this)-this.display.barHeight,width:v.scrollWidth-Ui(this)-this.display.barWidth,clientHeight:ke(this),clientWidth:Ji(this)}},scrollIntoView:ws(function(v,E){v==null?(v={from:this.doc.sel.primary().head,to:null},E==null&&(E=this.options.cursorScrollMargin)):typeof v=="number"?v={from:He(v,0),to:null}:v.from==null&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=E||0,v.from.line!=null?function(D,P){Yc(D),D.curOp.scrollToPos=P}(this,v):Jp(this,v.from,v.to,v.margin)}),setSize:ws(function(v,E){var D=this,P=function(q){return typeof q=="number"||/^\d+$/.test(String(q))?q+"px":q};v!=null&&(this.display.wrapper.style.width=P(v)),E!=null&&(this.display.wrapper.style.height=P(E)),this.options.lineWrapping&&jp(this);var N=this.display.viewFrom;this.doc.iter(N,this.display.viewTo,function(q){if(q.widgets){for(var H=0;H<q.widgets.length;H++)if(q.widgets[H].noHScroll){Aa(D,N,"widget");break}}++N}),this.curOp.forceUpdate=!0,ot(this,"refresh",this)}),operation:function(v){return zs(this,v)},startOperation:function(){return ll(this)},endOperation:function(){return ul(this)},refresh:ws(function(){var v=this.display.cachedTextHeight;Ds(this),this.curOp.forceUpdate=!0,Au(this),Du(this,this.doc.scrollLeft,this.doc.scrollTop),Fh(this.display),(v==null||Math.abs(v-Pl(this.display))>.5||this.options.lineWrapping)&&kh(this),ot(this,"refresh",this)}),swapDoc:ws(function(v){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),hm(this,v),Au(this),this.display.input.reset(),Du(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,bi(this,"swapDoc",this,E),E}),phrase:function(v){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,v)?E[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},zt(c),c.registerHelper=function(v,E,D){_.hasOwnProperty(v)||(_[v]=c[v]={_global:[]}),_[v][E]=D},c.registerGlobalHelper=function(v,E,D,P){c.registerHelper(v,E,P),_[v]._global.push({pred:D,val:P})}}(Qi);var Gy="iter insert remove copy getEditor constructor".split(" ");for(var ud in Ls.prototype)Ls.prototype.hasOwnProperty(ud)&&vt(Gy,ud)<0&&(Qi.prototype[ud]=function(c){return function(){return c.apply(this.doc,arguments)}}(Ls.prototype[ud]));return zt(Ls),Qi.inputStyles={textarea:gn,contenteditable:Si},Qi.defineMode=function(c){Qi.defaults.mode||c=="null"||(Qi.defaults.mode=c),qn.apply(this,arguments)},Qi.defineMIME=function(c,m){ur[c]=m},Qi.defineMode("null",function(){return{token:function(c){return c.skipToEnd()}}}),Qi.defineMIME("text/plain","null"),Qi.defineExtension=function(c,m){Qi.prototype[c]=m},Qi.defineDocExtension=function(c,m){Ls.prototype[c]=m},Qi.fromTextArea=function(c,m){if((m=m?Ne(m):{}).value=c.value,!m.tabindex&&c.tabIndex&&(m.tabindex=c.tabIndex),!m.placeholder&&c.placeholder&&(m.placeholder=c.placeholder),m.autofocus==null){var _=ee(c.ownerDocument);m.autofocus=_==c||c.getAttribute("autofocus")!=null&&_==document.body}function v(){c.value=N.getValue()}var E;if(c.form&&(De(c.form,"submit",v),!m.leaveSubmitMethodAlone)){var D=c.form;E=D.submit;try{var P=D.submit=function(){v(),D.submit=E,D.submit(),D.submit=P}}catch{}}m.finishInit=function(q){q.save=v,q.getTextArea=function(){return c},q.toTextArea=function(){q.toTextArea=isNaN,v(),c.parentNode.removeChild(q.getWrapperElement()),c.style.display="",c.form&&(Ve(c.form,"submit",v),m.leaveSubmitMethodAlone||typeof c.form.submit!="function"||(c.form.submit=E))}},c.style.display="none";var N=Qi(function(q){return c.parentNode.insertBefore(q,c.nextSibling)},m);return N},function(c){c.off=Ve,c.on=De,c.wheelEventPixels=My,c.Doc=Ls,c.splitLines=$r,c.countColumn=Xe,c.findColumn=di,c.isWordChar=W,c.Pass=Dt,c.signal=ot,c.Line=Pt,c.changeEnd=La,c.scrollbarModel=tm,c.Pos=He,c.cmpPos=ht,c.modes=Cn,c.mimeModes=ur,c.resolveMode=fe,c.getMode=Te,c.modeExtensions=rt,c.extendMode=Ye,c.copyState=bt,c.startState=Wt,c.innerMode=qt,c.commands=Hu,c.keyMap=ca,c.keyName=zm,c.isModifierKey=Bm,c.lookupKey=Gl,c.normalizeKeyMap=zy,c.StringStream=pt,c.SharedTextMarker=zu,c.TextMarker=Ma,c.LineWidget=ju,c.e_preventDefault=Ht,c.e_stopPropagation=Vt,c.e_stop=Yt,c.addClass=B,c.contains=pe,c.rmClass=Y,c.keyNames=Ra}(Qi),Qi.version="5.65.9",Qi})},{}],11:[function(r,i,n){var s;s=function(o){var a=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;o.defineMode("gfm",function(l,u){var h=0,d={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(g){return{code:g.code,codeBlock:g.codeBlock,ateSpace:g.ateSpace}},token:function(g,y){if(y.combineTokens=null,y.codeBlock)return g.match(/^```+/)?(y.codeBlock=!1,null):(g.skipToEnd(),null);if(g.sol()&&(y.code=!1),g.sol()&&g.match(/^```+/))return g.skipToEnd(),y.codeBlock=!0,null;if(g.peek()==="`"){g.next();var b=g.pos;g.eatWhile("`");var x=1+g.pos-b;return y.code?x===h&&(y.code=!1):(h=x,y.code=!0),null}return y.code?(g.next(),null):g.eatSpace()?(y.ateSpace=!0,null):(g.sol()||y.ateSpace)&&(y.ateSpace=!1,u.gitHubSpice!==!1)&&(g.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||g.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))||g.match(a)&&g.string.slice(g.start-2,g.start)!="]("&&(g.start==0||/\W/.test(g.string.charAt(g.start-1)))?(y.combineTokens=!0,"link"):(g.next(),null)},blankLine:function(g){return g.code=!1,null}},f={taskLists:!0,strikethrough:!0,emoji:!0};for(var p in u)f[p]=u[p];return f.name="markdown",o.overlayMode(o.getMode(l,f),d)},"markdown"),o.defineMIME("text/x-gfm","gfm")},typeof n=="object"&&typeof i=="object"?s(r("../../lib/codemirror"),r("../markdown/markdown"),r("../../addon/mode/overlay")):s(CodeMirror)},{"../../addon/mode/overlay":7,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(r,i,n){var s;s=function(o){o.defineMode("markdown",function(a,l){var u=o.getMode(a,"text/html"),h=u.name=="null";l.highlightFormatting===void 0&&(l.highlightFormatting=!1),l.maxBlockquoteDepth===void 0&&(l.maxBlockquoteDepth=0),l.taskLists===void 0&&(l.taskLists=!1),l.strikethrough===void 0&&(l.strikethrough=!1),l.emoji===void 0&&(l.emoji=!1),l.fencedCodeBlockHighlighting===void 0&&(l.fencedCodeBlockHighlighting=!0),l.fencedCodeBlockDefaultMode===void 0&&(l.fencedCodeBlockDefaultMode="text/plain"),l.xml===void 0&&(l.xml=!0),l.tokenTypeOverrides===void 0&&(l.tokenTypeOverrides={});var d={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var f in d)d.hasOwnProperty(f)&&l.tokenTypeOverrides[f]&&(d[f]=l.tokenTypeOverrides[f]);var p=/^([*\-_])(?:\s*\1){2,}\s*$/,g=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,y=/^\[(x| )\](?=\s)/i,b=l.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,x=/^ {0,3}(?:\={1,}|-{2,})\s*$/,w=/^[^#!\[\]*_\\<>` "'(~:]+/,S=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,C=/^\s*\[[^\]]+?\]:.*$/,k=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function O(ee,B,ge){return B.f=B.inline=ge,ge(ee,B)}function M(ee,B,ge){return B.f=B.block=ge,ge(ee,B)}function A(ee){if(ee.linkTitle=!1,ee.linkHref=!1,ee.linkText=!1,ee.em=!1,ee.strong=!1,ee.strikethrough=!1,ee.quote=0,ee.indentedCode=!1,ee.f==R){var B=h;if(!B){var ge=o.innerMode(u,ee.htmlState);B=ge.mode.name=="xml"&&ge.state.tagStart===null&&!ge.state.context&&ge.state.tokenize.isInText}B&&(ee.f=F,ee.block=I,ee.htmlState=null)}return ee.trailingSpace=0,ee.trailingSpaceNewLine=!1,ee.prevLine=ee.thisLine,ee.thisLine={stream:null},null}function I(ee,B){var ge,ve=ee.column()===B.indentation,ze=!(ge=B.prevLine.stream)||!/\S/.test(ge.string),it=B.indentedCode,tt=B.prevLine.hr,Ne=B.list!==!1,Xe=(B.listStack[B.listStack.length-1]||0)+3;B.indentedCode=!1;var nt=B.indentation;if(B.indentationDiff===null&&(B.indentationDiff=B.indentation,Ne)){for(B.list=null;nt<B.listStack[B.listStack.length-1];)B.listStack.pop(),B.listStack.length?B.indentation=B.listStack[B.listStack.length-1]:B.list=!1;B.list!==!1&&(B.indentationDiff=nt-B.listStack[B.listStack.length-1])}var vt=!(ze||tt||B.prevLine.header||Ne&&it||B.prevLine.fencedCodeEnd),Dt=(B.list===!1||tt||ze)&&B.indentation<=Xe&&ee.match(p),Rt=null;if(B.indentationDiff>=4&&(it||B.prevLine.fencedCodeEnd||B.prevLine.header||ze))return ee.skipToEnd(),B.indentedCode=!0,d.code;if(ee.eatSpace())return null;if(ve&&B.indentation<=Xe&&(Rt=ee.match(b))&&Rt[1].length<=6)return B.quote=0,B.header=Rt[1].length,B.thisLine.header=!0,l.highlightFormatting&&(B.formatting="header"),B.f=B.inline,oe(B);if(B.indentation<=Xe&&ee.eat(">"))return B.quote=ve?1:B.quote+1,l.highlightFormatting&&(B.formatting="quote"),ee.eatSpace(),oe(B);if(!Dt&&!B.setext&&ve&&B.indentation<=Xe&&(Rt=ee.match(g))){var Er=Rt[1]?"ol":"ul";return B.indentation=nt+ee.current().length,B.list=!0,B.quote=0,B.listStack.push(B.indentation),B.em=!1,B.strong=!1,B.code=!1,B.strikethrough=!1,l.taskLists&&ee.match(y,!1)&&(B.taskList=!0),B.f=B.inline,l.highlightFormatting&&(B.formatting=["list","list-"+Er]),oe(B)}return ve&&B.indentation<=Xe&&(Rt=ee.match(S,!0))?(B.quote=0,B.fencedEndRE=new RegExp(Rt[1]+"+ *$"),B.localMode=l.fencedCodeBlockHighlighting&&function(or){if(o.findModeByName){var di=o.findModeByName(or);di&&(or=di.mime||di.mimes[0])}var We=o.getMode(a,or);return We.name=="null"?null:We}(Rt[2]||l.fencedCodeBlockDefaultMode),B.localMode&&(B.localState=o.startState(B.localMode)),B.f=B.block=V,l.highlightFormatting&&(B.formatting="code-block"),B.code=-1,oe(B)):B.setext||!(vt&&Ne||B.quote||B.list!==!1||B.code||Dt||C.test(ee.string))&&(Rt=ee.lookAhead(1))&&(Rt=Rt.match(x))?(B.setext?(B.header=B.setext,B.setext=0,ee.skipToEnd(),l.highlightFormatting&&(B.formatting="header")):(B.header=Rt[0].charAt(0)=="="?1:2,B.setext=B.header),B.thisLine.header=!0,B.f=B.inline,oe(B)):Dt?(ee.skipToEnd(),B.hr=!0,B.thisLine.hr=!0,d.hr):ee.peek()==="["?O(ee,B,Q):O(ee,B,B.inline)}function R(ee,B){var ge=u.token(ee,B.htmlState);if(!h){var ve=o.innerMode(u,B.htmlState);(ve.mode.name=="xml"&&ve.state.tagStart===null&&!ve.state.context&&ve.state.tokenize.isInText||B.md_inside&&ee.current().indexOf(">")>-1)&&(B.f=F,B.block=I,B.htmlState=null)}return ge}function V(ee,B){var ge,ve=B.listStack[B.listStack.length-1]||0,ze=B.indentation<ve,it=ve+3;return B.fencedEndRE&&B.indentation<=it&&(ze||ee.match(B.fencedEndRE))?(l.highlightFormatting&&(B.formatting="code-block"),ze||(ge=oe(B)),B.localMode=B.localState=null,B.block=I,B.f=F,B.fencedEndRE=null,B.code=0,B.thisLine.fencedCodeEnd=!0,ze?M(ee,B,B.block):ge):B.localMode?B.localMode.token(ee,B.localState):(ee.skipToEnd(),d.code)}function oe(ee){var B=[];if(ee.formatting){B.push(d.formatting),typeof ee.formatting=="string"&&(ee.formatting=[ee.formatting]);for(var ge=0;ge<ee.formatting.length;ge++)B.push(d.formatting+"-"+ee.formatting[ge]),ee.formatting[ge]==="header"&&B.push(d.formatting+"-"+ee.formatting[ge]+"-"+ee.header),ee.formatting[ge]==="quote"&&(!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=ee.quote?B.push(d.formatting+"-"+ee.formatting[ge]+"-"+ee.quote):B.push("error"))}if(ee.taskOpen)return B.push("meta"),B.length?B.join(" "):null;if(ee.taskClosed)return B.push("property"),B.length?B.join(" "):null;if(ee.linkHref?B.push(d.linkHref,"url"):(ee.strong&&B.push(d.strong),ee.em&&B.push(d.em),ee.strikethrough&&B.push(d.strikethrough),ee.emoji&&B.push(d.emoji),ee.linkText&&B.push(d.linkText),ee.code&&B.push(d.code),ee.image&&B.push(d.image),ee.imageAltText&&B.push(d.imageAltText,"link"),ee.imageMarker&&B.push(d.imageMarker)),ee.header&&B.push(d.header,d.header+"-"+ee.header),ee.quote&&(B.push(d.quote),!l.maxBlockquoteDepth||l.maxBlockquoteDepth>=ee.quote?B.push(d.quote+"-"+ee.quote):B.push(d.quote+"-"+l.maxBlockquoteDepth)),ee.list!==!1){var ve=(ee.listStack.length-1)%3;ve?ve===1?B.push(d.list2):B.push(d.list3):B.push(d.list1)}return ee.trailingSpaceNewLine?B.push("trailing-space-new-line"):ee.trailingSpace&&B.push("trailing-space-"+(ee.trailingSpace%2?"a":"b")),B.length?B.join(" "):null}function L(ee,B){if(ee.match(w,!0))return oe(B)}function F(ee,B){var ge=B.text(ee,B);if(ge!==void 0)return ge;if(B.list)return B.list=null,oe(B);if(B.taskList)return ee.match(y,!0)[1]===" "?B.taskOpen=!0:B.taskClosed=!0,l.highlightFormatting&&(B.formatting="task"),B.taskList=!1,oe(B);if(B.taskOpen=!1,B.taskClosed=!1,B.header&&ee.match(/^#+$/,!0))return l.highlightFormatting&&(B.formatting="header"),oe(B);var ve=ee.next();if(B.linkTitle){B.linkTitle=!1;var ze=ve;ve==="("&&(ze=")");var it="^\\s*(?:[^"+(ze=(ze+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+ze;if(ee.match(new RegExp(it),!0))return d.linkHref}if(ve==="`"){var tt=B.formatting;l.highlightFormatting&&(B.formatting="code"),ee.eatWhile("`");var Ne=ee.current().length;if(B.code!=0||B.quote&&Ne!=1){if(Ne==B.code){var Xe=oe(B);return B.code=0,Xe}return B.formatting=tt,oe(B)}return B.code=Ne,oe(B)}if(B.code)return oe(B);if(ve==="\\"&&(ee.next(),l.highlightFormatting)){var nt=oe(B),vt=d.formatting+"-escape";return nt?nt+" "+vt:vt}if(ve==="!"&&ee.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return B.imageMarker=!0,B.image=!0,l.highlightFormatting&&(B.formatting="image"),oe(B);if(ve==="["&&B.imageMarker&&ee.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return B.imageMarker=!1,B.imageAltText=!0,l.highlightFormatting&&(B.formatting="image"),oe(B);if(ve==="]"&&B.imageAltText){l.highlightFormatting&&(B.formatting="image");var nt=oe(B);return B.imageAltText=!1,B.image=!1,B.inline=B.f=Y,nt}if(ve==="["&&!B.image)return B.linkText&&ee.match(/^.*?\]/)||(B.linkText=!0,l.highlightFormatting&&(B.formatting="link")),oe(B);if(ve==="]"&&B.linkText){l.highlightFormatting&&(B.formatting="link");var nt=oe(B);return B.linkText=!1,B.inline=B.f=ee.match(/\(.*?\)| ?\[.*?\]/,!1)?Y:F,nt}if(ve==="<"&&ee.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return B.f=B.inline=U,l.highlightFormatting&&(B.formatting="link"),(nt=oe(B))?nt+=" ":nt="",nt+d.linkInline;if(ve==="<"&&ee.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return B.f=B.inline=U,l.highlightFormatting&&(B.formatting="link"),(nt=oe(B))?nt+=" ":nt="",nt+d.linkEmail;if(l.xml&&ve==="<"&&ee.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Dt=ee.string.indexOf(">",ee.pos);if(Dt!=-1){var Rt=ee.string.substring(ee.start,Dt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Rt)&&(B.md_inside=!0)}return ee.backUp(1),B.htmlState=o.startState(u),M(ee,B,R)}if(l.xml&&ve==="<"&&ee.match(/^\/\w*?>/))return B.md_inside=!1,"tag";if(ve==="*"||ve==="_"){for(var Er=1,or=ee.pos==1?" ":ee.string.charAt(ee.pos-2);Er<3&&ee.eat(ve);)Er++;var di=ee.peek()||" ",We=!/\s/.test(di)&&(!k.test(di)||/\s/.test(or)||k.test(or)),he=!/\s/.test(or)&&(!k.test(or)||/\s/.test(di)||k.test(di)),ue=null,ae=null;if(Er%2&&(B.em||!We||ve!=="*"&&he&&!k.test(or)?B.em!=ve||!he||ve!=="*"&&We&&!k.test(di)||(ue=!1):ue=!0),Er>1&&(B.strong||!We||ve!=="*"&&he&&!k.test(or)?B.strong!=ve||!he||ve!=="*"&&We&&!k.test(di)||(ae=!1):ae=!0),ae!=null||ue!=null)return l.highlightFormatting&&(B.formatting=ue==null?"strong":ae==null?"em":"strong em"),ue===!0&&(B.em=ve),ae===!0&&(B.strong=ve),Xe=oe(B),ue===!1&&(B.em=!1),ae===!1&&(B.strong=!1),Xe}else if(ve===" "&&(ee.eat("*")||ee.eat("_"))){if(ee.peek()===" ")return oe(B);ee.backUp(1)}if(l.strikethrough){if(ve==="~"&&ee.eatWhile(ve)){if(B.strikethrough)return l.highlightFormatting&&(B.formatting="strikethrough"),Xe=oe(B),B.strikethrough=!1,Xe;if(ee.match(/^[^\s]/,!1))return B.strikethrough=!0,l.highlightFormatting&&(B.formatting="strikethrough"),oe(B)}else if(ve===" "&&ee.match("~~",!0)){if(ee.peek()===" ")return oe(B);ee.backUp(2)}}if(l.emoji&&ve===":"&&ee.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){B.emoji=!0,l.highlightFormatting&&(B.formatting="emoji");var me=oe(B);return B.emoji=!1,me}return ve===" "&&(ee.match(/^ +$/,!1)?B.trailingSpace++:B.trailingSpace&&(B.trailingSpaceNewLine=!0)),oe(B)}function U(ee,B){if(ee.next()===">"){B.f=B.inline=F,l.highlightFormatting&&(B.formatting="link");var ge=oe(B);return ge?ge+=" ":ge="",ge+d.linkInline}return ee.match(/^[^>]+/,!0),d.linkInline}function Y(ee,B){if(ee.eatSpace())return null;var ge,ve=ee.next();return ve==="("||ve==="["?(B.f=B.inline=(ge=ve==="("?")":"]",function(ze,it){if(ze.next()===ge){it.f=it.inline=F,l.highlightFormatting&&(it.formatting="link-string");var tt=oe(it);return it.linkHref=!1,tt}return ze.match(G[ge]),it.linkHref=!0,oe(it)}),l.highlightFormatting&&(B.formatting="link-string"),B.linkHref=!0,oe(B)):"error"}var G={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Q(ee,B){return ee.match(/^([^\]\\]|\\.)*\]:/,!1)?(B.f=J,ee.next(),l.highlightFormatting&&(B.formatting="link"),B.linkText=!0,oe(B)):O(ee,B,F)}function J(ee,B){if(ee.match("]:",!0)){B.f=B.inline=re,l.highlightFormatting&&(B.formatting="link");var ge=oe(B);return B.linkText=!1,ge}return ee.match(/^([^\]\\]|\\.)+/,!0),d.linkText}function re(ee,B){return ee.eatSpace()?null:(ee.match(/^[^\s]+/,!0),ee.peek()===void 0?B.linkTitle=!0:ee.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),B.f=B.inline=F,d.linkHref+" url")}var pe={startState:function(){return{f:I,prevLine:{stream:null},thisLine:{stream:null},block:I,htmlState:null,indentation:0,inline:F,text:L,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ee){return{f:ee.f,prevLine:ee.prevLine,thisLine:ee.thisLine,block:ee.block,htmlState:ee.htmlState&&o.copyState(u,ee.htmlState),indentation:ee.indentation,localMode:ee.localMode,localState:ee.localMode?o.copyState(ee.localMode,ee.localState):null,inline:ee.inline,text:ee.text,formatting:!1,linkText:ee.linkText,linkTitle:ee.linkTitle,linkHref:ee.linkHref,code:ee.code,em:ee.em,strong:ee.strong,strikethrough:ee.strikethrough,emoji:ee.emoji,header:ee.header,setext:ee.setext,hr:ee.hr,taskList:ee.taskList,list:ee.list,listStack:ee.listStack.slice(0),quote:ee.quote,indentedCode:ee.indentedCode,trailingSpace:ee.trailingSpace,trailingSpaceNewLine:ee.trailingSpaceNewLine,md_inside:ee.md_inside,fencedEndRE:ee.fencedEndRE}},token:function(ee,B){if(B.formatting=!1,ee!=B.thisLine.stream){if(B.header=0,B.hr=!1,ee.match(/^\s*$/,!0))return A(B),null;if(B.prevLine=B.thisLine,B.thisLine={stream:ee},B.taskList=!1,B.trailingSpace=0,B.trailingSpaceNewLine=!1,!B.localState&&(B.f=B.block,B.f!=R)){var ge=ee.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(B.indentation=ge,B.indentationDiff=null,ge>0)return null}}return B.f(ee,B)},innerMode:function(ee){return ee.block==R?{state:ee.htmlState,mode:u}:ee.localState?{state:ee.localState,mode:ee.localMode}:{state:ee,mode:pe}},indent:function(ee,B,ge){return ee.block==R&&u.indent?u.indent(ee.htmlState,B,ge):ee.localState&&ee.localMode.indent?ee.localMode.indent(ee.localState,B,ge):o.Pass},blankLine:A,getType:oe,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return pe},"xml"),o.defineMIME("text/markdown","markdown"),o.defineMIME("text/x-markdown","markdown")},typeof n=="object"&&typeof i=="object"?s(r("../../lib/codemirror"),r("../xml/xml"),r("../meta")):s(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(r,i,n){(function(s){s.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var o=0;o<s.modeInfo.length;o++){var a=s.modeInfo[o];a.mimes&&(a.mime=a.mimes[0])}s.findModeByMIME=function(l){l=l.toLowerCase();for(var u=0;u<s.modeInfo.length;u++){var h=s.modeInfo[u];if(h.mime==l)return h;if(h.mimes){for(var d=0;d<h.mimes.length;d++)if(h.mimes[d]==l)return h}}return/\+xml$/.test(l)?s.findModeByMIME("application/xml"):/\+json$/.test(l)?s.findModeByMIME("application/json"):void 0},s.findModeByExtension=function(l){l=l.toLowerCase();for(var u=0;u<s.modeInfo.length;u++){var h=s.modeInfo[u];if(h.ext){for(var d=0;d<h.ext.length;d++)if(h.ext[d]==l)return h}}},s.findModeByFileName=function(l){for(var u=0;u<s.modeInfo.length;u++){var h=s.modeInfo[u];if(h.file&&h.file.test(l))return h}var d=l.lastIndexOf("."),f=d>-1&&l.substring(d+1,l.length);if(f)return s.findModeByExtension(f)},s.findModeByName=function(l){l=l.toLowerCase();for(var u=0;u<s.modeInfo.length;u++){var h=s.modeInfo[u];if(h.name.toLowerCase()==l)return h;if(h.alias){for(var d=0;d<h.alias.length;d++)if(h.alias[d].toLowerCase()==l)return h}}}})(typeof n=="object"&&typeof i=="object"?r("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(r,i,n){(function(s){var o={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},a={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};s.defineMode("xml",function(l,u){var h,d,f=l.indentUnit,p={},g=u.htmlMode?o:a;for(var y in g)p[y]=g[y];for(var y in u)p[y]=u[y];function b(G,Q){function J(pe){return Q.tokenize=pe,pe(G,Q)}var re=G.next();return re=="<"?G.eat("!")?G.eat("[")?G.match("CDATA[")?J(w("atom","]]>")):null:G.match("--")?J(w("comment","-->")):G.match("DOCTYPE",!0,!0)?(G.eatWhile(/[\w\._\-]/),J(S(1))):null:G.eat("?")?(G.eatWhile(/[\w\._\-]/),Q.tokenize=w("meta","?>"),"meta"):(h=G.eat("/")?"closeTag":"openTag",Q.tokenize=x,"tag bracket"):re=="&"?(G.eat("#")?G.eat("x")?G.eatWhile(/[a-fA-F\d]/)&&G.eat(";"):G.eatWhile(/[\d]/)&&G.eat(";"):G.eatWhile(/[\w\.\-:]/)&&G.eat(";"))?"atom":"error":(G.eatWhile(/[^&<]/),null)}function x(G,Q){var J,re,pe=G.next();if(pe==">"||pe=="/"&&G.eat(">"))return Q.tokenize=b,h=pe==">"?"endTag":"selfcloseTag","tag bracket";if(pe=="=")return h="equals",null;if(pe=="<"){Q.tokenize=b,Q.state=A,Q.tagName=Q.tagStart=null;var ee=Q.tokenize(G,Q);return ee?ee+" tag error":"tag error"}return/[\'\"]/.test(pe)?(Q.tokenize=(J=pe,re=function(B,ge){for(;!B.eol();)if(B.next()==J){ge.tokenize=x;break}return"string"},re.isInAttribute=!0,re),Q.stringStartCol=G.column(),Q.tokenize(G,Q)):(G.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function w(G,Q){return function(J,re){for(;!J.eol();){if(J.match(Q)){re.tokenize=b;break}J.next()}return G}}function S(G){return function(Q,J){for(var re;(re=Q.next())!=null;){if(re=="<")return J.tokenize=S(G+1),J.tokenize(Q,J);if(re==">"){if(G==1){J.tokenize=b;break}return J.tokenize=S(G-1),J.tokenize(Q,J)}}return"meta"}}function C(G){return G&&G.toLowerCase()}function k(G,Q,J){this.prev=G.context,this.tagName=Q||"",this.indent=G.indented,this.startOfLine=J,(p.doNotIndent.hasOwnProperty(Q)||G.context&&G.context.noIndent)&&(this.noIndent=!0)}function O(G){G.context&&(G.context=G.context.prev)}function M(G,Q){for(var J;;){if(!G.context||(J=G.context.tagName,!p.contextGrabbers.hasOwnProperty(C(J))||!p.contextGrabbers[C(J)].hasOwnProperty(C(Q))))return;O(G)}}function A(G,Q,J){return G=="openTag"?(J.tagStart=Q.column(),I):G=="closeTag"?R:A}function I(G,Q,J){return G=="word"?(J.tagName=Q.current(),d="tag",L):p.allowMissingTagName&&G=="endTag"?(d="tag bracket",L(G,0,J)):(d="error",I)}function R(G,Q,J){if(G=="word"){var re=Q.current();return J.context&&J.context.tagName!=re&&p.implicitlyClosed.hasOwnProperty(C(J.context.tagName))&&O(J),J.context&&J.context.tagName==re||p.matchClosing===!1?(d="tag",V):(d="tag error",oe)}return p.allowMissingTagName&&G=="endTag"?(d="tag bracket",V(G,0,J)):(d="error",oe)}function V(G,Q,J){return G!="endTag"?(d="error",V):(O(J),A)}function oe(G,Q,J){return d="error",V(G,0,J)}function L(G,Q,J){if(G=="word")return d="attribute",F;if(G=="endTag"||G=="selfcloseTag"){var re=J.tagName,pe=J.tagStart;return J.tagName=J.tagStart=null,G=="selfcloseTag"||p.autoSelfClosers.hasOwnProperty(C(re))?M(J,re):(M(J,re),J.context=new k(J,re,pe==J.indented)),A}return d="error",L}function F(G,Q,J){return G=="equals"?U:(p.allowMissing||(d="error"),L(G,0,J))}function U(G,Q,J){return G=="string"?Y:G=="word"&&p.allowUnquoted?(d="string",L):(d="error",L(G,0,J))}function Y(G,Q,J){return G=="string"?Y:L(G,0,J)}return b.isInText=!0,{startState:function(G){var Q={tokenize:b,state:A,indented:G||0,tagName:null,tagStart:null,context:null};return G!=null&&(Q.baseIndent=G),Q},token:function(G,Q){if(!Q.tagName&&G.sol()&&(Q.indented=G.indentation()),G.eatSpace())return null;h=null;var J=Q.tokenize(G,Q);return(J||h)&&J!="comment"&&(d=null,Q.state=Q.state(h||J,G,Q),d&&(J=d=="error"?J+" error":d)),J},indent:function(G,Q,J){var re=G.context;if(G.tokenize.isInAttribute)return G.tagStart==G.indented?G.stringStartCol+1:G.indented+f;if(re&&re.noIndent)return s.Pass;if(G.tokenize!=x&&G.tokenize!=b)return J?J.match(/^(\s*)/)[0].length:0;if(G.tagName)return p.multilineTagIndentPastTag!==!1?G.tagStart+G.tagName.length+2:G.tagStart+f*(p.multilineTagIndentFactor||1);if(p.alignCDATA&&/<!\[CDATA\[/.test(Q))return 0;var pe=Q&&/^<(\/)?([\w_:\.-]*)/.exec(Q);if(pe&&pe[1])for(;re;){if(re.tagName==pe[2]){re=re.prev;break}if(!p.implicitlyClosed.hasOwnProperty(C(re.tagName)))break;re=re.prev}else if(pe)for(;re;){var ee=p.contextGrabbers[C(re.tagName)];if(!ee||!ee.hasOwnProperty(C(pe[2])))break;re=re.prev}for(;re&&re.prev&&!re.startOfLine;)re=re.prev;return re?re.indent+f:G.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:p.htmlMode?"html":"xml",helperType:p.htmlMode?"html":"xml",skipAttribute:function(G){G.state==U&&(G.state=L)},xmlCurrentTag:function(G){return G.tagName?{name:G.tagName,close:G.type=="closeTag"}:null},xmlCurrentContext:function(G){for(var Q=[],J=G.context;J;J=J.prev)Q.push(J.tagName);return Q.reverse()}}}),s.defineMIME("text/xml","xml"),s.defineMIME("application/xml","xml"),s.mimeModes.hasOwnProperty("text/html")||s.defineMIME("text/html",{name:"xml",htmlMode:!0})})(typeof n=="object"&&typeof i=="object"?r("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(r,i,n){(function(s,o){o(typeof n=="object"&&i!==void 0?n:(s=typeof globalThis<"u"?globalThis:s||self).marked={})})(this,function(s){function o(We,he){for(var ue=0;ue<he.length;ue++){var ae=he[ue];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(We,ae.key,ae)}}function a(We,he){(he==null||he>We.length)&&(he=We.length);for(var ue=0,ae=new Array(he);ue<he;ue++)ae[ue]=We[ue];return ae}function l(We,he){var ue=typeof Symbol<"u"&&We[Symbol.iterator]||We["@@iterator"];if(ue)return(ue=ue.call(We)).next.bind(ue);if(Array.isArray(We)||(ue=function(me,T){if(me){if(typeof me=="string")return a(me,T);var $=Object.prototype.toString.call(me).slice(8,-1);return $==="Object"&&me.constructor&&($=me.constructor.name),$==="Map"||$==="Set"?Array.from(me):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?a(me,T):void 0}}(We))||he){ue&&(We=ue);var ae=0;return function(){return ae>=We.length?{done:!0}:{done:!1,value:We[ae++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}s.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var h=/[&<>"']/,d=/[&<>"']/g,f=/[<>"']|&(?!#?\w+;)/,p=/[<>"']|&(?!#?\w+;)/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=function(We){return g[We]};function b(We,he){if(he){if(h.test(We))return We.replace(d,y)}else if(f.test(We))return We.replace(p,y);return We}var x=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function w(We){return We.replace(x,function(he,ue){return(ue=ue.toLowerCase())==="colon"?":":ue.charAt(0)==="#"?ue.charAt(1)==="x"?String.fromCharCode(parseInt(ue.substring(2),16)):String.fromCharCode(+ue.substring(1)):""})}var S=/(^|[^\[])\^/g;function C(We,he){We=typeof We=="string"?We:We.source,he=he||"";var ue={replace:function(ae,me){return me=(me=me.source||me).replace(S,"$1"),We=We.replace(ae,me),ue},getRegex:function(){return new RegExp(We,he)}};return ue}var k=/[^\w:]/g,O=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function M(We,he,ue){if(We){var ae;try{ae=decodeURIComponent(w(ue)).replace(k,"").toLowerCase()}catch{return null}if(ae.indexOf("javascript:")===0||ae.indexOf("vbscript:")===0||ae.indexOf("data:")===0)return null}he&&!O.test(ue)&&(ue=function(me,T){A[" "+me]||(I.test(me)?A[" "+me]=me+"/":A[" "+me]=U(me,"/",!0));var $=(me=A[" "+me]).indexOf(":")===-1;return T.substring(0,2)==="//"?$?T:me.replace(R,"$1")+T:T.charAt(0)==="/"?$?T:me.replace(V,"$1")+T:me+T}(he,ue));try{ue=encodeURI(ue).replace(/%25/g,"%")}catch{return null}return ue}var A={},I=/^[^:]+:\/*[^/]*$/,R=/^([^:]+:)[\s\S]*$/,V=/^([^:]+:\/*[^/]*)[\s\S]*$/,oe={exec:function(){}};function L(We){for(var he,ue,ae=1;ae<arguments.length;ae++)for(ue in he=arguments[ae])Object.prototype.hasOwnProperty.call(he,ue)&&(We[ue]=he[ue]);return We}function F(We,he){var ue=We.replace(/\|/g,function(me,T,$){for(var W=!1,K=T;--K>=0&&$[K]==="\\";)W=!W;return W?"|":" |"}).split(/ \|/),ae=0;if(ue[0].trim()||ue.shift(),ue.length>0&&!ue[ue.length-1].trim()&&ue.pop(),ue.length>he)ue.splice(he);else for(;ue.length<he;)ue.push("");for(;ae<ue.length;ae++)ue[ae]=ue[ae].trim().replace(/\\\|/g,"|");return ue}function U(We,he,ue){var ae=We.length;if(ae===0)return"";for(var me=0;me<ae;){var T=We.charAt(ae-me-1);if(T!==he||ue){if(T===he||!ue)break;me++}else me++}return We.slice(0,ae-me)}function Y(We){We&&We.sanitize&&!We.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function G(We,he){if(he<1)return"";for(var ue="";he>1;)1&he&&(ue+=We),he>>=1,We+=We;return ue+We}function Q(We,he,ue,ae){var me=he.href,T=he.title?b(he.title):null,$=We[1].replace(/\\([\[\]])/g,"$1");if(We[0].charAt(0)!=="!"){ae.state.inLink=!0;var W={type:"link",raw:ue,href:me,title:T,text:$,tokens:ae.inlineTokens($)};return ae.state.inLink=!1,W}return{type:"image",raw:ue,href:me,title:T,text:b($)}}var J=function(){function We(ue){this.options=ue||s.defaults}var he=We.prototype;return he.space=function(ue){var ae=this.rules.block.newline.exec(ue);if(ae&&ae[0].length>0)return{type:"space",raw:ae[0]}},he.code=function(ue){var ae=this.rules.block.code.exec(ue);if(ae){var me=ae[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ae[0],codeBlockStyle:"indented",text:this.options.pedantic?me:U(me,`
`)}}},he.fences=function(ue){var ae=this.rules.block.fences.exec(ue);if(ae){var me=ae[0],T=function($,W){var K=$.match(/^(\s+)(?:```)/);if(K===null)return W;var ye=K[1];return W.split(`
`).map(function(xe){var Me=xe.match(/^\s+/);return Me===null?xe:Me[0].length>=ye.length?xe.slice(ye.length):xe}).join(`
`)}(me,ae[3]||"");return{type:"code",raw:me,lang:ae[2]?ae[2].trim():ae[2],text:T}}},he.heading=function(ue){var ae=this.rules.block.heading.exec(ue);if(ae){var me=ae[2].trim();if(/#$/.test(me)){var T=U(me,"#");this.options.pedantic?me=T.trim():T&&!/ $/.test(T)||(me=T.trim())}return{type:"heading",raw:ae[0],depth:ae[1].length,text:me,tokens:this.lexer.inline(me)}}},he.hr=function(ue){var ae=this.rules.block.hr.exec(ue);if(ae)return{type:"hr",raw:ae[0]}},he.blockquote=function(ue){var ae=this.rules.block.blockquote.exec(ue);if(ae){var me=ae[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:ae[0],tokens:this.lexer.blockTokens(me,[]),text:me}}},he.list=function(ue){var ae=this.rules.block.list.exec(ue);if(ae){var me,T,$,W,K,ye,xe,Me,j,te,de,ce,Ae=ae[1].trim(),Ce=Ae.length>1,Se={type:"list",raw:"",ordered:Ce,start:Ce?+Ae.slice(0,-1):"",loose:!1,items:[]};Ae=Ce?"\\d{1,9}\\"+Ae.slice(-1):"\\"+Ae,this.options.pedantic&&(Ae=Ce?Ae:"[*+-]");for(var De=new RegExp("^( {0,3}"+Ae+")((?:[	 ][^\\n]*)?(?:\\n|$))");ue&&(ce=!1,ae=De.exec(ue))&&!this.rules.block.hr.test(ue);){if(me=ae[0],ue=ue.substring(me.length),Me=ae[2].split(`
`,1)[0],j=ue.split(`
`,1)[0],this.options.pedantic?(W=2,de=Me.trimLeft()):(W=(W=ae[2].search(/[^ ]/))>4?1:W,de=Me.slice(W),W+=ae[1].length),ye=!1,!Me&&/^ *$/.test(j)&&(me+=j+`
`,ue=ue.substring(j.length+1),ce=!0),!ce)for(var Ie=new RegExp("^ {0,"+Math.min(3,W-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ve=new RegExp("^ {0,"+Math.min(3,W-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ot=new RegExp("^ {0,"+Math.min(3,W-1)+"}(?:```|~~~)"),lt=new RegExp("^ {0,"+Math.min(3,W-1)+"}#");ue&&(Me=te=ue.split(`
`,1)[0],this.options.pedantic&&(Me=Me.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!ot.test(Me))&&!lt.test(Me)&&!Ie.test(Me)&&!Ve.test(ue);){if(Me.search(/[^ ]/)>=W||!Me.trim())de+=`
`+Me.slice(W);else{if(ye)break;de+=`
`+Me}ye||Me.trim()||(ye=!0),me+=te+`
`,ue=ue.substring(te.length+1)}Se.loose||(xe?Se.loose=!0:/\n *\n *$/.test(me)&&(xe=!0)),this.options.gfm&&(T=/^\[[ xX]\] /.exec(de))&&($=T[0]!=="[ ] ",de=de.replace(/^\[[ xX]\] +/,"")),Se.items.push({type:"list_item",raw:me,task:!!T,checked:$,loose:!1,text:de}),Se.raw+=me}Se.items[Se.items.length-1].raw=me.trimRight(),Se.items[Se.items.length-1].text=de.trimRight(),Se.raw=Se.raw.trimRight();var $t=Se.items.length;for(K=0;K<$t;K++){this.lexer.state.top=!1,Se.items[K].tokens=this.lexer.blockTokens(Se.items[K].text,[]);var mt=Se.items[K].tokens.filter(function(Ht){return Ht.type==="space"}),zt=mt.every(function(Ht){for(var Vt,fr=0,Yt=l(Ht.raw.split(""));!(Vt=Yt()).done;)if(Vt.value===`
`&&(fr+=1),fr>1)return!0;return!1});!Se.loose&&mt.length&&zt&&(Se.loose=!0,Se.items[K].loose=!0)}return Se}},he.html=function(ue){var ae=this.rules.block.html.exec(ue);if(ae){var me={type:"html",raw:ae[0],pre:!this.options.sanitizer&&(ae[1]==="pre"||ae[1]==="script"||ae[1]==="style"),text:ae[0]};if(this.options.sanitize){var T=this.options.sanitizer?this.options.sanitizer(ae[0]):b(ae[0]);me.type="paragraph",me.text=T,me.tokens=this.lexer.inline(T)}return me}},he.def=function(ue){var ae=this.rules.block.def.exec(ue);if(ae)return ae[3]&&(ae[3]=ae[3].substring(1,ae[3].length-1)),{type:"def",tag:ae[1].toLowerCase().replace(/\s+/g," "),raw:ae[0],href:ae[2],title:ae[3]}},he.table=function(ue){var ae=this.rules.block.table.exec(ue);if(ae){var me={type:"table",header:F(ae[1]).map(function(xe){return{text:xe}}),align:ae[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ae[3]&&ae[3].trim()?ae[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(me.header.length===me.align.length){me.raw=ae[0];var T,$,W,K,ye=me.align.length;for(T=0;T<ye;T++)/^ *-+: *$/.test(me.align[T])?me.align[T]="right":/^ *:-+: *$/.test(me.align[T])?me.align[T]="center":/^ *:-+ *$/.test(me.align[T])?me.align[T]="left":me.align[T]=null;for(ye=me.rows.length,T=0;T<ye;T++)me.rows[T]=F(me.rows[T],me.header.length).map(function(xe){return{text:xe}});for(ye=me.header.length,$=0;$<ye;$++)me.header[$].tokens=this.lexer.inline(me.header[$].text);for(ye=me.rows.length,$=0;$<ye;$++)for(K=me.rows[$],W=0;W<K.length;W++)K[W].tokens=this.lexer.inline(K[W].text);return me}}},he.lheading=function(ue){var ae=this.rules.block.lheading.exec(ue);if(ae)return{type:"heading",raw:ae[0],depth:ae[2].charAt(0)==="="?1:2,text:ae[1],tokens:this.lexer.inline(ae[1])}},he.paragraph=function(ue){var ae=this.rules.block.paragraph.exec(ue);if(ae){var me=ae[1].charAt(ae[1].length-1)===`
`?ae[1].slice(0,-1):ae[1];return{type:"paragraph",raw:ae[0],text:me,tokens:this.lexer.inline(me)}}},he.text=function(ue){var ae=this.rules.block.text.exec(ue);if(ae)return{type:"text",raw:ae[0],text:ae[0],tokens:this.lexer.inline(ae[0])}},he.escape=function(ue){var ae=this.rules.inline.escape.exec(ue);if(ae)return{type:"escape",raw:ae[0],text:b(ae[1])}},he.tag=function(ue){var ae=this.rules.inline.tag.exec(ue);if(ae)return!this.lexer.state.inLink&&/^<a /i.test(ae[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ae[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ae[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ae[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ae[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ae[0]):b(ae[0]):ae[0]}},he.link=function(ue){var ae=this.rules.inline.link.exec(ue);if(ae){var me=ae[2].trim();if(!this.options.pedantic&&/^</.test(me)){if(!/>$/.test(me))return;var T=U(me.slice(0,-1),"\\");if((me.length-T.length)%2==0)return}else{var $=function(Me,j){if(Me.indexOf(j[1])===-1)return-1;for(var te=Me.length,de=0,ce=0;ce<te;ce++)if(Me[ce]==="\\")ce++;else if(Me[ce]===j[0])de++;else if(Me[ce]===j[1]&&--de<0)return ce;return-1}(ae[2],"()");if($>-1){var W=(ae[0].indexOf("!")===0?5:4)+ae[1].length+$;ae[2]=ae[2].substring(0,$),ae[0]=ae[0].substring(0,W).trim(),ae[3]=""}}var K=ae[2],ye="";if(this.options.pedantic){var xe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(K);xe&&(K=xe[1],ye=xe[3])}else ye=ae[3]?ae[3].slice(1,-1):"";return K=K.trim(),/^</.test(K)&&(K=this.options.pedantic&&!/>$/.test(me)?K.slice(1):K.slice(1,-1)),Q(ae,{href:K&&K.replace(this.rules.inline._escapes,"$1"),title:ye&&ye.replace(this.rules.inline._escapes,"$1")},ae[0],this.lexer)}},he.reflink=function(ue,ae){var me;if((me=this.rules.inline.reflink.exec(ue))||(me=this.rules.inline.nolink.exec(ue))){var T=(me[2]||me[1]).replace(/\s+/g," ");if(!(T=ae[T.toLowerCase()])||!T.href){var $=me[0].charAt(0);return{type:"text",raw:$,text:$}}return Q(me,T,me[0],this.lexer)}},he.emStrong=function(ue,ae,me){me===void 0&&(me="");var T=this.rules.inline.emStrong.lDelim.exec(ue);if(T&&(!T[3]||!me.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var $=T[1]||T[2]||"";if(!$||$&&(me===""||this.rules.inline.punctuation.exec(me))){var W,K,ye=T[0].length-1,xe=ye,Me=0,j=T[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(j.lastIndex=0,ae=ae.slice(-1*ue.length+ye);(T=j.exec(ae))!=null;)if(W=T[1]||T[2]||T[3]||T[4]||T[5]||T[6])if(K=W.length,T[3]||T[4])xe+=K;else if(!((T[5]||T[6])&&ye%3)||(ye+K)%3){if(!((xe-=K)>0)){if(K=Math.min(K,K+xe+Me),Math.min(ye,K)%2){var te=ue.slice(1,ye+T.index+K);return{type:"em",raw:ue.slice(0,ye+T.index+K+1),text:te,tokens:this.lexer.inlineTokens(te)}}var de=ue.slice(2,ye+T.index+K-1);return{type:"strong",raw:ue.slice(0,ye+T.index+K+1),text:de,tokens:this.lexer.inlineTokens(de)}}}else Me+=K}}},he.codespan=function(ue){var ae=this.rules.inline.code.exec(ue);if(ae){var me=ae[2].replace(/\n/g," "),T=/[^ ]/.test(me),$=/^ /.test(me)&&/ $/.test(me);return T&&$&&(me=me.substring(1,me.length-1)),me=b(me,!0),{type:"codespan",raw:ae[0],text:me}}},he.br=function(ue){var ae=this.rules.inline.br.exec(ue);if(ae)return{type:"br",raw:ae[0]}},he.del=function(ue){var ae=this.rules.inline.del.exec(ue);if(ae)return{type:"del",raw:ae[0],text:ae[2],tokens:this.lexer.inlineTokens(ae[2])}},he.autolink=function(ue,ae){var me,T,$=this.rules.inline.autolink.exec(ue);if($)return T=$[2]==="@"?"mailto:"+(me=b(this.options.mangle?ae($[1]):$[1])):me=b($[1]),{type:"link",raw:$[0],text:me,href:T,tokens:[{type:"text",raw:me,text:me}]}},he.url=function(ue,ae){var me;if(me=this.rules.inline.url.exec(ue)){var T,$;if(me[2]==="@")$="mailto:"+(T=b(this.options.mangle?ae(me[0]):me[0]));else{var W;do W=me[0],me[0]=this.rules.inline._backpedal.exec(me[0])[0];while(W!==me[0]);T=b(me[0]),$=me[1]==="www."?"http://"+T:T}return{type:"link",raw:me[0],text:T,href:$,tokens:[{type:"text",raw:T,text:T}]}}},he.inlineText=function(ue,ae){var me,T=this.rules.inline.text.exec(ue);if(T)return me=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(T[0]):b(T[0]):T[0]:b(this.options.smartypants?ae(T[0]):T[0]),{type:"text",raw:T[0],text:me}},We}(),re={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:oe,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};re.def=C(re.def).replace("label",re._label).replace("title",re._title).getRegex(),re.bullet=/(?:[*+-]|\d{1,9}[.)])/,re.listItemStart=C(/^( *)(bull) */).replace("bull",re.bullet).getRegex(),re.list=C(re.list).replace(/bull/g,re.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+re.def.source+")").getRegex(),re._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",re._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,re.html=C(re.html,"i").replace("comment",re._comment).replace("tag",re._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),re.paragraph=C(re._paragraph).replace("hr",re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re._tag).getRegex(),re.blockquote=C(re.blockquote).replace("paragraph",re.paragraph).getRegex(),re.normal=L({},re),re.gfm=L({},re.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),re.gfm.table=C(re.gfm.table).replace("hr",re.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re._tag).getRegex(),re.gfm.paragraph=C(re._paragraph).replace("hr",re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",re.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re._tag).getRegex(),re.pedantic=L({},re.normal,{html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",re._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:oe,paragraph:C(re.normal._paragraph).replace("hr",re.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",re.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var pe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:oe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:oe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ee(We){return We.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function B(We){var he,ue,ae="",me=We.length;for(he=0;he<me;he++)ue=We.charCodeAt(he),Math.random()>.5&&(ue="x"+ue.toString(16)),ae+="&#"+ue+";";return ae}pe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",pe.punctuation=C(pe.punctuation).replace(/punctuation/g,pe._punctuation).getRegex(),pe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,pe.escapedEmSt=/\\\*|\\_/g,pe._comment=C(re._comment).replace("(?:-->|$)","-->").getRegex(),pe.emStrong.lDelim=C(pe.emStrong.lDelim).replace(/punct/g,pe._punctuation).getRegex(),pe.emStrong.rDelimAst=C(pe.emStrong.rDelimAst,"g").replace(/punct/g,pe._punctuation).getRegex(),pe.emStrong.rDelimUnd=C(pe.emStrong.rDelimUnd,"g").replace(/punct/g,pe._punctuation).getRegex(),pe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,pe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,pe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,pe.autolink=C(pe.autolink).replace("scheme",pe._scheme).replace("email",pe._email).getRegex(),pe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,pe.tag=C(pe.tag).replace("comment",pe._comment).replace("attribute",pe._attribute).getRegex(),pe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,pe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,pe.link=C(pe.link).replace("label",pe._label).replace("href",pe._href).replace("title",pe._title).getRegex(),pe.reflink=C(pe.reflink).replace("label",pe._label).replace("ref",re._label).getRegex(),pe.nolink=C(pe.nolink).replace("ref",re._label).getRegex(),pe.reflinkSearch=C(pe.reflinkSearch,"g").replace("reflink",pe.reflink).replace("nolink",pe.nolink).getRegex(),pe.normal=L({},pe),pe.pedantic=L({},pe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",pe._label).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",pe._label).getRegex()}),pe.gfm=L({},pe.normal,{escape:C(pe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),pe.gfm.url=C(pe.gfm.url,"i").replace("email",pe.gfm._extended_email).getRegex(),pe.breaks=L({},pe.gfm,{br:C(pe.br).replace("{2,}","*").getRegex(),text:C(pe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ge=function(){function We(T){this.tokens=[],this.tokens.links=Object.create(null),this.options=T||s.defaults,this.options.tokenizer=this.options.tokenizer||new J,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var $={block:re.normal,inline:pe.normal};this.options.pedantic?($.block=re.pedantic,$.inline=pe.pedantic):this.options.gfm&&($.block=re.gfm,this.options.breaks?$.inline=pe.breaks:$.inline=pe.gfm),this.tokenizer.rules=$}We.lex=function(T,$){return new We($).lex(T)},We.lexInline=function(T,$){return new We($).inlineTokens(T)};var he,ue,ae,me=We.prototype;return me.lex=function(T){var $;for(T=T.replace(/\r\n|\r/g,`
`),this.blockTokens(T,this.tokens);$=this.inlineQueue.shift();)this.inlineTokens($.src,$.tokens);return this.tokens},me.blockTokens=function(T,$){var W,K,ye,xe,Me=this;for($===void 0&&($=[]),T=this.options.pedantic?T.replace(/\t/g,"    ").replace(/^ +$/gm,""):T.replace(/^( *)(\t+)/gm,function(te,de,ce){return de+"    ".repeat(ce.length)});T;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(te){return!!(W=te.call({lexer:Me},T,$))&&(T=T.substring(W.raw.length),$.push(W),!0)}))){if(W=this.tokenizer.space(T))T=T.substring(W.raw.length),W.raw.length===1&&$.length>0?$[$.length-1].raw+=`
`:$.push(W);else if(W=this.tokenizer.code(T))T=T.substring(W.raw.length),!(K=$[$.length-1])||K.type!=="paragraph"&&K.type!=="text"?$.push(W):(K.raw+=`
`+W.raw,K.text+=`
`+W.text,this.inlineQueue[this.inlineQueue.length-1].src=K.text);else if(W=this.tokenizer.fences(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.heading(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.hr(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.blockquote(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.list(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.html(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.def(T))T=T.substring(W.raw.length),!(K=$[$.length-1])||K.type!=="paragraph"&&K.type!=="text"?this.tokens.links[W.tag]||(this.tokens.links[W.tag]={href:W.href,title:W.title}):(K.raw+=`
`+W.raw,K.text+=`
`+W.raw,this.inlineQueue[this.inlineQueue.length-1].src=K.text);else if(W=this.tokenizer.table(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.lheading(T))T=T.substring(W.raw.length),$.push(W);else if(ye=T,this.options.extensions&&this.options.extensions.startBlock&&function(){var te=1/0,de=T.slice(1),ce=void 0;Me.options.extensions.startBlock.forEach(function(Ae){typeof(ce=Ae.call({lexer:this},de))=="number"&&ce>=0&&(te=Math.min(te,ce))}),te<1/0&&te>=0&&(ye=T.substring(0,te+1))}(),this.state.top&&(W=this.tokenizer.paragraph(ye)))K=$[$.length-1],xe&&K.type==="paragraph"?(K.raw+=`
`+W.raw,K.text+=`
`+W.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=K.text):$.push(W),xe=ye.length!==T.length,T=T.substring(W.raw.length);else if(W=this.tokenizer.text(T))T=T.substring(W.raw.length),(K=$[$.length-1])&&K.type==="text"?(K.raw+=`
`+W.raw,K.text+=`
`+W.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=K.text):$.push(W);else if(T){var j="Infinite loop on byte: "+T.charCodeAt(0);if(this.options.silent){console.error(j);break}throw new Error(j)}}return this.state.top=!0,$},me.inline=function(T,$){return $===void 0&&($=[]),this.inlineQueue.push({src:T,tokens:$}),$},me.inlineTokens=function(T,$){var W,K,ye,xe=this;$===void 0&&($=[]);var Me,j,te,de=T;if(this.tokens.links){var ce=Object.keys(this.tokens.links);if(ce.length>0)for(;(Me=this.tokenizer.rules.inline.reflinkSearch.exec(de))!=null;)ce.includes(Me[0].slice(Me[0].lastIndexOf("[")+1,-1))&&(de=de.slice(0,Me.index)+"["+G("a",Me[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Me=this.tokenizer.rules.inline.blockSkip.exec(de))!=null;)de=de.slice(0,Me.index)+"["+G("a",Me[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Me=this.tokenizer.rules.inline.escapedEmSt.exec(de))!=null;)de=de.slice(0,Me.index)+"++"+de.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;T;)if(j||(te=""),j=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ce){return!!(W=Ce.call({lexer:xe},T,$))&&(T=T.substring(W.raw.length),$.push(W),!0)})))if(W=this.tokenizer.escape(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.tag(T))T=T.substring(W.raw.length),(K=$[$.length-1])&&W.type==="text"&&K.type==="text"?(K.raw+=W.raw,K.text+=W.text):$.push(W);else if(W=this.tokenizer.link(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.reflink(T,this.tokens.links))T=T.substring(W.raw.length),(K=$[$.length-1])&&W.type==="text"&&K.type==="text"?(K.raw+=W.raw,K.text+=W.text):$.push(W);else if(W=this.tokenizer.emStrong(T,de,te))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.codespan(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.br(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.del(T))T=T.substring(W.raw.length),$.push(W);else if(W=this.tokenizer.autolink(T,B))T=T.substring(W.raw.length),$.push(W);else if(this.state.inLink||!(W=this.tokenizer.url(T,B))){if(ye=T,this.options.extensions&&this.options.extensions.startInline&&function(){var Ce=1/0,Se=T.slice(1),De=void 0;xe.options.extensions.startInline.forEach(function(Ie){typeof(De=Ie.call({lexer:this},Se))=="number"&&De>=0&&(Ce=Math.min(Ce,De))}),Ce<1/0&&Ce>=0&&(ye=T.substring(0,Ce+1))}(),W=this.tokenizer.inlineText(ye,ee))T=T.substring(W.raw.length),W.raw.slice(-1)!=="_"&&(te=W.raw.slice(-1)),j=!0,(K=$[$.length-1])&&K.type==="text"?(K.raw+=W.raw,K.text+=W.text):$.push(W);else if(T){var Ae="Infinite loop on byte: "+T.charCodeAt(0);if(this.options.silent){console.error(Ae);break}throw new Error(Ae)}}else T=T.substring(W.raw.length),$.push(W);return $},he=We,ae=[{key:"rules",get:function(){return{block:re,inline:pe}}}],(ue=null)&&o(he.prototype,ue),ae&&o(he,ae),Object.defineProperty(he,"prototype",{writable:!1}),We}(),ve=function(){function We(ue){this.options=ue||s.defaults}var he=We.prototype;return he.code=function(ue,ae,me){var T=(ae||"").match(/\S*/)[0];if(this.options.highlight){var $=this.options.highlight(ue,T);$!=null&&$!==ue&&(me=!0,ue=$)}return ue=ue.replace(/\n$/,"")+`
`,T?'<pre><code class="'+this.options.langPrefix+b(T,!0)+'">'+(me?ue:b(ue,!0))+`</code></pre>
`:"<pre><code>"+(me?ue:b(ue,!0))+`</code></pre>
`},he.blockquote=function(ue){return`<blockquote>
`+ue+`</blockquote>
`},he.html=function(ue){return ue},he.heading=function(ue,ae,me,T){return this.options.headerIds?"<h"+ae+' id="'+(this.options.headerPrefix+T.slug(me))+'">'+ue+"</h"+ae+`>
`:"<h"+ae+">"+ue+"</h"+ae+`>
`},he.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},he.list=function(ue,ae,me){var T=ae?"ol":"ul";return"<"+T+(ae&&me!==1?' start="'+me+'"':"")+`>
`+ue+"</"+T+`>
`},he.listitem=function(ue){return"<li>"+ue+`</li>
`},he.checkbox=function(ue){return"<input "+(ue?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},he.paragraph=function(ue){return"<p>"+ue+`</p>
`},he.table=function(ue,ae){return ae&&(ae="<tbody>"+ae+"</tbody>"),`<table>
<thead>
`+ue+`</thead>
`+ae+`</table>
`},he.tablerow=function(ue){return`<tr>
`+ue+`</tr>
`},he.tablecell=function(ue,ae){var me=ae.header?"th":"td";return(ae.align?"<"+me+' align="'+ae.align+'">':"<"+me+">")+ue+"</"+me+`>
`},he.strong=function(ue){return"<strong>"+ue+"</strong>"},he.em=function(ue){return"<em>"+ue+"</em>"},he.codespan=function(ue){return"<code>"+ue+"</code>"},he.br=function(){return this.options.xhtml?"<br/>":"<br>"},he.del=function(ue){return"<del>"+ue+"</del>"},he.link=function(ue,ae,me){if((ue=M(this.options.sanitize,this.options.baseUrl,ue))===null)return me;var T='<a href="'+b(ue)+'"';return ae&&(T+=' title="'+ae+'"'),T+=">"+me+"</a>"},he.image=function(ue,ae,me){if((ue=M(this.options.sanitize,this.options.baseUrl,ue))===null)return me;var T='<img src="'+ue+'" alt="'+me+'"';return ae&&(T+=' title="'+ae+'"'),T+=this.options.xhtml?"/>":">"},he.text=function(ue){return ue},We}(),ze=function(){function We(){}var he=We.prototype;return he.strong=function(ue){return ue},he.em=function(ue){return ue},he.codespan=function(ue){return ue},he.del=function(ue){return ue},he.html=function(ue){return ue},he.text=function(ue){return ue},he.link=function(ue,ae,me){return""+me},he.image=function(ue,ae,me){return""+me},he.br=function(){return""},We}(),it=function(){function We(){this.seen={}}var he=We.prototype;return he.serialize=function(ue){return ue.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},he.getNextSafeSlug=function(ue,ae){var me=ue,T=0;if(this.seen.hasOwnProperty(me)){T=this.seen[ue];do me=ue+"-"+ ++T;while(this.seen.hasOwnProperty(me))}return ae||(this.seen[ue]=T,this.seen[me]=0),me},he.slug=function(ue,ae){ae===void 0&&(ae={});var me=this.serialize(ue);return this.getNextSafeSlug(me,ae.dryrun)},We}(),tt=function(){function We(ue){this.options=ue||s.defaults,this.options.renderer=this.options.renderer||new ve,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ze,this.slugger=new it}We.parse=function(ue,ae){return new We(ae).parse(ue)},We.parseInline=function(ue,ae){return new We(ae).parseInline(ue)};var he=We.prototype;return he.parse=function(ue,ae){ae===void 0&&(ae=!0);var me,T,$,W,K,ye,xe,Me,j,te,de,ce,Ae,Ce,Se,De,Ie,Ve,ot,lt="",$t=ue.length;for(me=0;me<$t;me++)if(te=ue[me],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[te.type])||(ot=this.options.extensions.renderers[te.type].call({parser:this},te))===!1&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(te.type))switch(te.type){case"space":continue;case"hr":lt+=this.renderer.hr();continue;case"heading":lt+=this.renderer.heading(this.parseInline(te.tokens),te.depth,w(this.parseInline(te.tokens,this.textRenderer)),this.slugger);continue;case"code":lt+=this.renderer.code(te.text,te.lang,te.escaped);continue;case"table":for(Me="",xe="",W=te.header.length,T=0;T<W;T++)xe+=this.renderer.tablecell(this.parseInline(te.header[T].tokens),{header:!0,align:te.align[T]});for(Me+=this.renderer.tablerow(xe),j="",W=te.rows.length,T=0;T<W;T++){for(xe="",K=(ye=te.rows[T]).length,$=0;$<K;$++)xe+=this.renderer.tablecell(this.parseInline(ye[$].tokens),{header:!1,align:te.align[$]});j+=this.renderer.tablerow(xe)}lt+=this.renderer.table(Me,j);continue;case"blockquote":j=this.parse(te.tokens),lt+=this.renderer.blockquote(j);continue;case"list":for(de=te.ordered,ce=te.start,Ae=te.loose,W=te.items.length,j="",T=0;T<W;T++)De=(Se=te.items[T]).checked,Ie=Se.task,Ce="",Se.task&&(Ve=this.renderer.checkbox(De),Ae?Se.tokens.length>0&&Se.tokens[0].type==="paragraph"?(Se.tokens[0].text=Ve+" "+Se.tokens[0].text,Se.tokens[0].tokens&&Se.tokens[0].tokens.length>0&&Se.tokens[0].tokens[0].type==="text"&&(Se.tokens[0].tokens[0].text=Ve+" "+Se.tokens[0].tokens[0].text)):Se.tokens.unshift({type:"text",text:Ve}):Ce+=Ve),Ce+=this.parse(Se.tokens,Ae),j+=this.renderer.listitem(Ce,Ie,De);lt+=this.renderer.list(j,de,ce);continue;case"html":lt+=this.renderer.html(te.text);continue;case"paragraph":lt+=this.renderer.paragraph(this.parseInline(te.tokens));continue;case"text":for(j=te.tokens?this.parseInline(te.tokens):te.text;me+1<$t&&ue[me+1].type==="text";)j+=`
`+((te=ue[++me]).tokens?this.parseInline(te.tokens):te.text);lt+=ae?this.renderer.paragraph(j):j;continue;default:var mt='Token with "'+te.type+'" type was not found.';if(this.options.silent)return void console.error(mt);throw new Error(mt)}else lt+=ot||"";return lt},he.parseInline=function(ue,ae){ae=ae||this.renderer;var me,T,$,W="",K=ue.length;for(me=0;me<K;me++)if(T=ue[me],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[T.type])||($=this.options.extensions.renderers[T.type].call({parser:this},T))===!1&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(T.type))switch(T.type){case"escape":case"text":W+=ae.text(T.text);break;case"html":W+=ae.html(T.text);break;case"link":W+=ae.link(T.href,T.title,this.parseInline(T.tokens,ae));break;case"image":W+=ae.image(T.href,T.title,T.text);break;case"strong":W+=ae.strong(this.parseInline(T.tokens,ae));break;case"em":W+=ae.em(this.parseInline(T.tokens,ae));break;case"codespan":W+=ae.codespan(T.text);break;case"br":W+=ae.br();break;case"del":W+=ae.del(this.parseInline(T.tokens,ae));break;default:var ye='Token with "'+T.type+'" type was not found.';if(this.options.silent)return void console.error(ye);throw new Error(ye)}else W+=$||"";return W},We}();function Ne(We,he,ue){if(We==null)throw new Error("marked(): input parameter is undefined or null");if(typeof We!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(We)+", string expected");if(typeof he=="function"&&(ue=he,he=null),Y(he=L({},Ne.defaults,he||{})),ue){var ae,me=he.highlight;try{ae=ge.lex(We,he)}catch(ye){return ue(ye)}var T=function(ye){var xe;if(!ye)try{he.walkTokens&&Ne.walkTokens(ae,he.walkTokens),xe=tt.parse(ae,he)}catch(Me){ye=Me}return he.highlight=me,ye?ue(ye):ue(null,xe)};if(!me||me.length<3||(delete he.highlight,!ae.length))return T();var $=0;return Ne.walkTokens(ae,function(ye){ye.type==="code"&&($++,setTimeout(function(){me(ye.text,ye.lang,function(xe,Me){if(xe)return T(xe);Me!=null&&Me!==ye.text&&(ye.text=Me,ye.escaped=!0),--$===0&&T()})},0))}),void($===0&&T())}function W(ye){if(ye.message+=`
Please report this to https://github.com/markedjs/marked.`,he.silent)return"<p>An error occurred:</p><pre>"+b(ye.message+"",!0)+"</pre>";throw ye}try{var K=ge.lex(We,he);if(he.walkTokens){if(he.async)return Promise.all(Ne.walkTokens(K,he.walkTokens)).then(function(){return tt.parse(K,he)}).catch(W);Ne.walkTokens(K,he.walkTokens)}return tt.parse(K,he)}catch(ye){W(ye)}}Ne.options=Ne.setOptions=function(We){var he;return L(Ne.defaults,We),he=Ne.defaults,s.defaults=he,Ne},Ne.getDefaults=u,Ne.defaults=s.defaults,Ne.use=function(){for(var We=arguments.length,he=new Array(We),ue=0;ue<We;ue++)he[ue]=arguments[ue];var ae,me=L.apply(void 0,[{}].concat(he)),T=Ne.defaults.extensions||{renderers:{},childTokens:{}};he.forEach(function($){if($.extensions&&(ae=!0,$.extensions.forEach(function(K){if(!K.name)throw new Error("extension name required");if(K.renderer){var ye=T.renderers?T.renderers[K.name]:null;T.renderers[K.name]=ye?function(){for(var xe=arguments.length,Me=new Array(xe),j=0;j<xe;j++)Me[j]=arguments[j];var te=K.renderer.apply(this,Me);return te===!1&&(te=ye.apply(this,Me)),te}:K.renderer}if(K.tokenizer){if(!K.level||K.level!=="block"&&K.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");T[K.level]?T[K.level].unshift(K.tokenizer):T[K.level]=[K.tokenizer],K.start&&(K.level==="block"?T.startBlock?T.startBlock.push(K.start):T.startBlock=[K.start]:K.level==="inline"&&(T.startInline?T.startInline.push(K.start):T.startInline=[K.start]))}K.childTokens&&(T.childTokens[K.name]=K.childTokens)})),$.renderer&&function(){var K=Ne.defaults.renderer||new ve,ye=function(Me){var j=K[Me];K[Me]=function(){for(var te=arguments.length,de=new Array(te),ce=0;ce<te;ce++)de[ce]=arguments[ce];var Ae=$.renderer[Me].apply(K,de);return Ae===!1&&(Ae=j.apply(K,de)),Ae}};for(var xe in $.renderer)ye(xe);me.renderer=K}(),$.tokenizer&&function(){var K=Ne.defaults.tokenizer||new J,ye=function(Me){var j=K[Me];K[Me]=function(){for(var te=arguments.length,de=new Array(te),ce=0;ce<te;ce++)de[ce]=arguments[ce];var Ae=$.tokenizer[Me].apply(K,de);return Ae===!1&&(Ae=j.apply(K,de)),Ae}};for(var xe in $.tokenizer)ye(xe);me.tokenizer=K}(),$.walkTokens){var W=Ne.defaults.walkTokens;me.walkTokens=function(K){var ye=[];return ye.push($.walkTokens.call(this,K)),W&&(ye=ye.concat(W.call(this,K))),ye}}ae&&(me.extensions=T),Ne.setOptions(me)})},Ne.walkTokens=function(We,he){for(var ue,ae=[],me=function(){var $=ue.value;switch(ae=ae.concat(he.call(Ne,$)),$.type){case"table":for(var W,K=l($.header);!(W=K()).done;){var ye=W.value;ae=ae.concat(Ne.walkTokens(ye.tokens,he))}for(var xe,Me=l($.rows);!(xe=Me()).done;)for(var j,te=l(xe.value);!(j=te()).done;){var de=j.value;ae=ae.concat(Ne.walkTokens(de.tokens,he))}break;case"list":ae=ae.concat(Ne.walkTokens($.items,he));break;default:Ne.defaults.extensions&&Ne.defaults.extensions.childTokens&&Ne.defaults.extensions.childTokens[$.type]?Ne.defaults.extensions.childTokens[$.type].forEach(function(ce){ae=ae.concat(Ne.walkTokens($[ce],he))}):$.tokens&&(ae=ae.concat(Ne.walkTokens($.tokens,he)))}},T=l(We);!(ue=T()).done;)me();return ae},Ne.parseInline=function(We,he){if(We==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof We!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(We)+", string expected");Y(he=L({},Ne.defaults,he||{}));try{var ue=ge.lexInline(We,he);return he.walkTokens&&Ne.walkTokens(ue,he.walkTokens),tt.parseInline(ue,he)}catch(ae){if(ae.message+=`
Please report this to https://github.com/markedjs/marked.`,he.silent)return"<p>An error occurred:</p><pre>"+b(ae.message+"",!0)+"</pre>";throw ae}},Ne.Parser=tt,Ne.parser=tt.parse,Ne.Renderer=ve,Ne.TextRenderer=ze,Ne.Lexer=ge,Ne.lexer=ge.lex,Ne.Tokenizer=J,Ne.Slugger=it,Ne.parse=Ne;var Xe=Ne.options,nt=Ne.setOptions,vt=Ne.use,Dt=Ne.walkTokens,Rt=Ne.parseInline,Er=Ne,or=tt.parse,di=ge.lex;s.Lexer=ge,s.Parser=tt,s.Renderer=ve,s.Slugger=it,s.TextRenderer=ze,s.Tokenizer=J,s.getDefaults=u,s.lexer=di,s.marked=Ne,s.options=Xe,s.parse=Er,s.parseInline=Rt,s.parser=or,s.setOptions=nt,s.use=vt,s.walkTokens=Dt,Object.defineProperty(s,"__esModule",{value:!0})})},{}],16:[function(r,i,n){(function(s){(function(){var o;(function(){(o=function(a,l,u,h){h=h||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=h.flags||{},this.memoized={},this.loaded=!1;var d,f,p,g,y,b=this;function x(k,O){var M=b._readFile(k,null,h.asyncLoad);h.asyncLoad?M.then(function(A){O(A)}):O(M)}function w(k){l=k,u&&C()}function S(k){u=k,l&&C()}function C(){for(b.rules=b._parseAFF(l),b.compoundRuleCodes={},f=0,g=b.compoundRules.length;f<g;f++){var k=b.compoundRules[f];for(p=0,y=k.length;p<y;p++)b.compoundRuleCodes[k[p]]=[]}for(f in"ONLYINCOMPOUND"in b.flags&&(b.compoundRuleCodes[b.flags.ONLYINCOMPOUND]=[]),b.dictionaryTable=b._parseDIC(u),b.compoundRuleCodes)b.compoundRuleCodes[f].length===0&&delete b.compoundRuleCodes[f];for(f=0,g=b.compoundRules.length;f<g;f++){var O=b.compoundRules[f],M="";for(p=0,y=O.length;p<y;p++){var A=O[p];A in b.compoundRuleCodes?M+="("+b.compoundRuleCodes[A].join("|")+")":M+=A}b.compoundRules[f]=new RegExp(M,"i")}b.loaded=!0,h.asyncLoad&&h.loadedCallback&&h.loadedCallback(b)}return a&&(b.dictionary=a,l&&u?C():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(d=h.dictionaryPath?h.dictionaryPath:"typo/dictionaries",l||x(chrome.extension.getURL(d+"/"+a+"/"+a+".aff"),w),u||x(chrome.extension.getURL(d+"/"+a+"/"+a+".dic"),S)):(d=h.dictionaryPath?h.dictionaryPath:s!==void 0?s+"/dictionaries":"./dictionaries",l||x(d+"/"+a+"/"+a+".aff",w),u||x(d+"/"+a+"/"+a+".dic",S))),this}).prototype={load:function(a){for(var l in a)a.hasOwnProperty(l)&&(this[l]=a[l]);return this},_readFile:function(a,l,u){if(l=l||"utf8",typeof XMLHttpRequest<"u"){var h,d=new XMLHttpRequest;return d.open("GET",a,u),u&&(h=new Promise(function(p,g){d.onload=function(){d.status===200?p(d.responseText):g(d.statusText)},d.onerror=function(){g(d.statusText)}})),d.overrideMimeType&&d.overrideMimeType("text/plain; charset="+l),d.send(null),u?h:d.responseText}if(r!==void 0){var f=r("fs");try{if(f.existsSync(a))return f.readFileSync(a,l);console.log("Path "+a+" does not exist.")}catch(p){return console.log(p),""}}},_parseAFF:function(a){var l,u,h,d,f,p,g,y={},b=a.split(/\r?\n/);for(d=0,p=b.length;d<p;d++)if(l=(l=this._removeAffixComments(b[d])).trim()){var x=l.split(/\s+/),w=x[0];if(w=="PFX"||w=="SFX"){var S=x[1],C=x[2],k=[];for(f=d+1,g=d+1+(u=parseInt(x[3],10));f<g;f++){var O=(h=b[f].split(/\s+/))[2],M=h[3].split("/"),A=M[0];A==="0"&&(A="");var I=this.parseRuleCodes(M[1]),R=h[4],V={};V.add=A,I.length>0&&(V.continuationClasses=I),R!=="."&&(V.match=w==="SFX"?new RegExp(R+"$"):new RegExp("^"+R)),O!="0"&&(V.remove=w==="SFX"?new RegExp(O+"$"):O),k.push(V)}y[S]={type:w,combineable:C=="Y",entries:k},d+=u}else if(w==="COMPOUNDRULE"){for(f=d+1,g=d+1+(u=parseInt(x[1],10));f<g;f++)h=(l=b[f]).split(/\s+/),this.compoundRules.push(h[1]);d+=u}else w==="REP"?(h=l.split(/\s+/)).length===3&&this.replacementTable.push([h[1],h[2]]):this.flags[w]=x[1]}return y},_removeAffixComments:function(a){return a.match(/^\s*#/,"")?"":a},_parseDIC:function(a){var l=(a=this._removeDicComments(a)).split(/\r?\n/),u={};function h(U,Y){u.hasOwnProperty(U)||(u[U]=null),Y.length>0&&(u[U]===null&&(u[U]=[]),u[U].push(Y))}for(var d=1,f=l.length;d<f;d++){var p=l[d];if(p){var g=p.split("/",2),y=g[0];if(g.length>1){var b=this.parseRuleCodes(g[1]);"NEEDAFFIX"in this.flags&&b.indexOf(this.flags.NEEDAFFIX)!=-1||h(y,b);for(var x=0,w=b.length;x<w;x++){var S=b[x],C=this.rules[S];if(C)for(var k=this._applyRule(y,C),O=0,M=k.length;O<M;O++){var A=k[O];if(h(A,[]),C.combineable)for(var I=x+1;I<w;I++){var R=b[I],V=this.rules[R];if(V&&V.combineable&&C.type!=V.type)for(var oe=this._applyRule(A,V),L=0,F=oe.length;L<F;L++)h(oe[L],[])}}S in this.compoundRuleCodes&&this.compoundRuleCodes[S].push(y)}}else h(y.trim(),[])}}return u},_removeDicComments:function(a){return a=a.replace(/^\t.*$/gm,"")},parseRuleCodes:function(a){if(a){if("FLAG"in this.flags){if(this.flags.FLAG==="long"){for(var l=[],u=0,h=a.length;u<h;u+=2)l.push(a.substr(u,2));return l}return this.flags.FLAG==="num"?a.split(","):this.flags.FLAG==="UTF-8"?Array.from(a):a.split("")}return a.split("")}return[]},_applyRule:function(a,l){for(var u=l.entries,h=[],d=0,f=u.length;d<f;d++){var p=u[d];if(!p.match||a.match(p.match)){var g=a;if(p.remove&&(g=g.replace(p.remove,"")),l.type==="SFX"?g+=p.add:g=p.add+g,h.push(g),"continuationClasses"in p)for(var y=0,b=p.continuationClasses.length;y<b;y++){var x=this.rules[p.continuationClasses[y]];x&&(h=h.concat(this._applyRule(g,x)))}}}return h},check:function(a){if(!this.loaded)throw"Dictionary not loaded.";var l=a.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(l))return!0;if(l.toUpperCase()===l){var u=l[0]+l.substring(1).toLowerCase();if(this.hasFlag(u,"KEEPCASE"))return!1;if(this.checkExact(u)||this.checkExact(l.toLowerCase()))return!0}var h=l[0].toLowerCase()+l.substring(1);if(h!==l){if(this.hasFlag(h,"KEEPCASE"))return!1;if(this.checkExact(h))return!0}return!1},checkExact:function(a){if(!this.loaded)throw"Dictionary not loaded.";var l,u,h=this.dictionaryTable[a];if(h===void 0){if("COMPOUNDMIN"in this.flags&&a.length>=this.flags.COMPOUNDMIN){for(l=0,u=this.compoundRules.length;l<u;l++)if(a.match(this.compoundRules[l]))return!0}}else{if(h===null)return!0;if(typeof h=="object"){for(l=0,u=h.length;l<u;l++)if(!this.hasFlag(a,"ONLYINCOMPOUND",h[l]))return!0}}return!1},hasFlag:function(a,l,u){if(!this.loaded)throw"Dictionary not loaded.";return!(!(l in this.flags)||(u===void 0&&(u=Array.prototype.concat.apply([],this.dictionaryTable[a])),!u||u.indexOf(this.flags[l])===-1))},alphabet:"",suggest:function(a,l){if(!this.loaded)throw"Dictionary not loaded.";if(l=l||5,this.memoized.hasOwnProperty(a)){var u=this.memoized[a].limit;if(l<=u||this.memoized[a].suggestions.length<u)return this.memoized[a].suggestions.slice(0,l)}if(this.check(a))return[];for(var h=0,d=this.replacementTable.length;h<d;h++){var f=this.replacementTable[h];if(a.indexOf(f[0])!==-1){var p=a.replace(f[0],f[1]);if(this.check(p))return[p]}}var g=this;function y(b,x){var w,S,C,k,O={},M=g.alphabet.length;if(typeof b=="string"){var A=b;(b={})[A]=!0}for(var A in b)for(w=0,C=A.length+1;w<C;w++){var I=[A.substring(0,w),A.substring(w)];if(I[1]&&(k=I[0]+I[1].substring(1),x&&!g.check(k)||(k in O?O[k]+=1:O[k]=1)),I[1].length>1&&I[1][1]!==I[1][0]&&(k=I[0]+I[1][1]+I[1][0]+I[1].substring(2),x&&!g.check(k)||(k in O?O[k]+=1:O[k]=1)),I[1]){var R=I[1].substring(0,1).toUpperCase()===I[1].substring(0,1)?"uppercase":"lowercase";for(S=0;S<M;S++){var V=g.alphabet[S];R==="uppercase"&&(V=V.toUpperCase()),V!=I[1].substring(0,1)&&(k=I[0]+V+I[1].substring(1),x&&!g.check(k)||(k in O?O[k]+=1:O[k]=1))}}if(I[1])for(S=0;S<M;S++)R=I[0].substring(-1).toUpperCase()===I[0].substring(-1)&&I[1].substring(0,1).toUpperCase()===I[1].substring(0,1)?"uppercase":"lowercase",V=g.alphabet[S],R==="uppercase"&&(V=V.toUpperCase()),k=I[0]+V+I[1],x&&!g.check(k)||(k in O?O[k]+=1:O[k]=1)}return O}return g.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[a]={suggestions:function(b){var x,w=y(b),S=y(w,!0);for(var C in w)g.check(C)&&(C in S?S[C]+=w[C]:S[C]=w[C]);var k=[];for(x in S)S.hasOwnProperty(x)&&k.push([x,S[x]]);k.sort(function(I,R){var V=I[1],oe=R[1];return V<oe?-1:V>oe?1:R[0].localeCompare(I[0])}).reverse();var O=[],M="lowercase";b.toUpperCase()===b?M="uppercase":b.substr(0,1).toUpperCase()+b.substr(1).toLowerCase()===b&&(M="capitalized");var A=l;for(x=0;x<Math.min(A,k.length);x++)M==="uppercase"?k[x][0]=k[x][0].toUpperCase():M==="capitalized"&&(k[x][0]=k[x][0].substr(0,1).toUpperCase()+k[x][0].substr(1)),g.hasFlag(k[x][0],"NOSUGGEST")||O.indexOf(k[x][0])!=-1?A++:O.push(k[x][0]);return O}(a),limit:l},this.memoized[a].suggestions}}})(),i!==void 0&&(i.exports=o)}).call(this)}).call(this,"/node_modules/typo-js")},{fs:1}],17:[function(r,i,n){var s=r("codemirror");s.commands.tabAndIndentMarkdownList=function(o){var a=o.listSelections()[0].head;if(o.getStateAfter(a.line).list!==!1)o.execCommand("indentMore");else if(o.options.indentWithTabs)o.execCommand("insertTab");else{var l=Array(o.options.tabSize+1).join(" ");o.replaceSelection(l)}},s.commands.shiftTabAndUnindentMarkdownList=function(o){var a=o.listSelections()[0].head;if(o.getStateAfter(a.line).list!==!1)o.execCommand("indentLess");else if(o.options.indentWithTabs)o.execCommand("insertTab");else{var l=Array(o.options.tabSize+1).join(" ");o.replaceSelection(l)}}},{codemirror:10}],18:[function(r,i,n){var s=r("codemirror");r("codemirror/addon/edit/continuelist.js"),r("./codemirror/tablist"),r("codemirror/addon/display/fullscreen.js"),r("codemirror/mode/markdown/markdown.js"),r("codemirror/addon/mode/overlay.js"),r("codemirror/addon/display/placeholder.js"),r("codemirror/addon/display/autorefresh.js"),r("codemirror/addon/selection/mark-selection.js"),r("codemirror/addon/search/searchcursor.js"),r("codemirror/mode/gfm/gfm.js"),r("codemirror/mode/xml/xml.js");var o=r("codemirror-spell-checker"),a=r("marked").marked,l=/Mac/.test(navigator.platform),u=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),h={toggleBold:C,toggleItalic:k,drawLink:re,toggleHeadingSmaller:I,toggleHeadingBigger:R,drawImage:pe,toggleBlockquote:A,toggleOrderedList:Q,toggleUnorderedList:G,toggleCodeBlock:M,togglePreview:Xe,toggleStrikethrough:O,toggleHeading1:V,toggleHeading2:oe,toggleHeading3:L,toggleHeading4:F,toggleHeading5:U,toggleHeading6:Y,cleanBlock:J,drawTable:ve,drawHorizontalRule:ze,undo:it,redo:tt,toggleSideBySide:Ne,toggleFullScreen:S},d={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},f=function(){var j,te=!1;return j=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(j)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(j.substr(0,4)))&&(te=!0),te};function p(j){return j=l?j.replace("Ctrl","Cmd"):j.replace("Cmd","Ctrl")}function g(j,te,de,ce){var Ae=y(j,!1,te,de,"button",ce);Ae.classList.add("easymde-dropdown"),Ae.onclick=function(){Ae.focus()};var Ce=document.createElement("div");Ce.className="easymde-dropdown-content";for(var Se=0;Se<j.children.length;Se++){var De,Ie=j.children[Se];(De=y(typeof Ie=="string"&&Ie in ae?ae[Ie]:Ie,!0,te,de,"button",ce)).addEventListener("click",function(Ve){Ve.stopPropagation()},!1),Ce.appendChild(De)}return Ae.appendChild(Ce),Ae}function y(j,te,de,ce,Ae,Ce){j=j||{};var Se=document.createElement(Ae);if(j.attributes)for(var De in j.attributes)Object.prototype.hasOwnProperty.call(j.attributes,De)&&Se.setAttribute(De,j.attributes[De]);var Ie=Ce.options.toolbarButtonClassPrefix?Ce.options.toolbarButtonClassPrefix+"-":"";Se.className=Ie+j.name,Se.setAttribute("type",Ae),de=de==null||de,j.text&&(Se.innerText=j.text),j.name&&j.name in ce&&(h[j.name]=j.action),j.title&&de&&(Se.title=function(Vt,fr,Yt){var ri,dn=Vt;return fr&&Yt[ri=function(hn){for(var on in h)if(h[on]===hn)return on;return null}(fr)]&&(dn+=" ("+p(Yt[ri])+")"),dn}(j.title,j.action,ce),l&&(Se.title=Se.title.replace("Ctrl","⌘"),Se.title=Se.title.replace("Alt","⌥"))),j.title&&Se.setAttribute("aria-label",j.title),j.noDisable&&Se.classList.add("no-disable"),j.noMobile&&Se.classList.add("no-mobile");var Ve=[];j.className!==void 0&&(Ve=j.className.split(" "));for(var ot=[],lt=0;lt<Ve.length;lt++){var $t=Ve[lt];$t.match(/^fa([srlb]|(-[\w-]*)|$)/)?ot.push($t):Se.classList.add($t)}if(Se.tabIndex=-1,ot.length>0){for(var mt=document.createElement("i"),zt=0;zt<ot.length;zt++){var Ht=ot[zt];mt.classList.add(Ht)}Se.appendChild(mt)}return j.icon!==void 0&&(Se.innerHTML=j.icon),j.action&&te&&(typeof j.action=="function"?Se.onclick=function(Vt){Vt.preventDefault(),j.action(Ce)}:typeof j.action=="string"&&(Se.onclick=function(Vt){Vt.preventDefault(),window.open(j.action,"_blank")})),Se}function b(){var j=document.createElement("i");return j.className="separator",j.innerHTML="|",j}function x(j,te){te=te||j.getCursor("start");var de=j.getTokenAt(te);if(!de.type)return{};for(var ce,Ae,Ce=de.type.split(" "),Se={},De=0;De<Ce.length;De++)(ce=Ce[De])==="strong"?Se.bold=!0:ce==="variable-2"?(Ae=j.getLine(te.line),/^\s*\d+\.\s/.test(Ae)?Se["ordered-list"]=!0:Se["unordered-list"]=!0):ce==="atom"?Se.quote=!0:ce==="em"?Se.italic=!0:ce==="quote"?Se.quote=!0:ce==="strikethrough"?Se.strikethrough=!0:ce==="comment"?Se.code=!0:ce!=="link"||Se.image?ce==="image"?Se.image=!0:ce.match(/^header(-[1-6])?$/)&&(Se[ce.replace("header","heading")]=!0):Se.link=!0;return Se}var w="";function S(j){var te=j.codemirror;te.setOption("fullScreen",!te.getOption("fullScreen")),te.getOption("fullScreen")?(w=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=w;var de=te.getWrapperElement(),ce=de.nextSibling;if(ce.classList.contains("editor-preview-active-side"))if(j.options.sideBySideFullscreen===!1){var Ae=de.parentNode;te.getOption("fullScreen")?Ae.classList.remove("sided--no-fullscreen"):Ae.classList.add("sided--no-fullscreen")}else Ne(j);j.options.onToggleFullScreen&&j.options.onToggleFullScreen(te.getOption("fullScreen")||!1),j.options.maxHeight!==void 0&&(te.getOption("fullScreen")?(te.getScrollerElement().style.removeProperty("height"),ce.style.removeProperty("height")):(te.getScrollerElement().style.height=j.options.maxHeight,j.setPreviewMaxHeight())),j.toolbar_div.classList.toggle("fullscreen"),j.toolbarElements&&j.toolbarElements.fullscreen&&j.toolbarElements.fullscreen.classList.toggle("active")}function C(j){Er(j,"bold",j.options.blockStyles.bold)}function k(j){Er(j,"italic",j.options.blockStyles.italic)}function O(j){Er(j,"strikethrough","~~")}function M(j){var te=j.options.blockStyles.code;function de($r){if(typeof $r!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof $r+": "+$r;return $r.styles&&$r.styles[2]&&$r.styles[2].indexOf("formatting-code-block")!==-1}function ce($r){return $r.state.base.base||$r.state.base}function Ae($r,pr,an,Ir,Cn){an=an||$r.getLineHandle(pr),Ir=Ir||$r.getTokenAt({line:pr,ch:1}),Cn=Cn||!!an.text&&$r.getTokenAt({line:pr,ch:an.text.length-1});var ur=Ir.type?Ir.type.split(" "):[];return Cn&&ce(Cn).indentedCode?"indented":ur.indexOf("comment")!==-1&&(ce(Ir).fencedChars||ce(Cn).fencedChars||de(an)?"fenced":"single")}var Ce,Se,De,Ie=j.codemirror,Ve=Ie.getCursor("start"),ot=Ie.getCursor("end"),lt=Ie.getTokenAt({line:Ve.line,ch:Ve.ch||1}),$t=Ie.getLineHandle(Ve.line),mt=Ae(Ie,Ve.line,$t,lt);if(mt==="single"){var zt=$t.text.slice(0,Ve.ch).replace("`",""),Ht=$t.text.slice(Ve.ch).replace("`","");Ie.replaceRange(zt+Ht,{line:Ve.line,ch:0},{line:Ve.line,ch:99999999999999}),Ve.ch--,Ve!==ot&&ot.ch--,Ie.setSelection(Ve,ot),Ie.focus()}else if(mt==="fenced")if(Ve.line!==ot.line||Ve.ch!==ot.ch){for(Ce=Ve.line;Ce>=0&&!de($t=Ie.getLineHandle(Ce));Ce--);var Vt,fr,Yt,ri,dn=ce(Ie.getTokenAt({line:Ce,ch:1})).fencedChars;de(Ie.getLineHandle(Ve.line))?(Vt="",fr=Ve.line):de(Ie.getLineHandle(Ve.line-1))?(Vt="",fr=Ve.line-1):(Vt=dn+`
`,fr=Ve.line),de(Ie.getLineHandle(ot.line))?(Yt="",ri=ot.line,ot.ch===0&&(ri+=1)):ot.ch!==0&&de(Ie.getLineHandle(ot.line+1))?(Yt="",ri=ot.line+1):(Yt=dn+`
`,ri=ot.line+1),ot.ch===0&&(ri-=1),Ie.operation(function(){Ie.replaceRange(Yt,{line:ri,ch:0},{line:ri+(Yt?0:1),ch:0}),Ie.replaceRange(Vt,{line:fr,ch:0},{line:fr+(Vt?0:1),ch:0})}),Ie.setSelection({line:fr+(Vt?1:0),ch:0},{line:ri+(Vt?1:-1),ch:0}),Ie.focus()}else{var hn=Ve.line;if(de(Ie.getLineHandle(Ve.line))&&(Ae(Ie,Ve.line+1)==="fenced"?(Ce=Ve.line,hn=Ve.line+1):(Se=Ve.line,hn=Ve.line-1)),Ce===void 0)for(Ce=hn;Ce>=0&&!de($t=Ie.getLineHandle(Ce));Ce--);if(Se===void 0)for(De=Ie.lineCount(),Se=hn;Se<De&&!de($t=Ie.getLineHandle(Se));Se++);Ie.operation(function(){Ie.replaceRange("",{line:Ce,ch:0},{line:Ce+1,ch:0}),Ie.replaceRange("",{line:Se-1,ch:0},{line:Se,ch:0})}),Ie.focus()}else if(mt==="indented"){if(Ve.line!==ot.line||Ve.ch!==ot.ch)Ce=Ve.line,Se=ot.line,ot.ch===0&&Se--;else{for(Ce=Ve.line;Ce>=0;Ce--)if(!($t=Ie.getLineHandle(Ce)).text.match(/^\s*$/)&&Ae(Ie,Ce,$t)!=="indented"){Ce+=1;break}for(De=Ie.lineCount(),Se=Ve.line;Se<De;Se++)if(!($t=Ie.getLineHandle(Se)).text.match(/^\s*$/)&&Ae(Ie,Se,$t)!=="indented"){Se-=1;break}}var on=Ie.getLineHandle(Se+1),$s=on&&Ie.getTokenAt({line:Se+1,ch:on.text.length-1});$s&&ce($s).indentedCode&&Ie.replaceRange(`
`,{line:Se+1,ch:0});for(var Sr=Ce;Sr<=Se;Sr++)Ie.indentLine(Sr,"subtract");Ie.focus()}else{var ai=Ve.line===ot.line&&Ve.ch===ot.ch&&Ve.ch===0,hi=Ve.line!==ot.line;ai||hi?function($r,pr,an,Ir){var Cn=pr.line+1,ur=an.line+1,qn=pr.line!==an.line,fe=Ir+`
`,Te=`
`+Ir;qn&&ur++,qn&&an.ch===0&&(Te=Ir+`
`,ur--),nt($r,!1,[fe,Te]),$r.setSelection({line:Cn,ch:0},{line:ur,ch:0})}(Ie,Ve,ot,te):nt(Ie,!1,["`","`"])}}function A(j){Dt(j.codemirror,"quote")}function I(j){vt(j.codemirror,"smaller")}function R(j){vt(j.codemirror,"bigger")}function V(j){vt(j.codemirror,void 0,1)}function oe(j){vt(j.codemirror,void 0,2)}function L(j){vt(j.codemirror,void 0,3)}function F(j){vt(j.codemirror,void 0,4)}function U(j){vt(j.codemirror,void 0,5)}function Y(j){vt(j.codemirror,void 0,6)}function G(j){var te=j.codemirror,de="*";["-","+","*"].includes(j.options.unorderedListStyle)&&(de=j.options.unorderedListStyle),Dt(te,"unordered-list",de)}function Q(j){Dt(j.codemirror,"ordered-list")}function J(j){(function(te){if(!te.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var de,ce=te.getCursor("start"),Ae=te.getCursor("end"),Ce=ce.line;Ce<=Ae.line;Ce++)de=(de=te.getLine(Ce)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),te.replaceRange(de,{line:Ce,ch:0},{line:Ce,ch:99999999999999})})(j.codemirror)}function re(j){var te=j.options,de="https://";if(te.promptURLs){var ce=prompt(te.promptTexts.link,de);if(!ce)return!1;de=ee(ce)}Rt(j,"link",te.insertTexts.link,de)}function pe(j){var te=j.options,de="https://";if(te.promptURLs){var ce=prompt(te.promptTexts.image,de);if(!ce)return!1;de=ee(ce)}Rt(j,"image",te.insertTexts.image,de)}function ee(j){return encodeURI(j).replace(/([\\()])/g,"\\$1")}function B(j){j.openBrowseFileWindow()}function ge(j,te){var de=j.codemirror,ce=x(de),Ae=j.options,Ce=te.substr(te.lastIndexOf("/")+1),Se=Ce.substring(Ce.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(Se))nt(de,ce.image,Ae.insertTexts.uploadedImage,te);else{var De=Ae.insertTexts.link;De[0]="["+Ce,nt(de,ce.link,De,te)}j.updateStatusBar("upload-image",j.options.imageTexts.sbOnUploaded.replace("#image_name#",Ce)),setTimeout(function(){j.updateStatusBar("upload-image",j.options.imageTexts.sbInit)},1e3)}function ve(j){var te=j.codemirror,de=x(te),ce=j.options;nt(te,de.table,ce.insertTexts.table)}function ze(j){var te=j.codemirror,de=x(te),ce=j.options;nt(te,de.image,ce.insertTexts.horizontalRule)}function it(j){var te=j.codemirror;te.undo(),te.focus()}function tt(j){var te=j.codemirror;te.redo(),te.focus()}function Ne(j){var te=j.codemirror,de=te.getWrapperElement(),ce=de.nextSibling,Ae=j.toolbarElements&&j.toolbarElements["side-by-side"],Ce=!1,Se=de.parentNode;ce.classList.contains("editor-preview-active-side")?(j.options.sideBySideFullscreen===!1&&Se.classList.remove("sided--no-fullscreen"),ce.classList.remove("editor-preview-active-side"),Ae&&Ae.classList.remove("active"),de.classList.remove("CodeMirror-sided")):(setTimeout(function(){te.getOption("fullScreen")||(j.options.sideBySideFullscreen===!1?Se.classList.add("sided--no-fullscreen"):S(j)),ce.classList.add("editor-preview-active-side")},1),Ae&&Ae.classList.add("active"),de.classList.add("CodeMirror-sided"),Ce=!0);var De=de.lastChild;if(De.classList.contains("editor-preview-active")){De.classList.remove("editor-preview-active");var Ie=j.toolbarElements.preview,Ve=j.toolbar_div;Ie.classList.remove("active"),Ve.classList.remove("disabled-for-preview")}if(te.sideBySideRenderingFunction||(te.sideBySideRenderingFunction=function(){var lt=j.options.previewRender(j.value(),ce);lt!=null&&(ce.innerHTML=lt)}),Ce){var ot=j.options.previewRender(j.value(),ce);ot!=null&&(ce.innerHTML=ot),te.on("update",te.sideBySideRenderingFunction)}else te.off("update",te.sideBySideRenderingFunction);te.refresh()}function Xe(j){var te=j.codemirror,de=te.getWrapperElement(),ce=j.toolbar_div,Ae=!!j.options.toolbar&&j.toolbarElements.preview,Ce=de.lastChild;if(te.getWrapperElement().nextSibling.classList.contains("editor-preview-active-side")&&Ne(j),!Ce||!Ce.classList.contains("editor-preview-full")){if((Ce=document.createElement("div")).className="editor-preview-full",j.options.previewClass)if(Array.isArray(j.options.previewClass))for(var Se=0;Se<j.options.previewClass.length;Se++)Ce.classList.add(j.options.previewClass[Se]);else typeof j.options.previewClass=="string"&&Ce.classList.add(j.options.previewClass);de.appendChild(Ce)}Ce.classList.contains("editor-preview-active")?(Ce.classList.remove("editor-preview-active"),Ae&&(Ae.classList.remove("active"),ce.classList.remove("disabled-for-preview"))):(setTimeout(function(){Ce.classList.add("editor-preview-active")},1),Ae&&(Ae.classList.add("active"),ce.classList.add("disabled-for-preview")));var De=j.options.previewRender(j.value(),Ce);De!==null&&(Ce.innerHTML=De)}function nt(j,te,de,ce){if(!j.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var Ae,Ce=de[0],Se=de[1],De={},Ie={};Object.assign(De,j.getCursor("start")),Object.assign(Ie,j.getCursor("end")),ce&&(Ce=Ce.replace("#url#",ce),Se=Se.replace("#url#",ce)),te?(Ce=(Ae=j.getLine(De.line)).slice(0,De.ch),Se=Ae.slice(De.ch),j.replaceRange(Ce+Se,{line:De.line,ch:0})):(Ae=j.getSelection(),j.replaceSelection(Ce+Ae+Se),De.ch+=Ce.length,De!==Ie&&(Ie.ch+=Ce.length)),j.setSelection(De,Ie),j.focus()}}function vt(j,te,de){if(!j.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var ce=j.getCursor("start"),Ae=j.getCursor("end"),Ce=ce.line;Ce<=Ae.line;Ce++)(function(Se){var De=j.getLine(Se),Ie=De.search(/[^#]/);De=te!==void 0?Ie<=0?te=="bigger"?"###### "+De:"# "+De:Ie==6&&te=="smaller"?De.substr(7):Ie==1&&te=="bigger"?De.substr(2):te=="bigger"?De.substr(1):"#"+De:Ie<=0?"#".repeat(de)+" "+De:Ie==de?De.substr(Ie+1):"#".repeat(de)+" "+De.substr(Ie+1),j.replaceRange(De,{line:Se,ch:0},{line:Se,ch:99999999999999})})(Ce);j.focus()}}function Dt(j,te,de){if(!j.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var ce=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,Ae=/^\s*/,Ce=x(j),Se=j.getCursor("start"),De=j.getCursor("end"),Ie={quote:/^(\s*)>\s+/,"unordered-list":ce,"ordered-list":ce},Ve=function($t,mt,zt){var Ht=ce.exec(mt),Vt=function(fr,Yt){return{quote:">","unordered-list":de,"ordered-list":"%%i."}[fr].replace("%%i",Yt)}($t,ot);return Ht!==null?(function(fr,Yt){var ri=new RegExp({quote:">","unordered-list":"\\"+de,"ordered-list":"\\d+."}[fr]);return Yt&&ri.test(Yt)}($t,Ht[2])&&(Vt=""),mt=Ht[1]+Vt+Ht[3]+mt.replace(Ae,"").replace(Ie[$t],"$1")):zt==0&&(mt=Vt+" "+mt),mt},ot=1,lt=Se.line;lt<=De.line;lt++)(function($t){var mt=j.getLine($t);Ce[te]?mt=mt.replace(Ie[te],"$1"):(te=="unordered-list"&&(mt=Ve("ordered-list",mt,!0)),mt=Ve(te,mt,!1),ot+=1),j.replaceRange(mt,{line:$t,ch:0},{line:$t,ch:99999999999999})})(lt);j.focus()}}function Rt(j,te,de,ce){if(j.codemirror&&!j.isPreviewActive()){var Ae=j.codemirror,Ce=x(Ae)[te];if(Ce){var Se=Ae.getCursor("start"),De=Ae.getCursor("end"),Ie=Ae.getLine(Se.line),Ve=Ie.slice(0,Se.ch),ot=Ie.slice(Se.ch);te=="link"?Ve=Ve.replace(/(.*)[^!]\[/,"$1"):te=="image"&&(Ve=Ve.replace(/(.*)!\[$/,"$1")),ot=ot.replace(/]\(.*?\)/,""),Ae.replaceRange(Ve+ot,{line:Se.line,ch:0},{line:Se.line,ch:99999999999999}),Se.ch-=de[0].length,Se!==De&&(De.ch-=de[0].length),Ae.setSelection(Se,De),Ae.focus()}else nt(Ae,Ce,de,ce)}}function Er(j,te,de,ce){if(j.codemirror&&!j.isPreviewActive()){ce=ce===void 0?de:ce;var Ae,Ce=j.codemirror,Se=x(Ce),De=de,Ie=ce,Ve=Ce.getCursor("start"),ot=Ce.getCursor("end");Se[te]?(De=(Ae=Ce.getLine(Ve.line)).slice(0,Ve.ch),Ie=Ae.slice(Ve.ch),te=="bold"?(De=De.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Ie=Ie.replace(/(\*\*|__)/,"")):te=="italic"?(De=De.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Ie=Ie.replace(/(\*|_)/,"")):te=="strikethrough"&&(De=De.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Ie=Ie.replace(/(\*\*|~~)/,"")),Ce.replaceRange(De+Ie,{line:Ve.line,ch:0},{line:Ve.line,ch:99999999999999}),te=="bold"||te=="strikethrough"?(Ve.ch-=2,Ve!==ot&&(ot.ch-=2)):te=="italic"&&(Ve.ch-=1,Ve!==ot&&(ot.ch-=1))):(Ae=Ce.getSelection(),te=="bold"?Ae=(Ae=Ae.split("**").join("")).split("__").join(""):te=="italic"?Ae=(Ae=Ae.split("*").join("")).split("_").join(""):te=="strikethrough"&&(Ae=Ae.split("~~").join("")),Ce.replaceSelection(De+Ae+Ie),Ve.ch+=de.length,ot.ch=Ve.ch+Ae.length),Ce.setSelection(Ve,ot),Ce.focus()}}function or(j,te){if(Math.abs(j)<1024)return""+j+te[0];var de=0;do j/=1024,++de;while(Math.abs(j)>=1024&&de<te.length);return""+j.toFixed(1)+te[de]}function di(j,te){for(var de in te)Object.prototype.hasOwnProperty.call(te,de)&&(te[de]instanceof Array?j[de]=te[de].concat(j[de]instanceof Array?j[de]:[]):te[de]!==null&&typeof te[de]=="object"&&te[de].constructor===Object?j[de]=di(j[de]||{},te[de]):j[de]=te[de]);return j}function We(j){for(var te=1;te<arguments.length;te++)j=di(j,arguments[te]);return j}function he(j){var te=j.match(/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),de=0;if(te===null)return de;for(var ce=0;ce<te.length;ce++)te[ce].charCodeAt(0)>=19968?de+=te[ce].length:de+=1;return de}var ue={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},ae={bold:{name:"bold",action:C,className:ue.bold,title:"Bold",default:!0},italic:{name:"italic",action:k,className:ue.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:O,className:ue.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:I,className:ue.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:I,className:ue["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:R,className:ue["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:V,className:ue["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:oe,className:ue["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:L,className:ue["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:M,className:ue.code,title:"Code"},quote:{name:"quote",action:A,className:ue.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:G,className:ue["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Q,className:ue["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:J,className:ue["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:re,className:ue.link,title:"Create Link",default:!0},image:{name:"image",action:pe,className:ue.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:B,className:ue["upload-image"],title:"Import an image"},table:{name:"table",action:ve,className:ue.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:ze,className:ue["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Xe,className:ue.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Ne,className:ue["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:S,className:ue.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:ue.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:it,className:ue.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:tt,className:ue.redo,noDisable:!0,title:"Redo"}},me={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},T={link:"URL for the link:",image:"URL of the image:"},$={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},W={bold:"**",code:"```",italic:"*"},K={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},ye={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function xe(j){(j=j||{}).parent=this;var te=!0;if(j.autoDownloadFontAwesome===!1&&(te=!1),j.autoDownloadFontAwesome!==!0)for(var de=document.styleSheets,ce=0;ce<de.length;ce++)de[ce].href&&de[ce].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(te=!1);if(te){var Ae=document.createElement("link");Ae.rel="stylesheet",Ae.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(Ae)}if(j.element)this.element=j.element;else if(j.element===null)return void console.log("EasyMDE: Error. No element was found.");if(j.toolbar===void 0)for(var Ce in j.toolbar=[],ae)Object.prototype.hasOwnProperty.call(ae,Ce)&&(Ce.indexOf("separator-")!=-1&&j.toolbar.push("|"),(ae[Ce].default===!0||j.showIcons&&j.showIcons.constructor===Array&&j.showIcons.indexOf(Ce)!=-1)&&j.toolbar.push(Ce));if(Object.prototype.hasOwnProperty.call(j,"previewClass")||(j.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(j,"status")||(j.status=["autosave","lines","words","cursor"],j.uploadImage&&j.status.unshift("upload-image")),j.previewRender||(j.previewRender=function(De){return this.parent.markdown(De)}),j.parsingConfig=We({highlightFormatting:!0},j.parsingConfig||{}),j.insertTexts=We({},me,j.insertTexts||{}),j.promptTexts=We({},T,j.promptTexts||{}),j.blockStyles=We({},W,j.blockStyles||{}),j.autosave!=null&&(j.autosave.timeFormat=We({},$,j.autosave.timeFormat||{})),j.iconClassMap=We({},ue,j.iconClassMap||{}),j.shortcuts=We({},d,j.shortcuts||{}),j.maxHeight=j.maxHeight||void 0,j.direction=j.direction||"ltr",j.maxHeight!==void 0?j.minHeight=j.maxHeight:j.minHeight=j.minHeight||"300px",j.errorCallback=j.errorCallback||function(De){alert(De)},j.uploadImage=j.uploadImage||!1,j.imageMaxSize=j.imageMaxSize||2097152,j.imageAccept=j.imageAccept||"image/png, image/jpeg, image/gif, image/avif",j.imageTexts=We({},K,j.imageTexts||{}),j.errorMessages=We({},ye,j.errorMessages||{}),j.imagePathAbsolute=j.imagePathAbsolute||!1,j.imageCSRFName=j.imageCSRFName||"csrfmiddlewaretoken",j.imageCSRFHeader=j.imageCSRFHeader||!1,j.autosave!=null&&j.autosave.unique_id!=null&&j.autosave.unique_id!=""&&(j.autosave.uniqueId=j.autosave.unique_id),j.overlayMode&&j.overlayMode.combine===void 0&&(j.overlayMode.combine=!0),this.options=j,this.render(),!j.initialValue||this.options.autosave&&this.options.autosave.foundSavedValue===!0||this.value(j.initialValue),j.uploadImage){var Se=this;this.codemirror.on("dragenter",function(De,Ie){Se.updateStatusBar("upload-image",Se.options.imageTexts.sbOnDragEnter),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("dragend",function(De,Ie){Se.updateStatusBar("upload-image",Se.options.imageTexts.sbInit),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("dragleave",function(De,Ie){Se.updateStatusBar("upload-image",Se.options.imageTexts.sbInit),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("dragover",function(De,Ie){Se.updateStatusBar("upload-image",Se.options.imageTexts.sbOnDragEnter),Ie.stopPropagation(),Ie.preventDefault()}),this.codemirror.on("drop",function(De,Ie){Ie.stopPropagation(),Ie.preventDefault(),j.imageUploadFunction?Se.uploadImagesUsingCustomFunction(j.imageUploadFunction,Ie.dataTransfer.files):Se.uploadImages(Ie.dataTransfer.files)}),this.codemirror.on("paste",function(De,Ie){j.imageUploadFunction?Se.uploadImagesUsingCustomFunction(j.imageUploadFunction,Ie.clipboardData.files):Se.uploadImages(Ie.clipboardData.files)})}}function Me(){if(typeof localStorage!="object")return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}return!0}xe.prototype.uploadImages=function(j,te,de){if(j.length!==0){for(var ce=[],Ae=0;Ae<j.length;Ae++)ce.push(j[Ae].name),this.uploadImage(j[Ae],te,de);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",ce.join(", ")))}},xe.prototype.uploadImagesUsingCustomFunction=function(j,te){if(te.length!==0){for(var de=[],ce=0;ce<te.length;ce++)de.push(te[ce].name),this.uploadImageUsingCustomFunction(j,te[ce]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",de.join(", ")))}},xe.prototype.updateStatusBar=function(j,te){if(this.gui.statusbar){var de=this.gui.statusbar.getElementsByClassName(j);de.length===1?this.gui.statusbar.getElementsByClassName(j)[0].textContent=te:de.length===0?console.log("EasyMDE: status bar item "+j+" was not found."):console.log("EasyMDE: Several status bar items named "+j+" was found.")}},xe.prototype.markdown=function(j){if(a){var te;if(te=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?te.breaks=!1:te.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var de=this.options.renderingConfig.hljs||window.hljs;de&&(te.highlight=function(Ae,Ce){return Ce&&de.getLanguage(Ce)?de.highlight(Ce,Ae).value:de.highlightAuto(Ae).value})}a.setOptions(te);var ce=a.parse(j);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(ce=this.options.renderingConfig.sanitizerFunction.call(this,ce)),ce=function(Ae){for(var Ce=new DOMParser().parseFromString(Ae,"text/html"),Se=Ce.getElementsByTagName("li"),De=0;De<Se.length;De++)for(var Ie=Se[De],Ve=0;Ve<Ie.children.length;Ve++){var ot=Ie.children[Ve];ot instanceof HTMLInputElement&&ot.type==="checkbox"&&(Ie.style.marginLeft="-1.5em",Ie.style.listStyleType="none")}return Ce.documentElement.innerHTML}(ce=function(Ae){for(var Ce;(Ce=u.exec(Ae))!==null;){var Se=Ce[0];if(Se.indexOf("target=")===-1){var De=Se.replace(/>$/,' target="_blank">');Ae=Ae.replace(Se,De)}}return Ae}(ce))}},xe.prototype.render=function(j){if(j||(j=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==j){this.element=j;var te,de,ce=this.options,Ae=this,Ce={};for(var Se in ce.shortcuts)ce.shortcuts[Se]!==null&&h[Se]!==null&&function(mt){Ce[p(ce.shortcuts[mt])]=function(){var zt=h[mt];typeof zt=="function"?zt(Ae):typeof zt=="string"&&window.open(zt,"_blank")}}(Se);if(Ce.Enter="newlineAndIndentContinueMarkdownList",Ce.Tab="tabAndIndentMarkdownList",Ce["Shift-Tab"]="shiftTabAndUnindentMarkdownList",Ce.Esc=function(mt){mt.getOption("fullScreen")&&S(Ae)},this.documentOnKeyDown=function(mt){(mt=mt||window.event).keyCode==27&&Ae.codemirror.getOption("fullScreen")&&S(Ae)},document.addEventListener("keydown",this.documentOnKeyDown,!1),ce.overlayMode?(s.defineMode("overlay-mode",function(mt){return s.overlayMode(s.getMode(mt,ce.spellChecker!==!1?"spell-checker":"gfm"),ce.overlayMode.mode,ce.overlayMode.combine)}),te="overlay-mode",(de=ce.parsingConfig).gitHubSpice=!1):((te=ce.parsingConfig).name="gfm",te.gitHubSpice=!1),ce.spellChecker!==!1&&(te="spell-checker",(de=ce.parsingConfig).name="gfm",de.gitHubSpice=!1,typeof ce.spellChecker=="function"?ce.spellChecker({codeMirrorInstance:s}):o({codeMirrorInstance:s})),this.codemirror=s.fromTextArea(j,{mode:te,backdrop:de,theme:ce.theme!=null?ce.theme:"easymde",tabSize:ce.tabSize!=null?ce.tabSize:2,indentUnit:ce.tabSize!=null?ce.tabSize:2,indentWithTabs:ce.indentWithTabs!==!1,lineNumbers:ce.lineNumbers===!0,autofocus:ce.autofocus===!0,extraKeys:Ce,direction:ce.direction,lineWrapping:ce.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:ce.placeholder||j.getAttribute("placeholder")||"",styleSelectedText:ce.styleSelectedText!=null?ce.styleSelectedText:!f(),scrollbarStyle:ce.scrollbarStyle!=null?ce.scrollbarStyle:"native",configureMouse:function(mt,zt,Ht){return{addNew:!1}},inputStyle:ce.inputStyle!=null?ce.inputStyle:f()?"contenteditable":"textarea",spellcheck:ce.nativeSpellcheck==null||ce.nativeSpellcheck,autoRefresh:ce.autoRefresh!=null&&ce.autoRefresh}),this.codemirror.getScrollerElement().style.minHeight=ce.minHeight,ce.maxHeight!==void 0&&(this.codemirror.getScrollerElement().style.height=ce.maxHeight),ce.forceSync===!0){var De=this.codemirror;De.on("change",function(){De.save()})}this.gui={};var Ie=document.createElement("div");Ie.classList.add("EasyMDEContainer"),Ie.setAttribute("role","application");var Ve=this.codemirror.getWrapperElement();Ve.parentNode.insertBefore(Ie,Ve),Ie.appendChild(Ve),ce.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),ce.status!==!1&&(this.gui.statusbar=this.createStatusbar()),ce.autosave!=null&&ce.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Ae._autosave_timeout),Ae._autosave_timeout=setTimeout(function(){Ae.autosave()},Ae.options.autosave.submit_delay||Ae.options.autosave.delay||1e3)}));var ot=this;this.codemirror.on("update",function(){ce.previewImagesInEditor&&Ie.querySelectorAll(".cm-image-marker").forEach(function(mt){var zt=mt.parentElement;if(zt.innerText.match(/^!\[.*?\]\(.*\)/g)&&!zt.hasAttribute("data-img-src")){var Ht=zt.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Ht&&Ht.length>=2){var Vt=Ht[1];if(ce.imagesPreviewHandler){var fr=ce.imagesPreviewHandler(Ht[1]);typeof fr=="string"&&(Vt=fr)}if(window.EMDEimagesCache[Vt])$t(zt,window.EMDEimagesCache[Vt]);else{var Yt=document.createElement("img");Yt.onload=function(){window.EMDEimagesCache[Vt]={naturalWidth:Yt.naturalWidth,naturalHeight:Yt.naturalHeight,url:Vt},$t(zt,window.EMDEimagesCache[Vt])},Yt.src=Vt}}}})}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(ce.autofocus===!0||j.autofocus)&&this.codemirror.focus();var lt=this.codemirror;setTimeout((function(){lt.refresh()}).bind(lt),0)}function $t(mt,zt){var Ht,Vt;mt.setAttribute("data-img-src",zt.url),mt.setAttribute("style","--bg-image:url("+zt.url+");--width:"+zt.naturalWidth+"px;--height:"+(Ht=zt.naturalWidth,Vt=zt.naturalHeight,Ht<window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","")?Vt+"px":Vt/Ht*100+"%")),ot.codemirror.setSize()}},xe.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)},xe.prototype.autosave=function(){if(Me()){var j=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId=="")return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");this.options.autosave.binded!==!0&&(j.element.form!=null&&j.element.form!=null&&j.element.form.addEventListener("submit",function(){clearTimeout(j.autosaveTimeoutId),j.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+j.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var te=j.value();te!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,te):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var de=document.getElementById("autosaved");if(de!=null&&de!=null&&de!=""){var ce=new Date,Ae=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(ce),Ce=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;de.innerHTML=Ce+Ae}}else console.log("EasyMDE: localStorage not available, cannot autosave")},xe.prototype.clearAutosavedValue=function(){if(Me()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId=="")return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},xe.prototype.openBrowseFileWindow=function(j,te){var de=this,ce=this.gui.toolbar.getElementsByClassName("imageInput")[0];ce.click(),ce.addEventListener("change",function Ae(Ce){de.options.imageUploadFunction?de.uploadImagesUsingCustomFunction(de.options.imageUploadFunction,Ce.target.files):de.uploadImages(Ce.target.files,j,te),ce.removeEventListener("change",Ae)})},xe.prototype.uploadImage=function(j,te,de){var ce=this;function Ae(Ie){ce.updateStatusBar("upload-image",Ie),setTimeout(function(){ce.updateStatusBar("upload-image",ce.options.imageTexts.sbInit)},1e4),de&&typeof de=="function"&&de(Ie),ce.options.errorCallback(Ie)}function Ce(Ie){var Ve=ce.options.imageTexts.sizeUnits.split(",");return Ie.replace("#image_name#",j.name).replace("#image_size#",or(j.size,Ve)).replace("#image_max_size#",or(ce.options.imageMaxSize,Ve))}if(te=te||function(Ie){ge(ce,Ie)},j.size>this.options.imageMaxSize)Ae(Ce(this.options.errorMessages.fileTooLarge));else{var Se=new FormData;Se.append("image",j),ce.options.imageCSRFToken&&!ce.options.imageCSRFHeader&&Se.append(ce.options.imageCSRFName,ce.options.imageCSRFToken);var De=new XMLHttpRequest;De.upload.onprogress=function(Ie){if(Ie.lengthComputable){var Ve=""+Math.round(100*Ie.loaded/Ie.total);ce.updateStatusBar("upload-image",ce.options.imageTexts.sbProgress.replace("#file_name#",j.name).replace("#progress#",Ve))}},De.open("POST",this.options.imageUploadEndpoint),ce.options.imageCSRFToken&&ce.options.imageCSRFHeader&&De.setRequestHeader(ce.options.imageCSRFName,ce.options.imageCSRFToken),De.onload=function(){try{var Ie=JSON.parse(this.responseText)}catch{return console.error("EasyMDE: The server did not return a valid json."),void Ae(Ce(ce.options.errorMessages.importError))}this.status===200&&Ie&&!Ie.error&&Ie.data&&Ie.data.filePath?te((ce.options.imagePathAbsolute?"":window.location.origin+"/")+Ie.data.filePath):Ie.error&&Ie.error in ce.options.errorMessages?Ae(Ce(ce.options.errorMessages[Ie.error])):Ie.error?Ae(Ce(Ie.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),Ae(Ce(ce.options.errorMessages.importError)))},De.onerror=function(Ie){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+Ie.target.status+" ("+Ie.target.statusText+")"),Ae(ce.options.errorMessages.importError)},De.send(Se)}},xe.prototype.uploadImageUsingCustomFunction=function(j,te){var de=this;j.apply(this,[te,function(ce){ge(de,ce)},function(ce){var Ae=function(Ce){var Se=de.options.imageTexts.sizeUnits.split(",");return Ce.replace("#image_name#",te.name).replace("#image_size#",or(te.size,Se)).replace("#image_max_size#",or(de.options.imageMaxSize,Se))}(ce);de.updateStatusBar("upload-image",Ae),setTimeout(function(){de.updateStatusBar("upload-image",de.options.imageTexts.sbInit)},1e4),de.options.errorCallback(Ae)}])},xe.prototype.setPreviewMaxHeight=function(){var j=this.codemirror.getWrapperElement(),te=j.nextSibling,de=parseInt(window.getComputedStyle(j).paddingTop),ce=parseInt(window.getComputedStyle(j).borderTopWidth),Ae=(parseInt(this.options.maxHeight)+2*de+2*ce).toString()+"px";te.style.height=Ae},xe.prototype.createSideBySide=function(){var j=this.codemirror,te=j.getWrapperElement(),de=te.nextSibling;if(!de||!de.classList.contains("editor-preview-side")){if((de=document.createElement("div")).className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var ce=0;ce<this.options.previewClass.length;ce++)de.classList.add(this.options.previewClass[ce]);else typeof this.options.previewClass=="string"&&de.classList.add(this.options.previewClass);te.parentNode.insertBefore(de,te.nextSibling)}if(this.options.maxHeight!==void 0&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return de;var Ae=!1,Ce=!1;return j.on("scroll",function(Se){if(Ae)Ae=!1;else{Ce=!0;var De=Se.getScrollInfo().height-Se.getScrollInfo().clientHeight,Ie=parseFloat(Se.getScrollInfo().top)/De,Ve=(de.scrollHeight-de.clientHeight)*Ie;de.scrollTop=Ve}}),de.onscroll=function(){if(Ce)Ce=!1;else{Ae=!0;var Se=de.scrollHeight-de.clientHeight,De=parseFloat(de.scrollTop)/Se,Ie=(j.getScrollInfo().height-j.getScrollInfo().clientHeight)*De;j.scrollTo(0,Ie)}},de},xe.prototype.createToolbar=function(j){if((j=j||this.options.toolbar)&&j.length!==0){var te;for(te=0;te<j.length;te++)ae[j[te]]!=null&&(j[te]=ae[j[te]]);var de=document.createElement("div");de.className="editor-toolbar",de.setAttribute("role","toolbar");var ce=this,Ae={};for(ce.toolbar=j,te=0;te<j.length;te++)if((j[te].name!="guide"||ce.options.toolbarGuideIcon!==!1)&&!(ce.options.hideIcons&&ce.options.hideIcons.indexOf(j[te].name)!=-1||(j[te].name=="fullscreen"||j[te].name=="side-by-side")&&f())){if(j[te]==="|"){for(var Ce=!1,Se=te+1;Se<j.length;Se++)j[Se]==="|"||ce.options.hideIcons&&ce.options.hideIcons.indexOf(j[Se].name)!=-1||(Ce=!0);if(!Ce)continue}(function(Ve){var ot;if(ot=Ve==="|"?b():Ve.children?g(Ve,ce.options.toolbarTips,ce.options.shortcuts,ce):y(Ve,!0,ce.options.toolbarTips,ce.options.shortcuts,"button",ce),Ae[Ve.name||Ve]=ot,de.appendChild(ot),Ve.name==="upload-image"){var lt=document.createElement("input");lt.className="imageInput",lt.type="file",lt.multiple=!0,lt.name="image",lt.accept=ce.options.imageAccept,lt.style.display="none",lt.style.opacity=0,de.appendChild(lt)}})(j[te])}ce.toolbar_div=de,ce.toolbarElements=Ae;var De=this.codemirror;De.on("cursorActivity",function(){var Ve=x(De);for(var ot in Ae)(function(lt){var $t=Ae[lt];Ve[lt]?$t.classList.add("active"):lt!="fullscreen"&&lt!="side-by-side"&&$t.classList.remove("active")})(ot)});var Ie=De.getWrapperElement();return Ie.parentNode.insertBefore(de,Ie),de}},xe.prototype.createStatusbar=function(j){j=j||this.options.status;var te=this.options,de=this.codemirror;if(j&&j.length!==0){var ce,Ae,Ce,Se,De=[];for(ce=0;ce<j.length;ce++)if(Ae=void 0,Ce=void 0,Se=void 0,typeof j[ce]=="object")De.push({className:j[ce].className,defaultValue:j[ce].defaultValue,onUpdate:j[ce].onUpdate,onActivity:j[ce].onActivity});else{var Ie=j[ce];Ie==="words"?(Se=function(mt){mt.innerHTML=he(de.getValue())},Ae=function(mt){mt.innerHTML=he(de.getValue())}):Ie==="lines"?(Se=function(mt){mt.innerHTML=de.lineCount()},Ae=function(mt){mt.innerHTML=de.lineCount()}):Ie==="cursor"?(Se=function(mt){mt.innerHTML="1:1"},Ce=function(mt){var zt=de.getCursor(),Ht=zt.line+1,Vt=zt.ch+1;mt.innerHTML=Ht+":"+Vt}):Ie==="autosave"?Se=function(mt){te.autosave!=null&&te.autosave.enabled===!0&&mt.setAttribute("id","autosaved")}:Ie==="upload-image"&&(Se=function(mt){mt.innerHTML=te.imageTexts.sbInit}),De.push({className:Ie,defaultValue:Se,onUpdate:Ae,onActivity:Ce})}var Ve=document.createElement("div");for(Ve.className="editor-statusbar",ce=0;ce<De.length;ce++){var ot=De[ce],lt=document.createElement("span");lt.className=ot.className,typeof ot.defaultValue=="function"&&ot.defaultValue(lt),typeof ot.onUpdate=="function"&&this.codemirror.on("update",function(mt,zt){return function(){zt.onUpdate(mt)}}(lt,ot)),typeof ot.onActivity=="function"&&this.codemirror.on("cursorActivity",function(mt,zt){return function(){zt.onActivity(mt)}}(lt,ot)),Ve.appendChild(lt)}var $t=this.codemirror.getWrapperElement();return $t.parentNode.insertBefore(Ve,$t.nextSibling),Ve}},xe.prototype.value=function(j){var te=this.codemirror;if(j===void 0)return te.getValue();if(te.getDoc().setValue(j),this.isPreviewActive()){var de=te.getWrapperElement().lastChild,ce=this.options.previewRender(j,de);ce!==null&&(de.innerHTML=ce)}return this},xe.toggleBold=C,xe.toggleItalic=k,xe.toggleStrikethrough=O,xe.toggleBlockquote=A,xe.toggleHeadingSmaller=I,xe.toggleHeadingBigger=R,xe.toggleHeading1=V,xe.toggleHeading2=oe,xe.toggleHeading3=L,xe.toggleHeading4=F,xe.toggleHeading5=U,xe.toggleHeading6=Y,xe.toggleCodeBlock=M,xe.toggleUnorderedList=G,xe.toggleOrderedList=Q,xe.cleanBlock=J,xe.drawLink=re,xe.drawImage=pe,xe.drawUploadedImage=B,xe.drawTable=ve,xe.drawHorizontalRule=ze,xe.undo=it,xe.redo=tt,xe.togglePreview=Xe,xe.toggleSideBySide=Ne,xe.toggleFullScreen=S,xe.prototype.toggleBold=function(){C(this)},xe.prototype.toggleItalic=function(){k(this)},xe.prototype.toggleStrikethrough=function(){O(this)},xe.prototype.toggleBlockquote=function(){A(this)},xe.prototype.toggleHeadingSmaller=function(){I(this)},xe.prototype.toggleHeadingBigger=function(){R(this)},xe.prototype.toggleHeading1=function(){V(this)},xe.prototype.toggleHeading2=function(){oe(this)},xe.prototype.toggleHeading3=function(){L(this)},xe.prototype.toggleHeading4=function(){F(this)},xe.prototype.toggleHeading5=function(){U(this)},xe.prototype.toggleHeading6=function(){Y(this)},xe.prototype.toggleCodeBlock=function(){M(this)},xe.prototype.toggleUnorderedList=function(){G(this)},xe.prototype.toggleOrderedList=function(){Q(this)},xe.prototype.cleanBlock=function(){J(this)},xe.prototype.drawLink=function(){re(this)},xe.prototype.drawImage=function(){pe(this)},xe.prototype.drawUploadedImage=function(){B(this)},xe.prototype.drawTable=function(){ve(this)},xe.prototype.drawHorizontalRule=function(){ze(this)},xe.prototype.undo=function(){it(this)},xe.prototype.redo=function(){tt(this)},xe.prototype.togglePreview=function(){Xe(this)},xe.prototype.toggleSideBySide=function(){Ne(this)},xe.prototype.toggleFullScreen=function(){S(this)},xe.prototype.isPreviewActive=function(){return this.codemirror.getWrapperElement().lastChild.classList.contains("editor-preview-active")},xe.prototype.isSideBySideActive=function(){return this.codemirror.getWrapperElement().nextSibling.classList.contains("editor-preview-active-side")},xe.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},xe.prototype.getState=function(){return x(this.codemirror)},xe.prototype.toTextArea=function(){var j=this.codemirror,te=j.getWrapperElement(),de=te.parentNode;de&&(this.gui.toolbar&&de.removeChild(this.gui.toolbar),this.gui.statusbar&&de.removeChild(this.gui.statusbar),this.gui.sideBySide&&de.removeChild(this.gui.sideBySide)),de.parentNode.insertBefore(te,de),de.remove(),j.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},i.exports=xe},{"./codemirror/tablist":17,codemirror:10,"codemirror-spell-checker":2,"codemirror/addon/display/autorefresh.js":3,"codemirror/addon/display/fullscreen.js":4,"codemirror/addon/display/placeholder.js":5,"codemirror/addon/edit/continuelist.js":6,"codemirror/addon/mode/overlay.js":7,"codemirror/addon/search/searchcursor.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:15}]},{},[18])(18)})})(cce);var HPe=cce.exports;const VPe=Ps(HPe);(()=>{var t=s=>s==null?!1:typeof s=="boolean"?s:s.trim().toLowerCase()==="true";window.tcRangeSliderPlugins=window.tcRangeSliderPlugins||[];var e="min-label",r="max-label",i="#1E293B",n=()=>{let s=null,o=null,a=null,l,u=!1,h=i,d="",f,p=null,g=null,y=null,b=[],x=()=>{var R;let V=(R=s==null?void 0:s.shadowRoot)==null?void 0:R.querySelector(".range-slider-box");p=document.createElement("div"),p.classList.add("labels-row"),V.prepend(p)},w=R=>{let V=document.createElement("label");return V.className=R,V.setAttribute("for","range-slider"),V},S=()=>{g=w(e),g.textContent=I(a==null?void 0:a.getTextMin(),d),y=w(r),y.textContent=I(a==null?void 0:a.getTextMax(),d),o==null||o.before(g),o==null||o.after(y);let R=a==null?void 0:a.getValues();if(R)for(let V=0;V<R.length;V++){let oe=w(`value${V+1}-label generated-label`);oe.textContent=I(R[V],d),b.push(oe),p==null||p.append(oe)}},C=()=>{for(let R of b)!R||R.remove();g==null||g.remove(),y==null||y.remove(),p==null||p.remove(),b=[]},k=R=>{u=R,u?(x(),S()):C()},O=R=>{h=R;for(let V of b)!V||(V.style.color=h??i);g&&(g.style.color=h??i),y&&(y.style.color=h??i)},M=R=>{d=R,l&&l()},A=()=>{!a||!p||p.classList.toggle("is-reversed",a.isRightToLeft()||a.isBottomToTop())},I=(R,V)=>{let oe=`${(R??"").toString()}${V}`;return f&&typeof f=="function"?f(R):oe};return{get name(){return"Generated Labels"},init:(R,V,oe,L)=>{var F,U,Y;s=R,a=L,o=(F=R.shadowRoot)==null?void 0:F.getElementById("range-slider"),l=V,h=(U=s.getAttribute("generate-labels-text-color"))!=null?U:i,d=(Y=s.getAttribute("generate-labels-units"))!=null?Y:"",k(t(s.getAttribute("generate-labels"))),A(),O(h)},update:R=>{if(!(!u||!R.values)){A();for(let V=0;V<R.values.length;V++){let oe=R.values[V],L=b[V];if(oe===void 0&&L){L.remove(),b[V]=void 0;continue}if(oe!==void 0&&!L){let F=w(`value${V+1}-label generated-label`);if(F.textContent=I(oe,d),b[V]=F,R.values.length<=0)p==null||p.append(F);else if(V===0)p==null||p.append(F);else{let U=b[V-1];U==null||U.after(F)}continue}!L||(L.textContent=I(oe,d))}g&&(g.textContent=I(R.textMin,d)),y&&(y.textContent=I(R.textMax,d)),O(h)}},onAttrChange:(R,V)=>{R==="generate-labels"&&k(t(V)),R==="generate-labels-text-color"&&O(V),R==="generate-labels-units"&&M(V)},gettersAndSetters:[{name:"generateLabels",attributes:{get(){return u??!1},set:R=>{k(t(R))}}},{name:"textColor",attributes:{get(){return h??""},set:R=>{O(R)}}},{name:"generateLabelsTextColor",attributes:{get(){return h??""},set:R=>{O(R)}}},{name:"units",attributes:{get(){return d??""},set:R=>{M(R)}}},{name:"generateLabelsUnits",attributes:{get(){return d??""},set:R=>{M(R)}}},{name:"generateLabelsFormat",attributes:{get(){return f},set:R=>{f=R,l&&l()}}}],css:`
    .labels-row{
      text-align: center;
      display: flex;
      justify-content: center;
    }
    
    .is-reversed,
    .is-reversed + .row{
      flex-direction: row-reverse;
    }
    
    .type-vertical{
      position: relative;
    }
    
    .type-vertical .labels-row{
      flex-direction: column;
      position: absolute;
      top: 50%;
      right: -100%;
      transform: translateY(-50%);
    }
    
    .type-vertical .is-reversed,
    .type-vertical .is-reversed + .row{
      flex-direction: column-reverse;
    }
    
    .max-label,
    .min-label{
      margin: 0 1rem;
      width: 2rem;
      text-align: center;
      white-space: nowrap;
    }
    
    .generated-label{
      text-align: center;
      margin: 0 0.5rem;
      white-space: nowrap;
    }
    `,destroy:C}};window.tcRangeSliderPlugins.push(n)})();function GPe(t,e){Object.keys(e).forEach(r=>{t.setAttribute(r,e[r])})}class WPe extends uo{register(){super.register()}unregister(){super.unregister()}build(){const e=this.schema.properties,r=this.options,i=this.schema.description,n=this.theme,s=this.defaults.startVals[this.key];r.compact||(this.header=this.label=n.getFormInputLabel(this.getTitle(),this.isRequired())),i&&(this.description=n.getFormInputDescription(this.translateProperty(i))),r.infoText&&(this.infoButton=n.getInfoButton(this.translateProperty(r.infoText)));const o=document.createElement("tc-range-slider"),a=Object.keys(e).find(h=>h.includes("min")),l=Object.keys(e).find(h=>h.includes("max")),u={min:e[a].minimum,max:e[l].maximum,value1:(s==null?void 0:s[a])||e[a].default,value2:(s==null?void 0:s[l])||e[l].default,"slider-bg-fill":"#004170","generate-labels":"true","slider-width":"100%","range-dragging":"false"};GPe(o,u),this.input=o,this.input.id=this.formname,this.control=n.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.input.addEventListener("change",h=>{h.preventDefault(),h.stopPropagation(),this.value={[a]:h.detail.value1,[l]:h.detail.value2},this.onChange(!0)}),this.container.appendChild(this.control)}destroy(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),super.destroy()}}const YPe=[{type:"object",format:"minmax",func:WPe}],ZPe=t=>{YPe.map(({type:e,format:r,func:i})=>{Hi.defaults.startVals=t,Hi.defaults.editors[r]=i,Hi.defaults.resolvers.unshift(n=>{if(n.type===e&&n.format===r)return r})})};window.SimpleMDE=VPe;const XPe=t=>{ZPe(t.value||{});const e=t.renderRoot.querySelector("form");let i=new Hi(e,{schema:t.schema,...t.value?{startval:t.value}:{},theme:"html",ajax:!0,...t.options});return i.on("ready",()=>{if(Object.values(i.editors).some(n=>n instanceof Que)){const n=document.createElement("style");n.innerHTML=`
          @import url("https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css");
          @import url("https://unpkg.com/easymde/dist/easymde.min.css");
        `,t.renderRoot.insertBefore(n,t.renderRoot.firstChild)}}),i};async function dre(t){if(t&&typeof t!="object")try{const e=await fetch(t);if(e.ok)return await e.json();console.error("Failed to fetch schema from URL: ",e.status)}catch(e){console.error("Error fetching schema: ",e)}return t}const KPe=`
  * {
    font-family: Roboto, sans-serif;
  }
`,JPe=`
  [data-schemaid=root] > .je-header {
    display: none;
  }
  .je-range-control {
    padding: 0.5rem 0;
  }
  .errmsg {
    font-size: x-small;
  }
  tc-range-slider{
    display: block;
    margin: 0.5rem 0;
  }
  .je-header {
    display: flex;
    align-items: center;
    border-bottom: 1px solid #0002;
    padding: 0.5rem 0;
  }
  .je-range-control {
    display: flex;
    align-items: center;
  }
  .je-indented-panel span {
    display: flex;
    align-items: center;
  }
  .je-header span:first-of-type, form[data-theme="html"] .je-form-input-label {
    font-size: 14px;
    font-weight: 600;
  }
  form[data-theme="html"] .je-indented-panel {
    border: none;
    margin: 0.4rem;
  }
  button[class*="json-editor-btntype-"] span {
    display: none;
  }
  button[class*="json-editor-btntype-"]::before {
    height: 24px;
    width: 24px;
  }
  button[class*="json-editor-btntype-"] {
    text-indent: 0px;
    margin: 0px;
    display: flex;
  }
  .json-editor-btntype-toggle::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230009' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-right%3C/title%3E%3Cpath d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z' /%3E%3C/svg%3E");
  }
  .json-editor-btn-moveup::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23204270' d='M3 21V17H10.5C12.43 17 14 15.43 14 13.5V11H10L16 4L22 11H18V13.5C18 17.64 14.64 21 10.5 21H3Z' /%3E%3C/svg%3E");
  }
  .json-editor-btn-movedown::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23204270' d='M21 3V7H13.5C11.57 7 10 8.57 10 10.5V13H14L8 20L2 13H6V10.5C6 6.36 9.36 3 13.5 3H21Z' /%3E%3C/svg%3E");
  }
  .json-editor-btn-moveup,
  .json-editor-btn-movedown,
  .json-editor-btn-moveup::before, 
  .json-editor-btn-movedown::before {
    width: 18px !important;
    height: 18px !important;
  }
  .json-editor-btntype-add::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23204270' d='M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z' /%3E%3C/svg%3E");
  }
  .json-editor-btntype-delete::before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23204270' d='M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z' /%3E%3C/svg%3E");
  }
  .json-editor-btntype-add::before,
   .json-editor-btntype-delete::before {
    width: 16px !important;
    height: 16px !important;
    background: #00417044;
    padding: 4px;
    border-radius: 100px;
  }
  .json-editor-btntype-add,
  .json-editor-btntype-delete {
    opacity: 0.8;
    margin: 0px 0.5rem !important;
  }
  .json-editor-btntype-add:hover,
   .json-editor-btntype-delete:hover {
    opacity: 1;
  }
  button[class*="json-editor-btntype-"]:active {
    --primary-color: transparent;
  }
  .je-indented-panel .row {
    margin-top: 10px;
  }
  .EasyMDEContainer span {
    display: unset;
  }
  .editor-toolbar button {
    box-shadow: none;
    color: #2c3e50 !important;
  }
  .editor-toolbar button:hover:not([disabled]):not(.icon),
  .editor-toolbar button:hover:not([disabled]):not(.icon) {
    box-shadow: none;
    background: #fcfcfc;
    border-color: #95a5a6;
  }
  .editor-toolbar button i {
    font-size: 17px;
  }
  .cm-header-1 {
    font-size: 200% !important;
  }
  .cm-header-1 {
    font-size: 200% !important;
    line-height: 200% !important;
  }
  .cm-header-2 {
    font-size: 160% !important;
    line-height: 160% !important;
  }
  .cm-header-3 {
    font-size: 125% !important;
    line-height: 125% !important;
  }
  .cm-header-4 {
    font-size: 110% !important;
    line-height: 110% !important;
  }
  .cm-comment {
    background: rgba(0, 0, 0, 0.05) !important;
    border-radius: 2px !important;
  }
`;var t1={exports:{}};t1.exports;(function(t,e){var r=200,i="__lodash_hash_undefined__",n=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",x="[object Null]",w="[object Object]",S="[object Promise]",C="[object Proxy]",k="[object RegExp]",O="[object Set]",M="[object String]",A="[object Symbol]",I="[object Undefined]",R="[object WeakMap]",V="[object ArrayBuffer]",oe="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",Y="[object Int16Array]",G="[object Int32Array]",Q="[object Uint8Array]",J="[object Uint8ClampedArray]",re="[object Uint16Array]",pe="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,ve={};ve[L]=ve[F]=ve[U]=ve[Y]=ve[G]=ve[Q]=ve[J]=ve[re]=ve[pe]=!0,ve[a]=ve[l]=ve[V]=ve[h]=ve[oe]=ve[d]=ve[f]=ve[p]=ve[y]=ve[b]=ve[w]=ve[k]=ve[O]=ve[M]=ve[R]=!1;var ze=typeof oi=="object"&&oi&&oi.Object===Object&&oi,it=typeof self=="object"&&self&&self.Object===Object&&self,tt=ze||it||Function("return this")(),Ne=e&&!e.nodeType&&e,Xe=Ne&&!0&&t&&!t.nodeType&&t,nt=Xe&&Xe.exports===Ne,vt=nt&&ze.process,Dt=function(){try{return vt&&vt.binding&&vt.binding("util")}catch{}}(),Rt=Dt&&Dt.isTypedArray;function Er(ie,X){for(var Oe=-1,Ke=ie==null?0:ie.length,Pt=0,kt=[];++Oe<Ke;){var cr=ie[Oe];X(cr,Oe,ie)&&(kt[Pt++]=cr)}return kt}function or(ie,X){for(var Oe=-1,Ke=X.length,Pt=ie.length;++Oe<Ke;)ie[Pt+Oe]=X[Oe];return ie}function di(ie,X){for(var Oe=-1,Ke=ie==null?0:ie.length;++Oe<Ke;)if(X(ie[Oe],Oe,ie))return!0;return!1}function We(ie,X){for(var Oe=-1,Ke=Array(ie);++Oe<ie;)Ke[Oe]=X(Oe);return Ke}function he(ie){return function(X){return ie(X)}}function ue(ie,X){return ie.has(X)}function ae(ie,X){return ie==null?void 0:ie[X]}function me(ie){var X=-1,Oe=Array(ie.size);return ie.forEach(function(Ke,Pt){Oe[++X]=[Pt,Ke]}),Oe}function T(ie,X){return function(Oe){return ie(X(Oe))}}function $(ie){var X=-1,Oe=Array(ie.size);return ie.forEach(function(Ke){Oe[++X]=Ke}),Oe}var W=Array.prototype,K=Function.prototype,ye=Object.prototype,xe=tt["__core-js_shared__"],Me=K.toString,j=ye.hasOwnProperty,te=function(){var ie=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),de=ye.toString,ce=RegExp("^"+Me.call(j).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=nt?tt.Buffer:void 0,Ce=tt.Symbol,Se=tt.Uint8Array,De=ye.propertyIsEnumerable,Ie=W.splice,Ve=Ce?Ce.toStringTag:void 0,ot=Object.getOwnPropertySymbols,lt=Ae?Ae.isBuffer:void 0,$t=T(Object.keys,Object),mt=ys(tt,"DataView"),zt=ys(tt,"Map"),Ht=ys(tt,"Promise"),Vt=ys(tt,"Set"),fr=ys(tt,"WeakMap"),Yt=ys(Object,"create"),ri=ts(mt),dn=ts(zt),hn=ts(Ht),on=ts(Vt),$s=ts(fr),Sr=Ce?Ce.prototype:void 0,ai=Sr?Sr.valueOf:void 0;function hi(ie){var X=-1,Oe=ie==null?0:ie.length;for(this.clear();++X<Oe;){var Ke=ie[X];this.set(Ke[0],Ke[1])}}function $r(){this.__data__=Yt?Yt(null):{},this.size=0}function pr(ie){var X=this.has(ie)&&delete this.__data__[ie];return this.size-=X?1:0,X}function an(ie){var X=this.__data__;if(Yt){var Oe=X[ie];return Oe===i?void 0:Oe}return j.call(X,ie)?X[ie]:void 0}function Ir(ie){var X=this.__data__;return Yt?X[ie]!==void 0:j.call(X,ie)}function Cn(ie,X){var Oe=this.__data__;return this.size+=this.has(ie)?0:1,Oe[ie]=Yt&&X===void 0?i:X,this}hi.prototype.clear=$r,hi.prototype.delete=pr,hi.prototype.get=an,hi.prototype.has=Ir,hi.prototype.set=Cn;function ur(ie){var X=-1,Oe=ie==null?0:ie.length;for(this.clear();++X<Oe;){var Ke=ie[X];this.set(Ke[0],Ke[1])}}function qn(){this.__data__=[],this.size=0}function fe(ie){var X=this.__data__,Oe=ni(X,ie);if(Oe<0)return!1;var Ke=X.length-1;return Oe==Ke?X.pop():Ie.call(X,Oe,1),--this.size,!0}function Te(ie){var X=this.__data__,Oe=ni(X,ie);return Oe<0?void 0:X[Oe][1]}function rt(ie){return ni(this.__data__,ie)>-1}function Ye(ie,X){var Oe=this.__data__,Ke=ni(Oe,ie);return Ke<0?(++this.size,Oe.push([ie,X])):Oe[Ke][1]=X,this}ur.prototype.clear=qn,ur.prototype.delete=fe,ur.prototype.get=Te,ur.prototype.has=rt,ur.prototype.set=Ye;function bt(ie){var X=-1,Oe=ie==null?0:ie.length;for(this.clear();++X<Oe;){var Ke=ie[X];this.set(Ke[0],Ke[1])}}function qt(){this.size=0,this.__data__={hash:new hi,map:new(zt||ur),string:new hi}}function Wt(ie){var X=Bs(this,ie).delete(ie);return this.size-=X?1:0,X}function pt(ie){return Bs(this,ie).get(ie)}function Je(ie){return Bs(this,ie).has(ie)}function Kt(ie,X){var Oe=Bs(this,ie),Ke=Oe.size;return Oe.set(ie,X),this.size+=Oe.size==Ke?0:1,this}bt.prototype.clear=qt,bt.prototype.delete=Wt,bt.prototype.get=pt,bt.prototype.has=Je,bt.prototype.set=Kt;function Jt(ie){var X=-1,Oe=ie==null?0:ie.length;for(this.__data__=new bt;++X<Oe;)this.add(ie[X])}function Lt(ie){return this.__data__.set(ie,i),this}function Ct(ie){return this.__data__.has(ie)}Jt.prototype.add=Jt.prototype.push=Lt,Jt.prototype.has=Ct;function ii(ie){var X=this.__data__=new ur(ie);this.size=X.size}function Li(){this.__data__=new ur,this.size=0}function Bt(ie){var X=this.__data__,Oe=X.delete(ie);return this.size=X.size,Oe}function He(ie){return this.__data__.get(ie)}function ht(ie){return this.__data__.has(ie)}function Dr(ie,X){var Oe=this.__data__;if(Oe instanceof ur){var Ke=Oe.__data__;if(!zt||Ke.length<r-1)return Ke.push([ie,X]),this.size=++Oe.size,this;Oe=this.__data__=new bt(Ke)}return Oe.set(ie,X),this.size=Oe.size,this}ii.prototype.clear=Li,ii.prototype.delete=Bt,ii.prototype.get=He,ii.prototype.has=ht,ii.prototype.set=Dr;function li(ie,X){var Oe=Oi(ie),Ke=!Oe&&js(ie),Pt=!Oe&&!Ke&&An(ie),kt=!Oe&&!Ke&&!Pt&&ln(ie),cr=Oe||Ke||Pt||kt,Lr=cr?We(ie.length,String):[],Br=Lr.length;for(var jr in ie)j.call(ie,jr)&&!(cr&&(jr=="length"||Pt&&(jr=="offset"||jr=="parent")||kt&&(jr=="buffer"||jr=="byteLength"||jr=="byteOffset")||Vn(jr,Br)))&&Lr.push(jr);return Lr}function ni(ie,X){for(var Oe=ie.length;Oe--;)if(fo(ie[Oe][0],X))return Oe;return-1}function ui(ie,X,Oe){var Ke=X(ie);return Oi(ie)?Ke:or(Ke,Oe(ie))}function qr(ie){return ie==null?ie===void 0?I:x:Ve&&Ve in Object(ie)?Ii(ie):ho(ie)}function Ot(ie){return xs(ie)&&qr(ie)==a}function Ki(ie,X,Oe,Ke,Pt){return ie===X?!0:ie==null||X==null||!xs(ie)&&!xs(X)?ie!==ie&&X!==X:fn(ie,X,Oe,Ke,Ki,Pt)}function fn(ie,X,Oe,Ke,Pt,kt){var cr=Oi(ie),Lr=Oi(X),Br=cr?l:es(ie),jr=Lr?l:es(X);Br=Br==a?w:Br,jr=jr==a?w:jr;var zr=Br==w,Ei=jr==w,Or=Br==jr;if(Or&&An(ie)){if(!An(X))return!1;cr=!0,zr=!1}if(Or&&!zr)return kt||(kt=new ii),cr||ln(ie)?ps(ie,X,Oe,Ke,Pt,kt):ms(ie,X,Br,Oe,Ke,Pt,kt);if(!(Oe&n)){var Fi=zr&&j.call(ie,"__wrapped__"),On=Ei&&j.call(X,"__wrapped__");if(Fi||On){var is=Fi?ie.value():ie,tn=On?X.value():X;return kt||(kt=new ii),Pt(is,tn,Oe,Ke,kt)}}return Or?(kt||(kt=new ii),gs(ie,X,Oe,Ke,Pt,kt)):!1}function pn(ie){if(!Ln(ie)||Wn(ie))return!1;var X=rs(ie)?ce:B;return X.test(ts(ie))}function kn(ie){return xs(ie)&&wn(ie.length)&&!!ve[qr(ie)]}function Hn(ie){if(!vs(ie))return $t(ie);var X=[];for(var Oe in Object(ie))j.call(ie,Oe)&&Oe!="constructor"&&X.push(Oe);return X}function ps(ie,X,Oe,Ke,Pt,kt){var cr=Oe&n,Lr=ie.length,Br=X.length;if(Lr!=Br&&!(cr&&Br>Lr))return!1;var jr=kt.get(ie);if(jr&&kt.get(X))return jr==X;var zr=-1,Ei=!0,Or=Oe&s?new Jt:void 0;for(kt.set(ie,X),kt.set(X,ie);++zr<Lr;){var Fi=ie[zr],On=X[zr];if(Ke)var is=cr?Ke(On,Fi,zr,X,ie,kt):Ke(Fi,On,zr,ie,X,kt);if(is!==void 0){if(is)continue;Ei=!1;break}if(Or){if(!di(X,function(tn,rn){if(!ue(Or,rn)&&(Fi===tn||Pt(Fi,tn,Oe,Ke,kt)))return Or.push(rn)})){Ei=!1;break}}else if(!(Fi===On||Pt(Fi,On,Oe,Ke,kt))){Ei=!1;break}}return kt.delete(ie),kt.delete(X),Ei}function ms(ie,X,Oe,Ke,Pt,kt,cr){switch(Oe){case oe:if(ie.byteLength!=X.byteLength||ie.byteOffset!=X.byteOffset)return!1;ie=ie.buffer,X=X.buffer;case V:return!(ie.byteLength!=X.byteLength||!kt(new Se(ie),new Se(X)));case h:case d:case b:return fo(+ie,+X);case f:return ie.name==X.name&&ie.message==X.message;case k:case M:return ie==X+"";case y:var Lr=me;case O:var Br=Ke&n;if(Lr||(Lr=$),ie.size!=X.size&&!Br)return!1;var jr=cr.get(ie);if(jr)return jr==X;Ke|=s,cr.set(ie,X);var zr=ps(Lr(ie),Lr(X),Ke,Pt,kt,cr);return cr.delete(ie),zr;case A:if(ai)return ai.call(ie)==ai.call(X)}return!1}function gs(ie,X,Oe,Ke,Pt,kt){var cr=Oe&n,Lr=Dn(ie),Br=Lr.length,jr=Dn(X),zr=jr.length;if(Br!=zr&&!cr)return!1;for(var Ei=Br;Ei--;){var Or=Lr[Ei];if(!(cr?Or in X:j.call(X,Or)))return!1}var Fi=kt.get(ie);if(Fi&&kt.get(X))return Fi==X;var On=!0;kt.set(ie,X),kt.set(X,ie);for(var is=cr;++Ei<Br;){Or=Lr[Ei];var tn=ie[Or],rn=X[Or];if(Ke)var Ts=cr?Ke(rn,tn,Or,X,ie,kt):Ke(tn,rn,Or,ie,X,kt);if(!(Ts===void 0?tn===rn||Pt(tn,rn,Oe,Ke,kt):Ts)){On=!1;break}is||(is=Or=="constructor")}if(On&&!is){var bi=ie.constructor,Js=X.constructor;bi!=Js&&"constructor"in ie&&"constructor"in X&&!(typeof bi=="function"&&bi instanceof bi&&typeof Js=="function"&&Js instanceof Js)&&(On=!1)}return kt.delete(ie),kt.delete(X),On}function Dn(ie){return ui(ie,_s,bs)}function Bs(ie,X){var Oe=ie.__data__;return Gn(X)?Oe[typeof X=="string"?"string":"hash"]:Oe.map}function ys(ie,X){var Oe=ae(ie,X);return pn(Oe)?Oe:void 0}function Ii(ie){var X=j.call(ie,Ve),Oe=ie[Ve];try{ie[Ve]=void 0;var Ke=!0}catch{}var Pt=de.call(ie);return Ke&&(X?ie[Ve]=Oe:delete ie[Ve]),Pt}var bs=ot?function(ie){return ie==null?[]:(ie=Object(ie),Er(ot(ie),function(X){return De.call(ie,X)}))}:po,es=qr;(mt&&es(new mt(new ArrayBuffer(1)))!=oe||zt&&es(new zt)!=y||Ht&&es(Ht.resolve())!=S||Vt&&es(new Vt)!=O||fr&&es(new fr)!=R)&&(es=function(ie){var X=qr(ie),Oe=X==w?ie.constructor:void 0,Ke=Oe?ts(Oe):"";if(Ke)switch(Ke){case ri:return oe;case dn:return y;case hn:return S;case on:return O;case $s:return R}return X});function Vn(ie,X){return X=X??o,!!X&&(typeof ie=="number"||ge.test(ie))&&ie>-1&&ie%1==0&&ie<X}function Gn(ie){var X=typeof ie;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?ie!=="__proto__":ie===null}function Wn(ie){return!!te&&te in ie}function vs(ie){var X=ie&&ie.constructor,Oe=typeof X=="function"&&X.prototype||ye;return ie===Oe}function ho(ie){return de.call(ie)}function ts(ie){if(ie!=null){try{return Me.call(ie)}catch{}try{return ie+""}catch{}}return""}function fo(ie,X){return ie===X||ie!==ie&&X!==X}var js=Ot(function(){return arguments}())?Ot:function(ie){return xs(ie)&&j.call(ie,"callee")&&!De.call(ie,"callee")},Oi=Array.isArray;function Yn(ie){return ie!=null&&wn(ie.length)&&!rs(ie)}var An=lt||Zn;function Ks(ie,X){return Ki(ie,X)}function rs(ie){if(!Ln(ie))return!1;var X=qr(ie);return X==p||X==g||X==u||X==C}function wn(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=o}function Ln(ie){var X=typeof ie;return ie!=null&&(X=="object"||X=="function")}function xs(ie){return ie!=null&&typeof ie=="object"}var ln=Rt?he(Rt):kn;function _s(ie){return Yn(ie)?li(ie):Hn(ie)}function po(){return[]}function Zn(){return!1}t.exports=Ks})(t1,t1.exports);var QPe=t1.exports;const hre=Ps(QPe);var Ro,dp,hce,fce;class dce extends Wi{constructor(){super();nr(this,dp);nr(this,Ro,null);this.schema,this.value,this.options={show_opt_in:!1,disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,disable_array_delete_all_rows:!0,disable_array_delete_last_row:!0,array_controls_top:!0},this.noShadow=!1,this.unstyled=!1}get editor(){return Ut(this,Ro)}get schema(){return this._schema}set schema(r){Ut(this,Ro)&&!hre(this._schema,r)&&Ut(this,Ro).destroy(),this._schema=r}get value(){return this._value}set value(r){Ut(this,Ro)&&Ut(this,Ro).ready&&!hre(this._value,r)&&Ut(this,Ro).setValue(r),this._value=r}async updated(r){this._value=await dre(this.value),r.has("schema")&&(this._schema=await dre(this.schema),(!Ut(this,Ro)||Ut(this,Ro).destroyed)&&(Kn(this,Ro,await XPe(this)),tr(this,dp,fce).call(this)))}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){return et`
      <style>
        ${KPe}
        ${!this.unstyled&&_C}
        ${!this.unstyled&&JPe}
      </style>
      <form></form>
    `}}Ro=new WeakMap,dp=new WeakSet,hce=function(){this.dispatchEvent(new CustomEvent("change",{detail:this.value,bubbles:!0,composed:!0}))},fce=function(){["ready","change"].map(i=>{Ut(this,Ro).on(i,()=>{this._value=Ut(this,Ro).getValue(),tr(this,dp,hce).call(this)})})},Ge(dce,"properties",{schema:{attribute:!1,type:Object},value:{attribute:!1,type:Object},options:{attribute:!1,type:Object},noShadow:{attribute:"no-shadow",type:Boolean},unstyled:{type:Boolean}});customElements.define("eox-jsonform",dce);/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var si=t=>t!==void 0,pce=(t,e,r)=>e in t?t[e]:t[e]=r;const w0={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};class e5e{constructor(e){this._parser=new e}toDocument(e){return this._parser.parseFromString(e,"application/xml")}getAllTextContent(e,r){return Mx(e,r).join("")}}function Mx(t,e){return mce(t,e,[]).join("")}function mce(t,e,r){if(t.nodeType===w0.CDATA_SECTION||t.nodeType===w0.TEXT)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{var i;for(i=t.firstChild;i;i=i.nextSibling)mce(i,e,r)}return r}function t5e(t,e,r,i){for(var n=r5e(e);n;n=i5e(n)){var s=n.namespaceURI||null,o=t[s];if(si(o)){var a=o[n.localName];si(a)&&a.call(i,n,r)}}}function r5e(t){let e=t.firstElementChild||t.firstChild;for(;e&&e.nodeType!==w0.ELEMENT;)e=e.nextSibling;return e}function i5e(t){let e=t.nextElementSibling||t.nextSibling;for(;e&&e.nodeType!==w0.ELEMENT;)e=e.nextSibling;return e}function Ys(t,e,r){return n5e(t,e,r)}function n5e(t,e,r){var i=si(r)?r:{},n,s;for(n=0,s=t.length;n<s;++n)i[t[n]]=e;return i}function gce(t,e){return function(r,i){var n=t.call(si(e)?e:this,r,i);if(si(n)){var s=i[i.length-1];s.push(n)}}}function Ns(t,e,r,i,n){return i.push(t),t5e(e,r,i,n),i.pop()}function Xt(t,e,r){return function(i,n){let s=t.call(si(r)?r:this,i,n);if(si(s)){var o=n[n.length-1],a=si(e)?e:i.localName;o[a]=s}}}function Mo(t,e,r){return function(i,n){var s=t.call(si(r)?r:this,i,n);if(si(s)){var o=n[n.length-1],a=si(e)?e:i.localName,l=pce(o,a,[]);l.push(s)}}}const s5e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function o5e(t){return t.replace(s5e,"")}function Zd(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return si(e[1])||!1}function Lf(t){return cu(Mx(t,!1))}function cu(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function $_(t){return r1(Mx(t,!1))}function r1(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function Ri(t){return o5e(Mx(t,!1))}const a5e="http://www.w3.org/1999/xlink";function IC(t){return t.getAttributeNS(a5e,"href")}function l5e(t,e){return Ns({},F5e,t,e)}function yce(t){return[cu(t.getAttribute("minx")),cu(t.getAttribute("miny")),cu(t.getAttribute("maxx")),cu(t.getAttribute("maxy"))]}function u5e(t,e){const r=yce(t),i=[cu(t.getAttribute("resx")),cu(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS")||t.getAttribute("SRS"),extent:r,res:i}}function c5e(t,e){const r=yce(t);if(!(!si(r[0])||!si(r[1])||!si(r[2])||!si(r[3])))return r}function d5e(t,e){const r=parseFloat(t.getAttribute("min")),i=parseFloat(t.getAttribute("max"));return{min:r,max:i}}function h5e(t,e){const r=Ns({},P5e,t,e);if(!si(r))return;const i=r.westBoundLongitude,n=r.southBoundLatitude,s=r.eastBoundLongitude,o=r.northBoundLatitude;if(!(!si(i)||!si(n)||!si(s)||!si(o)))return[i,n,s,o]}function f5e(t,e){return Ns({},D5e,t,e)}function p5e(t,e){return Ns({},L5e,t,e)}function m5e(t,e){return Ns({},O5e,t,e)}function g5e(t,e){return Ns({},M5e,t,e)}function y5e(t,e){return Ns({},R5e,t,e)}function b5e(t,e){return Ns([],I5e,t,e)}function v5e(t,e){const r=Zd(t.getAttribute("queryable"));return Ns({queryable:si(r)?r:!1},xce,t,e)}function x5e(t,e){var r=e[e.length-1];const i=Ns({},xce,t,e);if(!si(i))return;let n=Zd(t.getAttribute("queryable"));si(n)||(n=r.queryable),i.queryable=si(n)?n:!1;let s=r1(t.getAttribute("cascaded"));si(s)||(s=r.cascaded),i.cascaded=s;let o=Zd(t.getAttribute("opaque"));si(o)||(o=r.opaque),i.opaque=si(o)?o:!1;let a=Zd(t.getAttribute("noSubsets"));si(a)||(a=r.noSubsets),i.noSubsets=si(a)?a:!1;let l=cu(t.getAttribute("fixedWidth"));si(l)||(l=r.fixedWidth),i.fixedWidth=l;let u=cu(t.getAttribute("fixedHeight"));si(u)||(u=r.fixedHeight),i.fixedHeight=u;const h=["Style","CRS","AuthorityURL"];for(let f=0,p=h.length;f<p;f++){const g=h[f],y=r[g];if(si(y)){let b=pce(i,g,[]);b=b.concat(y),i[g]=b}}const d=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let f=0,p=d.length;f<p;f++){const g=d[f],y=i[g];if(!si(y)){const b=r[g];i[g]=b}}return i}function _5e(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Zd(t.getAttribute("multipleValues")),nearestValue:Zd(t.getAttribute("nearestValue")),current:Zd(t.getAttribute("current")),values:Ri(t)}}function vu(t,e){return Ns({},U5e,t,e)}function w5e(t,e){return Ns({},N5e,t,e)}function E5e(t,e){return Ns({},B5e,t,e)}function S5e(t,e){return Ns({},j5e,t,e)}function B_(t,e){return Ns({},$5e,t,e)}function bce(t,e){var r=vu(t,e);if(si(r)){const i=[r1(t.getAttribute("width")),r1(t.getAttribute("height"))];return r.size=i,r}}function C5e(t,e){var r=vu(t,e);if(si(r))return r.name=t.getAttribute("name"),r}function k5e(t,e){var r=vu(t,e);if(si(r))return r.type=t.getAttribute("type"),r}function A5e(t,e){return Ns({},z5e,t,e)}function vce(t,e){return Ns([],q5e,t,e)}const Zs=[null,"http://www.opengis.net/wms"],T5e=Ys(Zs,{Service:Xt(p5e),Capability:Xt(f5e)}),D5e=Ys(Zs,{Request:Xt(w5e),Exception:Xt(b5e),Layer:Xt(v5e)}),L5e=Ys(Zs,{Name:Xt(Ri),Title:Xt(Ri),Abstract:Xt(Ri),KeywordList:Xt(vce),OnlineResource:Xt(IC),ContactInformation:Xt(m5e),Fees:Xt(Ri),AccessConstraints:Xt(Ri),LayerLimit:Xt($_),MaxWidth:Xt($_),MaxHeight:Xt($_)}),O5e=Ys(Zs,{ContactPersonPrimary:Xt(g5e),ContactPosition:Xt(Ri),ContactAddress:Xt(y5e),ContactVoiceTelephone:Xt(Ri),ContactFacsimileTelephone:Xt(Ri),ContactElectronicMailAddress:Xt(Ri)}),M5e=Ys(Zs,{ContactPerson:Xt(Ri),ContactOrganization:Xt(Ri)}),R5e=Ys(Zs,{AddressType:Xt(Ri),Address:Xt(Ri),City:Xt(Ri),StateOrProvince:Xt(Ri),PostCode:Xt(Ri),Country:Xt(Ri)}),I5e=Ys(Zs,{Format:gce(Ri)}),xce=Ys(Zs,{Name:Xt(Ri),Title:Xt(Ri),Abstract:Xt(Ri),KeywordList:Xt(vce),CRS:Mo(Ri),SRS:Mo(Ri),EX_GeographicBoundingBox:Xt(h5e),LatLonBoundingBox:Xt(c5e),BoundingBox:Mo(u5e),Dimension:Mo(_5e),Attribution:Xt(l5e),AuthorityURL:Mo(C5e),Identifier:Mo(Ri),MetadataURL:Mo(k5e),DataURL:Mo(vu),FeatureListURL:Mo(vu),Style:Mo(A5e),MinScaleDenominator:Xt(Lf),MaxScaleDenominator:Xt(Lf),ScaleHint:Xt(d5e),Layer:Mo(x5e)}),F5e=Ys(Zs,{Title:Xt(Ri),OnlineResource:Xt(IC),LogoURL:Xt(bce)}),P5e=Ys(Zs,{westBoundLongitude:Xt(Lf),eastBoundLongitude:Xt(Lf),southBoundLatitude:Xt(Lf),northBoundLatitude:Xt(Lf)}),N5e=Ys(Zs,{GetCapabilities:Xt(B_),GetMap:Xt(B_),GetFeatureInfo:Xt(B_)}),$5e=Ys(Zs,{Format:Mo(Ri),DCPType:Mo(E5e)}),B5e=Ys(Zs,{HTTP:Xt(S5e)}),j5e=Ys(Zs,{Get:Xt(vu),Post:Xt(vu)}),z5e=Ys(Zs,{Name:Xt(Ri),Title:Xt(Ri),Abstract:Xt(Ri),LegendURL:Mo(bce),StyleSheetURL:Xt(vu),StyleURL:Xt(vu)}),U5e=Ys(Zs,{Format:Xt(Ri),OnlineResource:Xt(IC)}),q5e=Ys(Zs,{Keyword:gce(Ri)});class H5e{constructor(e,r){!r&&typeof window<"u"&&(r=window.DOMParser),this.version=void 0,this._parser=new e5e(r),this._data=e}data(e){return this._data=e,this}toJSON(e){return e=e||this._data,this.parse(e)}parse(e){return this.readFromDocument(this._parser.toDocument(e))}readFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==w0.ELEMENT)return this.readFromNode(r);return null}readFromNode(e){return this.version=e.getAttribute("version"),Ns({version:this.version},T5e,e,[])||null}}async function V5e(t){let e=new URL(t),r=e.searchParams;r.set("SERVICE","WMS"),r.set("REQUEST","GetCapabilities");let i=e.toString();const n=await fetch(i);if(n.ok){const s=await n.text();return new H5e(s).toJSON()}else throw new Error(`Error: ${n.status}`)}function FC(t){const e=/\b(?:wms|ows)\b/i,r=/{(?:z|x|y-?)}\/{(?:z|x|y-?)}\/{(?:z|x|y-?)}/i;return e.test(t)?"TileWMS":r.test(t)?"XYZ":!1}function G5e(t){const r=/^(?:(?:https?|ftp):\/\/|\/\/)?(?:localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|(?:\w+[\w-]*\.)+\w+)(?::\d+)?(?:\/\S*)?$/.test(t),i=FC(t);return!!(t&&r&&i)}function _ce(t){return t.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": ').replace(/,\s*}/g,"}").replace(/,\s*]/g,"]").replace(/\s*(\{|}|\[|\]|,)\s*/g,"$1").replaceAll('": //',"://")}function W5e(t){try{return JSON.parse(_ce(t)),!!t}catch{return!1}}function Y5e(t,e){const r=new URL(t).searchParams;Object.entries(e).forEach(([o,a])=>{typeof a=="object"&&!Array.isArray(a)&&a!==null?Object.keys(a).forEach(l=>{r.set(l,a[l])}):r.set(o,a)});const i=t.split("?")[0],n=r.toString();return`${i}?${n}`}/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function fre(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fre(Object(r),!0).forEach(function(i){Z5e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fre(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function sv(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sv=function(e){return typeof e}:sv=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function Z5e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xu(){return xu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xu.apply(this,arguments)}function X5e(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,s;for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function K5e(t,e){if(t==null)return{};var r=X5e(t,e),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}var J5e="1.15.3";function mu(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ku=mu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ly=mu(/Edge/i),pre=mu(/firefox/i),Yg=mu(/safari/i)&&!mu(/chrome/i)&&!mu(/android/i),wce=mu(/iP(ad|od|hone)/i),Ece=mu(/chrome/i)&&mu(/android/i),Sce={capture:!1,passive:!1};function $i(t,e,r){t.addEventListener(e,r,!ku&&Sce)}function Ai(t,e,r){t.removeEventListener(e,r,!ku&&Sce)}function i1(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Cce(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ua(t,e,r,i){if(t){r=r||document;do{if(e!=null&&(e[0]===">"?t.parentNode===r&&i1(t,e):i1(t,e))||i&&t===r)return t;if(t===r)break}while(t=Cce(t))}return null}var mre=/\s+/g;function Ho(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(mre," ").replace(" "+e+" "," ");t.className=(i+(r?" "+e:"")).replace(mre," ")}}function vr(t,e,r){var i=t&&t.style;if(i){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),e===void 0?r:r[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=r+(typeof r=="string"?"":"px")}}function zf(t,e){var r="";if(typeof t=="string")r=t;else do{var i=vr(t,"transform");i&&i!=="none"&&(r=i+" "+r)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(r)}function kce(t,e,r){if(t){var i=t.getElementsByTagName(e),n=0,s=i.length;if(r)for(;n<s;n++)r(i[n],n);return i}return[]}function kl(){var t=document.scrollingElement;return t||document.documentElement}function cs(t,e,r,i,n){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,h,d;if(t!==window&&t.parentNode&&t!==kl()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,h=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(e||r)&&t!==window&&(n=n||t.parentNode,!ku))do if(n&&n.getBoundingClientRect&&(vr(n,"transform")!=="none"||r&&vr(n,"position")!=="static")){var f=n.getBoundingClientRect();o-=f.top+parseInt(vr(n,"border-top-width")),a-=f.left+parseInt(vr(n,"border-left-width")),l=o+s.height,u=a+s.width;break}while(n=n.parentNode);if(i&&t!==window){var p=zf(n||t),g=p&&p.a,y=p&&p.d;p&&(o/=y,a/=g,d/=g,h/=y,l=o+h,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:h}}}function gre(t,e,r){for(var i=yc(t,!0),n=cs(t)[e];i;){var s=cs(i)[r],o=void 0;if(o=n>=s,!o)return i;if(i===kl())break;i=yc(i,!1)}return!1}function op(t,e,r,i){for(var n=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==xr.ghost&&(i||o[s]!==xr.dragged)&&Ua(o[s],r.draggable,t,!1)){if(n===e)return o[s];n++}s++}return null}function PC(t,e){for(var r=t.lastElementChild;r&&(r===xr.ghost||vr(r,"display")==="none"||e&&!i1(r,e));)r=r.previousElementSibling;return r||null}function ga(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==xr.clone&&(!e||i1(t,e))&&r++;return r}function yre(t){var e=0,r=0,i=kl();if(t)do{var n=zf(t),s=n.a,o=n.d;e+=t.scrollLeft*s,r+=t.scrollTop*o}while(t!==i&&(t=t.parentNode));return[e,r]}function Q5e(t,e){for(var r in t)if(t.hasOwnProperty(r)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[r][i])return Number(r)}return-1}function yc(t,e){if(!t||!t.getBoundingClientRect)return kl();var r=t,i=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var n=vr(r);if(r.clientWidth<r.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return kl();if(i||e)return r;i=!0}}while(r=r.parentNode);return kl()}function e4e(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function j_(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Zg;function Ace(t,e){return function(){if(!Zg){var r=arguments,i=this;r.length===1?t.call(i,r[0]):t.apply(i,r),Zg=setTimeout(function(){Zg=void 0},e)}}}function t4e(){clearTimeout(Zg),Zg=void 0}function Tce(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function Dce(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function Lce(t,e,r){var i={};return Array.from(t.children).forEach(function(n){var s,o,a,l;if(!(!Ua(n,e.draggable,t,!1)||n.animated||n===r)){var u=cs(n);i.left=Math.min((s=i.left)!==null&&s!==void 0?s:1/0,u.left),i.top=Math.min((o=i.top)!==null&&o!==void 0?o:1/0,u.top),i.right=Math.max((a=i.right)!==null&&a!==void 0?a:-1/0,u.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var $o="Sortable"+new Date().getTime();function r4e(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(n){if(!(vr(n,"display")==="none"||n===xr.ghost)){t.push({target:n,rect:cs(n)});var s=Ol({},t[t.length-1].rect);if(n.thisAnimationDuration){var o=zf(n,!0);o&&(s.top-=o.f,s.left-=o.e)}n.fromRect=s}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(Q5e(t,{target:i}),1)},animateAll:function(i){var n=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,h=u.fromRect,d=cs(u),f=u.prevFromRect,p=u.prevToRect,g=a.rect,y=zf(u,!0);y&&(d.top-=y.f,d.left-=y.e),u.toRect=d,u.thisAnimationDuration&&j_(f,d)&&!j_(h,d)&&(g.top-d.top)/(g.left-d.left)===(h.top-d.top)/(h.left-d.left)&&(l=n4e(g,f,p,n.options)),j_(d,h)||(u.prevFromRect=h,u.prevToRect=d,l||(l=n.options.animation),n.animate(u,g,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),t=[]},animate:function(i,n,s,o){if(o){vr(i,"transition",""),vr(i,"transform","");var a=zf(this.el),l=a&&a.a,u=a&&a.d,h=(n.left-s.left)/(l||1),d=(n.top-s.top)/(u||1);i.animatingX=!!h,i.animatingY=!!d,vr(i,"transform","translate3d("+h+"px,"+d+"px,0)"),this.forRepaintDummy=i4e(i),vr(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),vr(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){vr(i,"transition",""),vr(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function i4e(t){return t.offsetWidth}function n4e(t,e,r,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*i.animation}var hf=[],z_={initializeByDefault:!0},uy={mount:function(e){for(var r in z_)z_.hasOwnProperty(r)&&!(r in e)&&(e[r]=z_[r]);hf.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),hf.push(e)},pluginEvent:function(e,r,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";hf.forEach(function(o){r[o.pluginName]&&(r[o.pluginName][s]&&r[o.pluginName][s](Ol({sortable:r},i)),r.options[o.pluginName]&&r[o.pluginName][e]&&r[o.pluginName][e](Ol({sortable:r},i)))})},initializePlugins:function(e,r,i,n){hf.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,r,e.options);u.sortable=e,u.options=e.options,e[l]=u,xu(i,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,r){var i={};return hf.forEach(function(n){typeof n.eventProperties=="function"&&xu(i,n.eventProperties.call(r[n.pluginName],e))}),i},modifyOption:function(e,r,i){var n;return hf.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[r]=="function"&&(n=s.optionListeners[r].call(e[s.pluginName],i))}),n}};function s4e(t){var e=t.sortable,r=t.rootEl,i=t.name,n=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,g=t.extraEventProperties;if(e=e||r&&r[$o],!!e){var y,b=e.options,x="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!ku&&!ly?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=o||r,y.from=a||r,y.item=n||r,y.clone=s,y.oldIndex=l,y.newIndex=u,y.oldDraggableIndex=h,y.newDraggableIndex=d,y.originalEvent=f,y.pullMode=p?p.lastPutMode:void 0;var w=Ol(Ol({},g),uy.getEventProperties(i,e));for(var S in w)y[S]=w[S];r&&r.dispatchEvent(y),b[x]&&b[x].call(e,y)}}var o4e=["evt"],Lo=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.evt,s=K5e(i,o4e);uy.pluginEvent.bind(xr)(e,r,Ol({dragEl:Et,parentEl:Fn,ghostEl:Rr,rootEl:En,nextEl:$d,lastDownEl:ov,cloneEl:Tn,cloneHidden:lc,dragStarted:Rg,putSortable:Hs,activeSortable:xr.active,originalEvent:n,oldIndex:Of,oldDraggableIndex:Xg,newIndex:Vo,newDraggableIndex:sc,hideGhostForTarget:Ice,unhideGhostForTarget:Fce,cloneNowHidden:function(){lc=!0},cloneNowShown:function(){lc=!1},dispatchSortableEvent:function(a){yo({sortable:r,name:a,originalEvent:n})}},s))};function yo(t){s4e(Ol({putSortable:Hs,cloneEl:Tn,targetEl:Et,rootEl:En,oldIndex:Of,oldDraggableIndex:Xg,newIndex:Vo,newDraggableIndex:sc},t))}var Et,Fn,Rr,En,$d,ov,Tn,lc,Of,Vo,Xg,sc,Ob,Hs,_f=!1,n1=!1,s1=[],Td,$a,U_,q_,bre,vre,Rg,ff,Kg,Jg=!1,Mb=!1,av,to,H_=[],SE=!1,o1=[],Rx=typeof document<"u",Rb=wce,xre=ly||ku?"cssFloat":"float",a4e=Rx&&!Ece&&!wce&&"draggable"in document.createElement("div"),Oce=function(){if(Rx){if(ku)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Mce=function(e,r){var i=vr(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=op(e,0,r),o=op(e,1,r),a=s&&vr(s),l=o&&vr(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+cs(s).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+cs(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=n&&i[xre]==="none"||o&&i[xre]==="none"&&u+h>n)?"vertical":"horizontal"},l4e=function(e,r,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,o=i?e.width:e.height,a=i?r.left:r.top,l=i?r.right:r.bottom,u=i?r.width:r.height;return n===a||s===l||n+o/2===a+u/2},u4e=function(e,r){var i;return s1.some(function(n){var s=n[$o].options.emptyInsertThreshold;if(!(!s||PC(n))){var o=cs(n),a=e>=o.left-s&&e<=o.right+s,l=r>=o.top-s&&r<=o.bottom+s;if(a&&l)return i=n}}),i},Rce=function(e){function r(s,o){return function(a,l,u,h){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return r(s(a,l,u,h),o)(a,l,u,h);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var i={},n=e.group;(!n||sv(n)!="object")&&(n={name:n}),i.name=n.name,i.checkPull=r(n.pull,!0),i.checkPut=r(n.put),i.revertClone=n.revertClone,e.group=i},Ice=function(){!Oce&&Rr&&vr(Rr,"display","none")},Fce=function(){!Oce&&Rr&&vr(Rr,"display","")};Rx&&!Ece&&document.addEventListener("click",function(t){if(n1)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),n1=!1,!1},!0);var Dd=function(e){if(Et){e=e.touches?e.touches[0]:e;var r=u4e(e.clientX,e.clientY);if(r){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=r,i.preventDefault=void 0,i.stopPropagation=void 0,r[$o]._onDragOver(i)}}},c4e=function(e){Et&&Et.parentNode[$o]._isOutsideThisEl(e.target)};function xr(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=xu({},e),t[$o]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Mce(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:xr.supportPointer!==!1&&"PointerEvent"in window&&!Yg,emptyInsertThreshold:5};uy.initializePlugins(this,t,r);for(var i in r)!(i in e)&&(e[i]=r[i]);Rce(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:a4e,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?$i(t,"pointerdown",this._onTapStart):($i(t,"mousedown",this._onTapStart),$i(t,"touchstart",this._onTapStart)),this.nativeDraggable&&($i(t,"dragover",this),$i(t,"dragenter",this)),s1.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),xu(this,r4e())}xr.prototype={constructor:xr,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ff=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,Et):this.options.direction},_onTapStart:function(e){if(e.cancelable){var r=this,i=this.el,n=this.options,s=n.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,h=n.filter;if(b4e(i),!Et&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||n.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Yg&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ua(l,n.draggable,i,!1),!(l&&l.animated)&&ov!==l)){if(Of=ga(l),Xg=ga(l,n.draggable),typeof h=="function"){if(h.call(this,e,l,this)){yo({sortable:r,rootEl:u,name:"filter",targetEl:l,toEl:i,fromEl:i}),Lo("filter",r,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(d){if(d=Ua(u,d.trim(),i,!1),d)return yo({sortable:r,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),Lo("filter",r,{evt:e}),!0}),h)){s&&e.cancelable&&e.preventDefault();return}n.handle&&!Ua(u,n.handle,i,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,r,i){var n=this,s=n.el,o=n.options,a=s.ownerDocument,l;if(i&&!Et&&i.parentNode===s){var u=cs(i);if(En=s,Et=i,Fn=Et.parentNode,$d=Et.nextSibling,ov=i,Ob=o.group,xr.dragged=Et,Td={target:Et,clientX:(r||e).clientX,clientY:(r||e).clientY},bre=Td.clientX-u.left,vre=Td.clientY-u.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,Et.style["will-change"]="all",l=function(){if(Lo("delayEnded",n,{evt:e}),xr.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!pre&&n.nativeDraggable&&(Et.draggable=!0),n._triggerDragStart(e,r),yo({sortable:n,name:"choose",originalEvent:e}),Ho(Et,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){kce(Et,h.trim(),V_)}),$i(a,"dragover",Dd),$i(a,"mousemove",Dd),$i(a,"touchmove",Dd),$i(a,"mouseup",n._onDrop),$i(a,"touchend",n._onDrop),$i(a,"touchcancel",n._onDrop),pre&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Et.draggable=!0),Lo("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(ly||ku))){if(xr.eventCanceled){this._onDrop();return}$i(a,"mouseup",n._disableDelayedDrag),$i(a,"touchend",n._disableDelayedDrag),$i(a,"touchcancel",n._disableDelayedDrag),$i(a,"mousemove",n._delayedDragTouchMoveHandler),$i(a,"touchmove",n._delayedDragTouchMoveHandler),o.supportPointer&&$i(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Et&&V_(Et),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ai(e,"mouseup",this._disableDelayedDrag),Ai(e,"touchend",this._disableDelayedDrag),Ai(e,"touchcancel",this._disableDelayedDrag),Ai(e,"mousemove",this._delayedDragTouchMoveHandler),Ai(e,"touchmove",this._delayedDragTouchMoveHandler),Ai(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?$i(document,"pointermove",this._onTouchMove):r?$i(document,"touchmove",this._onTouchMove):$i(document,"mousemove",this._onTouchMove):($i(Et,"dragend",this),$i(En,"dragstart",this._onDragStart));try{document.selection?lv(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if(_f=!1,En&&Et){Lo("dragStarted",this,{evt:r}),this.nativeDraggable&&$i(document,"dragover",c4e);var i=this.options;!e&&Ho(Et,i.dragClass,!1),Ho(Et,i.ghostClass,!0),xr.active=this,e&&this._appendGhost(),yo({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if($a){this._lastX=$a.clientX,this._lastY=$a.clientY,Ice();for(var e=document.elementFromPoint($a.clientX,$a.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint($a.clientX,$a.clientY),e!==r);)r=e;if(Et.parentNode[$o]._isOutsideThisEl(e),r)do{if(r[$o]){var i=void 0;if(i=r[$o]._onDragOver({clientX:$a.clientX,clientY:$a.clientY,target:e,rootEl:r}),i&&!this.options.dragoverBubble)break}e=r}while(r=Cce(r));Fce()}},_onTouchMove:function(e){if(Td){var r=this.options,i=r.fallbackTolerance,n=r.fallbackOffset,s=e.touches?e.touches[0]:e,o=Rr&&zf(Rr,!0),a=Rr&&o&&o.a,l=Rr&&o&&o.d,u=Rb&&to&&yre(to),h=(s.clientX-Td.clientX+n.x)/(a||1)+(u?u[0]-H_[0]:0)/(a||1),d=(s.clientY-Td.clientY+n.y)/(l||1)+(u?u[1]-H_[1]:0)/(l||1);if(!xr.active&&!_f){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Rr){o?(o.e+=h-(U_||0),o.f+=d-(q_||0)):o={a:1,b:0,c:0,d:1,e:h,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");vr(Rr,"webkitTransform",f),vr(Rr,"mozTransform",f),vr(Rr,"msTransform",f),vr(Rr,"transform",f),U_=h,q_=d,$a=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Rr){var e=this.options.fallbackOnBody?document.body:En,r=cs(Et,!0,Rb,!0,e),i=this.options;if(Rb){for(to=e;vr(to,"position")==="static"&&vr(to,"transform")==="none"&&to!==document;)to=to.parentNode;to!==document.body&&to!==document.documentElement?(to===document&&(to=kl()),r.top+=to.scrollTop,r.left+=to.scrollLeft):to=kl(),H_=yre(to)}Rr=Et.cloneNode(!0),Ho(Rr,i.ghostClass,!1),Ho(Rr,i.fallbackClass,!0),Ho(Rr,i.dragClass,!0),vr(Rr,"transition",""),vr(Rr,"transform",""),vr(Rr,"box-sizing","border-box"),vr(Rr,"margin",0),vr(Rr,"top",r.top),vr(Rr,"left",r.left),vr(Rr,"width",r.width),vr(Rr,"height",r.height),vr(Rr,"opacity","0.8"),vr(Rr,"position",Rb?"absolute":"fixed"),vr(Rr,"zIndex","100000"),vr(Rr,"pointerEvents","none"),xr.ghost=Rr,e.appendChild(Rr),vr(Rr,"transform-origin",bre/parseInt(Rr.style.width)*100+"% "+vre/parseInt(Rr.style.height)*100+"%")}},_onDragStart:function(e,r){var i=this,n=e.dataTransfer,s=i.options;if(Lo("dragStart",this,{evt:e}),xr.eventCanceled){this._onDrop();return}Lo("setupClone",this),xr.eventCanceled||(Tn=Dce(Et),Tn.removeAttribute("id"),Tn.draggable=!1,Tn.style["will-change"]="",this._hideClone(),Ho(Tn,this.options.chosenClass,!1),xr.clone=Tn),i.cloneId=lv(function(){Lo("clone",i),!xr.eventCanceled&&(i.options.removeCloneOnHide||En.insertBefore(Tn,Et),i._hideClone(),yo({sortable:i,name:"clone"}))}),!r&&Ho(Et,s.dragClass,!0),r?(n1=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ai(document,"mouseup",i._onDrop),Ai(document,"touchend",i._onDrop),Ai(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,Et)),$i(document,"drop",i),vr(Et,"transform","translateZ(0)")),_f=!0,i._dragStartId=lv(i._dragStarted.bind(i,r,e)),$i(document,"selectstart",i),Rg=!0,Yg&&vr(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,i=e.target,n,s,o,a=this.options,l=a.group,u=xr.active,h=Ob===l,d=a.sort,f=Hs||u,p,g=this,y=!1;if(SE)return;function b(Q,J){Lo(Q,g,Ol({evt:e,isOwner:h,axis:p?"vertical":"horizontal",revert:o,dragRect:n,targetRect:s,canSort:d,fromSortable:f,target:i,completed:w,onMove:function(pe,ee){return Ib(En,r,Et,n,pe,cs(pe),e,ee)},changed:S},J))}function x(){b("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function w(Q){return b("dragOverCompleted",{insertion:Q}),Q&&(h?u._hideClone():u._showClone(g),g!==f&&(Ho(Et,Hs?Hs.options.ghostClass:u.options.ghostClass,!1),Ho(Et,a.ghostClass,!0)),Hs!==g&&g!==xr.active?Hs=g:g===xr.active&&Hs&&(Hs=null),f===g&&(g._ignoreWhileAnimating=i),g.animateAll(function(){b("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===Et&&!Et.animated||i===r&&!i.animated)&&(ff=null),!a.dragoverBubble&&!e.rootEl&&i!==document&&(Et.parentNode[$o]._isOutsideThisEl(e.target),!Q&&Dd(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function S(){Vo=ga(Et),sc=ga(Et,a.draggable),yo({sortable:g,name:"change",toEl:r,newIndex:Vo,newDraggableIndex:sc,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Ua(i,a.draggable,r,!0),b("dragOver"),xr.eventCanceled)return y;if(Et.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||g._ignoreWhileAnimating===i)return w(!1);if(n1=!1,u&&!a.disabled&&(h?d||(o=Fn!==En):Hs===this||(this.lastPutMode=Ob.checkPull(this,u,Et,e))&&l.checkPut(this,u,Et,e))){if(p=this._getDirection(e,i)==="vertical",n=cs(Et),b("dragOverValid"),xr.eventCanceled)return y;if(o)return Fn=En,x(),this._hideClone(),b("revert"),xr.eventCanceled||($d?En.insertBefore(Et,$d):En.appendChild(Et)),w(!0);var C=PC(r,a.draggable);if(!C||p4e(e,p,this)&&!C.animated){if(C===Et)return w(!1);if(C&&r===e.target&&(i=C),i&&(s=cs(i)),Ib(En,r,Et,n,i,s,e,!!i)!==!1)return x(),C&&C.nextSibling?r.insertBefore(Et,C.nextSibling):r.appendChild(Et),Fn=r,S(),w(!0)}else if(C&&f4e(e,p,this)){var k=op(r,0,a,!0);if(k===Et)return w(!1);if(i=k,s=cs(i),Ib(En,r,Et,n,i,s,e,!1)!==!1)return x(),r.insertBefore(Et,k),Fn=r,S(),w(!0)}else if(i.parentNode===r){s=cs(i);var O=0,M,A=Et.parentNode!==r,I=!l4e(Et.animated&&Et.toRect||n,i.animated&&i.toRect||s,p),R=p?"top":"left",V=gre(i,"top","top")||gre(Et,"top","top"),oe=V?V.scrollTop:void 0;ff!==i&&(M=s[R],Jg=!1,Mb=!I&&a.invertSwap||A),O=m4e(e,i,s,p,I?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Mb,ff===i);var L;if(O!==0){var F=ga(Et);do F-=O,L=Fn.children[F];while(L&&(vr(L,"display")==="none"||L===Rr))}if(O===0||L===i)return w(!1);ff=i,Kg=O;var U=i.nextElementSibling,Y=!1;Y=O===1;var G=Ib(En,r,Et,n,i,s,e,Y);if(G!==!1)return(G===1||G===-1)&&(Y=G===1),SE=!0,setTimeout(h4e,30),x(),Y&&!U?r.appendChild(Et):i.parentNode.insertBefore(Et,Y?U:i),V&&Tce(V,0,oe-V.scrollTop),Fn=Et.parentNode,M!==void 0&&!Mb&&(av=Math.abs(M-cs(i)[R])),S(),w(!0)}if(r.contains(Et))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ai(document,"mousemove",this._onTouchMove),Ai(document,"touchmove",this._onTouchMove),Ai(document,"pointermove",this._onTouchMove),Ai(document,"dragover",Dd),Ai(document,"mousemove",Dd),Ai(document,"touchmove",Dd)},_offUpEvents:function(){var e=this.el.ownerDocument;Ai(e,"mouseup",this._onDrop),Ai(e,"touchend",this._onDrop),Ai(e,"pointerup",this._onDrop),Ai(e,"touchcancel",this._onDrop),Ai(document,"selectstart",this)},_onDrop:function(e){var r=this.el,i=this.options;if(Vo=ga(Et),sc=ga(Et,i.draggable),Lo("drop",this,{evt:e}),Fn=Et&&Et.parentNode,Vo=ga(Et),sc=ga(Et,i.draggable),xr.eventCanceled){this._nulling();return}_f=!1,Mb=!1,Jg=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),CE(this.cloneId),CE(this._dragStartId),this.nativeDraggable&&(Ai(document,"drop",this),Ai(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Yg&&vr(document.body,"user-select",""),vr(Et,"transform",""),e&&(Rg&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Rr&&Rr.parentNode&&Rr.parentNode.removeChild(Rr),(En===Fn||Hs&&Hs.lastPutMode!=="clone")&&Tn&&Tn.parentNode&&Tn.parentNode.removeChild(Tn),Et&&(this.nativeDraggable&&Ai(Et,"dragend",this),V_(Et),Et.style["will-change"]="",Rg&&!_f&&Ho(Et,Hs?Hs.options.ghostClass:this.options.ghostClass,!1),Ho(Et,this.options.chosenClass,!1),yo({sortable:this,name:"unchoose",toEl:Fn,newIndex:null,newDraggableIndex:null,originalEvent:e}),En!==Fn?(Vo>=0&&(yo({rootEl:Fn,name:"add",toEl:Fn,fromEl:En,originalEvent:e}),yo({sortable:this,name:"remove",toEl:Fn,originalEvent:e}),yo({rootEl:Fn,name:"sort",toEl:Fn,fromEl:En,originalEvent:e}),yo({sortable:this,name:"sort",toEl:Fn,originalEvent:e})),Hs&&Hs.save()):Vo!==Of&&Vo>=0&&(yo({sortable:this,name:"update",toEl:Fn,originalEvent:e}),yo({sortable:this,name:"sort",toEl:Fn,originalEvent:e})),xr.active&&((Vo==null||Vo===-1)&&(Vo=Of,sc=Xg),yo({sortable:this,name:"end",toEl:Fn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Lo("nulling",this),En=Et=Fn=Rr=$d=Tn=ov=lc=Td=$a=Rg=Vo=sc=Of=Xg=ff=Kg=Hs=Ob=xr.dragged=xr.ghost=xr.clone=xr.active=null,o1.forEach(function(e){e.checked=!0}),o1.length=U_=q_=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Et&&(this._onDragOver(e),d4e(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,i=this.el.children,n=0,s=i.length,o=this.options;n<s;n++)r=i[n],Ua(r,o.draggable,this.el,!1)&&e.push(r.getAttribute(o.dataIdAttr)||y4e(r));return e},sort:function(e,r){var i={},n=this.el;this.toArray().forEach(function(s,o){var a=n.children[o];Ua(a,this.options.draggable,n,!1)&&(i[s]=a)},this),r&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(n.removeChild(i[s]),n.appendChild(i[s]))}),r&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return Ua(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var i=this.options;if(r===void 0)return i[e];var n=uy.modifyOption(this,e,r);typeof n<"u"?i[e]=n:i[e]=r,e==="group"&&Rce(i)},destroy:function(){Lo("destroy",this);var e=this.el;e[$o]=null,Ai(e,"mousedown",this._onTapStart),Ai(e,"touchstart",this._onTapStart),Ai(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ai(e,"dragover",this),Ai(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),s1.splice(s1.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!lc){if(Lo("hideClone",this),xr.eventCanceled)return;vr(Tn,"display","none"),this.options.removeCloneOnHide&&Tn.parentNode&&Tn.parentNode.removeChild(Tn),lc=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(lc){if(Lo("showClone",this),xr.eventCanceled)return;Et.parentNode==En&&!this.options.group.revertClone?En.insertBefore(Tn,Et):$d?En.insertBefore(Tn,$d):En.appendChild(Tn),this.options.group.revertClone&&this.animate(Et,Tn),vr(Tn,"display",""),lc=!1}}};function d4e(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ib(t,e,r,i,n,s,o,a){var l,u=t[$o],h=u.options.onMove,d;return window.CustomEvent&&!ku&&!ly?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=r,l.draggedRect=i,l.related=n||e,l.relatedRect=s||cs(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),h&&(d=h.call(u,l,o)),d}function V_(t){t.draggable=!1}function h4e(){SE=!1}function f4e(t,e,r){var i=cs(op(r.el,0,r.options,!0)),n=Lce(r.el,r.options,Rr),s=10;return e?t.clientX<n.left-s||t.clientY<i.top&&t.clientX<i.right:t.clientY<n.top-s||t.clientY<i.bottom&&t.clientX<i.left}function p4e(t,e,r){var i=cs(PC(r.el,r.options.draggable)),n=Lce(r.el,r.options,Rr),s=10;return e?t.clientX>n.right+s||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>n.bottom+s||t.clientX>i.right&&t.clientY>i.top}function m4e(t,e,r,i,n,s,o,a){var l=i?t.clientY:t.clientX,u=i?r.height:r.width,h=i?r.top:r.left,d=i?r.bottom:r.right,f=!1;if(!o){if(a&&av<u*n){if(!Jg&&(Kg===1?l>h+u*s/2:l<d-u*s/2)&&(Jg=!0),Jg)f=!0;else if(Kg===1?l<h+av:l>d-av)return-Kg}else if(l>h+u*(1-n)/2&&l<d-u*(1-n)/2)return g4e(e)}return f=f||o,f&&(l<h+u*s/2||l>d-u*s/2)?l>h+u/2?1:-1:0}function g4e(t){return ga(Et)<ga(t)?1:-1}function y4e(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,i=0;r--;)i+=e.charCodeAt(r);return i.toString(36)}function b4e(t){o1.length=0;for(var e=t.getElementsByTagName("input"),r=e.length;r--;){var i=e[r];i.checked&&o1.push(i)}}function lv(t){return setTimeout(t,0)}function CE(t){return clearTimeout(t)}Rx&&$i(document,"touchmove",function(t){(xr.active||_f)&&t.cancelable&&t.preventDefault()});xr.utils={on:$i,off:Ai,css:vr,find:kce,is:function(e,r){return!!Ua(e,r,e,!1)},extend:e4e,throttle:Ace,closest:Ua,toggleClass:Ho,clone:Dce,index:ga,nextTick:lv,cancelNextTick:CE,detectDirection:Mce,getChild:op,expando:$o};xr.get=function(t){return t[$o]};xr.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(xr.utils=Ol(Ol({},xr.utils),i.utils)),uy.mount(i)})};xr.create=function(t,e){return new xr(t,e)};xr.version=J5e;var as=[],Ig,kE,AE=!1,G_,W_,a1,Fg;function v4e(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(r){var i=r.originalEvent;this.sortable.nativeDraggable?$i(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$i(document,"pointermove",this._handleFallbackAutoScroll):i.touches?$i(document,"touchmove",this._handleFallbackAutoScroll):$i(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var i=r.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Ai(document,"dragover",this._handleAutoScroll):(Ai(document,"pointermove",this._handleFallbackAutoScroll),Ai(document,"touchmove",this._handleFallbackAutoScroll),Ai(document,"mousemove",this._handleFallbackAutoScroll)),_re(),uv(),t4e()},nulling:function(){a1=kE=Ig=AE=Fg=G_=W_=null,as.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,i){var n=this,s=(r.touches?r.touches[0]:r).clientX,o=(r.touches?r.touches[0]:r).clientY,a=document.elementFromPoint(s,o);if(a1=r,i||this.options.forceAutoScrollFallback||ly||ku||Yg){Y_(r,this.options,a,i);var l=yc(a,!0);AE&&(!Fg||s!==G_||o!==W_)&&(Fg&&_re(),Fg=setInterval(function(){var u=yc(document.elementFromPoint(s,o),!0);u!==l&&(l=u,uv()),Y_(r,n.options,u,i)},10),G_=s,W_=o)}else{if(!this.options.bubbleScroll||yc(a,!0)===kl()){uv();return}Y_(r,this.options,yc(a,!1),!1)}}},xu(t,{pluginName:"scroll",initializeByDefault:!0})}function uv(){as.forEach(function(t){clearInterval(t.pid)}),as=[]}function _re(){clearInterval(Fg)}var Y_=Ace(function(t,e,r,i){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=kl(),u=!1,h;kE!==r&&(kE=r,uv(),Ig=e.scroll,h=e.scrollFn,Ig===!0&&(Ig=yc(r,!0)));var d=0,f=Ig;do{var p=f,g=cs(p),y=g.top,b=g.bottom,x=g.left,w=g.right,S=g.width,C=g.height,k=void 0,O=void 0,M=p.scrollWidth,A=p.scrollHeight,I=vr(p),R=p.scrollLeft,V=p.scrollTop;p===l?(k=S<M&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),O=C<A&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(k=S<M&&(I.overflowX==="auto"||I.overflowX==="scroll"),O=C<A&&(I.overflowY==="auto"||I.overflowY==="scroll"));var oe=k&&(Math.abs(w-n)<=o&&R+S<M)-(Math.abs(x-n)<=o&&!!R),L=O&&(Math.abs(b-s)<=o&&V+C<A)-(Math.abs(y-s)<=o&&!!V);if(!as[d])for(var F=0;F<=d;F++)as[F]||(as[F]={});(as[d].vx!=oe||as[d].vy!=L||as[d].el!==p)&&(as[d].el=p,as[d].vx=oe,as[d].vy=L,clearInterval(as[d].pid),(oe!=0||L!=0)&&(u=!0,as[d].pid=setInterval((function(){i&&this.layer===0&&xr.active._onTouchMove(a1);var U=as[this.layer].vy?as[this.layer].vy*a:0,Y=as[this.layer].vx?as[this.layer].vx*a:0;typeof h=="function"&&h.call(xr.dragged.parentNode[$o],Y,U,t,a1,as[this.layer].el)!=="continue"||Tce(as[this.layer].el,Y,U)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=yc(f,!1)));AE=u}},30),Pce=function(e){var r=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(r){var u=i||s;a();var h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,d=document.elementFromPoint(h.clientX,h.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function NC(){}NC.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=op(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(r,n):this.sortable.el.appendChild(r),this.sortable.animateAll(),i&&i.animateAll()},drop:Pce};xu(NC,{pluginName:"revertOnSpill"});function $C(){}$C.prototype={onSpill:function(e){var r=e.dragEl,i=e.putSortable,n=i||this.sortable;n.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),n.animateAll()},drop:Pce};xu($C,{pluginName:"removeOnSpill"});xr.mount(new v4e);xr.mount($C,NC);const x4e=t=>{const e=t.item;let r=Array.prototype.slice.call(e.parentNode.childNodes);return r=r.filter(i=>i.nodeType!=Node.ELEMENT_NODE||!i.classList.contains("sortable-fallback")),r},_4e=(t,e,r,i,n,s)=>{const a=t.item.parentNode;for(const y of r)a.appendChild(y);if(t.oldIndex==t.newIndex)return;const l=i.getArray(),u=t.item.querySelector("eox-layercontrol-layer").layer.get(n),h=l.find(y=>y.get(n)===u),d=s.dataset.layer,f=l.find(y=>y.get(n)==d);let p,g;for(p=0;p<l.length;p++)if(l[p]==h){i.removeAt(p);break}for(g=0;g<l.length;g++)if(l[g]===f){p>g?i.insertAt(g,h):i.insertAt(g+1,h);break}e.requestUpdate()};function w4e(t,e,r,i){let n=[],s=null;t._sortable=xr.create(t,{handle:".drag-handle",filter:".drag-handle.disabled",swapThreshold:.5,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:o=>n=x4e(o),onMove:o=>{s=o.related},onEnd:o=>_4e(o,i,n,e,r,s)})}function E4e(t,e,r,i){const n=t.getArray();let s=!1;n.forEach(o=>{const a=o.ol_uid;o.get(e)||(o.set(e,a),s=!0),o.get(r)||(o.set(r,`layer ${a}`),s=!0),s&&i.requestUpdate()})}function BC(t,e,r){let i=[];const n=(s,o,a)=>{i=[...i,...s.filter(u=>u.get(o)===a)];const l=s.filter(u=>u.getLayers);return l.length>0&&l.forEach(u=>n(u.getLayers().getArray(),o,a)),i};return n(t,e,r),i}function S4e(t,e,r){if(!t||!e)return!1;if(!Nce(t,r))return!0;const i=t.get("minZoom"),n=t.get("maxZoom"),s=e.getView().getZoom();return s>i&&s<n}function Nce(t,e){const r=t.get("minZoom"),i=t.get("maxZoom");return!!(e&&(r!==-1/0||i!==1/0))}function C4e(t,e){var n,s,o;return!t||!e?void 0:t.getLayers?"group":((o=(n=e.getInteractions().getArray().filter(a=>a.freehand_!==void 0).map(a=>a.source_))==null?void 0:n.ol_uid)==null?void 0:o.includes(t.getSource?(s=t.getSource())==null?void 0:s.ol_uid:void 0))?"draw":t.declutter_!==void 0?"vector":"raster"}function $ce(t,e){var i;let r={};for(const n in t){const s=t[n].type;if(s&&s!=="object")r[n]=s==="number"?Number(e[n]):e[n];else if(typeof t[n]=="object"&&((i=t[n])!=null&&i.properties)){const o=$ce(t[n].properties,e);Object.keys(o).length>0&&(r[n]=o)}}return r}function k4e(t,e){var s,o,a,l,u;if(!e)return null;let r={},i="updateStyleVariables"in t?(s=t.style_)==null?void 0:s.variables:(o=e.style)==null?void 0:o.variables;if((e.type==="style"||e.style)&&i)r=i;else if((l=(a=t.getSource())==null?void 0:a.getTileUrlFunction)!=null&&l.call(a)){const h=new URL(t.getSource().getTileUrlFunction()([0,0,0]));r=Object.fromEntries(h.searchParams.entries())}else return null;const n=$ce(((u=e.schema)==null?void 0:u.properties)||e.schema,r);return Object.keys(n).length?n:null}const A4e=(t,e)=>t==null?void 0:t.filter(r=>["remove","sort"].filter(i=>e!=null&&e.get("layerControlDisable")?i!=="sort":!0).includes(r)),T4e=(t,e)=>t==null?void 0:t.filter(r=>{let i=!0;return["remove","sort"].includes(r)&&(i=!1),r==="info"&&(i=e.get("description")),r==="config"&&(i=e.get("layerConfig")),r==="datetime"&&(i=e.get("layerDatetime")),i}),D4e=(t,e)=>et`
  <button slot="${t}-icon" class="icon">${e?t:zi}</button>
`,L4e=t=>et`
  <button
    class="remove-icon icon"
    @click=${()=>{const{layer:e}=t;e==null||e.set("layerControlOptional",!0),e==null||e.setVisible(!1),t.dispatchEvent(new CustomEvent("changed",{detail:e,bubbles:!0}))}}
  >
    ${t.unstyled?"x":zi}
  </button>
`,O4e=t=>et`
  <span class="button sort-icon icon drag-handle">
    ${t?"═":zi}
  </span>
`,Bce=t=>{var r;const e=["layerControlHide","layerControlOptional"];return(r=t==null?void 0:t.getArray())==null?void 0:r.filter(i=>e.every(n=>!i.get(n)))};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jce=ny(class extends Ex{constructor(t){if(super(t),t.type!==nc.PROPERTY&&t.type!==nc.ATTRIBUTE&&t.type!==nc.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Nge(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===kf||e===zi)return e;const r=t.element,i=t.name;if(t.type===nc.PROPERTY){if(e===r[i])return kf}else if(t.type===nc.BOOLEAN_ATTRIBUTE){if(!!e===r.hasAttribute(i))return kf}else if(t.type===nc.ATTRIBUTE&&r.getAttribute(i)===e+"")return kf;return qE(t),e}}),M4e=(t,e,r)=>{let i=e;return r.layer.getSource().getTileUrlFunction()&&(i||(i=r.layer.getSource().getTileUrlFunction()),r.layer.getSource().setTileUrlFunction((...n)=>Y5e(i(...n),t)),r.layer.getSource().setKey(new Date)),i};function R4e(t,e,r){const i="updateStyleVariables"in e,n="setStyle"in e,s=i?e.style_:r.style;let o=s==null?void 0:s.variables;if(o){const a=zce(t);if(s.variables={...o,...a},i)e.updateStyleVariables(a);else if(n){const l=I4e(s);e.setStyle(l)}}}const zce=t=>{const e={};for(const r in t)if(typeof t[r]=="object"&&t[r]!==null){const i=zce(t[r]);for(const n in i)e[n]=i==null?void 0:i[n]}else e[r]=t==null?void 0:t[r];return e};function I4e(t){let e=t;if("variables"in t){let r=JSON.stringify(t);const{variables:i}=t;for(const n in i)typeof i[n]=="number"?r=r.replaceAll(`["var","${n}"]`,i[n]):r=r.replaceAll(`["var","${n}"]`,`"${i[n]}"`);e=JSON.parse(r)}return e}var Uce="Expected a function",wre=NaN,F4e="[object Symbol]",P4e=/^\s+|\s+$/g,N4e=/^[-+]0x[0-9a-f]+$/i,$4e=/^0b[01]+$/i,B4e=/^0o[0-7]+$/i,j4e=parseInt,z4e=typeof oi=="object"&&oi&&oi.Object===Object&&oi,U4e=typeof self=="object"&&self&&self.Object===Object&&self,q4e=z4e||U4e||Function("return this")(),H4e=Object.prototype,V4e=H4e.toString,G4e=Math.max,W4e=Math.min,Z_=function(){return q4e.Date.now()};function Y4e(t,e,r){var i,n,s,o,a,l,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Uce);e=Ere(e)||0,l1(r)&&(h=!!r.leading,d="maxWait"in r,s=d?G4e(Ere(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function p(O){var M=i,A=n;return i=n=void 0,u=O,o=t.apply(A,M),o}function g(O){return u=O,a=setTimeout(x,e),h?p(O):o}function y(O){var M=O-l,A=O-u,I=e-M;return d?W4e(I,s-A):I}function b(O){var M=O-l,A=O-u;return l===void 0||M>=e||M<0||d&&A>=s}function x(){var O=Z_();if(b(O))return w(O);a=setTimeout(x,y(O))}function w(O){return a=void 0,f&&i?p(O):(i=n=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,i=l=n=a=void 0}function C(){return a===void 0?o:w(Z_())}function k(){var O=Z_(),M=b(O);if(i=arguments,n=this,l=O,M){if(a===void 0)return g(l);if(d)return a=setTimeout(x,e),p(l)}return a===void 0&&(a=setTimeout(x,e)),o}return k.cancel=S,k.flush=C,k}function Z4e(t,e,r){var i=!0,n=!0;if(typeof t!="function")throw new TypeError(Uce);return l1(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),Y4e(t,e,{leading:i,maxWait:e,trailing:n})}function l1(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function X4e(t){return!!t&&typeof t=="object"}function K4e(t){return typeof t=="symbol"||X4e(t)&&V4e.call(t)==F4e}function Ere(t){if(typeof t=="number")return t;if(K4e(t))return wre;if(l1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=l1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(P4e,"");var r=$4e.test(t);return r||B4e.test(t)?j4e(t.slice(2),r?2:8):N4e.test(t)?wre:+t}var J4e=Z4e;const Sre=Ps(J4e);var Wf,B0,j0,z0,TE,C1,k1;class qce extends Wi{constructor(){super();nr(this,z0);nr(this,Wf,{});nr(this,B0,null);nr(this,j0);nr(this,C1,"");nr(this,k1,"");this.layer=null,this.unstyled=!1,this.noShadow=!1,this.layerConfig=null,this.throttleDataChange=Sre(tr(this,z0,TE),1e3)}updated(r){if(r.has("layerConfig")){const i=this.layerConfig.type==="style"||this.layerConfig.style?100:1e3;this.throttleDataChange=Sre(tr(this,z0,TE),i),this.requestUpdate()}}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){Kn(this,B0,k4e(this.layer,this.layerConfig)),customElements.get("eox-jsonform")||console.error("Please import @eox/jsonform in order to use layerconfig");const r={disable_edit_json:!0,disable_collapse:!0,disable_properties:!0};return et`
      <style>
        ${Ut(this,C1)}
        ${!this.unstyled&&Ut(this,k1)}
      </style>
      ${Ar(this.layerConfig,()=>et`
          <!-- Render a JSON form for layer configuration -->
          <eox-jsonform
            .schema=${this.layerConfig.schema}
            .value=${Ut(this,B0)}
            .options=${r}
            @change=${this.throttleDataChange}
          ></eox-jsonform>
        `)}
    `}}Wf=new WeakMap,B0=new WeakMap,j0=new WeakMap,z0=new WeakSet,TE=function(r){Kn(this,Wf,r.detail),this.layerConfig.type==="style"||this.layerConfig.style?"setStyle"in this.layer||"updateStyleVariables"in this.layer?R4e(Ut(this,Wf),this.layer,this.layerConfig):console.error(`Layer type ${this.layer.get("type")??""} does not support styles configuration`):(Kn(this,j0,M4e(Ut(this,Wf),Ut(this,j0),this)),this.requestUpdate())},C1=new WeakMap,k1=new WeakMap,Ge(qce,"properties",{layer:{attribute:!1},unstyled:{type:Boolean},noShadow:{type:Boolean},layerConfig:{attribute:!1}});customElements.define("eox-layercontrol-layerconfig",qce);var A1,Vce,T1,D1;class Hce extends Wi{constructor(){super();nr(this,A1);nr(this,T1,"");nr(this,D1,"");this.unstyled=!1,this.noShadow=!1,this.layerDatetime=null,this.layer=null}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){return customElements.get("eox-timecontrol")||console.error("Please import @eox/timecontrol in order to use layerDatetime"),et`
      <style>
        ${Ut(this,T1)}
        ${!this.unstyled&&Ut(this,D1)}
      </style>
      ${Ar(this.layerDatetime,()=>et`
          <!-- Render a Timecontrol for layer date time -->
          <eox-timecontrol
            ?unstyled=${this.unstyled}
            .for=${void 0}
            .layer=${void 0}
            .slider=${this.layerDatetime.slider??!1}
            .disablePlay=${this.layerDatetime.disablePlay??!1}
            .controlValues=${this.layerDatetime.controlValues}
            .controlProperty=${void 0}
            current-step=${this.layerDatetime.currentStep}
            @stepchange=${tr(this,A1,Vce)}
          ></eox-timecontrol>
        `)}
    `}}A1=new WeakSet,Vce=function(r){this.dispatchEvent(new CustomEvent("datetime:updated",{bubbles:!0,detail:{datetime:r.detail.currentStep,layer:this.layer}})),this.layerDatetime.currentStep=r.detail.currentStep,this.requestUpdate()},T1=new WeakMap,D1=new WeakMap,Ge(Hce,"properties",{unstyled:{type:Boolean},noShadow:{type:Boolean},layerDatetime:{attribute:!1},layer:{attribute:!1}});customElements.define("eox-layercontrol-layer-datetime",Hce);var U0,L1,O1;class Gce extends Wi{constructor(){super();nr(this,U0,r=>(this.selectedTab===r||this.toolsAsList)&&"highlighted");nr(this,L1,`
    .tabbed figure {
      margin: 0;
    }
    .tabbed nav {
      display: flex;
      justify-content: space-between;
    }
    .tabbed nav div {
      display: flex;
    }
    .tabbed .tab {
      display: none;
    }
    .tabbed .tab.highlighted {
      display: block;
    }
    .tabbed label.highlighted {
      background: lightgrey;
    }
  `);nr(this,O1,`
    .listed {
      background: #ffffff !important;
      display: flex;
      justify-content: end;
    }
    .tabbed {
      font-size: small;
    }
    .tabbed label.highlighted {
      background: #00417011;
      pointer-events: none;
    }
    nav div label,
    nav div span {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    figure {
      background: #00417011;
      border-top: 1px solid #0041701a;
    }
  `);this.actions=[],this.selectedTab=0,this.tabs=[],this.unstyled=!1,this.noShadow=!1,this.toolsAsList=!1}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){const r=this.tabs,i=this.actions,n=i.length+r.length>1;return et`
      <style>
        ${Ut(this,L1)}
        ${!this.unstyled&&Ut(this,O1)}
      </style>
      <div class="tabbed">
        <!-- Navigation for tabs and actions -->
        ${Ar(n,()=>et`
            <nav>
              ${Ar(!this.toolsAsList,()=>et`
                  <div>
                    <!-- Labels for tabs -->
                    ${ta(r,(s,o)=>et`
                          <label
                            class=${Ut(this,U0).call(this,o)}
                            @click=${()=>this.selectedTab=o}
                          >
                            <!-- Customizable icon for each tab -->
                            <slot name=${`${s}-icon`}>${s}</slot>
                          </label>
                        `)}
                  </div>
                  <div>
                    <!-- Icons for actions -->
                    ${ta(i,s=>et`
                          <span>
                            <!-- Customizable icon for each action -->
                            <slot name=${`${s}-icon`}>${s}</slot>
                          </span>
                        `)}
                  </div>
                `)}
            </nav>
          `)}
        <figure>
          <!-- Content for each tab -->
          ${ta(r,(s,o)=>et`
              ${Ar(this.toolsAsList,()=>et`
                  <label class="listed">
                    <!-- Customizable icon for each tab -->
                    <slot name=${`${s}-icon`}>${s}</slot>
                  </label>
                `)}
              <div class="tab ${Ut(this,U0).call(this,o)}">
                <!-- Content slot for each tab -->
                <slot name=${`${s}-content`}>${s}</slot>
              </div>
            `)}
        </figure>
      </div>
    `}}U0=new WeakMap,L1=new WeakMap,O1=new WeakMap,Ge(Gce,"properties",{actions:{attribute:!1},selectedTab:{state:!0},tabs:{attribute:!1},unstyled:{type:Boolean},noShadow:{type:Boolean},toolsAsList:{type:Boolean}});customElements.define("eox-layercontrol-tools-items",Gce);const jC=`
button,
.button {
  /* TODO: why does this only work here and not from :root? */
  --primary-color: #004170;
  --primary-color-hover: #004170CC;
  --error-color: #FF5252;

  display: inline-flex;
  position: relative;
  align-items: center;
  color: #fff;
  border-width: 0;
  outline: none;
  border-radius: 4px;
  padding: 16px;
  height: 36px;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 1.25px;                           
  font-weight: 500;
  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);
  transition-property: box-shadow, transform, opacity, background;
  transition-duration: 0.28s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

button:hover:not([disabled]):not(.icon),
.button:hover:not([disabled]):not(.icon) {
  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);
  background: var(--primary-color-hover);
}

button, button:active,
.button, .button:active {
  background: var(--primary-color);
}

button[disabled],
.button[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

button.block,
.button.block {
  display: block;
}

button.outline,
.button.outline {
  background: transparent;
  box-shadow: none;
  color: var(--primary-color);
  outline: 1px solid var(--primary-color);
}

button.outline:hover,
.button.outline:hover {
  background: transparent;
}

button.icon,
.button.icon {
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  text-indent: -9999px;
}

button.icon-text,
.button.icon-text {
  text-indent: 26px;
}

button.icon-text.block,
.button.icon-text.block {
  text-indent: 20px;
}

button.icon:before, button.icon-text:before,
.button.icon:before, .button.icon-text:before {
  position: absolute;
  text-indent: 0;
  line-height: initial;
}

button.icon-text.block:before,
.button.icon-text.block:before {
  text-indent: -54px;
}

button.icon:before,
.button.icon:before {
  width: 24px;
  height: 24px;
  margin-right: 0;
}

button.icon-text:before,
.button.icon-text:before {
  width: 18px;
  height: 18px;
}

button.small,
.button.small {
  height: 28px;
  padding: 12.4px;
  font-size: .75rem;
}

button.smallest.icon, 
button.smallest.icon::before {
  height: 16px;
  width: 16px;
  padding: 0px;
}
`,Wce=`
input[type=radio] {
  appearance: none;
  -webkit-appearance: none;
  margin: 0;
  cursor: pointer;
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 24px;
  height: 24px;
}

label span {
  font-size: small;
}

input[type=radio]:after {
  display: block;
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E");
  width: 20px;
  height: 20px;
  margin-right: 4px;
}
input[type=radio]:checked:after {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");

}
`,zC=`
input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  margin: 0;
  cursor: pointer;
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 24px;
  height: 24px;
}
input[type=checkbox]:after {
  display: block;
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E");
  width: 20px;
  height: 20px;
  margin-right: 4px;
}
input[type=checkbox]:checked:after {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");

}
`,Yce=`
input[type="range"] {
  -webkit-appearance: none;
  width: 90%;
  margin-left: 5%;
  height: 6px;
  border-radius: 5px;
  background: #d7dcdf;
  outline: none;
  padding: 0;
}
input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #2c3e50;
  cursor: pointer;
  transition: background 0.15s ease-in-out;
}
.range-slider {
  margin: 60px 0 0 0;
}
.range-slider {
  width: 100%;
}
input[type="range"]::-webkit-slider-thumb:hover {
  background: #00416F;
}
input[type="range"]:active::-webkit-slider-thumb {
  background: #00416F;
}
input[type="range"]::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border: 0;
  border-radius: 50%;
  background: #2c3e50;
  cursor: pointer;
  transition: background 0.15s ease-in-out;
}
input[type="range"]::-moz-range-thumb:hover {
  background: #00416F;
}
input[type="range"]:active::-moz-range-thumb {
  background: #00416F;
}
input[type="range"]:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 3px #fff0, 0 0 0 6px #00416F00;
}
.range-slider__value {
  display: inline-block;
  position: relative;
  width: 60px;
  color: #fff;
  line-height: 20px;
  text-align: center;
  border-radius: 3px;
  background: #2c3e50;
  padding: 5px 10px;
  margin-left: 8px;
}
.range-slider__value:after {
  position: absolute;
  top: 8px;
  left: -7px;
  width: 0;
  height: 0;
  border-top: 7px solid transparent;
  border-right: 7px solid #2c3e50;
  border-bottom: 7px solid transparent;
  content: '';
}

input::-moz-focus-inner, input::-moz-focus-outer {
  border: 0;
}
`;var M1,R1;class Zce extends Wi{constructor(){super();Ge(this,"_removeButton",()=>L4e(this));Ge(this,"_sortButton",()=>O4e(this.unstyled));Ge(this,"_button",r=>D4e(r,this.unstyled));Ge(this,"_getDefaultTools",()=>{var r;return et`
      <div slot="info-content">
        ${Xa(this.layer.get("description"))}
      </div>
      <div slot="datetime-content">
        <!-- Layer datetime -->
        ${Ar(this.layer.get("layerDatetime"),()=>et`
            <eox-layercontrol-layer-datetime
              slot="datetime-content"
              .noShadow=${!0}
              .layerDatetime=${this.layer.get("layerDatetime")}
              .layer=${this.layer}
              .unstyled=${this.unstyled}
              @changed=${()=>this.requestUpdate()}
            ></eox-layercontrol-layer-datetime>
          `)}
      </div>
      <div slot="opacity-content">
        <!-- Input for opacity -->
        <input
          type="range"
          min="0"
          max="1"
          step="0.01"
          value=${jce((r=this.layer)==null?void 0:r.getOpacity())}
          @input=${i=>this.layer.setOpacity(parseFloat(i.target.value))}
        />
      </div>
      <div slot="config-content">
        <!-- Layer configuration -->
        ${Ar(this.layer.get("layerConfig"),()=>et`
            <eox-layercontrol-layerconfig
              slot="config-content"
              .layer=${this.layer}
              .noShadow=${!0}
              .layerConfig=${this.layer.get("layerConfig")}
              .unstyled=${this.unstyled}
              @changed=${()=>this.requestUpdate()}
            ></eox-layercontrol-layerconfig>
          `)}
      </div>
      <div slot="remove-icon">${this._removeButton()}</div>
      <div slot="sort-icon">${this._sortButton()}</div>
    `});nr(this,M1,"");nr(this,R1,`
    ${jC}  
    ${Wce}
    ${zC}
    ${Yce}
    .drag-handle {
      cursor: n-resize;
    }
    .single-action-container,
    details.tools {
      position: relative;
    }
    eox-layercontrol-layer details summary::before {
      content: "";
    }
    details.tools[open] {
      /*border-top: 1px solid #0041703a;*/
    }
    .single-action {
      position: relative;
    }
    details.tools summary .icon {
      pointer-events: none;
    }
    .single-action,
    details.tools summary {
      position: absolute;
      right: 0;
      top: -24px;
      display: flex;
      border-radius: 4px;
      cursor: pointer;
    }
    .single-action .icon::before,
    details.tools summary .icon::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Edots-vertical%3C/title%3E%3Cpath d='M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z' /%3E%3C/svg%3E");
    }
    .single-action,
    details.tools summary,
    eox-layercontrol-tools-items button.icon {
      transition: opacity .2s;
    }
    .single-action,
    details.tools summary {
      opacity: .5;
    }
    eox-layercontrol-tools-items button.icon {
      opacity: .7;
    }
    eox-layercontrol-tools-items.tools-list button.icon {
      cursor: auto;
    }
    .single-action:hover,
    details.tools summary:hover,
    eox-layercontrol-tools-items button.icon:hover {
      opacity: 1;
    }
    eox-layercontrol-tools-items.tools-list button.icon:hover {
      opacity: .7;
    }
    .tools-placeholder,
    .single-action .icon,
    .single-action .icon::before,
    details.tools summary .icon,
    details.tools summary .icon::before {
      height: 16px;
      width: 16px;
      margin-right: var(--padding);
    }
    eox-layercontrol-tools-items button.icon,
    eox-layercontrol-tools-items .button.icon {
      display: flex;
      justify-content: center;
    }
    eox-layercontrol-tools-items button.icon::before,
    eox-layercontrol-tools-items .button.icon::before {
      width: 16px;
      height: 16px;
    }
    details.tools summary .info-icon,
    button.icon[slot=info-icon]::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Einformation-outline%3C/title%3E%3Cpath d='M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z' /%3E%3C/svg%3E");
    }
    details.tools summary .opacity-icon,
    button.icon[slot=opacity-icon]::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eopacity%3C/title%3E%3Cpath d='M17.66,8L12,2.35L6.34,8C4.78,9.56 4,11.64 4,13.64C4,15.64 4.78,17.75 6.34,19.31C7.9,20.87 9.95,21.66 12,21.66C14.05,21.66 16.1,20.87 17.66,19.31C19.22,17.75 20,15.64 20,13.64C20,11.64 19.22,9.56 17.66,8M6,14C6,12 6.62,10.73 7.76,9.6L12,5.27L16.24,9.65C17.38,10.77 18,12 18,14H6Z' /%3E%3C/svg%3E");
    }
    details.tools summary .config-icon,
    button.icon[slot=config-icon]::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Etune%3C/title%3E%3Cpath d='M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z' /%3E%3C/svg%3E");
    }
    details.tools summary .datetime-icon,
    button.icon[slot=datetime-icon]::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eclock-outline%3C/title%3E%3Cpath d='M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z' /%3E%3C/svg%3E");
    }
    .single-action .remove-icon::before,
    [slot=remove-icon] button.icon::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23ff0000' viewBox='0 0 24 24'%3E%3Ctitle%3Edelete-outline%3C/title%3E%3Cpath d='M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z' /%3E%3C/svg%3E");
    }
    .single-action .sort-icon::before,
    [slot=sort-icon] .button.icon::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Edrag-horizontal-variant%3C/title%3E%3Cpath d='M21 11H3V9H21V11M21 13H3V15H21V13Z' /%3E%3C/svg%3E");
    }
    [slot=info-content],
    [slot=opacity-content] {
      padding: 12px 6px;
    }
  `);this.layer=null,this.tools=[],this.unstyled=!1,this.noShadow=!1,this.toolsAsList=!1}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){var l;const r=A4e(this.tools,this.layer),i=T4e(this.tools,this.layer),n=this[`_${r==null?void 0:r[0]}Button`]?this[`_${r==null?void 0:r[0]}Button`]():zi,s=((l=this.tools)==null?void 0:l.length)===1?`${this.tools[0]}-icon`:"",o=r==null?void 0:r.length,a=i==null?void 0:i.length;return et`
      <style>
        ${Ut(this,M1)}
        ${!this.unstyled&&Ut(this,R1)}
      </style>
      ${Ar(o+a>0,()=>et`
          ${Ar(o===1&&a===0,()=>et`
              <div class="single-action-container">
                <div class="single-action">${n}</div>
              </div>
            `,()=>et`
              <details
                class="tools"
                open=${this.layer.get("layerControlToolsExpand")||zi}
              >
                <summary>
                  <button class="icon ${s}">Tools</button>
                </summary>
                <eox-layercontrol-tools-items
                  class="${this.toolsAsList?"tools-list":"tools-tab"}"
                  .noShadow=${!1}
                  .actions=${r}
                  .tabs=${i}
                  .unstyled=${this.unstyled}
                  .toolsAsList=${this.toolsAsList}
                >
                  <!-- Rendering tabs and content -->
                  ${ta(i,u=>this._button(u))}
                  <!-- Including default tools -->
                  ${this._getDefaultTools()}
                </eox-layercontrol-tools-items>
              </details>
            `)}
        `)}
    `}}M1=new WeakMap,R1=new WeakMap,Ge(Zce,"properties",{layer:{attribute:!1},tools:{attribute:!1},unstyled:{type:Boolean},noShadow:{type:Boolean},toolsAsList:{type:Boolean}});customElements.define("eox-layercontrol-layer-tools",Zce);const Q4e=t=>{const e=()=>{const r=S4e(t.layer,t.map,t.showLayerZoomState);let i=!1;!r&&t.currLayerVisibilityBasedOnZoom?(t.currLayerVisibilityBasedOnZoom=!1,i=!0):r&&!t.currLayerVisibilityBasedOnZoom&&(t.currLayerVisibilityBasedOnZoom=!0,i=!0),i&&(t.requestUpdate(),t.dispatchEvent(new CustomEvent("change:resolution",{bubbles:!0})))};Nce(t.layer,t.showLayerZoomState)&&(e(),t.map.getView().on("change:resolution",()=>e()))},e6e=(t,e)=>{const r=e.layer;r.setVisible(t.target.checked),t.target.checked&&r.get("layerControlExclusive")&&e.closest(".layers > ul").querySelectorAll("eox-layercontrol-layer").forEach(n=>{var s;n.layer!==r&&((s=n.layer)!=null&&s.get("layerControlExclusive"))&&(n.layer.setVisible(!1),n.requestUpdate())}),e.dispatchEvent(new CustomEvent("changed",{bubbles:!0,detail:r})),e.requestUpdate()};var kc,cv,Kce,I1,F1;class Xce extends Wi{constructor(){super();nr(this,kc);Ge(this,"currLayerVisibilityBasedOnZoom",!0);nr(this,I1,"");nr(this,F1,`
    ${zC}
    eox-layercontrol-layer {
      width: 100%;
    }
    .layer.zoom-state-invisible {
      background: #d2e2ee;
      opacity: 0.3;
    }
    .layer {
      width: 100%;
      align-items: center;
      justify-content: space-between;
      padding: 4px 0;
    }
    label, span {
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    [data-type] .title::before {
      width: 20px;
      min-width: 20px;
      height: 20px;
      margin-right: 6px;
    }
    [data-type=group] .title::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230041703a' viewBox='0 0 24 24'%3E%3Ctitle%3Efolder-outline%3C/title%3E%3Cpath d='M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z' /%3E%3C/svg%3E");
    }
    [data-type=group] > eox-layercontrol-layer-group > details[open] > summary > eox-layercontrol-layer > .layer > label > .title::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230041703a' viewBox='0 0 24 24'%3E%3Ctitle%3Efolder-open-outline%3C/title%3E%3Cpath d='M6.1,10L4,18V8H21A2,2 0 0,0 19,6H12L10,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H19C19.9,20 20.7,19.4 20.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z' /%3E%3C/svg%3E");
    }
    [data-type=raster] .title::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230041703a' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckerboard%3C/title%3E%3Cpath d='M2 2V22H22V2H2M20 12H16V16H20V20H16V16H12V20H8V16H4V12H8V8H4V4H8V8H12V4H16V8H20V12M16 8V12H12V8H16M12 12V16H8V12H12Z' /%3E%3C/svg%3E");
    }
    [data-type=vector] .title::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230041703a' viewBox='0 0 24 24'%3E%3Ctitle%3Eshape-outline%3C/title%3E%3Cpath d='M11,13.5V21.5H3V13.5H11M9,15.5H5V19.5H9V15.5M12,2L17.5,11H6.5L12,2M12,5.86L10.08,9H13.92L12,5.86M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13M17.5,15A2.5,2.5 0 0,0 15,17.5A2.5,2.5 0 0,0 17.5,20A2.5,2.5 0 0,0 20,17.5A2.5,2.5 0 0,0 17.5,15Z' /%3E%3C/svg%3E");
    }
    [data-type=draw] .title::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230041703a' viewBox='0 0 24 24'%3E%3Ctitle%3Evector-square-edit%3C/title%3E%3Cpath d='M22.7 14.4L21.7 15.4L19.6 13.3L20.6 12.3C20.8 12.1 21.2 12.1 21.4 12.3L22.7 13.6C22.9 13.8 22.9 14.1 22.7 14.4M13 19.9L19.1 13.8L21.2 15.9L15.1 22H13V19.9M11 19.9V19.1L11.6 18.5L12.1 18H8V16H6V8H8V6H16V8H18V12.1L19.1 11L19.3 10.8C19.5 10.6 19.8 10.4 20.1 10.3V8H22.1V2H16.1V4H8V2H2V8H4V16H2V22H8V20L11 19.9M18 4H20V6H18V4M4 4H6V6H4V4M6 20H4V18H6V20Z' /%3E%3C/svg%3E");
    }
  `);this.layer=null,this.map=null,this.titleProperty="title",this.showLayerZoomState=!1,this.tools=[],this.unstyled=!1,this.noShadow=!1,this.toolsAsList=!1}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}firstUpdated(){Q4e(this)}render(){var l;const r=this.layer.getVisible(),i=r?"visible":"",n=this.currLayerVisibilityBasedOnZoom?"":"zoom-state-invisible",s=tr(this,kc,cv).call(this,"layerControlDisable")?"disabled":"",o=tr(this,kc,cv).call(this,"layerControlExclusive")?"radio":"checkbox",a=((l=this.tools)==null?void 0:l.length)>0;return et`
      <style>
        ${Ut(this,I1)}
        ${!this.unstyled&&Ut(this,F1)}
      </style>
      ${Ar(this.layer,()=>et`
          <!-- Render the layer -->
          <div class="layer ${i} ${n}">
            <label class="drag-handle ${s}">
              <!-- Input element for layer visibility -->
              <input
                type=${o}
                .checked=${jce(r)}
                @click=${tr(this,kc,Kce)}
              />

              <!-- Layer title -->
              <span class="title">${tr(this,kc,cv).call(this,this.titleProperty)}</span>
              ${Ar(a,()=>et`<span class="tools-placeholder"></span>`)}
            </label>
          </div>

          <!-- Render layer tools -->
          <eox-layercontrol-layer-tools
            .noShadow=${!0}
            .layer=${this.layer}
            .tools=${this.tools}
            .unstyled=${this.unstyled}
            .toolsAsList=${this.toolsAsList}
          ></eox-layercontrol-layer-tools>
        `)}
    `}}kc=new WeakSet,cv=function(r){var i;return(i=this.layer)==null?void 0:i.get(r)},Kce=function(r){e6e(r,this)},I1=new WeakMap,F1=new WeakMap,Ge(Xce,"properties",{layer:{attribute:!1},map:{attribute:!1,state:!0},titleProperty:{attribute:"title-property",type:String},showLayerZoomState:{attribute:"show-layer-zoom-state",type:Boolean},tools:{attribute:!1},unstyled:{type:Boolean},noShadow:{type:Boolean},toolsAsList:{type:Boolean}});customElements.define("eox-layercontrol-layer",Xce);var P1,N1;class Jce extends Wi{constructor(){super();nr(this,P1,"");nr(this,N1,`
    details summary {
      cursor: pointer;
      display: flex;
    }
    details summary { list-style-type: none; } /* Firefox */
    details summary::-webkit-details-marker { display: none; } /* Chrome */
    details summary::marker { display: none; }
    details summary::before {
      display: block;
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-right%3C/title%3E%3Cpath d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z' /%3E%3C/svg%3E");
      font-size: 13px;
      width: 24px;
      height: 24px;
      margin: 4px 0;
      transform-origin: center;
      transition: transform 0.1s ease-in-out;
    }
    details[open] > summary:before {
      transform: rotate(90deg);
    }
    details[data-children-length="0"] summary::before {
      display: none;
    }
  `);this.group=null,this.idProperty="id",this.map=null,this.titleProperty="title",this.showLayerZoomState=!1,this.tools=[],this.unstyled=!1,this.noShadow=!1,this.toolsAsList=!1}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){var n,s;const r=!!((n=this.group)!=null&&n.get("layerControlExpand")),i=(s=Bce(this.group.getLayers()))==null?void 0:s.length;return et`
      <style>
        ${Ut(this,P1)}
        ${!this.unstyled&&Ut(this,N1)}
      </style>
      ${Ar(this.group,()=>et`
          <!-- Render the details element with the layer control -->
          <details
            open=${r||zi}
            data-children-length=${i}
          >
            <summary>
              <!-- Render the layer control within the summary -->
              <eox-layercontrol-layer
                .noShadow=${!0}
                .layer=${this.group}
                .map=${this.map}
                .titleProperty=${this.titleProperty}
                .showLayerZoomState=${this.showLayerZoomState}
                .tools=${this.tools}
                .unstyled=${this.unstyled}
                .toolsAsList=${this.toolsAsList}
                @changed=${()=>this.requestUpdate()}
              ></eox-layercontrol-layer>
            </summary>

            <!-- Render the list of layers within the details -->
            <eox-layercontrol-layer-list
              .noShadow=${!0}
              .idProperty=${this.idProperty}
              .layers=${this.group.getLayers()}
              .map=${this.map}
              .titleProperty=${this.titleProperty}
              .showLayerZoomState=${this.showLayerZoomState}
              .tools=${this.tools}
              .unstyled=${this.unstyled}
              .toolsAsList=${this.toolsAsList}
              @changed=${()=>this.requestUpdate()}
            ></eox-layercontrol-layer-list>
          </details>
        `)}
    `}}P1=new WeakMap,N1=new WeakMap,Ge(Jce,"properties",{group:{attribute:!1},idProperty:{attribute:"id-property"},map:{attribute:!1,state:!0},titleProperty:{attribute:"title-property",type:String},showLayerZoomState:{attribute:"show-layer-zoom-state",type:Boolean},tools:{attribute:!1},unstyled:{type:Boolean},noShadow:{type:Boolean},toolsAsList:{type:Boolean}});customElements.define("eox-layercontrol-layer-group",Jce);const t6e=t=>{const{layers:e,idProperty:r,titleProperty:i,renderRoot:n}=t,s=bh(()=>{t.requestUpdate(),t.dispatchEvent(new CustomEvent("changed",{bubbles:!0}))},50),o=()=>s();if(e&&(e.hasListener("change:length")&&(e==null||e.un("change:length",o)),e.on("change:length",o),e)){const a=n.querySelector("ul");E4e(e,r,i,t),w4e(a,e,r,t)}};var $1,B1;class Qce extends Wi{constructor(){super();nr(this,$1,"");nr(this,B1,`
    ul {
      padding: 0;
      margin: 0;
    }
    ul ul {
      padding-left: 48px;
    }
    li {
      list-style: none;
      padding-left: var(--padding);
    }
    li {
      border-bottom: 1px solid #0041703a;
    }
    li:last-child {
      border: none;
    }
    li.sortable-chosen {
      background: #eeea;
    }
    li.sortable-drag {
      opacity: 0;
    }
    li.sortable-ghost {
    }
  `);this.idProperty="id",this.layers=null,this.map=null,this.tools=void 0,this.titleProperty="title",this.showLayerZoomState=!1,this.unstyled=!1,this.noShadow=!1,this.toolsAsList=!1}firstUpdated(){t6e(this)}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){const r=this.layers?Bce(this.layers).reverse():[];return et`
      <style>
        ${Ut(this,$1)}
        ${!this.unstyled&&Ut(this,B1)}
      </style>
      <ul>
        ${Ar(this.layers,()=>et`
            ${Sue(r,i=>i,i=>et`
                <li
                  data-layer="${i.get(this.idProperty)}"
                  data-type="${C4e(i,this.map)}"
                >
                  ${i.getLayers?et`
                          <eox-layercontrol-layer-group
                            .noShadow=${!0}
                            .group=${i}
                            .idProperty=${this.idProperty}
                            .map=${this.map}
                            .titleProperty=${this.titleProperty}
                            .showLayerZoomState=${this.showLayerZoomState}
                            .tools=${this.tools}
                            .unstyled=${this.unstyled}
                            .toolsAsList=${this.toolsAsList}
                            @changed=${()=>this.requestUpdate()}
                          >
                          </eox-layercontrol-layer-group>
                        `:et`
                          <eox-layercontrol-layer
                            .noShadow=${!0}
                            .layer=${i}
                            .map=${this.map}
                            .titleProperty=${this.titleProperty}
                            .showLayerZoomState=${this.showLayerZoomState}
                            .tools=${this.tools}
                            .unstyled=${this.unstyled}
                            .toolsAsList=${this.toolsAsList}
                            @changed=${()=>this.requestUpdate()}
                          ></eox-layercontrol-layer>
                        `}
                </li>
              `)}
          `)}
      </ul>
    `}}$1=new WeakMap,B1=new WeakMap,Ge(Qce,"properties",{idProperty:{attribute:"id-property"},layers:{attribute:!1},map:{attribute:!1,state:!0},titleProperty:{attribute:"title-property",type:String},showLayerZoomState:{attribute:"show-layer-zoom-state",type:Boolean},tools:{attribute:!1},unstyled:{type:Boolean},noShadow:{type:Boolean},toolsAsList:{type:Boolean}});customElements.define("eox-layercontrol-layer-list",Qce);const r6e=t=>{const e=t.querySelector("select[name=optional]"),r=e?e.value:null,i=BC(t.layers.getArray(),"layerControlOptional",!0).find(n=>(n.get(t.idProperty)||n.ol_uid)===r);i==null||i.set("layerControlOptional",!1),i==null||i.setVisible(!0),t.dispatchEvent(new CustomEvent("changed",{bubbles:!0})),t.renderRoot.parentNode.querySelectorAll("eox-layercontrol-layer-list").forEach(n=>n.requestUpdate()),t.requestUpdate()};var j1,tde;class ede extends Wi{constructor(){super();nr(this,j1);this.idProperty="id",this.layers=null,this.titleProperty="title",this.unstyled=!1,this.noShadow=!1}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){const r=BC(this.layers.getArray(),"layerControlOptional",!0);return et`
      <!-- Label for the dropdown -->
      <label for="optional">Optional layers</label>

      <!-- Dropdown select element -->
      <select name="optional" data-cy="optionalLayers">
        <!-- Default placeholder option -->
        <option disabled selected value>
          -- select an optional layer to add --
        </option>

        <!-- Mapping through filtered layers list to generate dropdown options -->
        ${r.map(i=>{const n=i.get(this.idProperty)||i.ol_uid,s=i.get(this.titleProperty),o=`layer ${i.get(this.idProperty)}`;return et` <option value="${n}">${s||o}</option> `})}
      </select>

      <!-- Button to handle adding layers -->
      <button @click="${tr(this,j1,tde)}">add</button>
    `}}j1=new WeakSet,tde=function(){r6e(this)},Ge(ede,"properties",{idProperty:{attribute:"id-property"},layers:{attribute:!1},titleProperty:{attribute:"title-property",type:String},unstyled:{type:Boolean},noShadow:{type:Boolean}});customElements.define("eox-layercontrol-optional-list",ede);const i6e=(t,e)=>{e.jsonInput=t.target.value,e.requestUpdate()},Cre=t=>{const e=JSON.parse(`{"data":${_ce(t.jsonInput)}}`);Array.isArray(e.data)?e.data.forEach(r=>{t.eoxMap.addOrUpdateLayer(r)}):t.eoxMap.addOrUpdateLayer(e.data),t.jsonInput=null,t.requestUpdate()},n6e=(t,e)=>{e.urlInput=t.target.value,e.requestUpdate()};async function s6e(t){const e=t.urlInput;if(t.wmsCapabilities=null,t.searchLoad=!0,t.requestUpdate(),!e)return!1;if(FC(e)==="XYZ")return{Name:e};try{const r=await V5e(e);t.wmsCapabilities=r}catch{}finally{t.searchLoad=!1,t.requestUpdate()}return!1}const o6e=(t,e)=>{const{Name:r}=t,i=FC(e.urlInput)||"XYZ",n={type:"Tile",properties:{id:r,title:r},source:{type:i,url:e.urlInput,params:{LAYERS:r}}};e.jsonInput=JSON.stringify(n)},a6e=(t,e)=>{e.open=t||null,e.urlInput=null,e.jsonInput=null,e.wmsCapabilities=null,e.requestUpdate()};var Gs,ide,nde,DE,sde,ode,dv,z1,U1;class rde extends Wi{constructor(){super();nr(this,Gs);Ge(this,"urlInput",null);Ge(this,"jsonInput",null);Ge(this,"open",null);Ge(this,"searchLoad",!1);Ge(this,"wmsCapabilities",null);nr(this,z1,`
    .eox-add-layer-main .open {
      position: relative;
    }
    .eox-add-layer-main .close {
      display: none;
    }
  `);nr(this,U1,`
    .eox-add {
      background: #f0f2f5;
      border-top: 1px solid #0041701a;
      padding: 0.5rem;
      font-size: small;
    }
    .eox-add-layer-col, .eox-add-layer-tab {
      display: flex;
      width: 100%;
    }
    .eox-add-layer-main .close {
      display: none;
    }
    .eox-add-layer-main .open {
      position: relative;
    }
    button.icon.add-icon {
      flex-grow: 1;
    }
    .eox-add-layer-tab li {
      border: 0 !important;
      font-size: smaller;
      padding: 0.2rem 0.7rem;
      background: #f0f2f5;
      border-radius: 4px 4px 0px 0px;
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
    }
    .eox-add-layer-tab li.active {
      background: #204270;
      color: white;
      font-weight: 700;
    }
    .relative {
      position: relative
    }
    .eox-add-layer-col.justify-end {
      justify-content: end;
    }
    .eox-add ul {
      max-height: 120px;
      overflow: scroll;
    }
    .eox-add ul li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.1rem 0.2rem;
    }
    button.icon {
      justify-content: end;
      transition: opacity .2s;
      opacity: .7;
    }
    button.icon:hover {
      opacity: 1;
    }
    button.icon.add-layer-icon::before {
      width: 16px;
      min-width: 16px;
      height: 16px;
    }
    button.icon.add-icon::before {
      width: 18px;
      min-width: 18px;
      height: 18px;
    }
    .add-icon.icon::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath xmlns='http://www.w3.org/2000/svg' d='M17,14H19V17H22V19H19V22H17V19H14V17H17V14M11,16L2,9L11,2L20,9L11,16M11,18.54L12,17.75V18C12,18.71 12.12,19.39 12.35,20L11,21.07L2,14.07L3.62,12.81L11,18.54Z' fill='%23004270'/%3E%3C/svg%3E");
    }
    .add-layer-icon::before {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eplus-thick%3C/title%3E%3Cpath fill='%23004270' d='M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z' /%3E%3C/svg%3E");
    }
    .json-add-layer {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eplus-thick%3C/title%3E%3Cpath fill='white' d='M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z' /%3E%3C/svg%3E");
    }
    .search-icon::after {
      content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Emagnify%3C/title%3E%3Cpath d='M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z' fill='white' /%3E%3C/svg%3E");
    }
    .search-icon::after, .json-add-layer::before {
      width: 14px;
      min-width: 14px;
      height: 14px;
      display:flex
      margin-right: 6px;
      color: white;
    }
    .search-icon, .json-add-layer {
      padding: 4px 6px;
      height: 28px;
      border-radius: 0px 4px 4px 0px;
      box-shadow: none;
    }
    .json-add-layer {
      position: absolute;
      bottom: 16px;
      right: 14px;
      border-radius: 4px;
      height: 24px;
      padding: 4px;
    }
    input.add-url, textarea.add-layer-input {
      box-sizing: border-box !important;
      width: 100%;
      height: 28px;
      padding: 5px 7px !important;
      border: 1px solid #0004 !important;
      font-size: smaller;
      border-radius: 4px 0px 0px 4px;
    }
    textarea.add-layer-input {
      height: 90px;
      resize: none;
      border-radius: 4px;
    }
    .divider {
      margin: 1rem 0px;
      height: 1px;
      border-top: 1.5px solid #00417059;
      text-align: center;
      position: relative;
    }
    .divider span {
      position: relative;
      top: -.6em;
      padding: 0px 0.5rem;
      background: #f0f2f5;
      color: #00417059;
      font-weight: bold;
      display: inline-block;
    }
  `);this.eoxMap=null,this.unstyled=!1,this.noShadow=!1}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){const r=this.open?"open":"close",i=this.open==="url",n=this.open==="json",s=!G5e(this.urlInput)||this.searchLoad?!0:zi;return et`
      <style>
        ${Ut(this,z1)}
        ${!this.unstyled&&Ut(this,U1)}
      </style>
      <div class="eox-add-layer-main">
        <div class="eox-add-layer-col">
          <!-- Tabbed interface for URL and JSON -->
          <ul class="eox-add-layer-tab ${r}">
            <li
              @click=${()=>tr(this,Gs,dv).call(this,"url")}
              class="${i?"active":""}"
            >
              URL
            </li>
            <li
              @click=${()=>tr(this,Gs,dv).call(this,"json")}
              class="${n?"active":""}"
            >
              JSON
            </li>
          </ul>

          <!-- Button to toggle tabs -->
          <button
            class="add-icon icon"
            @click=${()=>tr(this,Gs,dv).call(this,this.open?null:"url")}
          >
            ${this.unstyled?"Add Layer":""}
          </button>
        </div>
        <div class="eox-add ${r}">
          ${i?et`
              <!-- Input field for URL -->
              <div class="eox-add-layer-col">
                <input 
                  type="text" 
                  class="add-url" 
                  placeholder="Add URL (WMS/XYZ)" 
                  .value="${this.urlInput}" 
                  @input=${tr(this,Gs,ide)}
                >
                </input>
                <!-- Search button for URL -->
                <button 
                  class="search-icon" 
                  disabled=${s} 
                  @click=${tr(this,Gs,nde)}
                >
                  ${this.unstyled?"Search":""}
                </button>
              </div>

              <!-- Display layers for WMS capabilities -->
              ${this.wmsCapabilities?et`<ul class="search-lists">
                      ${this.wmsCapabilities.Capability.Layer.Layer.map(o=>{const a=o.Name;return et`
                            <li class="search-list">
                              ${a}
                              <!-- Button to add layer -->
                              <button
                                class="add-layer-icon icon"
                                @click=${()=>tr(this,Gs,DE).call(this,o)}
                              >
                                ${this.unstyled?"+":""}
                              </button>
                            </li>
                          `})}
                    </ul>`:zi}
            `:et`
                <!-- Textarea for JSON input -->
                <textarea
                  class="add-layer-input"
                  placeholder="Please put a valid eox-map layer JSON."
                  @input=${tr(this,Gs,ode)}
                  .value=${this.jsonInput}
                ></textarea>

                <!-- Button to add JSON layer -->
                <button
                  class="add-layer-icon json-add-layer"
                  disabled=${W5e(this.jsonInput)?zi:!0}
                  @click=${tr(this,Gs,sde)}
                >
                  ${this.unstyled?"Add JSON":""}
                </button>
              `}
        </div>
      </div>
    `}}Gs=new WeakSet,ide=function(r){n6e(r,this)},nde=async function(){const r=await s6e(this);r&&tr(this,Gs,DE).call(this,r)},DE=function(r){o6e(r,this),Cre(this)},sde=function(){Cre(this)},ode=function(r){i6e(r,this)},dv=function(r){a6e(r,this)},z1=new WeakMap,U1=new WeakMap,Ge(rde,"properties",{eoxMap:{attribute:!1,state:!0},unstyled:{type:Boolean},noShadow:{type:Boolean}});customElements.define("eox-layercontrol-add-layers",rde);const l6e=(t,e)=>{if(e.requestUpdate(),t.target.tagName==="EOX-LAYERCONTROL-LAYER-TOOLS"){const r=e.renderRoot.querySelector("eox-layercontrol-optional-list");r==null||r.requestUpdate()}},kre=t=>{const e=l0(t.for);return e&&e.map!==t.map&&(t.map=e.map),e};var cc,hp,lde,ude,q1;class ade extends Wi{constructor(){super();nr(this,hp);nr(this,cc);nr(this,q1,`
    :host, :root {
      font-family: Roboto, sans-serif;
      --padding: 0.5rem;

      display: block;
      padding: var(--padding) 0;
    }
  `);this.for="eox-map",this.idProperty="id",this.map=null,this.titleProperty="title",this.showLayerZoomState=!1,this.tools=["info","opacity","datetime","config","remove","sort"],this.addExternalLayers=!1,this.unstyled=!1,this.styleOverride="",this.toolsAsList=!1}firstUpdated(){this.eoxMap=kre(this)}updated(r){r.has("for")&&(this.eoxMap=kre(this))}get eoxMap(){return Ut(this,cc)}set eoxMap(r){const i=Ut(this,cc);Kn(this,cc,r),this.requestUpdate("eoxMap",i)}render(){var n,s,o;const r=(n=this.map)==null?void 0:n.getLayers().getArray(),i=r&&((s=BC(r,"layerControlOptional",!0))==null?void 0:s.length)>0;return et`
      <style>
        ${!this.unstyled&&Ut(this,q1)}
        ${this.styleOverride}
      </style>

      <!-- Conditional rendering of add layers component -->
      ${Ar(this.addExternalLayers&&((o=Ut(this,cc))==null?void 0:o.addOrUpdateLayer),()=>et`
          <eox-layercontrol-add-layers
            .noShadow=${!0}
            .eoxMap=${Ut(this,cc)}
            .unstyled=${this.unstyled}
          ></eox-layercontrol-add-layers>
        `)}

      <!-- Conditional rendering of layer list component -->
      ${Ar(this.map,()=>et`
          <eox-layercontrol-layer-list
            .noShadow=${!0}
            class="layers"
            .idProperty=${this.idProperty}
            .layers=${this.map.getLayers()}
            .map=${this.map}
            .titleProperty=${this.titleProperty}
            .showLayerZoomState=${this.showLayerZoomState}
            .tools=${this.tools}
            .unstyled=${this.unstyled}
            .toolsAsList=${this.toolsAsList}
            @changed=${tr(this,hp,lde)}
            @datetime:updated=${tr(this,hp,ude)}
          ></eox-layercontrol-layer-list>
        `)}

      <!-- Conditional rendering of optional list component -->
      ${Ar(i,()=>et`
          <eox-layercontrol-optional-list
            .noShadow=${!0}
            .idProperty=${this.idProperty}
            .layers=${this.map.getLayers()}
            .titleProperty=${this.titleProperty}
            @changed=${()=>this.requestUpdate()}
          ></eox-layercontrol-optional-list>
        `)}
    `}}cc=new WeakMap,hp=new WeakSet,lde=function(r){l6e(r,this),this.dispatchEvent(new CustomEvent("layerchange",{detail:r.detail}))},ude=function(r){this.dispatchEvent(new CustomEvent("datetime:updated",{detail:r.detail}))},q1=new WeakMap,Ge(ade,"properties",{for:{type:String},idProperty:{attribute:"id-property"},map:{attribute:!1,state:!0},titleProperty:{attribute:"title-property",type:String},showLayerZoomState:{attribute:"show-layer-zoom-state",type:Boolean},tools:{attribute:!1},addExternalLayers:{attribute:!1},unstyled:{type:Boolean},styleOverride:{type:String},toolsAsList:{type:Boolean}});customElements.define("eox-layercontrol",ade);class u6e extends HTMLElement{static get observedAttributes(){return["gap"]}constructor(){super(),this.attachShadow({mode:"open"}),this.render()}render(){this.shadowRoot.innerHTML=`
    <style>
      :host {
        display: grid;
        padding: ${this.getAttribute("gap")||0}px;
        height: 100%;
        box-sizing: border-box;
        gap: ${this.getAttribute("gap")||"0"}px;
        grid-template-columns: repeat(12, 1fr);
        grid-template-rows: repeat(12, 1fr);
      }
    </style>
    <slot></slot>
  `}attributeChangedCallback(e,r,i){r!==i&&(this[e]=i),this.render()}}class c6e extends HTMLElement{static get observedAttributes(){return["x","y","w","h"]}constructor(){super(),this.attachShadow({mode:"open"}),this.render()}render(){this.shadowRoot.innerHTML=`
      <style>
        :host {
          overflow: hidden;

          grid-column: ${parseInt(this.getAttribute("x"))+1} / span ${this.getAttribute("w")};
          grid-row: ${parseInt(this.getAttribute("y"))+1} / span ${this.getAttribute("h")};
        }
      </style>
      <slot></slot>
    `}attributeChangedCallback(e,r,i){r!==i&&(this[e]=i),this.render()}}customElements.define("eox-layout",u6e);customElements.define("eox-layout-item",c6e);window.eoxMapAdvancedOlFormats=mxe;var vo=(t,e,r)=>new Promise((i,n)=>{var s=l=>{try{a(r.next(l))}catch(u){n(u)}},o=l=>{try{a(r.throw(l))}catch(u){n(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())}),Xo=Uint8Array,Qg=Uint16Array,d6e=Int32Array,cde=new Xo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dde=new Xo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h6e=new Xo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hde=function(t,e){for(var r=new Qg(31),i=0;i<31;++i)r[i]=e+=1<<t[i-1];for(var n=new d6e(r[30]),i=1;i<30;++i)for(var s=r[i];s<r[i+1];++s)n[s]=s-r[i]<<5|i;return{b:r,r:n}},fde=hde(cde,2),pde=fde.b,f6e=fde.r;pde[28]=258,f6e[258]=28;var p6e=hde(dde,0),m6e=p6e.b,mde=new Qg(32768);for(ji=0;ji<32768;++ji)Ql=(ji&43690)>>1|(ji&21845)<<1,Ql=(Ql&52428)>>2|(Ql&13107)<<2,Ql=(Ql&61680)>>4|(Ql&3855)<<4,mde[ji]=((Ql&65280)>>8|(Ql&255)<<8)>>1;var Ql,ji,e0=function(t,e,r){for(var i=t.length,n=0,s=new Qg(e);n<i;++n)t[n]&&++s[t[n]-1];var o=new Qg(e);for(n=1;n<e;++n)o[n]=o[n-1]+s[n-1]<<1;var a;{a=new Qg(1<<e);var l=15-e;for(n=0;n<i;++n)if(t[n])for(var u=n<<4|t[n],h=e-t[n],d=o[t[n]-1]++<<h,f=d|(1<<h)-1;d<=f;++d)a[mde[d]>>l]=u}return a},cy=new Xo(288);for(ji=0;ji<144;++ji)cy[ji]=8;var ji;for(ji=144;ji<256;++ji)cy[ji]=9;var ji;for(ji=256;ji<280;++ji)cy[ji]=7;var ji;for(ji=280;ji<288;++ji)cy[ji]=8;var ji,gde=new Xo(32);for(ji=0;ji<32;++ji)gde[ji]=5;var ji,g6e=e0(cy,9),y6e=e0(gde,5),X_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ba=function(t,e,r){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&r},K_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},b6e=function(t){return(t+7)/8|0},v6e=function(t,e,r){(r==null||r>t.length)&&(r=t.length);var i=new Xo(r-e);return i.set(t.subarray(e,r)),i},x6e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wo=function(t,e,r){var i=new Error(e||x6e[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,Wo),!r)throw i;return i},UC=function(t,e,r,i){var n=t.length,s=0;if(!n||e.f&&!e.l)return r||new Xo(0);var o=!r||e.i!=2,a=e.i;r||(r=new Xo(n*3));var l=function(Xe){var nt=r.length;if(Xe>nt){var vt=new Xo(Math.max(nt*2,Xe));vt.set(r),r=vt}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,p=e.d,g=e.m,y=e.n,b=n*8;do{if(!f){u=Ba(t,h,1);var x=Ba(t,h+1,3);if(h+=3,x)if(x==1)f=g6e,p=y6e,g=9,y=5;else if(x==2){var k=Ba(t,h,31)+257,O=Ba(t,h+10,15)+4,M=k+Ba(t,h+5,31)+1;h+=14;for(var A=new Xo(M),I=new Xo(19),R=0;R<O;++R)I[h6e[R]]=Ba(t,h+R*3,7);h+=O*3;for(var V=X_(I),oe=(1<<V)-1,L=e0(I,V),R=0;R<M;){var F=L[Ba(t,h,oe)];h+=F&15;var w=F>>4;if(w<16)A[R++]=w;else{var U=0,Y=0;for(w==16?(Y=3+Ba(t,h,3),h+=2,U=A[R-1]):w==17?(Y=3+Ba(t,h,7),h+=3):w==18&&(Y=11+Ba(t,h,127),h+=7);Y--;)A[R++]=U}}var G=A.subarray(0,k),Q=A.subarray(k);g=X_(G),y=X_(Q),f=e0(G,g),p=e0(Q,y)}else Wo(1);else{var w=b6e(h)+4,S=t[w-4]|t[w-3]<<8,C=w+S;if(C>n){a&&Wo(0);break}o&&l(d+S),r.set(t.subarray(w,C),d),e.b=d+=S,e.p=h=C*8,e.f=u;continue}if(h>b){a&&Wo(0);break}}o&&l(d+131072);for(var J=(1<<g)-1,re=(1<<y)-1,pe=h;;pe=h){var U=f[K_(t,h)&J],ee=U>>4;if(h+=U&15,h>b){a&&Wo(0);break}if(U||Wo(2),ee<256)r[d++]=ee;else if(ee==256){pe=h,f=null;break}else{var B=ee-254;if(ee>264){var R=ee-257,ge=cde[R];B=Ba(t,h,(1<<ge)-1)+pde[R],h+=ge}var ve=p[K_(t,h)&re],ze=ve>>4;ve||Wo(3),h+=ve&15;var Q=m6e[ze];if(ze>3){var ge=dde[ze];Q+=K_(t,h)&(1<<ge)-1,h+=ge}if(h>b){a&&Wo(0);break}o&&l(d+131072);var it=d+B;if(d<Q){var tt=s-Q,Ne=Math.min(Q,it);for(tt+d<0&&Wo(3);d<Ne;++d)r[d]=i[tt+d]}for(;d<it;d+=4)r[d]=r[d-Q],r[d+1]=r[d+1-Q],r[d+2]=r[d+2-Q],r[d+3]=r[d+3-Q];d=it}}e.l=f,e.p=pe,e.b=d,e.f=u,f&&(u=1,e.m=g,e.d=p,e.n=y)}while(!u);return d==r.length?r:v6e(r,0,d)},_6e=new Xo(0),w6e=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&Wo(6,"invalid gzip data");var e=t[3],r=10;e&4&&(r+=(t[10]|t[11]<<8)+2);for(var i=(e>>3&1)+(e>>4&1);i>0;i-=!t[r++]);return r+(e&2)},E6e=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},S6e=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Wo(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Wo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function C6e(t,e){return UC(t,{i:2},e,e)}function k6e(t,e){var r=w6e(t);return r+8>t.length&&Wo(6,"invalid gzip data"),UC(t.subarray(r,-8),{i:2},new Xo(E6e(t)),e)}function A6e(t,e){return UC(t.subarray(S6e(t,e),-4),{i:2},e,e)}function LE(t,e){return t[0]==31&&t[1]==139&&t[2]==8?k6e(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?C6e(t,e):A6e(t,e)}var T6e=typeof TextDecoder<"u"&&new TextDecoder,D6e=0;try{T6e.decode(_6e,{stream:!0}),D6e=1}catch{}var yde=(t,e)=>t*Math.pow(2,e),wg=(t,e)=>Math.floor(t/Math.pow(2,e)),u1=(t,e)=>yde(t.getUint16(e+1,!0),8)+t.getUint8(e),bde=(t,e)=>yde(t.getUint32(e+2,!0),16)+t.getUint16(e,!0),L6e=(t,e,r,i,n)=>{if(t!=i.getUint8(n))return t-i.getUint8(n);const s=u1(i,n+1);if(e!=s)return e-s;const o=u1(i,n+4);return r!=o?r-o:0},O6e=(t,e,r,i)=>{const n=vde(t,e|128,r,i);return n?{z:e,x:r,y:i,offset:n[0],length:n[1],is_dir:!0}:null},Are=(t,e,r,i)=>{const n=vde(t,e,r,i);return n?{z:e,x:r,y:i,offset:n[0],length:n[1],is_dir:!1}:null},vde=(t,e,r,i)=>{let n=0,s=t.byteLength/17-1;for(;n<=s;){const o=s+n>>1,a=L6e(e,r,i,t,o*17);if(a>0)n=o+1;else if(a<0)s=o-1;else return[bde(t,o*17+7),t.getUint32(o*17+13,!0)]}return null},M6e=(t,e)=>t.is_dir&&!e.is_dir?1:!t.is_dir&&e.is_dir?-1:t.z!==e.z?t.z-e.z:t.x!==e.x?t.x-e.x:t.y-e.y,xde=(t,e)=>{const r=t.getUint8(e*17);return{z:r&127,x:u1(t,e*17+1),y:u1(t,e*17+4),offset:bde(t,e*17+7),length:t.getUint32(e*17+13,!0),is_dir:r>>7===1}},Tre=t=>{const e=[],r=new DataView(t);for(let i=0;i<r.byteLength/17;i++)e.push(xde(r,i));return R6e(e)},R6e=t=>{t.sort(M6e);const e=new ArrayBuffer(17*t.length),r=new Uint8Array(e);for(let i=0;i<t.length;i++){const n=t[i];let s=n.z;n.is_dir&&(s=s|128),r[i*17]=s,r[i*17+1]=n.x&255,r[i*17+2]=n.x>>8&255,r[i*17+3]=n.x>>16&255,r[i*17+4]=n.y&255,r[i*17+5]=n.y>>8&255,r[i*17+6]=n.y>>16&255,r[i*17+7]=n.offset&255,r[i*17+8]=wg(n.offset,8)&255,r[i*17+9]=wg(n.offset,16)&255,r[i*17+10]=wg(n.offset,24)&255,r[i*17+11]=wg(n.offset,32)&255,r[i*17+12]=wg(n.offset,48)&255,r[i*17+13]=n.length&255,r[i*17+14]=n.length>>8&255,r[i*17+15]=n.length>>16&255,r[i*17+16]=n.length>>24&255}return e},I6e=(t,e)=>{if(t.byteLength<17)return null;const r=t.byteLength/17,i=xde(t,r-1);if(i.is_dir){const n=i.z,s=e.z-n,o=Math.trunc(e.x/(1<<s)),a=Math.trunc(e.y/(1<<s));return{z:n,x:o,y:a}}return null};function F6e(t){return vo(this,null,function*(){const e=yield t.getBytes(0,512e3),r=new DataView(e.data),i=r.getUint32(4,!0),n=r.getUint16(8,!0),s=new TextDecoder("utf-8"),o=JSON.parse(s.decode(new DataView(e.data,10,i)));let a=0;o.compression==="gzip"&&(a=2);let l=0;"minzoom"in o&&(l=+o.minzoom);let u=0;"maxzoom"in o&&(u=+o.maxzoom);let h=0,d=0,f=0,p=-180,g=-85,y=180,b=85;if(o.bounds){const w=o.bounds.split(",");p=+w[0],g=+w[1],y=+w[2],b=+w[3]}if(o.center){const w=o.center.split(",");h=+w[0],d=+w[1],f=+w[2]}return{specVersion:r.getUint16(2,!0),rootDirectoryOffset:10+i,rootDirectoryLength:n*17,jsonMetadataOffset:10,jsonMetadataLength:i,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:a,tileType:1,minZoom:l,maxZoom:u,minLon:p,minLat:g,maxLon:y,maxLat:b,centerZoom:f,centerLon:h,centerLat:d,etag:e.etag}})}function P6e(t,e,r,i,n,s,o){return vo(this,null,function*(){let a=yield r.getArrayBuffer(e,t.rootDirectoryOffset,t.rootDirectoryLength,t);t.specVersion===1&&(a=Tre(a));const l=Are(new DataView(a),i,n,s);if(l){let d=(yield e.getBytes(l.offset,l.length,o)).data;const f=new DataView(d);return f.getUint8(0)==31&&f.getUint8(1)==139&&(d=LE(new Uint8Array(d))),{data:d}}const u=I6e(new DataView(a),{z:i,x:n,y:s});if(u){const h=O6e(new DataView(a),u.z,u.x,u.y);if(h){let d=yield r.getArrayBuffer(e,h.offset,h.length,t);t.specVersion===1&&(d=Tre(d));const f=Are(new DataView(d),i,n,s);if(f){let g=(yield e.getBytes(f.offset,f.length,o)).data;const y=new DataView(g);return y.getUint8(0)==31&&y.getUint8(1)==139&&(g=LE(new Uint8Array(g))),{data:g}}}}})}var _de={getHeader:F6e,getZxy:P6e};function pf(t,e){return(e>>>0)*4294967296+(t>>>0)}function N6e(t,e){const r=e.buf;let i,n;if(n=r[e.pos++],i=(n&112)>>4,n<128||(n=r[e.pos++],i|=(n&127)<<3,n<128)||(n=r[e.pos++],i|=(n&127)<<10,n<128)||(n=r[e.pos++],i|=(n&127)<<17,n<128)||(n=r[e.pos++],i|=(n&127)<<24,n<128)||(n=r[e.pos++],i|=(n&1)<<31,n<128))return pf(t,i);throw new Error("Expected varint not more than 10 bytes")}function Eg(t){const e=t.buf;let r,i;return i=e[t.pos++],r=i&127,i<128||(i=e[t.pos++],r|=(i&127)<<7,i<128)||(i=e[t.pos++],r|=(i&127)<<14,i<128)||(i=e[t.pos++],r|=(i&127)<<21,i<128)?r:(i=e[t.pos],r|=(i&15)<<28,N6e(r,t))}function $6e(t,e,r,i){if(i==0){r==1&&(e[0]=t-1-e[0],e[1]=t-1-e[1]);const n=e[0];e[0]=e[1],e[1]=n}}var B6e=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function j6e(t,e,r){if(t>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(e>Math.pow(2,t)-1||r>Math.pow(2,t)-1)throw Error("tile x/y outside zoom level bounds");const i=B6e[t],n=Math.pow(2,t);let s=0,o=0,a=0;const l=[e,r];let u=n/2;for(;u>0;)s=(l[0]&u)>0?1:0,o=(l[1]&u)>0?1:0,a+=u*u*(3*s^o),$6e(u,l,s,o),u=u/2;return i+a}function wde(t,e){return vo(this,null,function*(){if(e===1||e===0)return t;if(e===2){if(typeof globalThis.DecompressionStream>"u")return LE(new Uint8Array(t));{let i=new Response(t).body.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(i).arrayBuffer()}}else throw Error("Compression method not supported")})}var wf=(t=>(t[t.Unknown=0]="Unknown",t[t.Mvt=1]="Mvt",t[t.Png=2]="Png",t[t.Jpeg=3]="Jpeg",t[t.Webp=4]="Webp",t[t.Avif=5]="Avif",t))(wf||{}),z6e=127;function U6e(t,e){let r=0,i=t.length-1;for(;r<=i;){const n=i+r>>1,s=e-t[n].tileId;if(s>0)r=n+1;else if(s<0)i=n-1;else return t[n]}return i>=0&&(t[i].runLength===0||e-t[i].tileId<t[i].runLength)?t[i]:null}var q6e=class{constructor(t,e=new Headers){this.url=t,this.customHeaders=e}getKey(){return this.url}setHeaders(t){this.customHeaders=t}getBytes(t,e,r){return vo(this,null,function*(){let i;r||(i=new AbortController,r=i.signal);const n=new Headers(this.customHeaders);n.set("Range","bytes="+t+"-"+(t+e-1));let s=yield fetch(this.url,{signal:r,headers:n});if(s.status===416&&t===0){const l=s.headers.get("Content-Range");if(!l||!l.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const u=+l.substr(8);s=yield fetch(this.url,{signal:r,headers:{Range:"bytes=0-"+(u-1)}})}if(s.status>=300)throw Error("Bad response code: "+s.status);const o=s.headers.get("Content-Length");if(s.status===200&&(!o||+o>e))throw i&&i.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield s.arrayBuffer(),etag:s.headers.get("ETag")||void 0,cacheControl:s.headers.get("Cache-Control")||void 0,expires:s.headers.get("Expires")||void 0}})}};function ja(t,e){const r=t.getUint32(e+4,!0),i=t.getUint32(e+0,!0);return r*Math.pow(2,32)+i}function H6e(t,e){const r=new DataView(t),i=r.getUint8(7);if(i>3)throw Error(`Archive is spec version ${i} but this library supports up to spec version 3`);return{specVersion:i,rootDirectoryOffset:ja(r,8),rootDirectoryLength:ja(r,16),jsonMetadataOffset:ja(r,24),jsonMetadataLength:ja(r,32),leafDirectoryOffset:ja(r,40),leafDirectoryLength:ja(r,48),tileDataOffset:ja(r,56),tileDataLength:ja(r,64),numAddressedTiles:ja(r,72),numTileEntries:ja(r,80),numTileContents:ja(r,88),clustered:r.getUint8(96)===1,internalCompression:r.getUint8(97),tileCompression:r.getUint8(98),tileType:r.getUint8(99),minZoom:r.getUint8(100),maxZoom:r.getUint8(101),minLon:r.getInt32(102,!0)/1e7,minLat:r.getInt32(106,!0)/1e7,maxLon:r.getInt32(110,!0)/1e7,maxLat:r.getInt32(114,!0)/1e7,centerZoom:r.getUint8(118),centerLon:r.getInt32(119,!0)/1e7,centerLat:r.getInt32(123,!0)/1e7,etag:e}}function Ede(t){const e={buf:new Uint8Array(t),pos:0},r=Eg(e),i=[];let n=0;for(let s=0;s<r;s++){const o=Eg(e);i.push({tileId:n+o,offset:0,length:0,runLength:1}),n+=o}for(let s=0;s<r;s++)i[s].runLength=Eg(e);for(let s=0;s<r;s++)i[s].length=Eg(e);for(let s=0;s<r;s++){const o=Eg(e);o===0&&s>0?i[s].offset=i[s-1].offset+i[s-1].length:i[s].offset=o-1}return i}function V6e(t){const e=new DataView(t);return e.getUint16(2,!0)===2?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):e.getUint16(2,!0)===1?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}var Mf=class extends Error{};function G6e(t,e,r,i){return vo(this,null,function*(){const n=yield t.getBytes(0,16384);if(new DataView(n.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");if(V6e(n.data)<3)return[yield _de.getHeader(t)];const o=n.data.slice(0,z6e);let a=n.etag;i&&n.etag!=i&&(console.warn("ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for "+t.getKey()),a=void 0);const l=H6e(o,a);if(r){const u=n.data.slice(l.rootDirectoryOffset,l.rootDirectoryOffset+l.rootDirectoryLength),h=t.getKey()+"|"+(l.etag||"")+"|"+l.rootDirectoryOffset+"|"+l.rootDirectoryLength,d=Ede(yield e(u,l.internalCompression));return[l,[h,d.length,d]]}return[l,void 0]})}function W6e(t,e,r,i,n){return vo(this,null,function*(){const s=yield t.getBytes(r,i);if(n.etag&&n.etag!==s.etag)throw new Mf(s.etag);const o=yield e(s.data,n.internalCompression),a=Ede(o);if(a.length===0)throw new Error("Empty directory is invalid");return a})}var Y6e=class{constructor(t=100,e=!0,r=wde){this.cache=new Map,this.maxCacheEntries=t,this.counter=1,this.prefetch=e,this.decompress=r}getHeader(t,e){return vo(this,null,function*(){const r=t.getKey();if(this.cache.has(r))return this.cache.get(r).lastUsed=this.counter++,yield this.cache.get(r).data;const i=new Promise((n,s)=>{G6e(t,this.decompress,this.prefetch,e).then(o=>{o[1]&&this.cache.set(o[1][0],{lastUsed:this.counter++,data:Promise.resolve(o[1][2])}),n(o[0]),this.prune()}).catch(o=>{s(o)})});return this.cache.set(r,{lastUsed:this.counter++,data:i}),i})}getDirectory(t,e,r,i){return vo(this,null,function*(){const n=t.getKey()+"|"+(i.etag||"")+"|"+e+"|"+r;if(this.cache.has(n))return this.cache.get(n).lastUsed=this.counter++,yield this.cache.get(n).data;const s=new Promise((o,a)=>{W6e(t,this.decompress,e,r,i).then(l=>{o(l),this.prune()}).catch(l=>{a(l)})});return this.cache.set(n,{lastUsed:this.counter++,data:s}),s})}getArrayBuffer(t,e,r,i){return vo(this,null,function*(){const n=t.getKey()+"|"+(i.etag||"")+"|"+e+"|"+r;if(this.cache.has(n))return this.cache.get(n).lastUsed=this.counter++,yield this.cache.get(n).data;const s=new Promise((o,a)=>{t.getBytes(e,r).then(l=>{if(i.etag&&i.etag!==l.etag)throw new Mf(l.etag);o(l.data),this.cache.has(n),this.prune()}).catch(l=>{a(l)})});return this.cache.set(n,{lastUsed:this.counter++,data:s}),s})}prune(){if(this.cache.size>=this.maxCacheEntries){let t=1/0,e;this.cache.forEach((r,i)=>{r.lastUsed<t&&(t=r.lastUsed,e=i)}),e&&this.cache.delete(e)}}invalidate(t,e){return vo(this,null,function*(){this.cache.delete(t.getKey()),yield this.getHeader(t,e)})}},qC=class{constructor(t,e,r){typeof t=="string"?this.source=new q6e(t):this.source=t,r?this.decompress=r:this.decompress=wde,e?this.cache=e:this.cache=new Y6e}getHeader(){return vo(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(t,e,r,i){return vo(this,null,function*(){const n=j6e(t,e,r),s=yield this.cache.getHeader(this.source);if(s.specVersion<3)return _de.getZxy(s,this.source,this.cache,t,e,r,i);if(t<s.minZoom||t>s.maxZoom)return;let o=s.rootDirectoryOffset,a=s.rootDirectoryLength;for(let l=0;l<=3;l++){const u=yield this.cache.getDirectory(this.source,o,a,s),h=U6e(u,n);if(h)if(h.runLength>0){const d=yield this.source.getBytes(s.tileDataOffset+h.offset,h.length,i);if(s.etag&&s.etag!==d.etag)throw new Mf(d.etag);return{data:yield this.decompress(d.data,s.tileCompression),cacheControl:d.cacheControl,expires:d.expires}}else o=s.leafDirectoryOffset+h.offset,a=h.length;else return}throw Error("Maximum directory depth exceeded")})}getZxy(t,e,r,i){return vo(this,null,function*(){try{return yield this.getZxyAttempt(t,e,r,i)}catch(n){if(n instanceof Mf)return this.cache.invalidate(this.source,n.message),yield this.getZxyAttempt(t,e,r,i);throw n}})}getMetadataAttempt(){return vo(this,null,function*(){const t=yield this.cache.getHeader(this.source),e=yield this.source.getBytes(t.jsonMetadataOffset,t.jsonMetadataLength);if(t.etag&&t.etag!==e.etag)throw new Mf(e.etag);const r=yield this.decompress(e.data,t.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(r))})}getMetadata(){return vo(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(t){if(t instanceof Mf)return this.cache.invalidate(this.source,t.message),yield this.getMetadataAttempt();throw t}})}};class Z6e extends tse{constructor(e){super(va.ERROR),this.error=e}}class bn{constructor(e){this.name=e}toString(){return this.name}}bn.GeoTIFF=new bn("GeoTIFF");bn.ImageStatic=new bn("ImageStatic");bn.PMTilesRaster=new bn("PMTilesRaster");bn.PMTilesVector=new bn("PMTilesVector");bn.TileJSON=new bn("TileJSON");bn.TileWMS=new bn("TileWMS");bn.WMTS=new bn("WMTS");bn.XYZ=new bn("XYZ");var Sde={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(oi,function(){var r=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function i(d,f){return d.indexOf(f)===-1?d.length:d.indexOf(f)}function n(d){var f=d.replace(/^v/,"").replace(/\+.*$/,""),p=i(f,"-"),g=f.substring(0,p).split(".");return g.push(f.substring(p+1)),g}function s(d){return isNaN(Number(d))?d:Number(d)}function o(d){if(typeof d!="string")throw new TypeError("Invalid argument expected string");if(!r.test(d))throw new Error("Invalid argument not valid semver ('"+d+"' received)")}function a(d,f){[d,f].forEach(o);for(var p=n(d),g=n(f),y=0;y<Math.max(p.length-1,g.length-1);y++){var b=parseInt(p[y]||0,10),x=parseInt(g[y]||0,10);if(b>x)return 1;if(x>b)return-1}var w=p[p.length-1],S=g[g.length-1];if(w&&S){var C=w.split(".").map(s),k=S.split(".").map(s);for(y=0;y<Math.max(C.length,k.length);y++){if(C[y]===void 0||typeof k[y]=="string"&&typeof C[y]=="number")return-1;if(k[y]===void 0||typeof C[y]=="string"&&typeof k[y]=="number"||C[y]>k[y])return 1;if(k[y]>C[y])return-1}}else if(w||S)return w?-1:1;return 0}var l=[">",">=","=","<","<="],u={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function h(d){if(typeof d!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof d);if(l.indexOf(d)===-1)throw new TypeError("Invalid operator, expected one of "+l.join("|"))}return a.validate=function(d){return typeof d=="string"&&r.test(d)},a.compare=function(d,f,p){h(p);var g=a(d,f);return u[p].indexOf(g)>-1},a})})(Sde);var X6e=Sde.exports,OE=X6e;const HC="1.0.0",wt=!0,ar={classification:"https://stac-extensions.github.io/classification/v1.1.0/schema.json",datacube:"https://stac-extensions.github.io/datacube/v2.1.0/schema.json",eo:"https://stac-extensions.github.io/eo/v1.0.0/schema.json",file:"https://stac-extensions.github.io/file/v1.0.0/schema.json","item-assets":"https://stac-extensions.github.io/item-assets/v1.0.0/schema.json",label:"https://stac-extensions.github.io/label/v1.0.1/schema.json",pointcloud:"https://stac-extensions.github.io/pointcloud/v1.0.0/schema.json",processing:"https://stac-extensions.github.io/processing/v1.1.0/schema.json",projection:"https://stac-extensions.github.io/projection/v1.0.0/schema.json",raster:"https://stac-extensions.github.io/raster/v1.1.0/schema.json",sar:"https://stac-extensions.github.io/sar/v1.0.0/schema.json",sat:"https://stac-extensions.github.io/sat/v1.0.0/schema.json",scientific:"https://stac-extensions.github.io/scientific/v1.0.0/schema.json",table:"https://stac-extensions.github.io/table/v1.2.0/schema.json",timestamps:"https://stac-extensions.github.io/timestamps/v1.0.0/schema.json",version:"https://stac-extensions.github.io/version/v1.0.0/schema.json",view:"https://stac-extensions.github.io/view/v1.0.0/schema.json"},Xd={itemAndCollection:{"cube:":ar.datacube,"eo:":ar.eo,"file:":ar.file,"label:":ar.label,"pc:":ar.pointcloud,"processing:":ar.processing,"proj:":ar.projection,"raster:":ar.raster,"sar:":ar.sar,"sat:":ar.sat,"sci:":ar.scientific,"view:":ar.view,version:ar.version,deprecated:ar.version,published:ar.timestamps,expires:ar.timestamps,unpublished:ar.timestamps},catalog:{},collection:{item_assets:ar["item-assets"]},item:{}};Xd.collection=Object.assign(Xd.collection,Xd.itemAndCollection);Xd.item=Object.assign(Xd.item,Xd.itemAndCollection);var Pg={parseUrl(t){let e=t.match(/^https?:\/\/stac-extensions.github.io\/([^\/]+)\/v([^\/]+)\/[^.]+.json$/i);if(e)return{id:e[1],version:e[2]}}},xi={version:HC,extensions:{},set(t){if(typeof t.stac_version!="string"?xi.version="0.6.0":xi.version=t.stac_version,Array.isArray(t.stac_extensions))for(let e of t.stac_extensions){let r=Pg.parseUrl(e);r&&(xi.extensions[r.id]=r.version)}},before(t,e=null){let r=e?xi.extensions[e]:xi.version;return typeof r>"u"?!1:OE.compare(r,t,"<")}},Be={type(t){let e=typeof t;if(e==="object"){if(t===null)return"null";if(Array.isArray(t))return"array"}return e},is(t,e){return Be.type(t)===e},isDefined(t){return typeof t<"u"},isObject(t){return typeof t=="object"&&t===Object(t)&&!Array.isArray(t)},rename(t,e,r){return typeof t[e]<"u"&&typeof t[r]>"u"?(t[r]=t[e],delete t[e],!0):!1},forAll(t,e,r){if(t[e]&&typeof t[e]=="object")for(let i in t[e])r(t[e][i])},toArray(t,e){return typeof t[e]<"u"&&!Array.isArray(t[e])?(t[e]=[t[e]],!0):!1},flattenArray(t,e,r,i=!1){if(Array.isArray(t[e])){for(let n in t[e])if(typeof r[n]=="string"){let s=t[e][n];t[r[n]]=i?[s]:s}return delete t[e],!0}return!1},flattenOneElementArray(t,e,r=!1){return!r&&Array.isArray(t[e])?t[e].length===1?(t[e]=t[e][0],!0):!1:!0},removeFromArray(t,e,r){if(Array.isArray(t[e])){let i=t[e].indexOf(r);return i>-1&&t[e].splice(i,1),!0}return!1},ensure(t,e,r){return Be.type(r)!==Be.type(t[e])&&(t[e]=r),!0},upgradeExtension(t,e){let{id:r,version:i}=Pg.parseUrl(e),n=t.stac_extensions.findIndex(s=>{let o=Pg.parseUrl(s);return o&&o.id===r&&OE.compare(o.version,i,"<")});return n!==-1?(t.stac_extensions[n]=e,!0):!1},addExtension(t,e){let{id:r,version:i}=Pg.parseUrl(e),n=t.stac_extensions.findIndex(s=>{if(s===e)return!0;let o=Pg.parseUrl(s);return!!(o&&o.id===r&&OE.compare(o.version,i,"<"))});return n===-1?t.stac_extensions.push(e):t.stac_extensions[n]=e,t.stac_extensions.sort(),!0},removeExtension(t,e){return Be.removeFromArray(t,"stac_extensions",e)},migrateExtensionShortnames(t){let e=Object.keys(ar),r=Object.values(ar);return Be.mapValues(t,"stac_extensions",e,r)},populateExtensions(t,e){let r=[];(e=="catalog"||e=="collection")&&r.push(t),(e=="item"||e=="collection")&&Be.isObject(t.assets)&&(r=r.concat(Object.values(t.assets))),e=="collection"&&Be.isObject(t.item_assets)&&(r=r.concat(Object.values(t.item_assets))),e=="collection"&&Be.isObject(t.summaries)&&r.push(t.summaries),e=="item"&&Be.isObject(t.properties)&&r.push(t.properties);for(let i of r)Object.keys(i).forEach(n=>{let s=n.match(/^(\w+:|[^:]+$)/i);if(Array.isArray(s)){let o=Xd[e][s[0]];Be.is(o,"string")&&Be.addExtension(t,o)}})},mapValues(t,e,r,i){let n=s=>{let o=r.indexOf(s);return o>=0?i[o]:s};return Array.isArray(t[e])?t[e]=t[e].map(n):typeof t[e]<"u"&&(t[e]=n(t[e])),!0},mapObject(t,e){for(let r in t)t[r]=e(t[r],r)},moveTo(t,e,r,i=!1,n=!1){let s;return i?n?s=o=>Array.isArray(o):s=o=>Array.isArray(o)&&o.length===1:s=Be.isDefined,s(t[e])?(r[e]=i&&!n?t[e][0]:t[e],delete t[e],!0):!1},runAll(t,e,r,i){for(let n in t)n.startsWith("migrate")||t[n](e,r,i)},toUTC(t,e){if(typeof t[e]=="string")try{return t[e]=this.toISOString(t[e]),!0}catch{}return delete t[e],!1},toISOString(t){return t instanceof Date||(t=new Date(t)),t.toISOString().replace(".000","")}},vl={multihash:null,hexToUint8(t){if(t.length===0||t.length%2!==0)throw new Error(`The string "${t}" is not valid hex.`);return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))},uint8ToHex(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")},toMultihash(t,e,r){if(!vl.multihash||!Be.is(t[e],"string"))return!1;try{const i=vl.multihash.encode(vl.hexToUint8(t[e]),r);return t[e]=vl.uint8ToHex(i),!0}catch(i){return console.warn(i),!1}}},VC={migrate(t,e=!0){return xi.set(t),e&&(t.stac_version=HC),t.type="Catalog",Be.ensure(t,"stac_extensions",[]),xi.before("1.0.0-rc.1")&&Be.migrateExtensionShortnames(t),Be.ensure(t,"id",""),Be.ensure(t,"description",""),Be.ensure(t,"links",[]),Be.runAll(VC,t,t),xi.before("0.8.0")&&Be.populateExtensions(t,"catalog"),t}},GC={migrate(t,e=!0){return VC.migrate(t,e),t.type="Collection",xi.before("1.0.0-rc.1")&&Be.migrateExtensionShortnames(t),Be.ensure(t,"license","proprietary"),Be.ensure(t,"extent",{spatial:{bbox:[]},temporal:{interval:[]}}),Be.runAll(GC,t,t),Be.isObject(t.properties)&&(Be.removeFromArray(t,"stac_extensions","commons"),delete t.properties),xi.before("0.8.0")&&Be.populateExtensions(t,"collection"),xi.before("1.0.0-beta.1")&&Be.mapValues(t,"stac_extensions",["assets"],["item-assets"]),t},extent(t){if(Be.ensure(t,"extent",{}),xi.before("0.8.0")&&(Array.isArray(t.extent.spatial)&&(t.extent.spatial={bbox:[t.extent.spatial]}),Array.isArray(t.extent.temporal)&&(t.extent.temporal={interval:[t.extent.temporal]})),Be.ensure(t.extent,"spatial",{}),Be.ensure(t.extent.spatial,"bbox",[]),Be.ensure(t.extent,"temporal",{}),Be.ensure(t.extent.temporal,"interval",[]),xi.before("1.0.0-rc.3")){if(t.extent.temporal.interval.length>1){let e,r;for(let i of t.extent.temporal.interval){if(i[0]===null)e=null;else if(typeof i[0]=="string"&&e!==null)try{let n=new Date(i[0]);(typeof e>"u"||n<e)&&(e=n)}catch{}if(i[1]===null)r=null;else if(typeof i[1]=="string"&&r!==null)try{let n=new Date(i[1]);(typeof r>"u"||n>r)&&(r=n)}catch{}}t.extent.temporal.interval.unshift([e?Be.toISOString(e):null,r?Be.toISOString(r):null])}if(t.extent.spatial.bbox.length>1){let e=t.extent.spatial.bbox.reduce((r,i)=>Array.isArray(i)?Math.max(i.length,r):r,4);if(e>=4){let r=new Array(e).fill(null),i=e/2;for(let n of t.extent.spatial.bbox){if(!Array.isArray(n)||n.length<4)break;for(let s in n){let o=n[s];r[s]===null?r[s]=o:s<i?r[s]=Math.min(o,r[s]):r[s]=Math.max(o,r[s])}}r.findIndex(n=>n===null)===-1&&t.extent.spatial.bbox.unshift(r)}}}},collectionAssets(t){xi.before("1.0.0-rc.1")&&Be.removeExtension(t,"collection-assets"),E0.migrateAll(t)},itemAsset(t){xi.before("1.0.0-beta.2")&&Be.rename(t,"item_assets","assets"),E0.migrateAll(t,"item_assets")},summaries(t){if(Be.ensure(t,"summaries",{}),xi.before("0.8.0")&&Be.isObject(t.other_properties)){for(let e in t.other_properties){let r=t.other_properties[e];Array.isArray(r.extent)&&r.extent.length===2?t.summaries[e]={minimum:r.extent[0],maximum:r.extent[1]}:Array.isArray(r.values)&&(r.values.filter(i=>Array.isArray(i)).length===r.values.length?t.summaries[e]=r.values.reduce((i,n)=>i.concat(n),[]):t.summaries[e]=r.values)}delete t.other_properties}if(xi.before("1.0.0-beta.1")&&Be.isObject(t.properties)&&!t.links.find(e=>["child","item"].includes(e.rel)))for(let e in t.properties){let r=t.properties[e];Array.isArray(r)||(r=[r]),t.summaries[e]=r}xi.before("1.0.0-rc.1")&&Be.mapObject(t.summaries,e=>(Be.rename(e,"min","minimum"),Be.rename(e,"max","maximum"),e)),Ix.migrate(t.summaries,t,!0),Be.moveTo(t.summaries,"sci:doi",t,!0)&&Be.addExtension(t,ar.scientific),Be.moveTo(t.summaries,"sci:publications",t,!0,!0)&&Be.addExtension(t,ar.scientific),Be.moveTo(t.summaries,"sci:citation",t,!0)&&Be.addExtension(t,ar.scientific),Be.moveTo(t.summaries,"cube:dimensions",t,!0)&&Be.addExtension(t,ar.datacube),Object.keys(t.summaries).length===0&&delete t.summaries}},WC={migrate(t,e=null,r=!0){xi.set(t),r&&(t.stac_version=HC),Be.ensure(t,"stac_extensions",[]),xi.before("1.0.0-rc.1")&&Be.migrateExtensionShortnames(t),Be.ensure(t,"id",""),Be.ensure(t,"type","Feature"),Be.isObject(t.geometry)||(t.geometry=null),t.geometry!==null&&Be.ensure(t,"bbox",[]),Be.ensure(t,"properties",{}),Be.ensure(t,"links",[]),Be.ensure(t,"assets",{});let i=!1;return Be.isObject(e)&&Be.isObject(e.properties)&&(Be.removeFromArray(t,"stac_extensions","commons"),t.properties=Object.assign({},e.properties,t.properties),i=!0),Be.runAll(WC,t,t),Ix.migrate(t.properties,t),E0.migrateAll(t),(xi.before("0.8.0")||i)&&Be.populateExtensions(t,"item"),t}},Cde={migrate(t,e=!0){return Be.ensure(t,"collections",[]),Be.ensure(t,"links",[]),Be.runAll(Cde,t,t),t.collections=t.collections.map(r=>GC.migrate(r,e)),t}},kde={migrate(t,e=!0){return Be.ensure(t,"type","FeatureCollection"),Be.ensure(t,"features",[]),Be.ensure(t,"links",[]),Be.runAll(kde,t,t),t.features=t.features.map(r=>WC.migrate(r,null,e)),t}},E0={migrateAll(t,e="assets"){for(let r in t[e])E0.migrate(t[e][r],t)},migrate(t,e){return Be.runAll(E0,t,e),Ix.migrate(t,e),t},mediaTypes(t){Be.is(t.type,"string")&&Be.mapValues(t,"type",["image/vnd.stac.geotiff","image/vnd.stac.geotiff; cloud-optimized=true"],["image/tiff; application=geotiff","image/tiff; application=geotiff; profile=cloud-optimized"])},eo(t,e){let r=Be.isObject(e.properties)&&Array.isArray(e.properties["eo:bands"])?e.properties["eo:bands"]:[];if(Array.isArray(t["eo:bands"]))for(let i in t["eo:bands"]){let n=t["eo:bands"][i];Be.is(n,"number")&&Be.isObject(r[n])?n=r[n]:Be.isObject(n)||(n={}),t["eo:bands"][i]=n}}},Ix={migrate(t,e,r=!1){return Be.runAll(Ix,t,e,r),t},_commonMetadata(t){xi.before("1.0.0-rc.3")&&(Be.toUTC(t,"created"),Be.toUTC(t,"updated"))},_timestamps(t,e){Be.toUTC(t,"published"),Be.toUTC(t,"expires"),Be.toUTC(t,"unpublished"),Be.upgradeExtension(e,ar.timestamps)},_versioningIndicator(t,e){Be.upgradeExtension(e,ar.version)},checksum(t,e){xi.before("0.9.0")&&vl.multihash&&(Be.rename(t,"checksum:md5","checksum:multihash")&&vl.toMultihash(t,"checksum:multihash","md5"),Be.rename(t,"checksum:sha1","checksum:multihash")&&vl.toMultihash(t,"checksum:multihash","sha1"),Be.rename(t,"checksum:sha2","checksum:multihash")&&vl.toMultihash(t,"checksum:multihash","sha2-256"),Be.rename(t,"checksum:sha3","checksum:multihash")&&vl.toMultihash(t,"checksum:multihash","sha3-256")),xi.before("1.0.0-rc.1")&&Be.rename(t,"checksum:multihash","file:checksum")&&Be.addExtension(e,ar.file),Be.removeExtension(e,"checksum")},classification(t,e){xi.before("1.1.0","classification")&&Be.forAll(t,"classification:classes",r=>Be.rename(r,"color-hint","color_hint")),Be.upgradeExtension(e,ar.classification)},cube(t,e){Be.upgradeExtension(e,ar.datacube)},dtr(t,e){xi.before("0.9.0")&&(Be.rename(t,"dtr:start_datetime","start_datetime"),Be.rename(t,"dtr:end_datetime","end_datetime"),Be.removeExtension(e,"datetime-range"))},eo(t,e){xi.before("0.9.0")&&(Be.rename(t,"eo:epsg","proj:epsg")&&Be.addExtension(e,ar.projection),Be.rename(t,"eo:platform","platform"),Be.rename(t,"eo:instrument","instruments")&&Be.toArray(t,"instruments"),Be.rename(t,"eo:constellation","constellation"),Be.rename(t,"eo:off_nadir","view:off_nadir")&&Be.addExtension(e,ar.view),Be.rename(t,"eo:azimuth","view:azimuth")&&Be.addExtension(e,ar.view),Be.rename(t,"eo:incidence_angle","view:incidence_angle")&&Be.addExtension(e,ar.view),Be.rename(t,"eo:sun_azimuth","view:sun_azimuth")&&Be.addExtension(e,ar.view),Be.rename(t,"eo:sun_elevation","view:sun_elevation")&&Be.addExtension(e,ar.view)),xi.before("1.0.0-beta.1")&&Be.rename(t,"eo:gsd","gsd"),Be.upgradeExtension(e,ar.eo)},file(t,e){Be.upgradeExtension(e,ar.file)},label(t,e){xi.before("0.8.0")&&(Be.rename(t,"label:property","label:properties"),Be.rename(t,"label:task","label:tasks"),Be.rename(t,"label:overview","label:overviews")&&Be.toArray(t,"label:overviews"),Be.rename(t,"label:method","label:methods"),Be.toArray(t,"label:classes")),Be.upgradeExtension(e,ar.label)},pc(t,e){xi.before("0.8.0")&&Be.rename(t,"pc:schema","pc:schemas"),Be.upgradeExtension(e,ar.pointcloud)},processing(t,e){Be.upgradeExtension(e,ar.processing)},proj(t,e){Be.upgradeExtension(e,ar.projection)},raster(t,e){Be.upgradeExtension(e,ar.raster)},sar(t,e,r){Be.rename(t,"sar:incidence_angle","view:incidence_angle")&&Be.addExtension(e,ar.view),Be.rename(t,"sar:pass_direction","sat:orbit_state")&&Be.mapValues(t,"sat:orbit_state",[null],["geostationary"])&&Be.addExtension(e,ar.sat),xi.before("0.7.0")&&(Be.flattenArray(t,"sar:resolution",["sar:resolution_range","sar:resolution_azimuth"],r),Be.flattenArray(t,"sar:pixel_spacing",["sar:pixel_spacing_range","sar:pixel_spacing_azimuth"],r),Be.flattenArray(t,"sar:looks",["sar:looks_range","sar:looks_azimuth","sar:looks_equivalent_number"],r),Be.rename(t,"sar:off_nadir","view:off_nadir")&&Be.addExtension(e,ar.view)),xi.before("0.9.0")&&(Be.rename(t,"sar:platform","platform"),Be.rename(t,"sar:instrument","instruments")&&Be.toArray(t,"instruments"),Be.rename(t,"sar:constellation","constellation"),Be.rename(t,"sar:type","sar:product_type"),Be.rename(t,"sar:polarization","sar:polarizations"),Be.flattenOneElementArray(t,"sar:absolute_orbit",r)&&Be.rename(t,"sar:absolute_orbit","sat:absolute_orbit")&&Be.addExtension(e,ar.sat),Be.flattenOneElementArray(t,"sar:relative_orbit",r)&&Be.rename(t,"sar:relative_orbit","sat:relative_orbit")&&Be.addExtension(e,ar.sat)),Be.upgradeExtension(e,ar.sar)},sat(t,e){xi.before("0.9.0")&&(Be.rename(t,"sat:off_nadir_angle","sat:off_nadir"),Be.rename(t,"sat:azimuth_angle","sat:azimuth"),Be.rename(t,"sat:sun_azimuth_angle","sat:sun_azimuth"),Be.rename(t,"sat:sun_elevation_angle","sat:sun_elevation")),Be.upgradeExtension(e,ar.sat)},sci(t,e){Be.upgradeExtension(e,ar.scientific)},item(t){xi.before("0.8.0")&&(Be.rename(t,"item:license","license"),Be.rename(t,"item:providers","providers"))},table(t,e){Be.upgradeExtension(e,ar.table)},view(t,e){Be.upgradeExtension(e,ar.view)}},Ef={item(t,e=null,r=!0){return WC.migrate(t,e,r)},catalog(t,e=!0){return VC.migrate(t,e)},collection(t,e=!0){return GC.migrate(t,e)},collectionCollection(t,e=!0){return Cde.migrate(t,e)},itemCollection(t,e=!0){return kde.migrate(t,e)},stac(t,e=!0){return t.type==="Feature"?Ef.item(t,null,e):t.type==="FeatureCollection"?Ef.itemCollection(t,e):t.type==="Collection"||!t.type&&Be.isDefined(t.extent)&&Be.isDefined(t.license)?Ef.collection(t,e):!t.type&&Array.isArray(t.collections)?Ef.collectionCollection(t,e):Ef.catalog(t,e)},enableMultihash(t){vl.multihash=t}},K6e=Ef;const J6e=Ps(K6e);function Fp(t){let e=t.length>=6,r=t[0],i=t[e?3:2],n=t[1],s=t[e?4:3],o={west:r,east:i,south:n,north:s};return e&&(o.base=t[2],o.height=t[5]),o}function J_(t){let{west:e,east:r,south:i,north:n}=Fp(t);return[[[e,n],[e,i],[r,i],[r,n],[e,n]]]}function Q6e(t){if(!Ja(t))return null;let e=Fp(t),r=[];if(Tde(t)){let i=(e.west+360+e.east)/2;i>180&&(i-=360),r.push(i)}else r.push((e.west+e.east)/2);return r.push((e.south+e.north)/2),typeof e.base<"u"&&r.push((e.base+e.height)/2),r}function Ade(t){if(Ja(t)?t=[t]:Array.isArray(t)&&(t=t.filter(i=>Ja(i))),!Array.isArray(t)||t.length===0)return null;let e=t.reduce((i,n)=>{if(Tde(n)){let{west:s,east:o,south:a,north:l}=Fp(n);i.push(J_([-180,a,o,l])),i.push(J_([s,a,180,l]))}else i.push(J_(n));return i},[]),r=null;if(e.length===1?r={type:"Polygon",coordinates:e[0]}:e.length>1&&(r={type:"MultiPolygon",coordinates:e}),r)return{type:"Feature",geometry:r,properties:{}}}function Ja(t){if(!Array.isArray(t)||![4,6].includes(t.length)||t.some(s=>typeof s!="number"))return!1;let{west:e,east:r,south:i,north:n}=Fp(t);return i<=n&&e>=-180&&e<=180&&i>=-90&&r<=180&&r>=-180&&n<=90}function Tde(t){if(!Ja(t))return!1;let{west:e,east:r}=Fp(t);return e>r}function Dde(t){if(!Array.isArray(t)||t.length===0)return null;let e={west:180,south:90,east:-180,north:-90};t.forEach(i=>{if(!Ja(i))return;let n=Fp(i),s=["west","south"];for(let o in n){let a=s.includes(o)?Math.min:Math.max;e[o]=a(e[o],n[o])}});let r=[e.west,e.south,e.east,e.north];return Ja(r)?r:null}function Bo(t){return typeof t=="string"&&t.length>0}function Io(t){return typeof t=="object"&&t===Object(t)&&!Array.isArray(t)}function Lde(...t){if(t=t.filter(e=>Array.isArray(e)),t.length>1){let e=Math.max(...t.map(i=>i.length)),r=[];for(let i=0;i<e;i++)r.push(Object.assign({},...t.map(n=>n[i])));return r}else if(t.length===1)return t[0];return[]}function eNe(t){switch(t){case"int8":return-128;case"int16":return-32768;case"int32":return-2147483648}return t.startsWith("u")?0:null}function tNe(t){switch(t){case"int8":return 127;case"uint8":return 255;case"int16":return 32767;case"uint16":return 65535;case"int32":return 2147483647;case"uint32":return 4294967295}return null}class Fx{constructor(e,r={},i=[]){if(!Io(e))throw new Error("Given data is not an object");if(e instanceof Fx){for(let n of i)this[n]=e[n];e=e.toJSON()}this._keyMap=r,this._privateKeys=["_keyMap","_privateKeys"].concat(i);for(let n in e)typeof this[n]>"u"&&(n in r?this[n]=r[n](e[n],this):this[n]=e[n])}isItem(){return this.type==="Feature"}isCatalog(){return this.type==="Catalog"}isCatalogLike(){return this.isCatalog()||this.isCollection()}isCollection(){return this.type==="Collection"}isItemCollection(){return this.type==="FeatureCollection"}isCollectionCollection(){return!1}isAsset(){return!1}isLink(){return!1}getObjectType(){}getAbsoluteUrl(){return null}getMetadata(e){return this[e]}toGeoJSON(){return null}getBoundingBox(){return null}getCenter(){return Q6e(this.getBoundingBox())}getBoundingBoxes(){return[]}toJSON(){let e={};return Object.keys(this).forEach(r=>{if(typeof this[r]=="function"||this._privateKeys.includes(r))return;let i=this[r];if(r in this._keyMap){let n=Array.isArray(i)?[]:{};for(let s in i)n[s]=i[s].toJSON();i=n}e[r]=i}),e}}var Ode={exports:{}},Ng={exports:{}};/*! https://mths.be/punycode v1.4.0 by @mathias */Ng.exports;var Dre;function rNe(){return Dre||(Dre=1,function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof oi=="object"&&oi;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,h=26,d=38,f=700,p=72,g=128,y="-",b=/^xn--/,x=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-u,k=Math.floor,O=String.fromCharCode,M;function A(re){throw new RangeError(S[re])}function I(re,pe){for(var ee=re.length,B=[];ee--;)B[ee]=pe(re[ee]);return B}function R(re,pe){var ee=re.split("@"),B="";ee.length>1&&(B=ee[0]+"@",re=ee[1]),re=re.replace(w,".");var ge=re.split("."),ve=I(ge,pe).join(".");return B+ve}function V(re){for(var pe=[],ee=0,B=re.length,ge,ve;ee<B;)ge=re.charCodeAt(ee++),ge>=55296&&ge<=56319&&ee<B?(ve=re.charCodeAt(ee++),(ve&64512)==56320?pe.push(((ge&1023)<<10)+(ve&1023)+65536):(pe.push(ge),ee--)):pe.push(ge);return pe}function oe(re){return I(re,function(pe){var ee="";return pe>65535&&(pe-=65536,ee+=O(pe>>>10&1023|55296),pe=56320|pe&1023),ee+=O(pe),ee}).join("")}function L(re){return re-48<10?re-22:re-65<26?re-65:re-97<26?re-97:l}function F(re,pe){return re+22+75*(re<26)-((pe!=0)<<5)}function U(re,pe,ee){var B=0;for(re=ee?k(re/f):re>>1,re+=k(re/pe);re>C*h>>1;B+=l)re=k(re/C);return k(B+(C+1)*re/(re+d))}function Y(re){var pe=[],ee=re.length,B,ge=0,ve=g,ze=p,it,tt,Ne,Xe,nt,vt,Dt,Rt,Er;for(it=re.lastIndexOf(y),it<0&&(it=0),tt=0;tt<it;++tt)re.charCodeAt(tt)>=128&&A("not-basic"),pe.push(re.charCodeAt(tt));for(Ne=it>0?it+1:0;Ne<ee;){for(Xe=ge,nt=1,vt=l;Ne>=ee&&A("invalid-input"),Dt=L(re.charCodeAt(Ne++)),(Dt>=l||Dt>k((a-ge)/nt))&&A("overflow"),ge+=Dt*nt,Rt=vt<=ze?u:vt>=ze+h?h:vt-ze,!(Dt<Rt);vt+=l)Er=l-Rt,nt>k(a/Er)&&A("overflow"),nt*=Er;B=pe.length+1,ze=U(ge-Xe,B,Xe==0),k(ge/B)>a-ve&&A("overflow"),ve+=k(ge/B),ge%=B,pe.splice(ge++,0,ve)}return oe(pe)}function G(re){var pe,ee,B,ge,ve,ze,it,tt,Ne,Xe,nt,vt=[],Dt,Rt,Er,or;for(re=V(re),Dt=re.length,pe=g,ee=0,ve=p,ze=0;ze<Dt;++ze)nt=re[ze],nt<128&&vt.push(O(nt));for(B=ge=vt.length,ge&&vt.push(y);B<Dt;){for(it=a,ze=0;ze<Dt;++ze)nt=re[ze],nt>=pe&&nt<it&&(it=nt);for(Rt=B+1,it-pe>k((a-ee)/Rt)&&A("overflow"),ee+=(it-pe)*Rt,pe=it,ze=0;ze<Dt;++ze)if(nt=re[ze],nt<pe&&++ee>a&&A("overflow"),nt==pe){for(tt=ee,Ne=l;Xe=Ne<=ve?u:Ne>=ve+h?h:Ne-ve,!(tt<Xe);Ne+=l)or=tt-Xe,Er=l-Xe,vt.push(O(F(Xe+or%Er,0))),tt=k(or/Er);vt.push(O(F(tt,0))),ve=U(ee,Rt,B==ge),ee=0,++B}++ee,++pe}return vt.join("")}function Q(re){return R(re,function(pe){return b.test(pe)?Y(pe.slice(4).toLowerCase()):pe})}function J(re){return R(re,function(pe){return x.test(pe)?"xn--"+G(pe):pe})}if(o={version:"1.3.2",ucs2:{decode:V,encode:oe},decode:Y,encode:G,toASCII:J,toUnicode:Q},i&&n)if(t.exports==i)n.exports=o;else for(M in o)o.hasOwnProperty(M)&&(i[M]=o[M]);else r.punycode=o})(oi)}(Ng,Ng.exports)),Ng.exports}var Q_={exports:{}};/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */var Lre;function iNe(){return Lre||(Lre=1,function(t){(function(e,r){t.exports?t.exports=r():e.IPv6=r(e)})(oi,function(e){var r=e&&e.IPv6;function i(s){var o=s.toLowerCase(),a=o.split(":"),l=a.length,u=8;a[0]===""&&a[1]===""&&a[2]===""?(a.shift(),a.shift()):a[0]===""&&a[1]===""?a.shift():a[l-1]===""&&a[l-2]===""&&a.pop(),l=a.length,a[l-1].indexOf(".")!==-1&&(u=7);var h;for(h=0;h<l&&a[h]!=="";h++);if(h<u)for(a.splice(h,1,"0000");a.length<u;)a.splice(h,0,"0000");for(var d,f=0;f<u;f++){d=a[f].split("");for(var p=0;p<3&&(d[0]==="0"&&d.length>1);p++)d.splice(0,1);a[f]=d.join("")}var g=-1,y=0,b=0,x=-1,w=!1;for(f=0;f<u;f++)w?a[f]==="0"?b+=1:(w=!1,b>y&&(g=x,y=b)):a[f]==="0"&&(w=!0,x=f,b=1);b>y&&(g=x,y=b),y>1&&a.splice(g,y,""),l=a.length;var S="";for(a[0]===""&&(S=":"),f=0;f<l&&(S+=a[f],f!==l-1);f++)S+=":";return a[l-1]===""&&(S+=":"),S}function n(){return e.IPv6===this&&(e.IPv6=r),this}return{best:i,noConflict:n}})}(Q_)),Q_.exports}var ew={exports:{}};/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */var Ore;function nNe(){return Ore||(Ore=1,function(t){(function(e,r){t.exports?t.exports=r():e.SecondLevelDomains=r(e)})(oi,function(e){var r=e&&e.SecondLevelDomains,i={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(n){var s=n.lastIndexOf(".");if(s<=0||s>=n.length-1)return!1;var o=n.lastIndexOf(".",s-1);if(o<=0||o>=s-1)return!1;var a=i.list[n.slice(s+1)];return a?a.indexOf(" "+n.slice(o+1,s)+" ")>=0:!1},is:function(n){var s=n.lastIndexOf(".");if(s<=0||s>=n.length-1)return!1;var o=n.lastIndexOf(".",s-1);if(o>=0)return!1;var a=i.list[n.slice(s+1)];return a?a.indexOf(" "+n.slice(0,s)+" ")>=0:!1},get:function(n){var s=n.lastIndexOf(".");if(s<=0||s>=n.length-1)return null;var o=n.lastIndexOf(".",s-1);if(o<=0||o>=s-1)return null;var a=i.list[n.slice(s+1)];return!a||a.indexOf(" "+n.slice(o+1,s)+" ")<0?null:n.slice(o+1)},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=r),this}};return i})}(ew)),ew.exports}/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */(function(t){(function(e,r){t.exports?t.exports=r(rNe(),iNe(),nNe()):e.URI=r(e.punycode,e.IPv6,e.SecondLevelDomains,e)})(oi,function(e,r,i,n){var s=n&&n.URI;function o(L,F){var U=arguments.length>=1,Y=arguments.length>=2;if(!(this instanceof o))return U?Y?new o(L,F):new o(L):new o;if(L===void 0){if(U)throw new TypeError("undefined is not a valid argument for URI");typeof location<"u"?L=location.href+"":L=""}if(L===null&&U)throw new TypeError("null is not a valid argument for URI");return this.href(L),F!==void 0?this.absoluteTo(F):this}function a(L){return/^[0-9]+$/.test(L)}o.version="1.19.11";var l=o.prototype,u=Object.prototype.hasOwnProperty;function h(L){return L.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function d(L){return L===void 0?"Undefined":String(Object.prototype.toString.call(L)).slice(8,-1)}function f(L){return d(L)==="Array"}function p(L,F){var U={},Y,G;if(d(F)==="RegExp")U=null;else if(f(F))for(Y=0,G=F.length;Y<G;Y++)U[F[Y]]=!0;else U[F]=!0;for(Y=0,G=L.length;Y<G;Y++){var Q=U&&U[L[Y]]!==void 0||!U&&F.test(L[Y]);Q&&(L.splice(Y,1),G--,Y--)}return L}function g(L,F){var U,Y;if(f(F)){for(U=0,Y=F.length;U<Y;U++)if(!g(L,F[U]))return!1;return!0}var G=d(F);for(U=0,Y=L.length;U<Y;U++)if(G==="RegExp"){if(typeof L[U]=="string"&&L[U].match(F))return!0}else if(L[U]===F)return!0;return!1}function y(L,F){if(!f(L)||!f(F)||L.length!==F.length)return!1;L.sort(),F.sort();for(var U=0,Y=L.length;U<Y;U++)if(L[U]!==F[U])return!1;return!0}function b(L){var F=/^\/+|\/+$/g;return L.replace(F,"")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.hostProtocols=["http","https"],o.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(L){if(!(!L||!L.nodeName)){var F=L.nodeName.toLowerCase();if(!(F==="input"&&L.type!=="image"))return o.domAttributes[F]}};function x(L){return escape(L)}function w(L){return encodeURIComponent(L).replace(/[!'()*]/g,x).replace(/\*/g,"%2A")}o.encode=w,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=w,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(L,F){var U=o.encode(L+"");return F===void 0&&(F=o.escapeQuerySpace),F?U.replace(/%20/g,"+"):U},o.decodeQuery=function(L,F){L+="",F===void 0&&(F=o.escapeQuerySpace);try{return o.decode(F?L.replace(/\+/g,"%20"):L)}catch{return L}};var S={encode:"encode",decode:"decode"},C,k=function(L,F){return function(U){try{return o[F](U+"").replace(o.characters[L][F].expression,function(Y){return o.characters[L][F].map[Y]})}catch{return U}}};for(C in S)o[C+"PathSegment"]=k("pathname",S[C]),o[C+"UrnPathSegment"]=k("urnpath",S[C]);var O=function(L,F,U){return function(Y){var G;U?G=function(pe){return o[F](o[U](pe))}:G=o[F];for(var Q=(Y+"").split(L),J=0,re=Q.length;J<re;J++)Q[J]=G(Q[J]);return Q.join(L)}};o.decodePath=O("/","decodePathSegment"),o.decodeUrnPath=O(":","decodeUrnPathSegment"),o.recodePath=O("/","encodePathSegment","decode"),o.recodeUrnPath=O(":","encodeUrnPathSegment","decode"),o.encodeReserved=k("reserved","encode"),o.parse=function(L,F){var U;return F||(F={preventInvalidHostname:o.preventInvalidHostname}),L=L.replace(o.leading_whitespace_expression,""),L=L.replace(o.ascii_tab_whitespace,""),U=L.indexOf("#"),U>-1&&(F.fragment=L.substring(U+1)||null,L=L.substring(0,U)),U=L.indexOf("?"),U>-1&&(F.query=L.substring(U+1)||null,L=L.substring(0,U)),L=L.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://"),L=L.replace(/^[/\\]{2,}/i,"//"),L.substring(0,2)==="//"?(F.protocol=null,L=L.substring(2),L=o.parseAuthority(L,F)):(U=L.indexOf(":"),U>-1&&(F.protocol=L.substring(0,U)||null,F.protocol&&!F.protocol.match(o.protocol_expression)?F.protocol=void 0:L.substring(U+1,U+3).replace(/\\/g,"/")==="//"?(L=L.substring(U+3),L=o.parseAuthority(L,F)):(L=L.substring(U+1),F.urn=!0))),F.path=L,F},o.parseHost=function(L,F){L||(L=""),L=L.replace(/\\/g,"/");var U=L.indexOf("/"),Y,G;if(U===-1&&(U=L.length),L.charAt(0)==="[")Y=L.indexOf("]"),F.hostname=L.substring(1,Y)||null,F.port=L.substring(Y+2,U)||null,F.port==="/"&&(F.port=null);else{var Q=L.indexOf(":"),J=L.indexOf("/"),re=L.indexOf(":",Q+1);re!==-1&&(J===-1||re<J)?(F.hostname=L.substring(0,U)||null,F.port=null):(G=L.substring(0,U).split(":"),F.hostname=G[0]||null,F.port=G[1]||null)}return F.hostname&&L.substring(U).charAt(0)!=="/"&&(U++,L="/"+L),F.preventInvalidHostname&&o.ensureValidHostname(F.hostname,F.protocol),F.port&&o.ensureValidPort(F.port),L.substring(U)||"/"},o.parseAuthority=function(L,F){return L=o.parseUserinfo(L,F),o.parseHost(L,F)},o.parseUserinfo=function(L,F){var U=L,Y=L.indexOf("\\");Y!==-1&&(L=L.replace(/\\/g,"/"));var G=L.indexOf("/"),Q=L.lastIndexOf("@",G>-1?G:L.length-1),J;return Q>-1&&(G===-1||Q<G)?(J=L.substring(0,Q).split(":"),F.username=J[0]?o.decode(J[0]):null,J.shift(),F.password=J[0]?o.decode(J.join(":")):null,L=U.substring(Q+1)):(F.username=null,F.password=null),L},o.parseQuery=function(L,F){if(!L)return{};if(L=L.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!L)return{};for(var U={},Y=L.split("&"),G=Y.length,Q,J,re,pe=0;pe<G;pe++)Q=Y[pe].split("="),J=o.decodeQuery(Q.shift(),F),re=Q.length?o.decodeQuery(Q.join("="),F):null,J!=="__proto__"&&(u.call(U,J)?((typeof U[J]=="string"||U[J]===null)&&(U[J]=[U[J]]),U[J].push(re)):U[J]=re);return U},o.build=function(L){var F="",U=!1;return L.protocol&&(F+=L.protocol+":"),!L.urn&&(F||L.hostname)&&(F+="//",U=!0),F+=o.buildAuthority(L)||"",typeof L.path=="string"&&(L.path.charAt(0)!=="/"&&U&&(F+="/"),F+=L.path),typeof L.query=="string"&&L.query&&(F+="?"+L.query),typeof L.fragment=="string"&&L.fragment&&(F+="#"+L.fragment),F},o.buildHost=function(L){var F="";if(L.hostname)o.ip6_expression.test(L.hostname)?F+="["+L.hostname+"]":F+=L.hostname;else return"";return L.port&&(F+=":"+L.port),F},o.buildAuthority=function(L){return o.buildUserinfo(L)+o.buildHost(L)},o.buildUserinfo=function(L){var F="";return L.username&&(F+=o.encode(L.username)),L.password&&(F+=":"+o.encode(L.password)),F&&(F+="@"),F},o.buildQuery=function(L,F,U){var Y="",G,Q,J,re;for(Q in L)if(Q!=="__proto__"&&u.call(L,Q))if(f(L[Q]))for(G={},J=0,re=L[Q].length;J<re;J++)L[Q][J]!==void 0&&G[L[Q][J]+""]===void 0&&(Y+="&"+o.buildQueryParameter(Q,L[Q][J],U),F!==!0&&(G[L[Q][J]+""]=!0));else L[Q]!==void 0&&(Y+="&"+o.buildQueryParameter(Q,L[Q],U));return Y.substring(1)},o.buildQueryParameter=function(L,F,U){return o.encodeQuery(L,U)+(F!==null?"="+o.encodeQuery(F,U):"")},o.addQuery=function(L,F,U){if(typeof F=="object")for(var Y in F)u.call(F,Y)&&o.addQuery(L,Y,F[Y]);else if(typeof F=="string"){if(L[F]===void 0){L[F]=U;return}else typeof L[F]=="string"&&(L[F]=[L[F]]);f(U)||(U=[U]),L[F]=(L[F]||[]).concat(U)}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")},o.setQuery=function(L,F,U){if(typeof F=="object")for(var Y in F)u.call(F,Y)&&o.setQuery(L,Y,F[Y]);else if(typeof F=="string")L[F]=U===void 0?null:U;else throw new TypeError("URI.setQuery() accepts an object, string as the name parameter")},o.removeQuery=function(L,F,U){var Y,G,Q;if(f(F))for(Y=0,G=F.length;Y<G;Y++)L[F[Y]]=void 0;else if(d(F)==="RegExp")for(Q in L)F.test(Q)&&(L[Q]=void 0);else if(typeof F=="object")for(Q in F)u.call(F,Q)&&o.removeQuery(L,Q,F[Q]);else if(typeof F=="string")U!==void 0?d(U)==="RegExp"?!f(L[F])&&U.test(L[F])?L[F]=void 0:L[F]=p(L[F],U):L[F]===String(U)&&(!f(U)||U.length===1)?L[F]=void 0:f(L[F])&&(L[F]=p(L[F],U)):L[F]=void 0;else throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter")},o.hasQuery=function(L,F,U,Y){switch(d(F)){case"String":break;case"RegExp":for(var G in L)if(u.call(L,G)&&F.test(G)&&(U===void 0||o.hasQuery(L,G,U)))return!0;return!1;case"Object":for(var Q in F)if(u.call(F,Q)&&!o.hasQuery(L,Q,F[Q]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(d(U)){case"Undefined":return F in L;case"Boolean":var J=!!(f(L[F])?L[F].length:L[F]);return U===J;case"Function":return!!U(L[F],F,L);case"Array":if(!f(L[F]))return!1;var re=Y?g:y;return re(L[F],U);case"RegExp":return f(L[F])?Y?g(L[F],U):!1:!!(L[F]&&L[F].match(U));case"Number":U=String(U);case"String":return f(L[F])?Y?g(L[F],U):!1:L[F]===U;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var L=[],F=[],U=0,Y=0;Y<arguments.length;Y++){var G=new o(arguments[Y]);L.push(G);for(var Q=G.segment(),J=0;J<Q.length;J++)typeof Q[J]=="string"&&F.push(Q[J]),Q[J]&&U++}if(!F.length||!U)return new o("");var re=new o("").segment(F);return(L[0].path()===""||L[0].path().slice(0,1)==="/")&&re.path("/"+re.path()),re.normalize()},o.commonPath=function(L,F){var U=Math.min(L.length,F.length),Y;for(Y=0;Y<U;Y++)if(L.charAt(Y)!==F.charAt(Y)){Y--;break}return Y<1?L.charAt(0)===F.charAt(0)&&L.charAt(0)==="/"?"/":"":((L.charAt(Y)!=="/"||F.charAt(Y)!=="/")&&(Y=L.substring(0,Y).lastIndexOf("/")),L.substring(0,Y+1))},o.withinString=function(L,F,U){U||(U={});var Y=U.start||o.findUri.start,G=U.end||o.findUri.end,Q=U.trim||o.findUri.trim,J=U.parens||o.findUri.parens,re=/[a-z0-9-]=["']?$/i;for(Y.lastIndex=0;;){var pe=Y.exec(L);if(!pe)break;var ee=pe.index;if(U.ignoreHtml){var B=L.slice(Math.max(ee-3,0),ee);if(B&&re.test(B))continue}for(var ge=ee+L.slice(ee).search(G),ve=L.slice(ee,ge),ze=-1;;){var it=J.exec(ve);if(!it)break;var tt=it.index+it[0].length;ze=Math.max(ze,tt)}if(ze>-1?ve=ve.slice(0,ze)+ve.slice(ze).replace(Q,""):ve=ve.replace(Q,""),!(ve.length<=pe[0].length)&&!(U.ignore&&U.ignore.test(ve))){ge=ee+ve.length;var Ne=F(ve,ee,ge,L);if(Ne===void 0){Y.lastIndex=ge;continue}Ne=String(Ne),L=L.slice(0,ee)+Ne+L.slice(ge),Y.lastIndex=ee+Ne.length}}return Y.lastIndex=0,L},o.ensureValidHostname=function(L,F){var U=!!L,Y=!!F,G=!1;if(Y&&(G=g(o.hostProtocols,F)),G&&!U)throw new TypeError("Hostname cannot be empty, if protocol is "+F);if(L&&L.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+L+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(L).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+L+'" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(L){if(L){var F=Number(L);if(!(a(F)&&F>0&&F<65536))throw new TypeError('Port "'+L+'" is not a valid port')}},o.noConflict=function(L){if(L){var F={URI:this.noConflict()};return n.URITemplate&&typeof n.URITemplate.noConflict=="function"&&(F.URITemplate=n.URITemplate.noConflict()),n.IPv6&&typeof n.IPv6.noConflict=="function"&&(F.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&typeof n.SecondLevelDomains.noConflict=="function"&&(F.SecondLevelDomains=n.SecondLevelDomains.noConflict()),F}else n.URI===this&&(n.URI=s);return this},l.build=function(L){return L===!0?this._deferred_build=!0:(L===void 0||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},l.clone=function(){return new o(this)},l.valueOf=l.toString=function(){return this.build(!1)._string};function M(L){return function(F,U){return F===void 0?this._parts[L]||"":(this._parts[L]=F||null,this.build(!U),this)}}function A(L,F){return function(U,Y){return U===void 0?this._parts[L]||"":(U!==null&&(U=U+"",U.charAt(0)===F&&(U=U.substring(1))),this._parts[L]=U,this.build(!Y),this)}}l.protocol=M("protocol"),l.username=M("username"),l.password=M("password"),l.hostname=M("hostname"),l.port=M("port"),l.query=A("query","?"),l.fragment=A("fragment","#"),l.search=function(L,F){var U=this.query(L,F);return typeof U=="string"&&U.length?"?"+U:U},l.hash=function(L,F){var U=this.fragment(L,F);return typeof U=="string"&&U.length?"#"+U:U},l.pathname=function(L,F){if(L===void 0||L===!0){var U=this._parts.path||(this._parts.hostname?"/":"");return L?(this._parts.urn?o.decodeUrnPath:o.decodePath)(U):U}else return this._parts.urn?this._parts.path=L?o.recodeUrnPath(L):"":this._parts.path=L?o.recodePath(L):"/",this.build(!F),this},l.path=l.pathname,l.href=function(L,F){var U;if(L===void 0)return this.toString();this._string="",this._parts=o._parts();var Y=L instanceof o,G=typeof L=="object"&&(L.hostname||L.path||L.pathname);if(L.nodeName){var Q=o.getDomAttribute(L);L=L[Q]||"",G=!1}if(!Y&&G&&L.pathname!==void 0&&(L=L.toString()),typeof L=="string"||L instanceof String)this._parts=o.parse(String(L),this._parts);else if(Y||G){var J=Y?L._parts:L;for(U in J)U!=="query"&&u.call(this._parts,U)&&(this._parts[U]=J[U]);J.query&&this.query(J.query,!1)}else throw new TypeError("invalid input");return this.build(!F),this},l.is=function(L){var F=!1,U=!1,Y=!1,G=!1,Q=!1,J=!1,re=!1,pe=!this._parts.urn;switch(this._parts.hostname&&(pe=!1,U=o.ip4_expression.test(this._parts.hostname),Y=o.ip6_expression.test(this._parts.hostname),F=U||Y,G=!F,Q=G&&i&&i.has(this._parts.hostname),J=G&&o.idn_expression.test(this._parts.hostname),re=G&&o.punycode_expression.test(this._parts.hostname)),L.toLowerCase()){case"relative":return pe;case"absolute":return!pe;case"domain":case"name":return G;case"sld":return Q;case"ip":return F;case"ip4":case"ipv4":case"inet4":return U;case"ip6":case"ipv6":case"inet6":return Y;case"idn":return J;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return re}return null};var I=l.protocol,R=l.port,V=l.hostname;l.protocol=function(L,F){if(L&&(L=L.replace(/:(\/\/)?$/,""),!L.match(o.protocol_expression)))throw new TypeError('Protocol "'+L+`" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]`);return I.call(this,L,F)},l.scheme=l.protocol,l.port=function(L,F){return this._parts.urn?L===void 0?"":this:(L!==void 0&&(L===0&&(L=null),L&&(L+="",L.charAt(0)===":"&&(L=L.substring(1)),o.ensureValidPort(L))),R.call(this,L,F))},l.hostname=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L!==void 0){var U={preventInvalidHostname:this._parts.preventInvalidHostname},Y=o.parseHost(L,U);if(Y!=="/")throw new TypeError('Hostname "'+L+'" contains characters other than [A-Z0-9.-]');L=U.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(L,this._parts.protocol)}return V.call(this,L,F)},l.origin=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0){var U=this.protocol(),Y=this.authority();return Y?(U?U+"://":"")+this.authority():""}else{var G=o(L);return this.protocol(G.protocol()).authority(G.authority()).build(!F),this}},l.host=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0)return this._parts.hostname?o.buildHost(this._parts):"";var U=o.parseHost(L,this._parts);if(U!=="/")throw new TypeError('Hostname "'+L+'" contains characters other than [A-Z0-9.-]');return this.build(!F),this},l.authority=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0)return this._parts.hostname?o.buildAuthority(this._parts):"";var U=o.parseAuthority(L,this._parts);if(U!=="/")throw new TypeError('Hostname "'+L+'" contains characters other than [A-Z0-9.-]');return this.build(!F),this},l.userinfo=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0){var U=o.buildUserinfo(this._parts);return U&&U.substring(0,U.length-1)}else return L[L.length-1]!=="@"&&(L+="@"),o.parseUserinfo(L,this._parts),this.build(!F),this},l.resource=function(L,F){var U;return L===void 0?this.path()+this.search()+this.hash():(U=o.parse(L),this._parts.path=U.path,this._parts.query=U.query,this._parts.fragment=U.fragment,this.build(!F),this)},l.subdomain=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0){if(!this._parts.hostname||this.is("IP"))return"";var U=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,U)||""}else{var Y=this._parts.hostname.length-this.domain().length,G=this._parts.hostname.substring(0,Y),Q=new RegExp("^"+h(G));if(L&&L.charAt(L.length-1)!=="."&&(L+="."),L.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");return L&&o.ensureValidHostname(L,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(Q,L),this.build(!F),this}},l.domain=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(typeof L=="boolean"&&(F=L,L=void 0),L===void 0){if(!this._parts.hostname||this.is("IP"))return"";var U=this._parts.hostname.match(/\./g);if(U&&U.length<2)return this._parts.hostname;var Y=this._parts.hostname.length-this.tld(F).length-1;return Y=this._parts.hostname.lastIndexOf(".",Y-1)+1,this._parts.hostname.substring(Y)||""}else{if(!L)throw new TypeError("cannot set domain empty");if(L.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");if(o.ensureValidHostname(L,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=L;else{var G=new RegExp(h(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(G,L)}return this.build(!F),this}},l.tld=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(typeof L=="boolean"&&(F=L,L=void 0),L===void 0){if(!this._parts.hostname||this.is("IP"))return"";var U=this._parts.hostname.lastIndexOf("."),Y=this._parts.hostname.substring(U+1);return F!==!0&&i&&i.list[Y.toLowerCase()]&&i.get(this._parts.hostname)||Y}else{var G;if(L)if(L.match(/[^a-zA-Z0-9-]/))if(i&&i.is(L))G=new RegExp(h(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(G,L);else throw new TypeError('TLD "'+L+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");G=new RegExp(h(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(G,L)}else throw new TypeError("cannot set TLD empty");return this.build(!F),this}},l.directory=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0||L===!0){if(!this._parts.path&&!this._parts.hostname)return"";if(this._parts.path==="/")return"/";var U=this._parts.path.length-this.filename().length-1,Y=this._parts.path.substring(0,U)||(this._parts.hostname?"/":"");return L?o.decodePath(Y):Y}else{var G=this._parts.path.length-this.filename().length,Q=this._parts.path.substring(0,G),J=new RegExp("^"+h(Q));return this.is("relative")||(L||(L="/"),L.charAt(0)!=="/"&&(L="/"+L)),L&&L.charAt(L.length-1)!=="/"&&(L+="/"),L=o.recodePath(L),this._parts.path=this._parts.path.replace(J,L),this.build(!F),this}},l.filename=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(typeof L!="string"){if(!this._parts.path||this._parts.path==="/")return"";var U=this._parts.path.lastIndexOf("/"),Y=this._parts.path.substring(U+1);return L?o.decodePathSegment(Y):Y}else{var G=!1;L.charAt(0)==="/"&&(L=L.substring(1)),L.match(/\.?\//)&&(G=!0);var Q=new RegExp(h(this.filename())+"$");return L=o.recodePath(L),this._parts.path=this._parts.path.replace(Q,L),G?this.normalizePath(F):this.build(!F),this}},l.suffix=function(L,F){if(this._parts.urn)return L===void 0?"":this;if(L===void 0||L===!0){if(!this._parts.path||this._parts.path==="/")return"";var U=this.filename(),Y=U.lastIndexOf("."),G,Q;return Y===-1?"":(G=U.substring(Y+1),Q=/^[a-z0-9%]+$/i.test(G)?G:"",L?o.decodePathSegment(Q):Q)}else{L.charAt(0)==="."&&(L=L.substring(1));var J=this.suffix(),re;if(J)L?re=new RegExp(h(J)+"$"):re=new RegExp(h("."+J)+"$");else{if(!L)return this;this._parts.path+="."+o.recodePath(L)}return re&&(L=o.recodePath(L),this._parts.path=this._parts.path.replace(re,L)),this.build(!F),this}},l.segment=function(L,F,U){var Y=this._parts.urn?":":"/",G=this.path(),Q=G.substring(0,1)==="/",J=G.split(Y);if(L!==void 0&&typeof L!="number"&&(U=F,F=L,L=void 0),L!==void 0&&typeof L!="number")throw new Error('Bad segment "'+L+'", must be 0-based integer');if(Q&&J.shift(),L<0&&(L=Math.max(J.length+L,0)),F===void 0)return L===void 0?J:J[L];if(L===null||J[L]===void 0)if(f(F)){J=[];for(var re=0,pe=F.length;re<pe;re++)!F[re].length&&(!J.length||!J[J.length-1].length)||(J.length&&!J[J.length-1].length&&J.pop(),J.push(b(F[re])))}else(F||typeof F=="string")&&(F=b(F),J[J.length-1]===""?J[J.length-1]=F:J.push(F));else F?J[L]=b(F):J.splice(L,1);return Q&&J.unshift(""),this.path(J.join(Y),U)},l.segmentCoded=function(L,F,U){var Y,G,Q;if(typeof L!="number"&&(U=F,F=L,L=void 0),F===void 0){if(Y=this.segment(L,F,U),!f(Y))Y=Y!==void 0?o.decode(Y):void 0;else for(G=0,Q=Y.length;G<Q;G++)Y[G]=o.decode(Y[G]);return Y}if(!f(F))F=typeof F=="string"||F instanceof String?o.encode(F):F;else for(G=0,Q=F.length;G<Q;G++)F[G]=o.encode(F[G]);return this.segment(L,F,U)};var oe=l.query;return l.query=function(L,F){if(L===!0)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof L=="function"){var U=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),Y=L.call(this,U);return this._parts.query=o.buildQuery(Y||U,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!F),this}else return L!==void 0&&typeof L!="string"?(this._parts.query=o.buildQuery(L,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!F),this):oe.call(this,L,F)},l.setQuery=function(L,F,U){var Y=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof L=="string"||L instanceof String)Y[L]=F!==void 0?F:null;else if(typeof L=="object")for(var G in L)u.call(L,G)&&(Y[G]=L[G]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");return this._parts.query=o.buildQuery(Y,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof L!="string"&&(U=F),this.build(!U),this},l.addQuery=function(L,F,U){var Y=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(Y,L,F===void 0?null:F),this._parts.query=o.buildQuery(Y,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof L!="string"&&(U=F),this.build(!U),this},l.removeQuery=function(L,F,U){var Y=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(Y,L,F),this._parts.query=o.buildQuery(Y,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof L!="string"&&(U=F),this.build(!U),this},l.hasQuery=function(L,F,U){var Y=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(Y,L,F,U)},l.setSearch=l.setQuery,l.addSearch=l.addQuery,l.removeSearch=l.removeQuery,l.hasSearch=l.hasQuery,l.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},l.normalizeProtocol=function(L){return typeof this._parts.protocol=="string"&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!L)),this},l.normalizeHostname=function(L){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&r&&(this._parts.hostname=r.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!L)),this},l.normalizePort=function(L){return typeof this._parts.protocol=="string"&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!L)),this},l.normalizePath=function(L){var F=this._parts.path;if(!F)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!L),this;if(this._parts.path==="/")return this;F=o.recodePath(F);var U,Y="",G,Q;for(F.charAt(0)!=="/"&&(U=!0,F="/"+F),(F.slice(-3)==="/.."||F.slice(-2)==="/.")&&(F+="/"),F=F.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),U&&(Y=F.substring(1).match(/^(\.\.\/)+/)||"",Y&&(Y=Y[0]));G=F.search(/\/\.\.(\/|$)/),G!==-1;){if(G===0){F=F.substring(3);continue}Q=F.substring(0,G).lastIndexOf("/"),Q===-1&&(Q=G),F=F.substring(0,Q)+F.substring(G+3)}return U&&this.is("relative")&&(F=Y+F.substring(1)),this._parts.path=F,this.build(!L),this},l.normalizePathname=l.normalizePath,l.normalizeQuery=function(L){return typeof this._parts.query=="string"&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!L)),this},l.normalizeFragment=function(L){return this._parts.fragment||(this._parts.fragment=null,this.build(!L)),this},l.normalizeSearch=l.normalizeQuery,l.normalizeHash=l.normalizeFragment,l.iso8859=function(){var L=o.encode,F=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=L,o.decode=F}return this},l.unicode=function(){var L=o.encode,F=o.decode;o.encode=w,o.decode=unescape;try{this.normalize()}finally{o.encode=L,o.decode=F}return this},l.readable=function(){var L=this.clone();L.username("").password("").normalize();var F="";if(L._parts.protocol&&(F+=L._parts.protocol+"://"),L._parts.hostname&&(L.is("punycode")&&e?(F+=e.toUnicode(L._parts.hostname),L._parts.port&&(F+=":"+L._parts.port)):F+=L.host()),L._parts.hostname&&L._parts.path&&L._parts.path.charAt(0)!=="/"&&(F+="/"),F+=L.path(!0),L._parts.query){for(var U="",Y=0,G=L._parts.query.split("&"),Q=G.length;Y<Q;Y++){var J=(G[Y]||"").split("=");U+="&"+o.decodeQuery(J[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),J[1]!==void 0&&(U+="="+o.decodeQuery(J[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}F+="?"+U.substring(1)}return F+=o.decodeQuery(L.hash(),!0),F},l.absoluteTo=function(L){var F=this.clone(),U=["protocol","username","password","hostname","port"],Y,G,Q;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(L instanceof o||(L=new o(L)),F._parts.protocol||(F._parts.protocol=L._parts.protocol,this._parts.hostname))return F;for(G=0;Q=U[G];G++)F._parts[Q]=L._parts[Q];return F._parts.path?(F._parts.path.substring(-2)===".."&&(F._parts.path+="/"),F.path().charAt(0)!=="/"&&(Y=L.directory(),Y=Y||(L.path().indexOf("/")===0?"/":""),F._parts.path=(Y?Y+"/":"")+F._parts.path,F.normalizePath())):(F._parts.path=L._parts.path,F._parts.query||(F._parts.query=L._parts.query)),F.build(),F},l.relativeTo=function(L){var F=this.clone().normalize(),U,Y,G,Q,J;if(F._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(L=new o(L).normalize(),U=F._parts,Y=L._parts,Q=F.path(),J=L.path(),Q.charAt(0)!=="/")throw new Error("URI is already relative");if(J.charAt(0)!=="/")throw new Error("Cannot calculate a URI relative to another relative URI");if(U.protocol===Y.protocol&&(U.protocol=null),U.username!==Y.username||U.password!==Y.password||U.protocol!==null||U.username!==null||U.password!==null)return F.build();if(U.hostname===Y.hostname&&U.port===Y.port)U.hostname=null,U.port=null;else return F.build();if(Q===J)return U.path="",F.build();if(G=o.commonPath(Q,J),!G)return F.build();var re=Y.path.substring(G.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return U.path=re+U.path.substring(G.length)||"./",F.build()},l.equals=function(L){var F=this.clone(),U=new o(L),Y={},G={},Q={},J,re,pe;if(F.normalize(),U.normalize(),F.toString()===U.toString())return!0;if(J=F.query(),re=U.query(),F.query(""),U.query(""),F.toString()!==U.toString()||J.length!==re.length)return!1;Y=o.parseQuery(J,this._parts.escapeQuerySpace),G=o.parseQuery(re,this._parts.escapeQuerySpace);for(pe in Y)if(u.call(Y,pe)){if(f(Y[pe])){if(!y(Y[pe],G[pe]))return!1}else if(Y[pe]!==G[pe])return!1;Q[pe]=!0}for(pe in G)if(u.call(G,pe)&&!Q[pe])return!1;return!0},l.preventInvalidHostname=function(L){return this._parts.preventInvalidHostname=!!L,this},l.duplicateQueryParameters=function(L){return this._parts.duplicateQueryParameters=!!L,this},l.escapeQuerySpace=function(L){return this._parts.escapeQuerySpace=!!L,this},o})})(Ode);var sNe=Ode.exports;const ME=Ps(sNe),Mre=["http","https"];function oNe(t){return typeof t=="string"&&t.startsWith("/vsi")&&!t.startsWith("/vsicurl/")}function aNe(t,e,r=!0){return lNe(t,e,!1,r)}function lNe(t,e=null,r=!1,i=!0){typeof t=="string"&&t.startsWith("/vsicurl/")&&(t=t.replace(/^\/vsicurl\//,""));let n=ME(t);if(e&&n.is("relative")&&!oNe(t)){let s=ME(e),o=s.path();!o.endsWith("/")&&!o.endsWith(".json")&&s.path(o+"/"),n=n.absoluteTo(s)}return n.normalize(),r&&(n.query(""),n.fragment("")),i?n.toString():n}const uNe="application/geo+json",cNe=["application/json",uNe,"text/json"],Rre=["image/gif","image/jpeg","image/apng","image/png","image/webp"],Mde=["image/tiff; application=geotiff; profile=cloud-optimized","image/vnd.stac.geotiff; cloud-optimized=true"],Rde=["application/geotiff","image/tiff; application=geotiff","image/vnd.stac.geotiff"].concat(Mde);function YC(t,e,r=!1){return Array.isArray(e)||(e=[e]),r&&typeof t>"u"?!0:typeof t!="string"?!1:(e=e.map(i=>i.toLowerCase()),e.includes(t.toLowerCase()))}function dNe(t,e=!1){return YC(t,cNe,e)}class Ide extends Fx{constructor(e,r=null,i={},n=[]){super(e,i,["_context"].concat(n)),this._context||(this._context=r)}getAbsoluteUrl(e=!0){return this._context?aNe(this.href,this._context.getAbsoluteUrl(),e):this.href.includes("://")?this.href:null}getContext(){return this._context}canBrowserDisplayImage(e=!1){if(typeof this.href!="string")return!1;if(!e&&typeof this.type>"u")return!1;let r=new ME(this.href),i=r.protocol().toLowerCase(),n=r.suffix().toLowerCase();return Bo(i)&&!Mre.includes(i)?!1:Bo(this.type)&&Rre.includes(this.type.toLowerCase())?!0:!!(typeof this.type>"u"&&Bo(n)&&(n==="jpg"||Rre.includes("image/"+n)))}isType(e){return Bo(this.type)&&YC(this.type,e)}isGeoTIFF(){return this.isType(Rde)}isCOG(){return this.isType(Mde)}isHTTP(){let r=this.getAbsoluteUrl(!1).protocol().toLowerCase();return Bo(r)&&Mre.includes(r)}}class ZC extends Ide{constructor(e,r=null){super(e,r)}isLink(){return!0}getObjectType(){return"Link"}static fromLinks(e,r=null){return Array.isArray(e)?e.map(i=>Io(i)?new ZC(i,r):i):[]}}class Fde extends Fx{constructor(e,r=null,i={},n=[]){if(super(e,Object.assign({links:ZC.fromLinks},i),["_url"].concat(n)),!this._url&&(this._url=r,!this._url)){let s=this.getSelfLink();s&&(this._url=s.href)}}getAbsoluteUrl(){return this._url}setAbsoluteUrl(e){this._url=e}getStacLinksWithRel(e,r=!0){return this.getLinksWithRels([e]).filter(i=>dNe(i.type,r))}getStacLinkWithRel(e,r=!0){const i=this.getStacLinksWithRel(e,r);return i.length>0?i[0]:null}getLinks(){return Array.isArray(this.links)?this.links.filter(e=>Io(e)&&Bo(e.href)):[]}getLinkWithRel(e){return this.getLinks().find(r=>r.rel===e)||null}getLinksWithRels(e){return this.getLinks().filter(r=>e.includes(r.rel))}getLinksWithOtherRels(e){return this.getLinks().filter(r=>!e.includes(r.rel))}getSelfLink(){return this.getStacLinkWithRel("self")}getRootLink(){return this.getStacLinkWithRel("root")}getParentLink(){return this.getStacLinkWithRel("parent")}}class Pde extends Fde{constructor(e,r=null,i={},n=[]){super(e,r,i,n)}getAll(){return[]}}class Sc extends Ide{constructor(e,r=null,i=null){super(e,i,{},["_key"]),this._key||(this._key=r)}getObjectType(){return"Asset"}isAsset(){return!0}getAbsoluteUrl(e=!0){return this.isDefinition()?null:super.getAbsoluteUrl(e)}getKey(){return this._key}getMetadata(e){if(typeof this[e]<"u")return this[e];if(this._context)return this._context.getMetadata(e)}getBands(){return Lde(this["eo:bands"],this["raster:bands"])}findVisualBands(){let e={red:null,green:null,blue:null},r=this.getBands();for(let n in r){let s=parseInt(n,10),o=r[s];Io(o)&&Bo(o.common_name)&&o.common_name in e&&(e[o.common_name]={index:s,band:o})}return Object.values(e).every(n=>n!==null)?e:null}findBand(e,r="name",i=null){Array.isArray(e)||(e=[e]),Io(i)||(i=this.getBands());let n=i.findIndex(s=>Io(s)&&e.includes(s[r]));return n>=0?{index:n,band:i[n]}:null}getBand(e){return Io(e)||e===null?e:this.getBands()[e]||null}getMinMaxValues(e=null){e=this.getBand(e);const r={minimum:null,maximum:null},i=a=>a.minimum!==null&&a.maximum!==null;if(e&&(Io(e.statistics)&&(typeof e.statistics.minimum=="number"&&(r.minimum=e.statistics.minimum),typeof e.statistics.maximum=="number"&&(r.maximum=e.statistics.maximum),i(r))||Io(e.histogram)&&(typeof e.histogram.min=="number"&&(r.minimum=e.histogram.min),typeof e.histogram.max=="number"&&(r.maximum=e.histogram.max),i(r))))return r;let n=this.getMetadata("classification:classes");if(Array.isArray(n)&&(n.reduce((a,l)=>(a.minimum=Math.min(a.minimum,l.value),a.maximum=Math.max(a.maximum,l.value),a),r),i(r)))return r;let s=this.getMetadata("file:values");if(Array.isArray(s)&&(s.reduce((a,l)=>(a.minimum=Math.min(a.minimum,...l.values),a.maximum=Math.max(a.maximum,...l.values),a),r),i(r)))return r;let o=Io(e)&&e.data_type||this.getMetadata("file:data_type");return o&&(r.minimum=eNe(o),r.maximum=tNe(o)),r}getNoDataValues(e=null){e=this.getBand(e);let r=[];if(e&&typeof e.nodata<"u")r.push(e.nodata);else{let i=this.getMetadata("file:nodata");if(typeof i<"u")r=i;else{let n=this.getMetadata("classification:classes");Array.isArray(n)&&(r=n.filter(s=>!!s.nodata).map(s=>s.value))}}return r.map(i=>i==="nan"?NaN:i==="+inf"?1/0:i==="-inf"?-1/0:i)}isDefinition(){return!Bo(this.href)}isHTTP(){return this.isDefinition()?null:super.isHTTP()}hasRole(e,r=!1){return Array.isArray(e)||(e=[e]),r&&e.includes(this.getKey())?!0:Array.isArray(this.roles)&&!!this.roles.find(i=>e.includes(i))}static fromAssets(e,r=null){let i={};if(Io(e))for(let n in e)i[n]=new Sc(e[n],n,r);return i}}class dy extends Fde{constructor(e,r=null,i={},n=[]){super(e,r,i,n)}getTemporalExtent(){return null}getTemporalExtents(){return[]}getIcons(e=!0){return this.getLinksWithRels(["icon"]).filter(r=>r.canBrowserDisplayImage(e))}getThumbnails(e=!0,r=null){let i=this.getAssetsWithRoles(["thumbnail","overview"],!0);if(i.length===0&&(i=this.getLinksWithRels(["preview"])),e&&(i=i.filter(n=>n.canBrowserDisplayImage())),r&&i.length>1){let n=s=>Array.isArray(s.roles)&&s.roles.includes(r)||s.getKey()===r;i=i.filter(n).concat(i.filter(s=>!n(s)))}return i}getDefaultGeoTIFF(e=!0,r=!1){var n;return(n=this.rankGeoTIFFs(e,r)[0])==null?void 0:n.asset}rankGeoTIFFs(e=!0,r=!1,i=null,n=null){Io(i)||(i={data:1,visual:2,thumbnail:2,overview:3});let s=[],o=this.getAssetsByTypes(Rde);e&&(o=o.filter(l=>l.isHTTP()&&(!r||l.isCOG())));let a=Object.entries(i);for(let l of o){let u=0;if(a.length>0){let h=a.filter(([d])=>l.hasRole(d,!0)).map(([,d])=>d);h.length>0&&(u+=Math.max(...h))}!r&&l.isCOG()&&(u+=2),l.findVisualBands()&&(u+=1),typeof n=="function"&&(u+=n(l)),s.push({asset:l,score:u})}return s.sort((l,u)=>u.score-l.score),s}findVisualAssets(){let e={red:null,green:null,blue:null},r=Object.keys(e),i=this.getAssets();for(let s of i){let o=s.getBands();if(o.length!==1)continue;let a=s.findBand(r,"common_name",o);a&&(e[a.band.common_name]=s)}return Object.values(e).every(s=>s!==null)?e:null}getAsset(e){return Io(this.assets)&&this.assets[e]||null}getAssets(){return Io(this.assets)?Object.values(this.assets):[]}getAssetsWithRoles(e,r=!1){return this.getAssets().filter(i=>i.hasRole(e,r))}getAssetWithRole(e,r=!1){return this.getAssetsWithRoles([e],r)[0]||null}getAssetsByTypes(e){return this.getAssets().filter(r=>YC(r.type,e))}equals(e){return this===e?!0:!(e instanceof dy)||this.getObjectType()!==e.getObjectType()?!1:!!(this.id&&this.id===e.id)}}class Nde extends dy{constructor(e,r=null,i={},n=[]){super(e,r,i,n)}getObjectType(){return this.type}getSearchLink(e=null){let r=this.getStacLinksWithRel("search");return e?r[0]||null:r.find(i=>i.method===e||!e&&!i.method)||null}getApiCollectionsLink(){return this.getStacLinkWithRel("data")}getApiItemsLink(){return this.getStacLinkWithRel("items")}getChildLinks(){return this.getStacLinksWithRel("child")}getItemLinks(){return this.getStacLinksWithRel("item")}}class hNe extends Nde{constructor(e,r=null){super(e,r)}}function $g(t){if(Bo(t)&&t.length>=10)try{let r=t.match(/^(-?\d{1,})-(\d\d)-(\d\d)[T ](\d\d):(\d\d):(\d\d)(?:\.(\d*))?(?:Z|[+-]00:00)?$/i).slice(1).map(i=>parseInt(i,10));return new Date(Date.UTC(r[0],r[1]-1,r[2],r[3],r[4],r[5],r[6]||0))}catch{return null}return null}function fNe(t,e){return new Date(t.valueOf()+(e-t)/2)}function $de(t){if(!Array.isArray(t)||t.length===0)return null;let e,r;const i=(n,s,o)=>typeof n>"u"?s:n===null||s===null?null:o(n,s);return t.forEach(([n,s])=>{e=i(e,n,Math.min),r=i(r,s,Math.max)}),[e===null?null:new Date(e),r===null?null:new Date(r)]}class Bde extends Nde{constructor(e,r=null){const i={assets:Sc.fromAssets,item_assets:Sc.fromAssets};super(e,r,i)}toGeoJSON(){let e=Ade(this.getBoundingBoxes());return e&&(e.id=this.id),e}getBoundingBox(){let e=this.getRawBoundingBoxes();return e.length>0&&Ja(e[0])?e[0]:null}getBoundingBoxes(){let e=this.getRawBoundingBoxes();return e.length===1&&Ja(e[0])?e:e.length>1?e.filter((r,i)=>i>0&&Ja(r)):[]}getRawBoundingBoxes(){var r,i;let e=(i=(r=this.extent)==null?void 0:r.spatial)==null?void 0:i.bbox;return Array.isArray(e)&&e.length>0?e:[]}getTemporalExtent(){return this.getTemporalExtents()[0]||null}getTemporalExtents(){var r,i;let e=(i=(r=this.extent)==null?void 0:r.temporal)==null?void 0:i.interval;return Array.isArray(e)&&e.length>0?e.filter(n=>Array.isArray(n)&&(Bo(n[0])||Bo(n[1]))).map(n=>n.map(s=>$g(s))):[]}getSummary(e){return this.summaries[e]}getBands(){let e=this.getSummary("eo:bands"),r=this.getSummary("raster:bands"),i=[e,r].filter(n=>Array.isArray(n));return i.length>=2?Lde(...i):i.length===1?i[0]:[]}}class pNe extends Pde{constructor(e,r=null){const i={collections:n=>n.map(s=>new Bde(s))};super(e,r,i)}getObjectType(){return"CollectionCollection"}getAll(){return this.collections}isCollectionCollection(){return!0}toGeoJSON(){return{type:"FeatureCollection",features:this.collections.map(r=>r.toGeoJSON()).filter(r=>r!==null)}}getBoundingBox(){return Dde(this.getBoundingBoxes())}getBoundingBoxes(){return this.collections.map(e=>e.getBoundingBox())}getTemporalExtent(){return $de(this.getTemporalExtents())}getTemporalExtents(){return this.collections.map(e=>e.getTemporalExtent())}}class jde extends dy{constructor(e,r=null){super(e,r,{assets:Sc.fromAssets})}getObjectType(){return"Item"}toGeoJSON(){return this.toJSON()}getBoundingBox(){return Ja(this.bbox)?this.bbox:null}getBoundingBoxes(){return Ja(this.bbox)?[this.bbox]:[]}getDateTime(){let e=$g(this.properties.datetime);if(!e){let r=$g(this.properties.start_datetime),i=$g(this.properties.end_datetime);return r&&i?fNe(r,i):r||i}return e}getTemporalExtent(){return this.getTemporalExtents()[0]||null}getTemporalExtents(){let e=[];return Bo(this.properties.start_datetime)||Bo(this.properties.end_datetime)?e=[[this.properties.start_datetime||null,this.properties.end_datetime||null]]:Bo(this.properties.datetime)&&(e=[[this.properties.datetime,this.properties.datetime]]),e.map(r=>r.map(i=>$g(i)))}getMetadata(e){return this.properties[e]}getBands(){let e=this.getMetadata("eo:bands");return Array.isArray(e)?e:[]}getCollectionLink(){return this.getStacLinkWithRel("collection")}}class mNe extends Pde{constructor(e,r=null){const i={features:n=>n.map(s=>new jde(s))};super(e,r,i)}getObjectType(){return"ItemCollection"}getAll(){return this.features}toGeoJSON(){return this.toJSON()}getBoundingBox(){return Dde(this.getBoundingBoxes())}getBoundingBoxes(){return this.features.map(e=>e.getBoundingBox())}getTemporalExtent(){return $de(this.getTemporalExtents())}getTemporalExtents(){return this.features.map(e=>e.getTemporalExtent())}}function gNe(t,e=!0,r=!1){return e&&(t=J6e.stac(t,r)),t.type==="Feature"?new jde(t):t.type==="FeatureCollection"?new mNe(t):t.type==="Collection"||!t.type&&typeof t.extent<"u"&&typeof t.license<"u"?new Bde(t):!t.type&&Array.isArray(t.collections)?new pNe(t):new hNe(t)}class Ire extends ax{constructor(r){super({...r,state:"loading"});Ge(this,"loadImage",r=>new Promise((i,n)=>{const s=new Image;s.addEventListener("load",()=>i(s)),s.addEventListener("error",()=>n(new Error("load failed"))),s.src=r}));const i=new qC(r.url);i.getHeader().then(n=>{this.tileGrid.minZoom=n.minZoom,this.tileGrid.maxZoom=n.maxZoom,this.setLoader(async(s,o,a)=>{const l=await i.getZxy(s,o,a),u=URL.createObjectURL(new Blob([l.data])),h=await this.loadImage(u);return URL.revokeObjectURL(u),h}),this.setState("ready")})}}class yNe extends J1{constructor(r){super({...r,state:"loading",url:"pmtiles://"+r.url+"/{z}/{x}/{y}",format:new Une});Ge(this,"tileLoadFunction",(r,i)=>{const n=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),s=i.match(n),o=+s[2],a=+s[3],l=+s[4];r.setLoader((u,h,d)=>{r.setState(Bn.LOADING),this.pmtiles_.getZxy(o,a,l).then(f=>{if(f){const p=r.getFormat();r.setFeatures(p.readFeatures(f.data,{extent:u,featureProjection:d})),r.setState(Bn.LOADED)}else r.setFeatures([]),r.setState(Bn.EMPTY)}).catch(f=>{r.setFeatures([]),r.setState(Bn.ERROR)})})});this.pmtiles_=new qC(r.url),this.pmtiles_.getHeader().then(i=>{this.tileGrid.minZoom=i.minZoom,this.tileGrid.maxZoom=i.maxZoom,this.setTileLoadFunction(this.tileLoadFunction),this.setState("ready")})}}const bNe=new zg({fill:new b2({color:"rgba(255,255,255,0.4)"}),stroke:new r0({color:"#3399CC",width:3})}),vNe=new zg({stroke:new r0({color:"#ff9933",width:1})});function xNe(t,e){const r={url:t.getAbsoluteUrl()};let i=null;t.getBands().length===1&&(i=0);const{minimum:n,maximum:s}=t.getMinMaxValues(i);typeof n=="number"&&(r.min=n),typeof s=="number"&&(r.max=s);const o=t.getNoDataValues(i);return o.length>0&&(r.nodata=o[0]),e.length>0&&(r.bands=e),r}async function Fre(t,e=void 0){let r=e;if(rye()){const i=t.getMetadata("proj:epsg");if(i)try{r=await iye(i)}catch{}}return r}function Pre(t,e){const r=t.clone();return e.hasOnlyBounds()||r.setFill(null),r}function _Ne(t){let e=t.href;if(e.includes("{s}"))if(Array.isArray(t["href:servers"])&&t["href:servers"].length>0){const r=Math.random()*t["href:servers"].length|0;e=e.replace("{s}",t["href:servers"][r])}else return null;return e}async function wNe(t){try{const e=new URL(t);e.searchParams.set("service","wmts"),e.searchParams.set("request","GetCapabilities");const r=await fetch(e);return new xS().read(await r.text())}catch{return null}}class XC extends _v{constructor(e){const r={};if(["opacity","visible","zIndex","minResolution","maxResolution","minZoom","maxZoom","properties"].forEach(i=>r[i]=e[i]),super(r),this.getSourceOptions_=e.getSourceOptions,this.data_,this.assets_=null,this.bands_=[],this.crossOrigin_=e.crossOrigin||null,this.displayFootprint_=e.displayFootprint!==!1,this.displayGeoTiffByDefault_=!!e.displayGeoTiffByDefault,this.displayPreview_=!!e.displayPreview,this.displayOverview_=e.displayOverview!==!1,this.displayWebMapLink_=e.displayWebMapLink||!1,this.buildTileUrlTemplate_=e.buildTileUrlTemplate||null,this.useTileLayerAsFallback_=e.useTileLayerAsFallback||!1,this.boundsStyle_=e.boundsStyle||bNe,this.collectionStyle_=e.collectionStyle||vNe,this.boundsLayer_=null,e.data){try{this.configure_(e.data,e.url,e.assets,e.bands)}catch(i){this.handleError_(i)}return}if(!e.url)throw new Error("Either url or data must be provided");fetch(e.url).then(i=>i.json()).then(i=>this.configure_(i,e.url,e.assets,e.bands)).catch(i=>this.handleError_(i))}getBoundsLayer(){return this.boundsLayer_}handleError_(e){this.dispatchEvent(new Z6e(e))}configure_(e,r=null,i=null,n=[]){e instanceof Sc||e instanceof dy?this.data_=e:this.data_=gNe(e),r&&r.includes("://")&&this.data_.setAbsoluteUrl(r),this.bands_=n,this.boundsLayer_=this.addFootprint_();const s=()=>{this.boundsLayer_&&this.boundsLayer_.setStyle(Pre(this.boundsStyle_,this))};this.getLayers().on("add",s),this.getLayers().on("remove",s),this.setAssets(i).then(()=>this.dispatchEvent("assetsready")).catch(o=>this.handleError_(o)),this.dispatchEvent("sourceready")}async addApiCollection_(){const e=this.getData().getAll().map(r=>{const i=new XC({data:r,crossOrigin:this.crossOrigin_,boundsStyle:this.collectionStyle_,displayGeoTiffByDefault:this.displayGeoTiffByDefault_,displayOverview:this.displayOverview_,displayPreview:this.displayPreview_,displayFootprint:this.displayFootprint_});return this.addLayer_(i),i});return await Promise.all(e)}async addStacAssets_(){let e=this.getAssets();if(e===null){e=[];const i=this.getData().getDefaultGeoTIFF(!0,!this.displayGeoTiffByDefault_);if(i)e.push(i);else{const n=this.getData().getThumbnails().filter(s=>!Array.isArray(s.roles)||!s.roles.includes("example"));n.length>0&&e.push(n[0])}}const r=e.map(i=>this.addImagery_(i));return await Promise.all(r)}async addImagery_(e){if(e){if(e.isGeoTIFF())return await this.addGeoTiff_(e);if(e.canBrowserDisplayImage())return await this.addThumbnail_(e)}}async addThumbnail_(e){if(!this.displayPreview_)return;let r={url:e.getAbsoluteUrl(),projection:await Fre(e,"EPSG:4326"),imageExtent:e.getContext().getBoundingBox(),crossOrigin:this.crossOrigin_};this.getSourceOptions_&&(r=await this.getSourceOptions_(bn.ImageStatic,r,e));const i=new tS({source:new yoe(r)});return this.addLayer_(i,e),i}async addWebMapLinks_(){const e=this.getWebMapLinks();if(e.length>0)return await this.addLayerForLink(e[0])}async addLayerForLink(e){const r=_Ne(e);if(!r)return;const i={attributions:e.getMetadata("attribution")||this.data_.getMetadata("attribution"),crossOrigin:this.crossOrigin_,url:r},n=async(o,a)=>(this.getSourceOptions_&&(a=await this.getSourceOptions_(o,a,e)),a),s=[];switch(e.rel){case"pmtiles":const a=await new qC(i.url).getHeader();let l;switch(a.tileType){case wf.Mvt:l=new yNe(await n(bn.PMTilesVector,i));break;case wf.Avif:case wf.Jpeg:case wf.Png:case wf.Webp:l=new Ire(await n(bn.PMTilesRaster,i));break;default:return}s.push(l);break;case"tilejson":s.push(new Coe(await n(bn.TileJSON,i)));break;case"wms":if(!Array.isArray(e["wms:layers"]))break;for(const d in e["wms:layers"]){const f=e["wms:layers"][d]||"";let p="";Array.isArray(e["wms:styles"])&&typeof e["wms:styles"][d]=="string"&&(p=e["wms:styles"][d]);const g=Object.assign({LAYERS:f,STYLES:p},e["wms:dimensions"]);typeof e["wms:transparent"]=="boolean"&&(g.TRANSPARENT=String(e["wms:transparent"])),typeof e.type=="string"&&e.type.startsWith("image/")&&(g.FORMAT=e.type);const y=await n(bn.TileWMS,Object.assign({},i,{params:g}));s.push(new ise(y))}break;case"wmts":const u=await wNe(r);if(!u)return;const h=Array.isArray(e["wmts:layer"])?e["wmts:layer"]:[e["wmts:layer"]];for(const d of h){let f=Object.assign({},i,{layer:d});typeof e.type=="string"&&e.type.startsWith("image/")&&(f.format=e.type),f=await n(bn.WMTS,f),s.push(new nse(ose(u,f)))}break;case"xyz":s.push(new Kf(await n(bn.XYZ,i)));break;default:return}return s.map(o=>{let a;return o instanceof J1?a=new Jne({source:o,declutter:!0}):o instanceof Ire?a=new Lv({source:o}):a=new wv({source:o}),this.addLayer_(a,e),a})}async addGeoTiff_(e){if(!this.displayOverview_)return;if(this.buildTileUrlTemplate_&&!this.useTileLayerAsFallback_)return await this.addTileLayerForImagery_(e);let i={sources:[xNe(e,this.bands_)]};const n=await Fre(e);n&&(i.projection=n),this.getSourceOptions_&&(i=await this.getSourceOptions_(bn.GeoTIFF,i,e));const s=async(o,a)=>(a&&this.getLayers().remove(a),await this.addTileLayerForImagery_(o));try{const o=new HS(i),a=new Lv({source:o});if(this.useTileLayerAsFallback_){const l=()=>s(e,a);o.on("error",l),o.on("tileloaderror",l),o.on("change",()=>{o.getState()==="error"&&s(e,a)}),a.on("error",l),await o.getView()}return this.addLayer_(a,e),a}catch(o){if(this.useTileLayerAsFallback_)return await s(e,null);this.handleError_(o)}}async addTileLayerForImagery_(e){let r={crossOrigin:this.crossOrigin_,url:this.buildTileUrlTemplate_(e)};this.getSourceOptions_&&(r=await this.getSourceOptions_(bn.XYZ,r,e));const i=new wv({source:new Kf(r)});return this.addLayer_(i,e),i}addLayer_(e,r,i=0){e.set("stac",r),e.setZIndex(i),this.getLayers().push(e)}addFootprint_(){let e=null;const r=this.getData();if(r.isItemCollection()||r.isCollectionCollection()?e=Ade(r.getBoundingBox()):e=r.toGeoJSON(),e){const i=new zne,n=new G1({format:i,loader:(o,a,l)=>{const u=i.readFeatures(e,{featureProjection:l});n.addFeatures(u)}}),s=new HE({source:n,style:Pre(this.boundsStyle_,this),visible:this.displayFootprint_});return s.set("bounds",!0),this.addLayer_(s,r,1),s}return null}async updateLayers_(){const e=this.getLayers();for(let i=e.getLength()-1;i>=0;i--){const s=e.item(i).get("stac");s&&(s.isLink()||s.isAsset())&&e.removeAt(i)}const r=this.getData();r.isItemCollection()||r.isCollectionCollection()?await this.addApiCollection_():(r.isItem()||r.isCollection())&&await this.addStacAssets_(),this.displayWebMapLink_&&(Array.isArray(this.displayWebMapLink_)||this.hasOnlyBounds())&&await this.addWebMapLinks_()}hasOnlyBounds(){const e=this.getBoundsLayer();return typeof this.getLayersArray().find(i=>i!==e)>"u"}getWebMapLinks(){let e=["xyz","tilejson","pmtiles","wmts","wms"];typeof this.displayWebMapLink_=="string"&&(e=[this.displayWebMapLink_]);let r=this.data_.getLinksWithRels(e);return Array.isArray(this.displayWebMapLink_)?r=this.displayWebMapLink_.map(i=>{if(typeof i=="string"){const n=r.find(s=>s.id===i);return n||null}return i}).filter(i=>!!i):r.sort((i,n)=>{const s=e.indexOf(i.rel),o=e.indexOf(n.rel);return s-o}),r}async setAssets(e){Array.isArray(e)?this.assets_=e.map(r=>typeof r=="string"?this.getData().getAsset(r):r instanceof Sc?r:new Sc(r)):this.assets_=null,await this.updateLayers_()}getData(){return this.data_}getAssets(){return this.assets_}getExtent(){if(!this.boundsLayer_)return;const e=this.boundsLayer_.getMapInternal();if(!e)return;const r=e.getView();if(!r)return;const i=this.getData();if(!i)return;const n=i.getBoundingBox();if(n)return nye(n,"EPSG:4326",r.getProjection())}}sye(E2);window.eoxMapAdvancedOlLayers={...f_e,STAC:XC};class ENe extends wu{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,tilePixelRatio:e.tilePixelRatio,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection,wrapX:e.wrapX}),this.version_=e.version!==void 0?e.version:"1.0.0",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,fetch(e.url).then(r=>r.text()).then(r=>new window.DOMParser().parseFromString(r,"application/xml")).then(r=>{this.handleCapabilitiesResponse(r,e)})}handleCapabilitiesResponse(e,r){const n=new xS().read(e),s=ose(n,r);this.crossOrigin=s.crossOrigin,this.projection=s.projection,this.tileGrid=s.tileGrid,this.requestEncoding_=s.requestEncoding,this.matrixSet_=s.matrixSet,this.style_=s.style,this.format_=s.format,this.dimensions_=s.dimensions,this.setUrls(s.urls),this.urls&&this.urls.length>0&&(this.tileUrlFunction=rS(this.urls.map(this.createFromWMTSTemplate.bind(this)))),this.setState("ready")}createFromWMTSTemplate(e){const r=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};r==="KVP"&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=r==="KVP"?Ev(e,i):e.replace(/\{(\w+?)\}/g,(o,a)=>a.toLowerCase()in i?i[a.toLowerCase()]:o);const n=this.tileGrid,s=this.dimensions_;return function(o){if(!o)return;const a={TileMatrix:n.getMatrixId(o[0]),TileCol:o[1],TileRow:o[2]};Object.assign(a,s);let l=e;return r==="KVP"?l=Ev(l,a):l=l.replace(/\{(\w+?)\}/g,(u,h)=>a[h]),l}}}window.eoxMapAdvancedOlSources={...dEe,WMTSCapabilities:ENe};function SNe(t,e="property"){return t.map(([r,i])=>{var s,o;if(r==="extent"&&((o=(s=i.value)==null?void 0:s.temporal)==null?void 0:o.interval.length)>0){const a=i.value.temporal.interval[0];Array.isArray(a)&&(typeof a[0]=="string"||typeof a[1]=="string")&&(i.formatted=`${new Date(a[0]).toISOString().substring(0,10)} - ${new Date(a[1]).toISOString().substring(0,10)}`)}i.formatted=i.formatted.replace(new RegExp('(?<!href="|src=")(http|https|ftp):\\/\\/([\\w_-]+(?:(?:\\.[\\w_-]+)+))([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])',"gi"),a=>`<a target="_blank" href="${a}">${a}</a>`);const n=a=>Object.entries(a).filter(([l,u])=>{let h=!0;return u.roles&&(h=u.roles.includes("metadata")),u.rel&&(h=u.rel==="example"),h});return(r==="assets"||r==="links"||r==="providers")&&(e==="property"?i.formatted=`<ul>${n(i.value).map(([a,l])=>`<li>
                <a target="_blank" href="${l.href||l.url}"
                  >${l.name||l.title||a}</a
                >
              </li>`).join("")}</ul>`:e==="featured"&&(i.formatted=n(i.value).map(([a,l])=>`<div class="button-container">
                ${l.description?`<div><p>${l.description}</p></div>`:""}
                <a class="button icon-text small block" target="_blank" href="${l.href||l.url}"
                  >${l.name||l.title||a}
                  </a>
              </div>`).join(""))),["providers","assets","links"].includes(r)&&(i.length=n(i.value).length),[r,i]})}function CNe(t){t.stacInfo.length&&(t.stacProperties=t.stacInfo.reduce((e,r)=>({...e,...r.properties}),{}),t.requestUpdate())}var tw,Nre;function Pp(){if(Nre)return tw;Nre=1;const t={collatorOptions:{},numberFormatterOptions:{maximumFractionDigits:10},dateFormatterOptions:{day:"numeric",month:"numeric",year:"numeric"},dateTimeFormatterOptions:{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC",timeZoneName:"short"}};return tw={locales:[],collator:new Intl.Collator(t.collatorOptions),dateFormatter:new Intl.DateTimeFormat(t.dateFormatterOptions),dateTimeFormatter:new Intl.DateTimeFormat(t.dateTimeFormatterOptions),numberFormatter:new Intl.NumberFormat(t.numberFormatterOptions),translate:null,getDefaults(){return t},setLocales(r,i={},n={},s={},o={}){this.locales=r,o=Object.assign({},t.collatorOptions,o),this.collator=new Intl.Collator(r,o),i=Object.assign({},t.dateFormatterOptions,i),this.dateFormatter=new Intl.DateTimeFormat(r,i),n=Object.assign({},t.dateTimeFormatterOptions,n),this.dateTimeFormatter=new Intl.DateTimeFormat(r,n),s=Object.assign({},t.numberFormatterOptions,s),this.numberFormatter=new Intl.NumberFormat(r,s)},setTranslator(r){this.translate=r},format(r,i=null){if(i)for(let n in i)r=r.replaceAll(`{${n}}`,i[n]);return r}},tw}var rw,$re;function hy(){if($re)return rw;$re=1;const t=Pp(),e={e(r){return typeof r!="string"&&(r=String(r)),r.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},t(r,i=null){return typeof t.translate=="function"?t.translate(r,i):t.format(r,i)},toNothing(r=null){return r===null&&(r=e.t("n/a")),`<i class="null">${r}</i>`},toList(r,i=!1,n=null,s=null){let o=s===!0?"ol":"ul";return Array.isArray(r)||(r=[r]),i&&(r=r.slice(0),typeof i=="function"?r.sort(i):r.sort(),s===null&&(o="ol")),typeof n=="function"&&(r=r.map(n)),r.length===0?e.toNothing():r.length===1?r[0]:`<${o}><li>${r.join("</li><li>")}</li></${o}>`},toLink(r,i="",n="",s="_blank"){return i||(r.length>50?i=r.replace(/^\w+:\/\/([^\/]+)((\/[^\/\?]+)*\/([^\/\?]+)(\?.*)?)?$/i,function(...o){return o[4]?o[1]+"​/[…]/​"+o[4]:o[1]}):i=r.replace(/^\w+:\/\//i,"")),`<a href="${e.e(r)}" rel="${e.e(n)}" target="${e.e(s)}">${e.e(i)}</a>`},toObject(r,i=null,n=null,s=[],o=null,a=[]){let l="<dl>",u=Array.isArray(s)&&s.length>=2?s:Object.keys(r);for(let h of u){if(!(h in r)||typeof o=="function"&&a.length>0&&!o(a[0],a.concat([h])))continue;let d;typeof n=="function"?d=n(h,r):d=e.formatKey(h,!0);let f=r[h];typeof i=="function"&&(f=i(f,h,r)),l+=`<dt>${d}</dt><dd>${f}</dd>`}return l+="</dl>",l},abbrev(r,i){return`<abbr title="${e.e(i)}">${e.e(r)}</abbr>`},isObject(r){return typeof r=="object"&&r===Object(r)&&!Array.isArray(r)},formatKey(r,i=!1){if(r.includes("/"))return e.e(e.t(r));i===!1&&(r=r.replace(/^[\w-]+:/i,""));let n=r.split(/[:_\-\s]/g).map(s=>s.substr(0,1).toUpperCase()+s.substr(1)).join(" ");return e.e(e.t(n))},hexToUint8(r){if(r.length===0||r.length%2!==0)throw new Error(`The string "${r}" is not valid hex.`);return new Uint8Array(r.match(/.{1,2}/g).map(i=>parseInt(i,16)))},uint8ToHex(r){return r.reduce((i,n)=>i+n.toString(16).padStart(2,"0"),"")},keysFromListOfObjects(r){return r.reduce((i,n)=>Object.keys(n).reduce((s,o)=>(s.indexOf(o)==-1&&s.push(o),s),i),[])},unit(r,i=""){return typeof i=="string"&&i.length>0?(i=e.t(i),`${r}&nbsp;<span class="unit">${i}</unit>`):r}};return rw=e,rw}const Fb=hy(),kNe=Pp(),Bg={fields(t){let e=["extensions","metadata","links","assets"];for(let r of e)for(let i in t[r])t[r][i]=Bg.field(t[r][i],t[r],t);return t},field(t,e={},r={}){if(typeof t=="string")return{label:t};if(typeof t.alias=="string"){let i=e[t.alias]||r.metadata[t.alias];if(!i)throw new Error("Alias is invalid: "+t.alias);return Object.assign(t,Bg.field(i,e,r))}if(Fb.isObject(t.items)){let i=[];for(let n in t.items)t.items[n]=Bg.field(t.items[n],e,r),i.push(Object.assign({key:n},t.items[n]));t.itemOrder=i.sort((n,s)=>n.id===!0?-1:s.id===!0?1:typeof n.order=="number"&&typeof s.order=="number"?n.order-s.order:kNe.collator.compare(Fb.t(n.label),Fb.t(s.label))).map(n=>n.key)}if(Fb.isObject(t.properties))for(let i in t.properties)t.properties[i]=Bg.field(t.properties[i],e,r);return t}};var ANe=Bg;const Sg=ANe,zde={externalRenderer:!1,dependencies:{},fields:{assets:{},extensions:{},links:{},metadata:{}},exportFields(){return this.fields},importFields(t){t=Sg.fields(t);for(let e in this.fields)Object.assign(this.fields[e],t[e])},getDependency(t){return this.dependencies[t]||console.warn(`Dependency '${t}' not registered.`),this.dependencies[t]},addDependency(t,e){this.dependencies[t]=e},addExtension(t,e){this.fields.extensions[t]=Sg.field(e,this.fields.extensions)},addMetadataField(t,e){this.fields.metadata[t]=Sg.field(e,this.fields.metadata)},addLinkField(t,e){this.fields.links[t]=Sg.field(e,this.fields.links)},addAssetField(t,e){this.fields.assets[t]=Sg.field(e,this.fields.assets)},addMetadataFields(t){for(var e in t)zde.addMetadataField(e,t[e])},getExtension(t){return this.fields.extensions[t]?this.fields.extensions[t]:{}},getSpecification(t,e=null){let r={};return e==="assets"&&this.fields.assets[t]?r=this.fields.assets[t]:e==="links"&&this.fields.links[t]?r=this.fields.links[t]:this.fields.metadata[t]&&(r=this.fields.metadata[t]),r}};var KC=zde;const TNe={alternate:"Alternative Access Methods",anon:"Anonymized Location",card4l:{label:"CARD4L",explain:"CEOS Analysis Ready Data for Land"},classification:"Classification",contacts:"Contacts",cube:"Data Cube",esa_cci_lc:"ESA Climate Change Initiative - Land Cover",eo:"Electro-Optical",forecast:"Forecast",file:"File",grid:"Gridded Data",goes:{label:"NOAA GOES",explain:"NOAA Geostationary Operational Environmental Satellite"},label:"Labels / ML",language:"Internationalization / Localization",mgrs:{label:"MGRS",explain:"Military Grid Reference System"},noaa_mrms_qpe:{label:"NOAA MRMS QPE",explain:"NOAA Multi-Radar Multi-Sensor Quantitative Precipitation Estimation"},odc:"Open Data Cube",order:"Order",pc:"Point Cloud",processing:"Processing",product:"Product",proj:"Projection",raster:"Raster Imagery",sar:{label:"SAR",explain:"Synthetic Aperture Radar"},sat:"Satellite",sci:"Scientific",ssys:"Solar System",stats:"STAC Statistics",storage:"Cloud Storage",table:"Tabular Data",themes:"Themes",tiles:"Tiled Assets",view:"View Geometry","web-map-links":"Web Maps",xarray:"xarray",gee:"Google Earth Engine",landsat:"Landsat",msft:"Microsoft",openeo:"openEO",pl:"Planet Labs PBC",s2:"Sentinel-2",sentinel:"Copernicus Sentinel",cbers:{label:"CBERS",explain:"China-Brazil Earth Resources Satellite Program"},geoadmin:{label:"swisstopo",explain:"Federal Office of Topography (Switzerland)"}},DNe={href:{label:"URL",format:"Url"},hreflang:{label:"Language",format:"LanguageCode"},rel:{label:"Relation",explain:"Based on IANA relation types",mapping:{self:"This document",root:"Root STAC Catalog",parent:"Parent STAC Catalog",collection:"STAC Collection",derived_from:"STAC Item for input data",about:"About this resource",alternate:"Alternative representation",via:"Source metadata",next:"Next page",prev:"Previous page",canonical:"Origin of this document","processing-expression":"Processing inctructions/code","latest-version":"Latest version","predecessor-version":"Predecessor version","successor-version":"Successor version",source:"Source data","cite-as":"Citation information",related:"Related resource",describedby:"Description of the resource","service-desc":"API definitions","service-doc":"API user documentation",conformance:"API conformance declaration",order:"Order details","3d-tiles":"3D Tiles",pmtiles:"PMTiles",tilejson:"TileJSON",wms:"OGC Web Map Service (WMS)",wmts:"OGC Web Map Tile Service (WMTS)",xyz:"XYZ Web Map"}},type:{label:"File Format",explain:"Based on the IANA media (MIME) types",format:"MediaType"},method:"HTTP Method",headers:"HTTP Headers",body:"Request Body"},LNe={href:{label:"URL",format:"Url"},hreflang:{label:"Language",format:"LanguageCode"},type:{label:"File Format",explain:"Based on the IANA media (MIME) types",format:"MediaType"},roles:{label:"Purpose",mapping:{thumbnail:"Preview",overview:"Overview",visual:"Visualization",data:"Data",metadata:"Metadata",graphic:"Illustration"}},alternate:{label:"Alternatives",listWithKeys:!0,items:{href:{label:"URL",format:"Url"},title:{alias:"title"},description:{alias:"description"}},summary:!1,ext:"alternate"},"pl:asset_type":"Asset Type","pl:bundle_type":"Bundle Type","table:storage_options":{alias:"xarray:storage_options"},"xarray:open_kwargs":{label:"Read Options",custom:!0,summary:!1},"xarray:storage_options":{label:"fsspec Options",custom:!0,summary:!1}},ONe={id:"Identifier",keywords:"Keywords",datetime:{label:"Time of Data",format:"Timestamp",summary:!1},title:{label:"Title",summary:!1},description:{label:"Description",format:"CommonMark",summary:!1},roles:"Purpose",start_datetime:{label:"Time of Data begins",format:"Timestamp",summary:!1},end_datetime:{label:"Time of Data ends",format:"Timestamp",summary:!1},created:{label:"Created",format:"Timestamp",summary:"r"},updated:{label:"Updated",format:"Timestamp",summary:"r"},published:{label:"Published",format:"Timestamp",summary:"r"},expires:{label:"Expires",format:"Timestamp",summary:"r"},unpublished:{label:"Unpublished",format:"Timestamp",summary:"r"},license:{label:"License",format:"License",summary:!1},providers:{label:"Providers",format:"Providers",summary:!1},platform:"Platform",instruments:{label:"Instruments",format:"CSV"},constellation:"Constellation",mission:"Mission",gsd:{label:"GSD",explain:"Ground Sample Distance",unit:"m"},bands:{label:"Bands",items:{name:{label:"Name",sortable:!0,id:!0,order:0},description:{alias:"description",order:2},gsd:{alias:"gsd",sortable:!0},nodata:{alias:"nodata"},data_type:{alias:"data_type",sortable:!0},statistics:{alias:"statistics"},"eo:common_name":{alias:"eo:common_name",sortable:!0,order:1},"eo:center_wavelength":{alias:"eo:center_wavelength",sortable:!0},"eo:full_width_half_max":{alias:"eo:full_width_half_max",sortable:!0},"eo:solar_illumination":{alias:"eo:solar_illumination",sortable:!0},"raster:sampling":{alias:"raster:sampling",sortable:!0},unit:{alias:"unit",sortable:!0},"raster:bits_per_sample":{alias:"raster:bits_per_sample",sortable:!0},"raster:spatial_resolution":{alias:"raster:spatial_resolution",sortable:!0},"raster:scale":{alias:"raster:scale",sortable:!0},"raster:offset":{alias:"raster:offset",sortable:!0},"raster:histogram":{alias:"raster:histogram"},"classification:classes":{alias:"classification:classes"},"classification:bitfields":{alias:"classification:bitfields"}}},nodata:{label:"No-Data Values",format:"CSV",summary:!1},data_type:{label:"Data Type of Values",format:"FileDataType"},unit:"Unit of Values",statistics:{label:"Statistics",listWithKeys:!0,items:{mean:"Average",maximum:{label:"Max.",explain:"Maxmimum value"},minimum:{label:"Min.",explain:"Minimum value"},stdev:{label:"Std. Dev.",explain:"Standard Deviation"},count:{label:"Count",explain:"Total number of values"},valid_percent:{label:"Valid",explain:"Percentage of valid values",unit:"%"}}},version:{label:"Data Version",summary:!1},deprecated:{label:"Deprecated",summary:!1},experimental:{label:"Experimental",summary:!1},language:{label:"Current Language",ext:"language",summary:"v",properties:{name:{label:"Name"},alternate:{label:"Alternate Name"},code:{label:"Code"},dir:{label:"Direction",explain:"Reading and writing direction",mapping:{ltr:"left-to-right",rtl:"right-to-left"},default:"ltr"}}},languages:{label:"Available Languages",ext:"language",summary:!1,items:{name:{label:"Name",sortable:!0,order:0},alternate:{label:"Alternate Name",sortable:!0,order:1},code:{label:"Code",sortable:!0,order:2},dir:{label:"Direction",explain:"Reading and writing direction",sortable:!0,order:3,mapping:{ltr:"left-to-right",rtl:"right-to-left"},default:"ltr"}}},contacts:{label:"Contacts",ext:"contacts",summary:"v",items:{name:{label:"Name"},identifier:{label:"Identifier"},position:{label:"Position"},organization:{label:"Organization"},logo:{label:"Logo",format:"Image"},phones:{label:"Phone",items:{value:{label:"Number",format:"Phone",order:0},roles:{label:"Used For",order:1,mapping:{work:"Work",home:"Personal",fax:"Fax"}}}},emails:{label:"Email",items:{value:{label:"Address",format:"Email",order:0},roles:{label:"Used For",order:1,mapping:{work:"Work",home:"Personal"}}}},addresses:{label:"Postal Addresses",format:"Address",items:{deliveryPoint:{label:"Street / House",order:0},city:{label:"City",order:1},administrativeArea:{label:"State / Province",order:2},postalCode:{label:"Postal Code",order:3},country:{label:"Country",order:4}}},links:{label:"Additional Resources",format:"Link"},contactInstructions:"Further Instructions",roles:{label:"Types",format:"CSV"}}},themes:{label:"Themes",ext:"themes",summary:!1,items:{scheme:{label:"Vocabulary",order:0,format:"Url"},concepts:{label:"Terms",order:1,format:"Concepts",items:{id:{label:"Identifier",order:0},title:{label:"Title",order:1},description:{label:"Description",order:2},url:{label:"URL",order:3,format:"Url"}}}}},crs:{label:"CRS",format:"CRS",explain:"Coordinate Reference System"},"anon:size":{label:"Uncertainty",unit:"°",explain:"The size of one side of the anonymized bounding box"},"anon:warning":{label:"Warning",summary:!1},"classification:classes":{summary:!1,label:"Classes",items:{color_hint:{label:"Color",order:0,format:"HexColor"},value:{label:"Value",sortable:!0,order:1},title:{label:"Title",sortable:!0,order:2},name:{label:"Identifier",sortable:!0,order:3},description:{label:"Description",order:4,format:"CommonMark"},percentage:{label:"Percentage of samples",sortable:!0,order:5,unit:"%"},count:{label:"Number of samples",sortable:!0,order:6},nodata:{label:"No-data value",order:7,default:!1}}},"classification:bitfields":{summary:!1,label:"Bit Mask",items:{name:{label:"Name",sortable:!0,order:0},offset:{label:"Offset",explain:"Offset to the first bit",order:1},length:{label:"Number of bits",order:2},description:{label:"Description",order:3,format:"CommonMark"},classes:{alias:"classification:classes"},roles:{label:"Purpose"}}},"cube:dimensions":{label:"Dimensions",summary:!1,listWithKeys:!0,items:{type:{label:"Type",order:0},axis:{label:"Axis",order:1},description:{label:"Description",format:"CommonMark",order:2},extent:{label:"Extent",format:"Extent",order:3},bbox:{alias:"proj:bbox",order:3},values:{label:"Values",order:4},step:{label:"Step",order:5},unit:{alias:"unit",order:5},geometry_types:{label:"Geometry Types",order:5},reference_system:{label:"Reference System",explain:"Coordinate / Temporal / Other Reference System",order:6}}},"cube:variables":{label:"Variables",summary:!1,listWithKeys:!0,items:{dimensions:{label:"Dimensions",order:0},type:{label:"Type",order:1,mapping:{data:"Measured values",auxiliary:"Coordinate data"}},description:{label:"Description",format:"CommonMark",order:2},extent:{label:"Extent",format:"Extent",order:3},values:{label:"Values",order:4},step:{label:"Step",order:5},unit:{alias:"unit",order:6}}},"eo:bands":{label:"Spectral Bands",items:{name:{label:"Name",sortable:!0,id:!0,order:0},common_name:{alias:"eo:common_name",sortable:!0,order:1},center_wavelength:{alias:"eo:center_wavelength",sortable:!0,order:2},full_width_half_max:{alias:"eo:full_width_half_max",sortable:!0,order:3},solar_illumination:{alias:"eo:solar_illumination",sortable:!0,order:7},description:{alias:"description"},gsd:{alias:"gsd",sortable:!0},cloud_cover:{alias:"eo:cloud_cover",sortable:!0}}},"eo:cloud_cover":{label:"Cloud Cover",unit:"%"},"eo:snow_cover":{label:"Snow/Ice Cover",unit:"%"},"eo:common_name":"Common Name","eo:center_wavelength":{label:"Wavelength",explain:"The center wavelength of the band",unit:"μm"},"eo:full_width_half_max":{label:"FWHM",explain:"Full Width Half Max",unit:"μm"},"eo:solar_illumination":{label:"Solar Illumination",unit:"W/m²/μm"},"forecast:reference_datetime":{label:"Reference Time",format:"Timestamp",summary:"r"},"forecast:horizon":{label:"Forecast Horizon",explain:"The time between the reference time and the forecast time",format:"Duration"},"forecast:duration":{label:"Forecast Length",format:"Duration"},"file:bits_per_sample":{alias:"raster:bits_per_sample"},"file:byte_order":"Byte Order","file:checksum":{label:"Checksum",format:"Checksum",summary:!1},"file:data_type":{alias:"data_type"},"file:header_size":{label:"Header Size",format:"FileSize",summary:!1},"file:nodata":{alias:"nodata"},"file:size":{label:"Size",format:"FileSize",summary:!1},"file:unit":{alias:"unit"},"file:values":{label:"Map of Values",summary:!1,items:{values:{label:"Values",format:"CSV",order:1},summary:{label:"Summary",order:0}}},"file:local_path":{label:"Local Path",summary:!1},"nodata:values":{alias:"nodata"},"goes:orbital_slot":"Orbital Slot","goes:system_environment":{label:"System Environment",mapping:{OR:"Operational system, real-time data",OT:"Operational system, test data",IR:"Test system, real-time data",IT:"Test system, test data",IP:"Test system, playback data",IS:"Test system, simulated data"}},"goes:image_type":{label:"Area",mapping:{"FULL DISK":"The Americas (full disk)",CONUS:"North America (continental US)",MESOSCALE:"Central/South America (mesoscale)"}},"goes:mesoscale_image_number":{label:"Area in Central/South America",mapping:{1:"Region 1",2:"Region 2"}},"goes:mode":{label:"Capture Mode",mapping:{3:"3: 1x full disk, 3x continental US, 30x mesoscale region 1, 30x mesoscale region 2 (every 15 minutes)",4:"4: 1x full disk (every 5 minutes)",6:"6: 1x full disk, 2x continental US, 20x mesoscale region 1, 20x mesoscale region 2 (every 10 minutes)"}},"goes:group_time_threshold":{label:"Time Threshold in a Group",explain:"Lightning group maximum time difference among lightning events in a group",unit:"s"},"goes:flash_time_threshold":{label:"Time Threshold in a Flash",explain:"Lightning flash maximum time difference among lightning events in a flash",unit:"s"},"goes:lightning_wavelength":{label:"Central Wavelength",unit:"nm"},"goes:yaw_flip_flag":{label:"Yaw Flip Configuration",explain:"Flag indicating that the spacecraft is operating in yaw flip configuration.",mapping:{0:"Upright",1:"Neither",2:"Inverted"}},"goes:event_count":"Lightning Events","goes:group_count":"Lightning Groups","goes:flash_count":"Lightning Flashes","goes:nominal_satellite_subpoint_lat":{label:"Satellite Subpoint Latitude",unit:"°N"},"goes:nominal_satellite_subpoint_lon":{label:"Satellite Subpoint Longitude",unit:"°E"},"goes:nominal_satellite_height":{label:"Satellite Height",explain:"Nominal satellite height above GRS 80 ellipsoid",unit:"km"},"goes:percent_navigated_L1b_events":{label:"Events navigated by Instrument",format:"Percent0to1",unit:"%"},"goes:percent_uncorrectable_L0_errors":{label:"Data Lost",format:"Percent0to1",unit:"%"},"grid:code":{label:"Grid",format:"GridCode"},"raster:bands":{label:"Layers",items:{nodata:{alias:"nodata"},sampling:{alias:"raster:sampling",sortable:!0},data_type:{alias:"data_type",sortable:!0},bits_per_sample:{alias:"raster:bits_per_sample",sortable:!0},spatial_resolution:{alias:"raster:spatial_resolution",sortable:!0},statistics:{alias:"statistics"},unit:{alias:"unit",sortable:!0},scale:{alias:"raster:scale",sortable:!0},offset:{alias:"raster:offset",sortable:!0},histogram:{alias:"raster:histogram"}}},"raster:sampling":{label:"Sampling",mapping:{area:"Area",point:"Point (at pixel center)"}},"raster:bits_per_sample":"Bits per Sample","raster:spatial_resolution":{label:"Resolution",explain:"Average spatial resolution",unit:"m"},"raster:scale":"Scale","raster:offset":"Offset","raster:histogram":{label:"Histogram",custom:!0},"label:properties":{label:"Properties",null:"raster data"},"label:classes":{label:"Classes",items:{name:{label:"Name",null:"raster-formatted",sortable:!0,id:!0},classes:"Classes"}},"label:description":{label:"Description",format:"CommonMark",summary:!1},"label:type":"Type","label:tasks":"Tasks","label:methods":"Methods","label:overviews":{label:"Overviews",summary:!1,items:{property_key:{label:"Property Key",id:!0},counts:{label:"Counts",custom:!0},statistics:{label:"Statistics",custom:!0}}},"mgrs:latitude_band":"Latitude Band","mgrs:grid_square":"Grid Square","mgrs:utm_zone":"UTM Zone","noaa_mrms_qpe:pass":{label:"Pass Number",mapping:{1:"1 (less latency / less gauges)",2:"2 (more latency / more gauges)"}},"noaa_mrms_qpe:period":{label:"Accumulation Period",unit:"h"},"noaa_mrms_qpe:region":{label:"Region",mapping:{CONUS:"Continental US",HAWAII:"Hawaii",GUAM:"Guam",ALASKA:"Alaska",CARIB:"Caribbean Islands"}},"openeo:status":"Processing Status",api_version:{label:"API Version",ext:"openeo"},backend_version:{label:"Back-End Version",ext:"openeo"},production:{label:"Production-Ready",ext:"openeo"},endpoints:{label:"Supported Endpoints",ext:"openeo",summary:!1,items:{path:{label:"Path Template",order:0},methods:{label:"HTTP Methods",order:1,format:"CSV"}}},billing:{label:"Billing",ext:"openeo",custom:!0,summary:!1},"order:status":{label:"Status",mapping:{orderable:"Orderable (data can be ordered)",ordered:"Ordered (preparing to deliver data)",pending:"Pending (waiting for activation)",shipping:"Shipping (data is getting processed)",succeeded:"Delivered (data is available)",failed:"Failed (unable to deliver)",canceled:"Canceled (delivery stopped)"}},"order:id":"Identifier","order:date":{label:"Submitted",format:"Timestamp",summary:"r"},"order:expiration_date":{alias:"expires"},"pc:count":{label:"Points",explain:"Number of Points"},"pc:type":"Type","pc:encoding":"Format","pc:schemas":{label:"Schemas",summary:!1,items:{name:{label:"Name",sortable:!0,id:!0},size:{label:"Size",unit:"bytes",sortable:!0},type:{label:"Type",sortable:!0}}},"pc:density":"Density","pc:statistics":{label:"Statistics",summary:"s",items:{name:{label:"Name",id:!0},position:"Position",average:"Average",count:"Count",maximum:{label:"Max.",explain:"Maxmimum value"},minimum:{label:"Min.",explain:"Minimum value"},stddev:{label:"Std. Dev.",explain:"Standard Deviation"},variance:"Variance"}},"processing:expression":{label:"Processing Instructions",summary:!1},"processing:lineage":{label:"Lineage",format:"CommonMark",summary:!1},"processing:level":"Level","processing:facility":"Facility","processing:software":{label:"Software",format:"Software",summary:!1},"processing:version":"Processor Version","processing:datetime":{label:"Processing Time",format:"Timestamp",summary:"r"},"product:type":"Product Type","product:timeliness":{label:"Timeliness",format:"Duration"},"product:timeliness_category":"Timeliness Category","product:acquisition_type":{label:"Acquisition Type",mapping:{nominal:"Nominal",calibration:"Calibration",other:"Other"}},"proj:epsg":{label:"EPSG Code",format:"EPSG",summary:"v"},"proj:code":{label:"Code",format:"CrsCode",summary:"v"},"proj:wkt2":{label:"WKT2",explain:"Well-Known Text, version 2",format:"WKT2",summary:!1},"proj:projjson":{label:"PROJJSON",explain:"JSON encoding of WKT2",format:"PROJJSON",summary:!1},"proj:geometry":{label:"Footprint",custom:!0,summary:!1},"proj:bbox":{label:"Bounding Box",custom:!0,summary:!1},"proj:centroid":{label:"Centroid",custom:!0,summary:!1},"proj:shape":{label:"Image Dimensions",format:"Shape",summary:!1},"proj:transform":{label:"Transformation Matrix",format:"Transform",summary:!1},"sar:instrument_mode":"Instrument Mode","sar:frequency_band":"Frequency Band","sar:center_frequency":{label:"Center Frequency",unit:"GHz"},"sar:polarizations":{label:"Polarizations",format:"CSV"},"sar:product_type":"Product Type","sar:resolution_range":{label:"Range Resolution",unit:"m"},"sar:resolution_azimuth":{label:"Azimuth Resolution",unit:"m"},"sar:pixel_spacing_range":{label:"Range Pixel Spacing",unit:"m"},"sar:pixel_spacing_azimuth":{label:"Azimuth Pixel Spacing",unit:"m"},"sar:looks_range":"Range Looks","sar:looks_azimuth":"Azimuth Looks","sar:looks_equivalent_number":{label:"ENL",explain:"Equivalent Number of Looks"},"sar:observation_direction":"Observation Direction","sat:platform_international_designator":{label:"Int. Designator",explain:"International designator for the platform, also known as COSPAR ID and NSSDCA ID."},"sat:orbit_state":"Orbit State","sat:absolute_orbit":{label:"Abs. Orbit Number",explain:"Absolute Orbit Number"},"sat:relative_orbit":{label:"Rel. Orbit Number",explain:"Relative Orbit Number"},"sat:anx_datetime":{label:"ANX Time",format:"Timestamp",explain:"Ascending Node Crossing time",summary:"r"},"sci:doi":{label:"DOI",format:"DOI"},"sci:citation":"Citation","sci:publications":{label:"Publications",summary:!1,items:{citation:{label:"Publication",sortable:!0,order:0},doi:{label:"DOI",format:"DOI",sortable:!0,order:1}}},"ssys:targets":"Target Body","storage:platform":{label:"Provider",mapping:{ALIBABA:"Alibaba Cloud",AWS:"Amazon AWS",AZURE:"Microsoft Azure",GCP:"Google Cloud Platform",IBM:"IBM Cloud",ORACLE:"Oracle Cloud"}},"storage:region":"Region","storage:requester_pays":"Requester Pays","storage:tier":"Tier Type","table:columns":{label:"Columns",items:{name:{label:"Name",sortable:!0,id:!0,order:0},type:{label:"Data Type",sortable:!0,order:1},description:{label:"Description",format:"CommonMark",order:2}}},"table:primary_geometry":"Primary Geometry Column","table:row_count":"Rows","table:tables":{label:"Tables",summary:!1,listWithKeys:!0,items:{name:{label:"Name",sortable:!0,id:!0,order:0},description:{label:"Description",format:"CommonMark",order:1}}},"tiles:tile_matrix_sets":{label:"Tile Matrix Sets",custom:!0,summary:!1},"tiles:tile_matrix_set_links":{label:"Tile Matrix Set Links",custom:!0,summary:!1},"view:off_nadir":{label:"Off-Nadir Angle",unit:"°"},"view:incidence_angle":{label:"Incidence Angle",unit:"°"},"view:azimuth":{label:"Viewing Azimuth",unit:"°"},"view:sun_azimuth":{label:"Sun Azimuth",unit:"°"},"view:sun_elevation":{label:"Sun Elevation",unit:"°"},"pl:black_fill":{label:"Unfilled Image Parts",unit:"%"},"pl:clear_percent":{label:"Clear Sky",unit:"%"},"pl:grid_cell":"Grid Cell","pl:ground_control":"Positional Accuracy","pl:ground_control_ratio":"Successful Rectification Ratio","pl:item_type":"Type","pl:pixel_resolution":{label:"Spatial Resolution",unit:"m"},"pl:publishing_stage":{label:"Publishing Stage",mapping:{preview:"Preview",standard:"Standard",finalized:"Finalized"}},"pl:quality_category":{label:"Quality Category",mapping:{standard:"Standard",test:"Test"}},"pl:strip_id":"Image Strip ID","gee:type":{label:"Type",mapping:{image:"Single image",image_collection:"Image collection",table:"Table"}},"gee:cadence":"Cadence","gee:schema":{label:"Variables",items:{name:"Name",description:"Description",type:"Data Type"},summary:!1},"gee:revisit_interval":"Revisit Interval","gee:terms_of_use":{label:"Terms of Use",format:"CommonMark",summary:!1},"gee:visualizations":{label:"Visualizations",custom:!0,summary:!1},"landsat:scene_id":"Scene ID","landsat:collection_category":"Collection Category","landsat:collection_number":"Collection Number","landsat:wrs_type":{label:"WRS Type",explain:"Worldwide Reference System Type"},"landsat:wrs_path":{label:"WRS Path",explain:"Worldwide Reference System Path"},"landsat:wrs_row":{label:"WRS Row",explain:"Worldwide Reference System Row"},"landsat:cloud_cover_land":{label:"Land Cloud Cover",unit:"%"},"msft:container":"Container","msft:storage_account":"Storage Account","msft:short_description":{label:"Summary",summary:!1},"sentinel:utm_zone":"UTM Zone","sentinel:latitude_band":"Latitude Band","sentinel:grid_square":"Grid Square","sentinel:sequence":"Sequence","sentinel:product_id":{label:"Product ID",summary:"s"},"sentinel:data_coverage":{label:"Data Coverage",unit:"%"},"sentinel:valid_cloud_cover":"Valid Cloud Cover","cbers:data_type":{label:"Processing Level",explain:"Geolocation precision level",mapping:{L2:"Geolocation using only satellite telemetry",L3:"Control points used to geolocate image, no terrain correction",L4:"Control points used to geolocate image, orthorectified"},summary:"v"},"cbers:path":"Reference Grid Path","cbers:row":"Reference Grid Row","card4l:specification":{label:"Specification",mapping:{SR:"Surface Reflectance (Optical)",ST:"Surface Temperature (Optical)",NRB:"Normalized Radar Backscatter (SAR)",POL:"Polarimetric Radar (SAR)"}},"card4l:specification_version":"Specification Version","card4l:orbit_mean_altitude":{label:"Platform Altitude",unit:"m"},"card4l:incidence_angle_near_range":{label:"Incidence Angle (near)",unit:"°"},"card4l:incidence_angle_far_range":{label:"Incidence Angle (far)",unit:"°"},"card4l:noise_equivalent_intensity":{label:"Noise Equivalent Intensity",unit:"dB"},"card4l:mean_faraday_rotation_angle":{label:"Mean Faraday Rotation",unit:"°"},"card4l:speckle_filtering":{label:"Speckle Filtering",custom:!0,summary:!1,null:"not applied"},"card4l:relative_rtc_accuracy":{label:"Rel. RTC Accuracy",explain:"Relative accuracy of the Radiometric Terrain Correction",unit:"dB"},"card4l:absolute_rtc_accuracy":{label:"Abs. RTC Accuracy",explain:"Absolute accuracy of the Radiometric Terrain Correction",unit:"dB"},"card4l:northern_geometric_accuracy":{label:"Northern Geometric Accuracy",unit:"m"},"card4l:eastern_geometric_accuracy":{label:"Eastern Geometric Accuracy",unit:"m"},"card4l:ellipsoidal_height":{label:"Ellipsoidal Height",unit:"m"},"geoadmin:variant":{label:"Product Variant",mapping:{krel:"RGB color with relief",komb:"RGB color without relief",kgrel:"Grayscale with relief",kgrs:"Grayscale without relief"}},"href:servers":{label:"Servers",ext:"web-map-links"},"pmtiles:layers":{label:"Layers",ext:"web-map-links"},"wms:layers":{label:"Layers",ext:"web-map-links"},"wms:styles":{label:"Styles",ext:"web-map-links"},"wms:dimensions":{label:"Dimensions",ext:"web-map-links"},"wms:transparent":{label:"Transparency",ext:"web-map-links"},"wmts:layer":{label:"Layers",ext:"web-map-links"},"wmts:dimensions":{label:"Dimensions",ext:"web-map-links"}},MNe={extensions:TNe,links:DNe,assets:LNe,metadata:ONe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var du=function(){return du=Object.assign||function(e){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},du.apply(this,arguments)},Kd="\\d+(?:[\\.,]\\d+)?",RNe="("+Kd+"W)",INe="("+Kd+"Y)?("+Kd+"M)?("+Kd+"D)?",FNe="T("+Kd+"H)?("+Kd+"M)?("+Kd+"S)?",PNe="^P(?:"+RNe+"|"+INe+"(?:"+FNe+")?)$",NNe=new RegExp(PNe),Ude=["weeks","years","months","days","hours","minutes","seconds"],qde={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S",weeks:"W"},$Ne=Object.freeze({weeks:0,years:0,months:0,days:0,hours:0,minutes:0,seconds:0}),BNe=function(t){var e=t.match(NNe);if(!e)throw new Error("Invalid duration string");var r=e.slice(1).reduce(function(i,n,s){return i[Ude[s]]=parseFloat(n)||0,i},{});return r},jNe=function(t){return t.weeks&&t.weeks>0?Object.assign({},$Ne,{weeks:t.weeks}):Ude.reduce(function(e,r){var i;return du(du({},e),(i={},i[r]=t[r]||0,i))},{})},JC={locales:{},options:{},setLocales:function(t,e){this.locales=du(du({},this.locales),t),e&&(this.options=du(du({},this.options),e))},getLangConfig:function(t){var e=this.locales[t];if(!e&&this.options.fallbackLocale&&(e=this.locales[this.options.fallbackLocale]),!e)throw new Error("isoDuration: Translations for language: "+t+" are not provided");return e}},zNe=function(t){for(var e=["years","months","days"],r="",i=0,n=e;i<n.length;i++){var s=n[i];t[s]&&(r+=""+t[s]+qde[s])}return r},UNe=function(t){for(var e=["hours","minutes","seconds"],r="",i=0,n=e;i<n.length;i++){var s=n[i];t[s]&&(r+=""+t[s]+qde[s])}return r},qNe=function(t){if(t.weeks>0)return"P"+t.weeks+"W";var e="P",r=zNe(t);r&&(e+=r);var i=UNe(t);return i&&(e+="T"+i),!r&&!i&&(e+="0D"),e},HNe=function(t,e){var r=JC.getLangConfig(e);return t.weeks+" "+r.weeks(t.weeks)},VNe=function(t,e,r){for(var i=JC.getLangConfig(e),n="",s=["years","months","days","hours","minutes","seconds"],o=0,a=0;a<s.length;a++){var l=s[a],u=t[l];if(u&&(n!==""&&(n+=" "),n+=u+" "+i[l](u),o++,r&&r.largest&&r.largest<=o))break}return n},GNe=function(t,e,r){return t.weeks>0?HNe(t,e):VNe(t,e,r)},iw=["seconds","minutes","hours","days","months"],Pb=function(t){return function(e){return{nextUnitValue:Math.floor(e/t),value:e%t}}},Bre=function(t,e){return new Date(e,t+1,0).getDate()},WNe={seconds:Pb(60),minutes:Pb(60),hours:Pb(24),days:function(t,e){for(var r=e?new Date(e.getTime()):new Date,i=t,n=0,s=Bre(r.getMonth(),r.getFullYear());i>s;)i=i-s,n++,r.setMonth(r.getMonth()+1),s=Bre(r.getMonth(),r.getFullYear());return{nextUnitValue:n,value:i}},months:Pb(12)},YNe=function(t,e){for(var r=du({},t),i=0;i<iw.length;i++){var n=iw[i],s=r[n];if(s>0){var o=WNe[n](s,e);if(r[n]=o.value,o.nextUnitValue){var a=n==="months"?"years":iw[i+1];r[a]=r[a]+o.nextUnitValue}}}return r},jre=function(){function t(e){this.durationObj=e}return t.prototype.parse=function(){return this.durationObj},t.prototype.toString=function(){return qNe(this.durationObj)},t.prototype.humanize=function(e,r){return GNe(this.durationObj,e,r)},t.prototype.normalize=function(e){return this.durationObj=YNe(this.durationObj,e),this},t.prototype.isEmpty=function(){var e=this;return Object.keys(this.durationObj).every(function(r){return e.durationObj[r]===0})},t}();function ZNe(t){return t<=2?0:t>2&&t<11?1:0}var XNe={years:function(t){return t===1?"سنة":"سنوات"},months:function(t){return t===1?"شهر":"أشهر"},weeks:function(t){return t===1?"أسبوع":"أسابيع"},days:function(t){return t===1?"يوم":"أيام"},hours:function(t){return t===1?"ساعة":"ساعات"},minutes:function(t){return["دقيقة","دقائق"][ZNe(t)]},seconds:function(t){return t===1?"ثانية":"ثواني"},decimal:","};function Jn(t){return Math.floor(t)!==t?2:t%100>=5&&t%100<=20||t%10>=5&&t%10<=9||t%10===0?0:t%10===1?1:t>1?2:0}var KNe={years:function(t){return["години","година","години"][Jn(t)]},months:function(t){return["месеца","месец","месеца"][Jn(t)]},weeks:function(t){return["седмици","седмица","седмици"][Jn(t)]},days:function(t){return["дни","ден","дни"][Jn(t)]},hours:function(t){return["часа","час","часа"][Jn(t)]},minutes:function(t){return["минути","минута","минути"][Jn(t)]},seconds:function(t){return["секунди","секунда","секунди"][Jn(t)]},decimal:","},JNe={years:function(t){return"any"+(t===1?"":"s")},months:function(t){return"mes"+(t===1?"":"os")},weeks:function(t){return"setman"+(t===1?"a":"es")},days:function(t){return"di"+(t===1?"a":"es")},hours:function(t){return"hor"+(t===1?"a":"es")},minutes:function(t){return"minut"+(t===1?"":"s")},seconds:function(t){return"segon"+(t===1?"":"s")},decimal:","};function Fo(t){return t===1?0:Math.floor(t)!==t?1:t%10>=2&&t%10<=4&&t%100<10?2:3}var QNe={years:function(t){return["rok","roku","roky","let"][Fo(t)]},months:function(t){return["měsíc","měsíce","měsíce","měsíců"][Fo(t)]},weeks:function(t){return["týden","týdne","týdny","týdnů"][Fo(t)]},days:function(t){return["den","dne","dny","dní"][Fo(t)]},hours:function(t){return["hodina","hodiny","hodiny","hodin"][Fo(t)]},minutes:function(t){return["minuta","minuty","minuty","minut"][Fo(t)]},seconds:function(t){return["sekunda","sekundy","sekundy","sekund"][Fo(t)]},decimal:","},e8e={years:function(){return"år"},months:function(t){return"måned"+(t===1?"":"er")},weeks:function(t){return"uge"+(t===1?"":"r")},days:function(t){return"dag"+(t===1?"":"e")},hours:function(t){return"time"+(t===1?"":"r")},minutes:function(t){return"minut"+(t===1?"":"ter")},seconds:function(t){return"sekund"+(t===1?"":"er")},decimal:","},t8e={years:function(t){return"Jahr"+(t===1?"":"e")},months:function(t){return"Monat"+(t===1?"":"e")},weeks:function(t){return"Woche"+(t===1?"":"n")},days:function(t){return"Tag"+(t===1?"":"e")},hours:function(t){return"Stunde"+(t===1?"":"n")},minutes:function(t){return"Minute"+(t===1?"":"n")},seconds:function(t){return"Sekunde"+(t===1?"":"n")},decimal:","},r8e={years:function(t){return"year"+(t===1?"":"s")},months:function(t){return"month"+(t===1?"":"s")},weeks:function(t){return"week"+(t===1?"":"s")},days:function(t){return"day"+(t===1?"":"s")},hours:function(t){return"hour"+(t===1?"":"s")},minutes:function(t){return"minute"+(t===1?"":"s")},seconds:function(t){return"second"+(t===1?"":"s")},decimal:"."},i8e={years:function(t){return"año"+(t===1?"":"s")},months:function(t){return"mes"+(t===1?"":"es")},weeks:function(t){return"semana"+(t===1?"":"s")},days:function(t){return"día"+(t===1?"":"s")},hours:function(t){return"hora"+(t===1?"":"s")},minutes:function(t){return"minuto"+(t===1?"":"s")},seconds:function(t){return"segundo"+(t===1?"":"s")},decimal:","},n8e={years:function(t){return"aasta"+(t===1?"":"t")},months:function(t){return"kuu"+(t===1?"":"d")},weeks:function(t){return"nädal"+(t===1?"":"at")},days:function(t){return"päev"+(t===1?"":"a")},hours:function(t){return"tund"+(t===1?"":"i")},minutes:function(t){return"minut"+(t===1?"":"it")},seconds:function(t){return"sekund"+(t===1?"":"it")},decimal:","},s8e={years:function(){return"سال"},months:function(){return"ماه"},weeks:function(){return"هفته"},days:function(){return"روز"},hours:function(){return"ساعت"},minutes:function(){return"دقیقه"},seconds:function(){return"ثانیه"},decimal:"."},o8e={years:function(t){return t===1?"vuosi":"vuotta"},months:function(t){return t===1?"kuukausi":"kuukautta"},weeks:function(t){return"viikko"+(t===1?"":"a")},days:function(t){return"päivä"+(t===1?"":"ä")},hours:function(t){return"tunti"+(t===1?"":"a")},minutes:function(t){return"minuutti"+(t===1?"":"a")},seconds:function(t){return"sekunti"+(t===1?"":"a")},decimal:","},a8e={years:function(){return"ár"},months:function(t){return t===1?"mánaður":"mánaðir"},weeks:function(t){return t===1?"vika":"vikur"},days:function(t){return t===1?"dagur":"dagar"},hours:function(t){return t===1?"tími":"tímar"},minutes:function(t){return t===1?"minuttur":"minuttir"},seconds:function(){return"sekund"},decimal:","},l8e={years:function(t){return"an"+(t>=2?"s":"")},months:function(){return"mois"},weeks:function(t){return"semaine"+(t>=2?"s":"")},days:function(t){return"jour"+(t>=2?"s":"")},hours:function(t){return"heure"+(t>=2?"s":"")},minutes:function(t){return"minute"+(t>=2?"s":"")},seconds:function(t){return"seconde"+(t>=2?"s":"")},decimal:","},u8e={years:function(t){return t===1?"χρόνος":"χρόνια"},months:function(t){return t===1?"μήνας":"μήνες"},weeks:function(t){return t===1?"εβδομάδα":"εβδομάδες"},days:function(t){return t===1?"μέρα":"μέρες"},hours:function(t){return t===1?"ώρα":"ώρες"},minutes:function(t){return t===1?"λεπτό":"λεπτά"},seconds:function(t){return t===1?"δευτερόλεπτο":"δευτερόλεπτα"},decimal:","},c8e={years:function(t){return t===1?"שנה":"שנים"},months:function(t){return t===1?"חודש":"חודשים"},weeks:function(t){return t===1?"שבוע":"שבועות"},days:function(t){return t===1?"יום":"ימים"},hours:function(t){return t===1?"שעה":"שעות"},minutes:function(t){return t===1?"דקה":"דקות"},seconds:function(t){return t===1?"שניה":"שניות"},decimal:"."},d8e={years:function(t){return t%10===2||t%10===3||t%10===4?"godine":"godina"},months:function(t){return t===1?"mjesec":t===2||t===3||t===4?"mjeseca":"mjeseci"},weeks:function(t){return t%10===1&&t!==11?"tjedan":"tjedna"},days:function(t){return t===1?"dan":"dana"},hours:function(t){return t===1?"sat":t===2||t===3||t===4?"sata":"sati"},minutes:function(t){var e=t%10;return(e===2||e===3||e===4)&&(t<10||t>14)?"minute":"minuta"},seconds:function(t){return t===10||t===11||t===12||t===13||t===14||t===16||t===17||t===18||t===19||t%10===5?"sekundi":t%10===1?"sekunda":t%10===2||t%10===3||t%10===4?"sekunde":"sekundi"},decimal:","},h8e={years:function(){return"év"},months:function(){return"hónap"},weeks:function(){return"hét"},days:function(){return"nap"},hours:function(){return"óra"},minutes:function(){return"perc"},seconds:function(){return"másodperc"},decimal:","},f8e={years:function(){return"ár"},months:function(t){return"mánuð"+(t===1?"ur":"ir")},weeks:function(t){return"vik"+(t===1?"a":"ur")},days:function(t){return"dag"+(t===1?"ur":"ar")},hours:function(t){return"klukkutím"+(t===1?"i":"ar")},minutes:function(t){return"mínút"+(t===1?"a":"ur")},seconds:function(t){return"sekúnd"+(t===1?"a":"ur")},decimal:"."},p8e={years:function(t){return"ann"+(t===1?"o":"i")},months:function(t){return"mes"+(t===1?"e":"i")},weeks:function(t){return"settiman"+(t===1?"a":"e")},days:function(t){return"giorn"+(t===1?"o":"i")},hours:function(t){return"or"+(t===1?"a":"e")},minutes:function(t){return"minut"+(t===1?"o":"i")},seconds:function(t){return"second"+(t===1?"o":"i")},decimal:","},m8e={years:function(){return"年"},months:function(){return"月"},weeks:function(){return"週"},days:function(){return"日"},hours:function(){return"時間"},minutes:function(){return"分"},seconds:function(){return"秒"},decimal:"."},g8e={years:function(){return"년"},months:function(){return"개월"},weeks:function(){return"주일"},days:function(){return"일"},hours:function(){return"시간"},minutes:function(){return"분"},seconds:function(){return"초"},decimal:"."},y8e={years:function(){return"ປີ"},months:function(){return"ເດືອນ"},weeks:function(){return"ອາທິດ"},days:function(){return"ມື້"},hours:function(){return"ຊົ່ວໂມງ"},minutes:function(){return"ນາທີ"},seconds:function(){return"ວິນາທີ"},decimal:","};function mf(t){return t===1||t%10===1&&t%100>20?0:Math.floor(t)!==t||t%10>=2&&t%100>20||t%10>=2&&t%100<10?1:2}var b8e={years:function(t){return t%10===0||t%100>=10&&t%100<=20?"metų":"metai"},months:function(t){return["mėnuo","mėnesiai","mėnesių"][mf(t)]},weeks:function(t){return["savaitė","savaitės","savaičių"][mf(t)]},days:function(t){return["diena","dienos","dienų"][mf(t)]},hours:function(t){return["valanda","valandos","valandų"][mf(t)]},minutes:function(t){return["minutė","minutės","minučių"][mf(t)]},seconds:function(t){return["sekundė","sekundės","sekundžių"][mf(t)]},decimal:","};function Ld(t){return t===1||t%10===1&&t%100!==11?0:1}var v8e={years:function(t){return["gads","gadi"][Ld(t)]},months:function(t){return["mēnesis","mēneši"][Ld(t)]},weeks:function(t){return["nedēļa","nedēļas"][Ld(t)]},days:function(t){return["diena","dienas"][Ld(t)]},hours:function(t){return["stunda","stundas"][Ld(t)]},minutes:function(t){return["minūte","minūtes"][Ld(t)]},seconds:function(t){return["sekunde","sekundes"][Ld(t)]},decimal:","},x8e={years:function(){return"tahun"},months:function(){return"bulan"},weeks:function(){return"minggu"},days:function(){return"hari"},hours:function(){return"jam"},minutes:function(){return"minit"},seconds:function(){return"saat"},decimal:"."},_8e={years:function(){return"jaar"},months:function(t){return t===1?"maand":"maanden"},weeks:function(t){return t===1?"week":"weken"},days:function(t){return t===1?"dag":"dagen"},hours:function(){return"uur"},minutes:function(t){return t===1?"minuut":"minuten"},seconds:function(t){return t===1?"seconde":"seconden"},decimal:","},w8e={years:function(){return"år"},months:function(t){return"måned"+(t===1?"":"er")},weeks:function(t){return"uke"+(t===1?"":"r")},days:function(t){return"dag"+(t===1?"":"er")},hours:function(t){return"time"+(t===1?"":"r")},minutes:function(t){return"minutt"+(t===1?"":"er")},seconds:function(t){return"sekund"+(t===1?"":"er")},decimal:","};function Od(t){return t===1?0:Math.floor(t)!==t?1:t%10>=2&&t%10<=4&&!(t%100>10&&t%100<20)?2:3}var E8e={years:function(t){return["rok","roku","lata","lat"][Od(t)]},months:function(t){return["miesiąc","miesiąca","miesiące","miesięcy"][Od(t)]},weeks:function(t){return["tydzień","tygodnia","tygodnie","tygodni"][Od(t)]},days:function(t){return["dzień","dnia","dni","dni"][Od(t)]},hours:function(t){return["godzina","godziny","godziny","godzin"][Od(t)]},minutes:function(t){return["minuta","minuty","minuty","minut"][Od(t)]},seconds:function(t){return["sekunda","sekundy","sekundy","sekund"][Od(t)]},decimal:","},S8e={years:function(t){return"ano"+(t===1?"":"s")},months:function(t){return t===1?"mês":"meses"},weeks:function(t){return"semana"+(t===1?"":"s")},days:function(t){return"dia"+(t===1?"":"s")},hours:function(t){return"hora"+(t===1?"":"s")},minutes:function(t){return"minuto"+(t===1?"":"s")},seconds:function(t){return"segundo"+(t===1?"":"s")},decimal:","},C8e={years:function(t){return t===1?"an":"ani"},months:function(t){return t===1?"lună":"luni"},weeks:function(t){return t===1?"săptămână":"săptămâni"},days:function(t){return t===1?"zi":"zile"},hours:function(t){return t===1?"oră":"ore"},minutes:function(t){return t===1?"minut":"minute"},seconds:function(t){return t===1?"secundă":"secunde"},decimal:","},k8e={years:function(t){return["лет","год","года"][Jn(t)]},months:function(t){return["месяцев","месяц","месяца"][Jn(t)]},weeks:function(t){return["недель","неделя","недели"][Jn(t)]},days:function(t){return["дней","день","дня"][Jn(t)]},hours:function(t){return["часов","час","часа"][Jn(t)]},minutes:function(t){return["минут","минута","минуты"][Jn(t)]},seconds:function(t){return["секунд","секунда","секунды"][Jn(t)]},decimal:","},A8e={years:function(t){return["rok","roky","roky","rokov"][Fo(t)]},months:function(t){return["mesiac","mesiace","mesiace","mesiacov"][Fo(t)]},weeks:function(t){return["týždeň","týždne","týždne","týždňov"][Fo(t)]},days:function(t){return["deň","dni","dni","dní"][Fo(t)]},hours:function(t){return["hodina","hodiny","hodiny","hodín"][Fo(t)]},minutes:function(t){return["minúta","minúty","minúty","minút"][Fo(t)]},seconds:function(t){return["sekunda","sekundy","sekundy","sekúnd"][Fo(t)]},decimal:","},T8e={years:function(){return"år"},months:function(t){return"månad"+(t===1?"":"er")},weeks:function(t){return"veck"+(t===1?"a":"or")},days:function(t){return"dag"+(t===1?"":"ar")},hours:function(t){return"timm"+(t===1?"e":"ar")},minutes:function(t){return"minut"+(t===1?"":"er")},seconds:function(t){return"sekund"+(t===1?"":"er")},decimal:","},D8e={years:function(){return"yıl"},months:function(){return"ay"},weeks:function(){return"hafta"},days:function(){return"gün"},hours:function(){return"saat"},minutes:function(){return"dakika"},seconds:function(){return"saniye"},decimal:","},L8e={years:function(t){return["років","рік","роки"][Jn(t)]},months:function(t){return["місяців","місяць","місяці"][Jn(t)]},weeks:function(t){return["тижнів","тиждень","тижні"][Jn(t)]},days:function(t){return["днів","день","дні"][Jn(t)]},hours:function(t){return["годин","година","години"][Jn(t)]},minutes:function(t){return["хвилин","хвилина","хвилини"][Jn(t)]},seconds:function(t){return["секунд","секунда","секунди"][Jn(t)]},decimal:","},O8e={years:function(){return"سال"},months:function(t){return t===1?"مہینہ":"مہینے"},weeks:function(t){return t===1?"ہفتہ":"ہفتے"},days:function(){return"دن"},hours:function(t){return t===1?"گھنٹہ":"گھنٹے"},minutes:function(){return"منٹ"},seconds:function(){return"سیکنڈ"},decimal:"."},M8e={years:function(){return"năm"},months:function(){return"tháng"},weeks:function(){return"tuần"},days:function(){return"ngày"},hours:function(){return"giờ"},minutes:function(){return"phút"},seconds:function(){return"giây"},decimal:","},R8e={years:function(){return"年"},months:function(){return"个月"},weeks:function(){return"周"},days:function(){return"天"},hours:function(){return"小时"},minutes:function(){return"分钟"},seconds:function(){return"秒"},decimal:"."},I8e={years:function(){return"年"},months:function(){return"個月"},weeks:function(){return"周"},days:function(){return"天"},hours:function(){return"小時"},minutes:function(){return"分鐘"},seconds:function(){return"秒"},decimal:"."};function Hde(t){return typeof t=="string"?new jre(BNe(t)):new jre(jNe(t))}Hde.setLocales=function(t,e){JC.setLocales(t,e)};const F8e=Object.freeze(Object.defineProperty({__proto__:null,ar:XNe,bg:KNe,ca:JNe,cs:QNe,da:e8e,de:t8e,en:r8e,es:i8e,et:n8e,fa:s8e,fi:o8e,fo:a8e,fr:l8e,gr:u8e,he:c8e,hr:d8e,hu:h8e,is:f8e,isoDuration:Hde,it:p8e,ja:m8e,ko:g8e,lo:y8e,lt:b8e,lv:v8e,ms:x8e,nl:_8e,no:w8e,pl:E8e,pt:S8e,ro:C8e,ru:k8e,sk:A8e,sv:T8e,tr:D8e,uk:L8e,ur:O8e,vi:M8e,zhCN:R8e,zhTW:I8e},Symbol.toStringTag,{value:"Module"})),P8e=Ine(F8e);var Nb={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var zre;function N8e(){if(zre)return Nb;zre=1;var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,e=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,r=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,n=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;Nb.format=o,Nb.parse=a;function o(d){if(!d||typeof d!="object")throw new TypeError("argument obj is required");var f=d.parameters,p=d.type;if(!p||!s.test(p))throw new TypeError("invalid type");var g=p;if(f&&typeof f=="object")for(var y,b=Object.keys(f).sort(),x=0;x<b.length;x++){if(y=b[x],!r.test(y))throw new TypeError("invalid parameter name");g+="; "+y+"="+u(f[y])}return g}function a(d){if(!d)throw new TypeError("argument string is required");var f=typeof d=="object"?l(d):d;if(typeof f!="string")throw new TypeError("argument string is required to be a string");var p=f.indexOf(";"),g=p!==-1?f.slice(0,p).trim():f.trim();if(!s.test(g))throw new TypeError("invalid media type");var y=new h(g.toLowerCase());if(p!==-1){var b,x,w;for(t.lastIndex=p;x=t.exec(f);){if(x.index!==p)throw new TypeError("invalid parameter format");p+=x[0].length,b=x[1].toLowerCase(),w=x[2],w.charCodeAt(0)===34&&(w=w.slice(1,-1),w.indexOf("\\")!==-1&&(w=w.replace(i,"$1"))),y.parameters[b]=w}if(p!==f.length)throw new TypeError("invalid parameter format")}return y}function l(d){var f;if(typeof d.getHeader=="function"?f=d.getHeader("content-type"):typeof d.headers=="object"&&(f=d.headers&&d.headers["content-type"]),typeof f!="string")throw new TypeError("content-type header is missing from object");return f}function u(d){var f=String(d);if(r.test(f))return f;if(f.length>0&&!e.test(f))throw new TypeError("invalid parameter value");return'"'+f.replace(n,"\\$1")+'"'}function h(d){this.parameters=Object.create(null),this.type=d}return Nb}var $b={exports:{}};/* commonmark 0.29 https://github.com/commonmark/commonmark.js @license BSD3 */var Ure;function $8e(){return Ure||(Ure=1,function(t,e){(function(r,i){i(e)})(oi,function(r){function i(z){switch(z._type){case"document":case"block_quote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"link":case"image":case"custom_inline":case"custom_block":return!0;default:return!1}}var n=function(z,ne){this.current=z,this.entering=ne===!0},s=function(){var z=this.current,ne=this.entering;if(z===null)return null;var Ee=i(z);return ne&&Ee?z._firstChild?(this.current=z._firstChild,this.entering=!0):this.entering=!1:z===this.root?this.current=null:z._next===null?(this.current=z._parent,this.entering=!1):(this.current=z._next,this.entering=!0),{entering:ne,node:z}},o=function(z){return{current:z,root:z,entering:!0,next:s,resumeAt:n}},a=function(z,ne){this._type=z,this._parent=null,this._firstChild=null,this._lastChild=null,this._prev=null,this._next=null,this._sourcepos=ne,this._lastLineBlank=!1,this._lastLineChecked=!1,this._open=!0,this._string_content=null,this._literal=null,this._listData={},this._info=null,this._destination=null,this._title=null,this._isFenced=!1,this._fenceChar=null,this._fenceLength=0,this._fenceOffset=null,this._level=null,this._onEnter=null,this._onExit=null},l=a.prototype;Object.defineProperty(l,"isContainer",{get:function(){return i(this)}}),Object.defineProperty(l,"type",{get:function(){return this._type}}),Object.defineProperty(l,"firstChild",{get:function(){return this._firstChild}}),Object.defineProperty(l,"lastChild",{get:function(){return this._lastChild}}),Object.defineProperty(l,"next",{get:function(){return this._next}}),Object.defineProperty(l,"prev",{get:function(){return this._prev}}),Object.defineProperty(l,"parent",{get:function(){return this._parent}}),Object.defineProperty(l,"sourcepos",{get:function(){return this._sourcepos}}),Object.defineProperty(l,"literal",{get:function(){return this._literal},set:function(z){this._literal=z}}),Object.defineProperty(l,"destination",{get:function(){return this._destination},set:function(z){this._destination=z}}),Object.defineProperty(l,"title",{get:function(){return this._title},set:function(z){this._title=z}}),Object.defineProperty(l,"info",{get:function(){return this._info},set:function(z){this._info=z}}),Object.defineProperty(l,"level",{get:function(){return this._level},set:function(z){this._level=z}}),Object.defineProperty(l,"listType",{get:function(){return this._listData.type},set:function(z){this._listData.type=z}}),Object.defineProperty(l,"listTight",{get:function(){return this._listData.tight},set:function(z){this._listData.tight=z}}),Object.defineProperty(l,"listStart",{get:function(){return this._listData.start},set:function(z){this._listData.start=z}}),Object.defineProperty(l,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(z){this._listData.delimiter=z}}),Object.defineProperty(l,"onEnter",{get:function(){return this._onEnter},set:function(z){this._onEnter=z}}),Object.defineProperty(l,"onExit",{get:function(){return this._onExit},set:function(z){this._onExit=z}}),a.prototype.appendChild=function(z){z.unlink(),z._parent=this,this._lastChild?(this._lastChild._next=z,z._prev=this._lastChild,this._lastChild=z):(this._firstChild=z,this._lastChild=z)},a.prototype.prependChild=function(z){z.unlink(),z._parent=this,this._firstChild?(this._firstChild._prev=z,z._next=this._firstChild,this._firstChild=z):(this._firstChild=z,this._lastChild=z)},a.prototype.unlink=function(){this._prev?this._prev._next=this._next:this._parent&&(this._parent._firstChild=this._next),this._next?this._next._prev=this._prev:this._parent&&(this._parent._lastChild=this._prev),this._parent=null,this._next=null,this._prev=null},a.prototype.insertAfter=function(z){z.unlink(),z._next=this._next,z._next&&(z._next._prev=z),z._prev=this,this._next=z,z._parent=this._parent,z._next||(z._parent._lastChild=z)},a.prototype.insertBefore=function(z){z.unlink(),z._prev=this._prev,z._prev&&(z._prev._next=z),z._next=this,this._prev=z,z._parent=this._parent,z._prev||(z._parent._firstChild=z)},a.prototype.walker=function(){var z=new o(this);return z};var u={};function h(z){var ne,Ee,Le=u[z];if(Le)return Le;for(Le=u[z]=[],ne=0;ne<128;ne++)Ee=String.fromCharCode(ne),/^[0-9a-z]$/i.test(Ee)?Le.push(Ee):Le.push("%"+("0"+ne.toString(16).toUpperCase()).slice(-2));for(ne=0;ne<z.length;ne++)Le[z.charCodeAt(ne)]=z[ne];return Le}function d(z,ne,Ee){var Le,ct,st,er,At,hr="";for(typeof ne!="string"&&(Ee=ne,ne=d.defaultChars),typeof Ee>"u"&&(Ee=!0),At=h(ne),Le=0,ct=z.length;Le<ct;Le++){if(st=z.charCodeAt(Le),Ee&&st===37&&Le+2<ct&&/^[0-9a-f]{2}$/i.test(z.slice(Le+1,Le+3))){hr+=z.slice(Le,Le+3),Le+=2;continue}if(st<128){hr+=At[st];continue}if(st>=55296&&st<=57343){if(st>=55296&&st<=56319&&Le+1<ct&&(er=z.charCodeAt(Le+1),er>=56320&&er<=57343)){hr+=encodeURIComponent(z[Le]+z[Le+1]),Le++;continue}hr+="%EF%BF%BD";continue}hr+=encodeURIComponent(z[Le])}return hr}d.defaultChars=";/?:@&=+$,-_.!~*'()#",d.componentChars="-_.!~*'()";var f=d,p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof oi<"u"?oi:typeof self<"u"?self:{};function g(z){return z&&z.__esModule&&Object.prototype.hasOwnProperty.call(z,"default")?z.default:z}function y(z,ne){return ne={exports:{}},z(ne,ne.exports),ne.exports}function b(z){return z&&z.default||z}var x="Á",w="á",S="Ă",C="ă",k="∾",O="∿",M="∾̳",A="Â",I="â",R="´",V="А",oe="а",L="Æ",F="æ",U="⁡",Y="𝔄",G="𝔞",Q="À",J="à",re="ℵ",pe="ℵ",ee="Α",B="α",ge="Ā",ve="ā",ze="⨿",it="&",tt="&",Ne="⩕",Xe="⩓",nt="∧",vt="⩜",Dt="⩘",Rt="⩚",Er="∠",or="⦤",di="∠",We="⦨",he="⦩",ue="⦪",ae="⦫",me="⦬",T="⦭",$="⦮",W="⦯",K="∡",ye="∟",xe="⊾",Me="⦝",j="∢",te="Å",de="⍼",ce="Ą",Ae="ą",Ce="𝔸",Se="𝕒",De="⩯",Ie="≈",Ve="⩰",ot="≊",lt="≋",$t="'",mt="⁡",zt="≈",Ht="≊",Vt="Å",fr="å",Yt="𝒜",ri="𝒶",dn="≔",hn="*",on="≈",$s="≍",Sr="Ã",ai="ã",hi="Ä",$r="ä",pr="∳",an="⨑",Ir="≌",Cn="϶",ur="‵",qn="∽",fe="⋍",Te="∖",rt="⫧",Ye="⊽",bt="⌅",qt="⌆",Wt="⌅",pt="⎵",Je="⎶",Kt="≌",Jt="Б",Lt="б",Ct="„",ii="∵",Li="∵",Bt="∵",He="⦰",ht="϶",Dr="ℬ",li="ℬ",ni="Β",ui="β",qr="ℶ",Ot="≬",Ki="𝔅",fn="𝔟",pn="⋂",kn="◯",Hn="⋃",ps="⨀",ms="⨁",gs="⨂",Dn="⨆",Bs="★",ys="▽",Ii="△",bs="⨄",es="⋁",Vn="⋀",Gn="⤍",Wn="⧫",vs="▪",ho="▴",ts="▾",fo="◂",js="▸",Oi="␣",Yn="▒",An="░",Ks="▓",rs="█",wn="=⃥",Ln="≡⃥",xs="⫭",ln="⌐",_s="𝔹",po="𝕓",Zn="⊥",ie="⊥",X="⋈",Oe="⧉",Ke="┐",Pt="╕",kt="╖",cr="╗",Lr="┌",Br="╒",jr="╓",zr="╔",Ei="─",Or="═",Fi="┬",On="╤",is="╥",tn="╦",rn="┴",Ts="╧",bi="╨",Js="╩",Ca="⊟",Eo="⊞",So="⊠",il="┘",ka="╛",Z="╜",_e="╝",qe="└",gt="╘",jt="╙",Mt="╚",ir="│",Xr="║",fi="┼",mn="╪",Mn="╫",Ui="╬",Ji="┤",ke="╡",at="╢",It="╣",Cr="├",Kr="╞",yr="╟",nn="╠",mo="‵",$p="˘",by="˘",Bp="¦",jp="𝒷",Au="ℬ",zp="⁏",Up="∽",xh="⋍",Uc="⧅",qp="\\",qc="⟈",Co="•",Hp="•",_h="≎",wh="⪮",Vp="≏",Gp="≎",Eh="≏",vy="Ć",xy="ć",_y="⩄",Pl="⩉",Nl="⩋",Sh="∩",Ch="⋒",Wp="⩇",kh="⩀",nl="ⅅ",sl="∩︀",Ds="⁁",Aa="ˇ",Ta="ℭ",Hc="⩍",Yp="Č",Tu="č",Zp="Ç",Ah="ç",Vc="Ĉ",wy="ĉ",Th="∰",Xp="⩌",Dh="⩐",Lh="Ċ",$l="ċ",Gc="¸",Kp="¸",Wc="⦲",Oh="¢",Mh="·",Bl="·",Du="𝔠",Yc="ℭ",Jp="Ч",Lu="ч",Qp="✓",ol="✓",Ou="Χ",al="χ",Mu="ˆ",jl="≗",em="↺",tm="↻",rm="⊛",Ey="⊚",ll="⊝",ul="⊙",Sy="®",Cy="Ⓢ",ky="⊖",Ay="⊕",Ty="⊗",zs="○",Rn="⧃",ws="≗",In="⨐",Ru="⫯",Dy="⧂",Zc="∲",Ly="”",Rh="’",im="♣",Ih="♣",Fh=":",Ph="∷",nm="⩴",sm="≔",Nh="≔",om=",",Iu="@",Oy="∁",Xc="∘",ua="∁",am="ℂ",My="≅",lm="⩭",Qs="≡",pi="∮",ko="∯",Da="∮",La="𝕔",um="ℂ",$h="∐",cm="∐",Bh="©",Fu="©",dm="℗",jh="∳",Oa="↵",hm="✗",fm="⨯",Kc="𝒞",zh="𝒸",pm="⫏",mm="⫑",Ry="⫐",Jc="⫒",gm="⋯",Iy="⤸",ym="⤵",zl="⋞",Uh="⋟",Qc="↶",bm="⤽",qh="⩈",vm="⩆",xm="≍",ns="∪",ed="⋓",_m="⩊",wm="⊍",Em="⩅",Ul="∪︀",td="↷",Sm="⤼",Cm="⋞",km="⋟",ql="⋎",Am="⋏",rd="¤",Tm="↶",Pu="↷",Hl="⋎",Dm="⋏",Lm="∲",Om="∱",Nu="⌭",$u="†",Bu="‡",ju="ℸ",Mm="↓",Rm="↡",Ma="⇓",Vl="‐",zu="⫤",Im="⊣",Fy="⤏",Py="˝",Ls="Ď",Fm="ď",Ny="Д",Pm="д",Nm="‡",$m="⇊",$y="ⅅ",By="ⅆ",Ra="⤑",Uu="⩷",id="°",qu="∇",ca="Δ",jy="δ",zy="⦱",Gl="⥿",Bm="𝔇",jm="𝔡",zm="⥥",nd="⇃",Wl="⇂",Hh="´",Vh="˙",Gh="˝",Hu="`",Um="˜",qm="⋄",sd="⋄",Uy="⋄",Vu="♦",Hm="♦",Vm="¨",Wh="ⅆ",Gm="ϝ",Wm="⋲",Ym="÷",Gu="÷",Wu="⋇",Yh="⋇",Zm="Ђ",Xm="ђ",Km="⌞",Zh="⌍",Jm="$",Qm="𝔻",Yl="𝕕",eg="¨",od="˙",qy="⃜",Hy="≐",Qi="≑",Xh="≐",Yu="∸",Ao="∔",ad="⊡",Kh="⌆",tg="∯",rg="¨",ig="⇓",ng="⇐",sg="⇔",Jh="⫤",og="⟸",Si="⟺",ag="⟹",Zl="⇒",ld="⊨",Vy="⇑",gn="⇕",Gy="∥",ud="⤓",c="↓",m="↓",_="⇓",v="⇵",E="̑",D="⇊",P="⇃",N="⇂",q="⥐",H="⥞",se="⥖",le="↽",we="⥟",be="⥗",Fe="⇁",Pe="↧",Re="⊤",Ue="⤐",Qe="⌟",Ze="⌌",dt="𝒟",ut="𝒹",ft="Ѕ",Qt="ѕ",St="⧶",wr="Đ",Zt="đ",Hr="⋱",mi="▿",Vr="▾",Mr="⇵",Gr="⥯",mr="⦦",gi="Џ",dr="џ",Fr="⟿",br="É",Qr="é",Es="⩮",yi="Ě",ss="ě",os="Ê",Yi="ê",Ss="≖",go="≕",Xn="Э",To="э",cd="⩷",lg="Ė",cl="ė",Us="≑",Ia="ⅇ",Wy="≒",Xl="𝔈",Qh="𝔢",Zu="⪚",dd="È",Xu="è",ef="⪖",ug="⪘",tf="⪙",cg="∈",dg="⏧",hg="ℓ",wk="⪕",Ek="⪗",Sk="Ē",Ck="ē",kk="∅",Ak="∅",Tk="◻",Dk="∅",Lk="▫",Ok=" ",Mk=" ",Rk=" ",Ik="Ŋ",Fk="ŋ",Pk=" ",Nk="Ę",$k="ę",Bk="𝔼",jk="𝕖",zk="⋕",Uk="⧣",qk="⩱",Hk="ε",Vk="Ε",Gk="ε",Wk="ϵ",Yk="≖",Zk="≕",Xk="≂",Kk="⪖",Jk="⪕",Qk="⩵",eA="=",tA="≂",rA="≟",iA="⇌",nA="≡",sA="⩸",oA="⧥",aA="⥱",lA="≓",uA="ℯ",cA="ℰ",dA="≐",hA="⩳",fA="≂",pA="Η",mA="η",gA="Ð",yA="ð",bA="Ë",vA="ë",xA="€",_A="!",wA="∃",EA="∃",SA="ℰ",CA="ⅇ",kA="ⅇ",AA="≒",TA="Ф",DA="ф",LA="♀",OA="ﬃ",MA="ﬀ",RA="ﬄ",IA="𝔉",FA="𝔣",PA="ﬁ",NA="◼",$A="▪",BA="fj",jA="♭",zA="ﬂ",UA="▱",qA="ƒ",HA="𝔽",VA="𝕗",GA="∀",WA="∀",YA="⋔",ZA="⫙",XA="ℱ",KA="⨍",JA="½",QA="⅓",eT="¼",tT="⅕",rT="⅙",iT="⅛",nT="⅔",sT="⅖",oT="¾",aT="⅗",lT="⅜",uT="⅘",cT="⅚",dT="⅝",hT="⅞",fT="⁄",pT="⌢",mT="𝒻",gT="ℱ",yT="ǵ",bT="Γ",vT="γ",xT="Ϝ",_T="ϝ",wT="⪆",ET="Ğ",ST="ğ",CT="Ģ",kT="Ĝ",AT="ĝ",TT="Г",DT="г",LT="Ġ",OT="ġ",MT="≥",RT="≧",IT="⪌",FT="⋛",PT="≥",NT="≧",$T="⩾",BT="⪩",jT="⩾",zT="⪀",UT="⪂",qT="⪄",HT="⋛︀",VT="⪔",GT="𝔊",WT="𝔤",YT="≫",ZT="⋙",XT="⋙",KT="ℷ",JT="Ѓ",QT="ѓ",eD="⪥",tD="≷",rD="⪒",iD="⪤",nD="⪊",sD="⪊",oD="⪈",aD="≩",lD="⪈",uD="≩",cD="⋧",dD="𝔾",hD="𝕘",fD="`",pD="≥",mD="⋛",gD="≧",yD="⪢",bD="≷",vD="⩾",xD="≳",_D="𝒢",wD="ℊ",ED="≳",SD="⪎",CD="⪐",kD="⪧",AD="⩺",TD=">",DD=">",LD="≫",OD="⋗",MD="⦕",RD="⩼",ID="⪆",FD="⥸",PD="⋗",ND="⋛",$D="⪌",BD="≷",jD="≳",zD="≩︀",UD="≩︀",qD="ˇ",HD=" ",VD="½",GD="ℋ",WD="Ъ",YD="ъ",ZD="⥈",XD="↔",KD="⇔",JD="↭",QD="^",e3="ℏ",t3="Ĥ",r3="ĥ",i3="♥",n3="♥",s3="…",o3="⊹",a3="𝔥",l3="ℌ",u3="ℋ",c3="⤥",d3="⤦",h3="⇿",f3="∻",p3="↩",m3="↪",g3="𝕙",y3="ℍ",b3="―",v3="─",x3="𝒽",_3="ℋ",w3="ℏ",E3="Ħ",S3="ħ",C3="≎",k3="≏",A3="⁃",T3="‐",D3="Í",L3="í",O3="⁣",M3="Î",R3="î",I3="И",F3="и",P3="İ",N3="Е",$3="е",B3="¡",j3="⇔",z3="𝔦",U3="ℑ",q3="Ì",H3="ì",V3="ⅈ",G3="⨌",W3="∭",Y3="⧜",Z3="℩",X3="Ĳ",K3="ĳ",J3="Ī",Q3="ī",eL="ℑ",tL="ⅈ",rL="ℐ",iL="ℑ",nL="ı",sL="ℑ",oL="⊷",aL="Ƶ",lL="⇒",uL="℅",cL="∞",dL="⧝",hL="ı",fL="⊺",pL="∫",mL="∬",gL="ℤ",yL="∫",bL="⊺",vL="⋂",xL="⨗",_L="⨼",wL="⁣",EL="⁢",SL="Ё",CL="ё",kL="Į",AL="į",TL="𝕀",DL="𝕚",LL="Ι",OL="ι",ML="⨼",RL="¿",IL="𝒾",FL="ℐ",PL="∈",NL="⋵",$L="⋹",BL="⋴",jL="⋳",zL="∈",UL="⁢",qL="Ĩ",HL="ĩ",VL="І",GL="і",WL="Ï",YL="ï",ZL="Ĵ",XL="ĵ",KL="Й",JL="й",QL="𝔍",eO="𝔧",tO="ȷ",rO="𝕁",iO="𝕛",nO="𝒥",sO="𝒿",oO="Ј",aO="ј",lO="Є",uO="є",cO="Κ",dO="κ",hO="ϰ",fO="Ķ",pO="ķ",mO="К",gO="к",yO="𝔎",bO="𝔨",vO="ĸ",xO="Х",_O="х",wO="Ќ",EO="ќ",SO="𝕂",CO="𝕜",kO="𝒦",AO="𝓀",TO="⇚",DO="Ĺ",LO="ĺ",OO="⦴",MO="ℒ",RO="Λ",IO="λ",FO="⟨",PO="⟪",NO="⦑",$O="⟨",BO="⪅",jO="ℒ",zO="«",UO="⇤",qO="⤟",HO="←",VO="↞",GO="⇐",WO="⤝",YO="↩",ZO="↫",XO="⤹",KO="⥳",JO="↢",QO="⤙",eM="⤛",tM="⪫",rM="⪭",iM="⪭︀",nM="⤌",sM="⤎",oM="❲",aM="{",lM="[",uM="⦋",cM="⦏",dM="⦍",hM="Ľ",fM="ľ",pM="Ļ",mM="ļ",gM="⌈",yM="{",bM="Л",vM="л",xM="⤶",_M="“",wM="„",EM="⥧",SM="⥋",CM="↲",kM="≤",AM="≦",TM="⟨",DM="⇤",LM="←",OM="←",MM="⇐",RM="⇆",IM="↢",FM="⌈",PM="⟦",NM="⥡",$M="⥙",BM="⇃",jM="⌊",zM="↽",UM="↼",qM="⇇",HM="↔",VM="↔",GM="⇔",WM="⇆",YM="⇋",ZM="↭",XM="⥎",KM="↤",JM="⊣",QM="⥚",eR="⋋",tR="⧏",rR="⊲",iR="⊴",nR="⥑",sR="⥠",oR="⥘",aR="↿",lR="⥒",uR="↼",cR="⪋",dR="⋚",hR="≤",fR="≦",pR="⩽",mR="⪨",gR="⩽",yR="⩿",bR="⪁",vR="⪃",xR="⋚︀",_R="⪓",wR="⪅",ER="⋖",SR="⋚",CR="⪋",kR="⋚",AR="≦",TR="≶",DR="≶",LR="⪡",OR="≲",MR="⩽",RR="≲",IR="⥼",FR="⌊",PR="𝔏",NR="𝔩",$R="≶",BR="⪑",jR="⥢",zR="↽",UR="↼",qR="⥪",HR="▄",VR="Љ",GR="љ",WR="⇇",YR="≪",ZR="⋘",XR="⌞",KR="⇚",JR="⥫",QR="◺",eI="Ŀ",tI="ŀ",rI="⎰",iI="⎰",nI="⪉",sI="⪉",oI="⪇",aI="≨",lI="⪇",uI="≨",cI="⋦",dI="⟬",hI="⇽",fI="⟦",pI="⟵",mI="⟵",gI="⟸",yI="⟷",bI="⟷",vI="⟺",xI="⟼",_I="⟶",wI="⟶",EI="⟹",SI="↫",CI="↬",kI="⦅",AI="𝕃",TI="𝕝",DI="⨭",LI="⨴",OI="∗",MI="_",RI="↙",II="↘",FI="◊",PI="◊",NI="⧫",$I="(",BI="⦓",jI="⇆",zI="⌟",UI="⇋",qI="⥭",HI="‎",VI="⊿",GI="‹",WI="𝓁",YI="ℒ",ZI="↰",XI="↰",KI="≲",JI="⪍",QI="⪏",eF="[",tF="‘",rF="‚",iF="Ł",nF="ł",sF="⪦",oF="⩹",aF="<",lF="<",uF="≪",cF="⋖",dF="⋋",hF="⋉",fF="⥶",pF="⩻",mF="◃",gF="⊴",yF="◂",bF="⦖",vF="⥊",xF="⥦",_F="≨︀",wF="≨︀",EF="¯",SF="♂",CF="✠",kF="✠",AF="↦",TF="↦",DF="↧",LF="↤",OF="↥",MF="▮",RF="⨩",IF="М",FF="м",PF="—",NF="∺",$F="∡",BF=" ",jF="ℳ",zF="𝔐",UF="𝔪",qF="℧",HF="µ",VF="*",GF="⫰",WF="∣",YF="·",ZF="⊟",XF="−",KF="∸",JF="⨪",QF="∓",eP="⫛",tP="…",rP="∓",iP="⊧",nP="𝕄",sP="𝕞",oP="∓",aP="𝓂",lP="ℳ",uP="∾",cP="Μ",dP="μ",hP="⊸",fP="⊸",pP="∇",mP="Ń",gP="ń",yP="∠⃒",bP="≉",vP="⩰̸",xP="≋̸",_P="ŉ",wP="≉",EP="♮",SP="ℕ",CP="♮",kP=" ",AP="≎̸",TP="≏̸",DP="⩃",LP="Ň",OP="ň",MP="Ņ",RP="ņ",IP="≇",FP="⩭̸",PP="⩂",NP="Н",$P="н",BP="–",jP="⤤",zP="↗",UP="⇗",qP="↗",HP="≠",VP="≐̸",GP="​",WP="​",YP="​",ZP="​",XP="≢",KP="⤨",JP="≂̸",QP="≫",e5="≪",t5=`
`,r5="∄",i5="∄",n5="𝔑",s5="𝔫",o5="≧̸",a5="≱",l5="≱",u5="≧̸",c5="⩾̸",d5="⩾̸",h5="⋙̸",f5="≵",p5="≫⃒",m5="≯",g5="≯",y5="≫̸",b5="↮",v5="⇎",x5="⫲",_5="∋",w5="⋼",E5="⋺",S5="∋",C5="Њ",k5="њ",A5="↚",T5="⇍",D5="‥",L5="≦̸",O5="≰",M5="↚",R5="⇍",I5="↮",F5="⇎",P5="≰",N5="≦̸",$5="⩽̸",B5="⩽̸",j5="≮",z5="⋘̸",U5="≴",q5="≪⃒",H5="≮",V5="⋪",G5="⋬",W5="≪̸",Y5="∤",Z5="⁠",X5=" ",K5="𝕟",J5="ℕ",Q5="⫬",e4="¬",t4="≢",r4="≭",i4="∦",n4="∉",s4="≠",o4="≂̸",a4="∄",l4="≯",u4="≱",c4="≧̸",d4="≫̸",h4="≹",f4="⩾̸",p4="≵",m4="≎̸",g4="≏̸",y4="∉",b4="⋵̸",v4="⋹̸",x4="∉",_4="⋷",w4="⋶",E4="⧏̸",S4="⋪",C4="⋬",k4="≮",A4="≰",T4="≸",D4="≪̸",L4="⩽̸",O4="≴",M4="⪢̸",R4="⪡̸",I4="∌",F4="∌",P4="⋾",N4="⋽",$4="⊀",B4="⪯̸",j4="⋠",z4="∌",U4="⧐̸",q4="⋫",H4="⋭",V4="⊏̸",G4="⋢",W4="⊐̸",Y4="⋣",Z4="⊂⃒",X4="⊈",K4="⊁",J4="⪰̸",Q4="⋡",e6="≿̸",t6="⊃⃒",r6="⊉",i6="≁",n6="≄",s6="≇",o6="≉",a6="∤",l6="∦",u6="∦",c6="⫽⃥",d6="∂̸",h6="⨔",f6="⊀",p6="⋠",m6="⊀",g6="⪯̸",y6="⪯̸",b6="⤳̸",v6="↛",x6="⇏",_6="↝̸",w6="↛",E6="⇏",S6="⋫",C6="⋭",k6="⊁",A6="⋡",T6="⪰̸",D6="𝒩",L6="𝓃",O6="∤",M6="∦",R6="≁",I6="≄",F6="≄",P6="∤",N6="∦",$6="⋢",B6="⋣",j6="⊄",z6="⫅̸",U6="⊈",q6="⊂⃒",H6="⊈",V6="⫅̸",G6="⊁",W6="⪰̸",Y6="⊅",Z6="⫆̸",X6="⊉",K6="⊃⃒",J6="⊉",Q6="⫆̸",eN="≹",tN="Ñ",rN="ñ",iN="≸",nN="⋪",sN="⋬",oN="⋫",aN="⋭",lN="Ν",uN="ν",cN="#",dN="№",hN=" ",fN="≍⃒",pN="⊬",mN="⊭",gN="⊮",yN="⊯",bN="≥⃒",vN=">⃒",xN="⤄",_N="⧞",wN="⤂",EN="≤⃒",SN="<⃒",CN="⊴⃒",kN="⤃",AN="⊵⃒",TN="∼⃒",DN="⤣",LN="↖",ON="⇖",MN="↖",RN="⤧",IN="Ó",FN="ó",PN="⊛",NN="Ô",$N="ô",BN="⊚",jN="О",zN="о",UN="⊝",qN="Ő",HN="ő",VN="⨸",GN="⊙",WN="⦼",YN="Œ",ZN="œ",XN="⦿",KN="𝔒",JN="𝔬",QN="˛",e8="Ò",t8="ò",r8="⧁",i8="⦵",n8="Ω",s8="∮",o8="↺",a8="⦾",l8="⦻",u8="‾",c8="⧀",d8="Ō",h8="ō",f8="Ω",p8="ω",m8="Ο",g8="ο",y8="⦶",b8="⊖",v8="𝕆",x8="𝕠",_8="⦷",w8="“",E8="‘",S8="⦹",C8="⊕",k8="↻",A8="⩔",T8="∨",D8="⩝",L8="ℴ",O8="ℴ",M8="ª",R8="º",I8="⊶",F8="⩖",P8="⩗",N8="⩛",$8="Ⓢ",B8="𝒪",j8="ℴ",z8="Ø",U8="ø",q8="⊘",H8="Õ",V8="õ",G8="⨶",W8="⨷",Y8="⊗",Z8="Ö",X8="ö",K8="⌽",J8="‾",Q8="⏞",e$="⎴",t$="⏜",r$="¶",i$="∥",n$="∥",s$="⫳",o$="⫽",a$="∂",l$="∂",u$="П",c$="п",d$="%",h$=".",f$="‰",p$="⊥",m$="‱",g$="𝔓",y$="𝔭",b$="Φ",v$="φ",x$="ϕ",_$="ℳ",w$="☎",E$="Π",S$="π",C$="⋔",k$="ϖ",A$="ℏ",T$="ℎ",D$="ℏ",L$="⨣",O$="⊞",M$="⨢",R$="+",I$="∔",F$="⨥",P$="⩲",N$="±",$$="±",B$="⨦",j$="⨧",z$="±",U$="ℌ",q$="⨕",H$="𝕡",V$="ℙ",G$="£",W$="⪷",Y$="⪻",Z$="≺",X$="≼",K$="⪷",J$="≺",Q$="≼",eB="≺",tB="⪯",rB="≼",iB="≾",nB="⪯",sB="⪹",oB="⪵",aB="⋨",lB="⪯",uB="⪳",cB="≾",dB="′",hB="″",fB="ℙ",pB="⪹",mB="⪵",gB="⋨",yB="∏",bB="∏",vB="⌮",xB="⌒",_B="⌓",wB="∝",EB="∝",SB="∷",CB="∝",kB="≾",AB="⊰",TB="𝒫",DB="𝓅",LB="Ψ",OB="ψ",MB=" ",RB="𝔔",IB="𝔮",FB="⨌",PB="𝕢",NB="ℚ",$B="⁗",BB="𝒬",jB="𝓆",zB="ℍ",UB="⨖",qB="?",HB="≟",VB='"',GB='"',WB="⇛",YB="∽̱",ZB="Ŕ",XB="ŕ",KB="√",JB="⦳",QB="⟩",ej="⟫",tj="⦒",rj="⦥",ij="⟩",nj="»",sj="⥵",oj="⇥",aj="⤠",lj="⤳",uj="→",cj="↠",dj="⇒",hj="⤞",fj="↪",pj="↬",mj="⥅",gj="⥴",yj="⤖",bj="↣",vj="↝",xj="⤚",_j="⤜",wj="∶",Ej="ℚ",Sj="⤍",Cj="⤏",kj="⤐",Aj="❳",Tj="}",Dj="]",Lj="⦌",Oj="⦎",Mj="⦐",Rj="Ř",Ij="ř",Fj="Ŗ",Pj="ŗ",Nj="⌉",$j="}",Bj="Р",jj="р",zj="⤷",Uj="⥩",qj="”",Hj="”",Vj="↳",Gj="ℜ",Wj="ℛ",Yj="ℜ",Zj="ℝ",Xj="ℜ",Kj="▭",Jj="®",Qj="®",e9="∋",t9="⇋",r9="⥯",i9="⥽",n9="⌋",s9="𝔯",o9="ℜ",a9="⥤",l9="⇁",u9="⇀",c9="⥬",d9="Ρ",h9="ρ",f9="ϱ",p9="⟩",m9="⇥",g9="→",y9="→",b9="⇒",v9="⇄",x9="↣",_9="⌉",w9="⟧",E9="⥝",S9="⥕",C9="⇂",k9="⌋",A9="⇁",T9="⇀",D9="⇄",L9="⇌",O9="⇉",M9="↝",R9="↦",I9="⊢",F9="⥛",P9="⋌",N9="⧐",$9="⊳",B9="⊵",j9="⥏",z9="⥜",U9="⥔",q9="↾",H9="⥓",V9="⇀",G9="˚",W9="≓",Y9="⇄",Z9="⇌",X9="‏",K9="⎱",J9="⎱",Q9="⫮",ez="⟭",tz="⇾",rz="⟧",iz="⦆",nz="𝕣",sz="ℝ",oz="⨮",az="⨵",lz="⥰",uz=")",cz="⦔",dz="⨒",hz="⇉",fz="⇛",pz="›",mz="𝓇",gz="ℛ",yz="↱",bz="↱",vz="]",xz="’",_z="’",wz="⋌",Ez="⋊",Sz="▹",Cz="⊵",kz="▸",Az="⧎",Tz="⧴",Dz="⥨",Lz="℞",Oz="Ś",Mz="ś",Rz="‚",Iz="⪸",Fz="Š",Pz="š",Nz="⪼",$z="≻",Bz="≽",jz="⪰",zz="⪴",Uz="Ş",qz="ş",Hz="Ŝ",Vz="ŝ",Gz="⪺",Wz="⪶",Yz="⋩",Zz="⨓",Xz="≿",Kz="С",Jz="с",Qz="⊡",e7="⋅",t7="⩦",r7="⤥",i7="↘",n7="⇘",s7="↘",o7="§",a7=";",l7="⤩",u7="∖",c7="∖",d7="✶",h7="𝔖",f7="𝔰",p7="⌢",m7="♯",g7="Щ",y7="щ",b7="Ш",v7="ш",x7="↓",_7="←",w7="∣",E7="∥",S7="→",C7="↑",k7="­",A7="Σ",T7="σ",D7="ς",L7="ς",O7="∼",M7="⩪",R7="≃",I7="≃",F7="⪞",P7="⪠",N7="⪝",$7="⪟",B7="≆",j7="⨤",z7="⥲",U7="←",q7="∘",H7="∖",V7="⨳",G7="⧤",W7="∣",Y7="⌣",Z7="⪪",X7="⪬",K7="⪬︀",J7="Ь",Q7="ь",eU="⌿",tU="⧄",rU="/",iU="𝕊",nU="𝕤",sU="♠",oU="♠",aU="∥",lU="⊓",uU="⊓︀",cU="⊔",dU="⊔︀",hU="√",fU="⊏",pU="⊑",mU="⊏",gU="⊑",yU="⊐",bU="⊒",vU="⊐",xU="⊒",_U="□",wU="□",EU="⊓",SU="⊏",CU="⊑",kU="⊐",AU="⊒",TU="⊔",DU="▪",LU="□",OU="▪",MU="→",RU="𝒮",IU="𝓈",FU="∖",PU="⌣",NU="⋆",$U="⋆",BU="☆",jU="★",zU="ϵ",UU="ϕ",qU="¯",HU="⊂",VU="⋐",GU="⪽",WU="⫅",YU="⊆",ZU="⫃",XU="⫁",KU="⫋",JU="⊊",QU="⪿",eq="⥹",tq="⊂",rq="⋐",iq="⊆",nq="⫅",sq="⊆",oq="⊊",aq="⫋",lq="⫇",uq="⫕",cq="⫓",dq="⪸",hq="≻",fq="≽",pq="≻",mq="⪰",gq="≽",yq="≿",bq="⪰",vq="⪺",xq="⪶",_q="⋩",wq="≿",Eq="∋",Sq="∑",Cq="∑",kq="♪",Aq="¹",Tq="²",Dq="³",Lq="⊃",Oq="⋑",Mq="⪾",Rq="⫘",Iq="⫆",Fq="⊇",Pq="⫄",Nq="⊃",$q="⊇",Bq="⟉",jq="⫗",zq="⥻",Uq="⫂",qq="⫌",Hq="⊋",Vq="⫀",Gq="⊃",Wq="⋑",Yq="⊇",Zq="⫆",Xq="⊋",Kq="⫌",Jq="⫈",Qq="⫔",eH="⫖",tH="⤦",rH="↙",iH="⇙",nH="↙",sH="⤪",oH="ß",aH="	",lH="⌖",uH="Τ",cH="τ",dH="⎴",hH="Ť",fH="ť",pH="Ţ",mH="ţ",gH="Т",yH="т",bH="⃛",vH="⌕",xH="𝔗",_H="𝔱",wH="∴",EH="∴",SH="∴",CH="Θ",kH="θ",AH="ϑ",TH="ϑ",DH="≈",LH="∼",OH="  ",MH=" ",RH=" ",IH="≈",FH="∼",PH="Þ",NH="þ",$H="˜",BH="∼",jH="≃",zH="≅",UH="≈",qH="⨱",HH="⊠",VH="×",GH="⨰",WH="∭",YH="⤨",ZH="⌶",XH="⫱",KH="⊤",JH="𝕋",QH="𝕥",eV="⫚",tV="⤩",rV="‴",iV="™",nV="™",sV="▵",oV="▿",aV="◃",lV="⊴",uV="≜",cV="▹",dV="⊵",hV="◬",fV="≜",pV="⨺",mV="⃛",gV="⨹",yV="⧍",bV="⨻",vV="⏢",xV="𝒯",_V="𝓉",wV="Ц",EV="ц",SV="Ћ",CV="ћ",kV="Ŧ",AV="ŧ",TV="≬",DV="↞",LV="↠",OV="Ú",MV="ú",RV="↑",IV="↟",FV="⇑",PV="⥉",NV="Ў",$V="ў",BV="Ŭ",jV="ŭ",zV="Û",UV="û",qV="У",HV="у",VV="⇅",GV="Ű",WV="ű",YV="⥮",ZV="⥾",XV="𝔘",KV="𝔲",JV="Ù",QV="ù",eG="⥣",tG="↿",rG="↾",iG="▀",nG="⌜",sG="⌜",oG="⌏",aG="◸",lG="Ū",uG="ū",cG="¨",dG="_",hG="⏟",fG="⎵",pG="⏝",mG="⋃",gG="⊎",yG="Ų",bG="ų",vG="𝕌",xG="𝕦",_G="⤒",wG="↑",EG="↑",SG="⇑",CG="⇅",kG="↕",AG="↕",TG="⇕",DG="⥮",LG="↿",OG="↾",MG="⊎",RG="↖",IG="↗",FG="υ",PG="ϒ",NG="ϒ",$G="Υ",BG="υ",jG="↥",zG="⊥",UG="⇈",qG="⌝",HG="⌝",VG="⌎",GG="Ů",WG="ů",YG="◹",ZG="𝒰",XG="𝓊",KG="⋰",JG="Ũ",QG="ũ",eW="▵",tW="▴",rW="⇈",iW="Ü",nW="ü",sW="⦧",oW="⦜",aW="ϵ",lW="ϰ",uW="∅",cW="ϕ",dW="ϖ",hW="∝",fW="↕",pW="⇕",mW="ϱ",gW="ς",yW="⊊︀",bW="⫋︀",vW="⊋︀",xW="⫌︀",_W="ϑ",wW="⊲",EW="⊳",SW="⫨",CW="⫫",kW="⫩",AW="В",TW="в",DW="⊢",LW="⊨",OW="⊩",MW="⊫",RW="⫦",IW="⊻",FW="∨",PW="⋁",NW="≚",$W="⋮",BW="|",jW="‖",zW="|",UW="‖",qW="∣",HW="|",VW="❘",GW="≀",WW=" ",YW="𝔙",ZW="𝔳",XW="⊲",KW="⊂⃒",JW="⊃⃒",QW="𝕍",eY="𝕧",tY="∝",rY="⊳",iY="𝒱",nY="𝓋",sY="⫋︀",oY="⊊︀",aY="⫌︀",lY="⊋︀",uY="⊪",cY="⦚",dY="Ŵ",hY="ŵ",fY="⩟",pY="∧",mY="⋀",gY="≙",yY="℘",bY="𝔚",vY="𝔴",xY="𝕎",_Y="𝕨",wY="℘",EY="≀",SY="≀",CY="𝒲",kY="𝓌",AY="⋂",TY="◯",DY="⋃",LY="▽",OY="𝔛",MY="𝔵",RY="⟷",IY="⟺",FY="Ξ",PY="ξ",NY="⟵",$Y="⟸",BY="⟼",jY="⋻",zY="⨀",UY="𝕏",qY="𝕩",HY="⨁",VY="⨂",GY="⟶",WY="⟹",YY="𝒳",ZY="𝓍",XY="⨆",KY="⨄",JY="△",QY="⋁",eZ="⋀",tZ="Ý",rZ="ý",iZ="Я",nZ="я",sZ="Ŷ",oZ="ŷ",aZ="Ы",lZ="ы",uZ="¥",cZ="𝔜",dZ="𝔶",hZ="Ї",fZ="ї",pZ="𝕐",mZ="𝕪",gZ="𝒴",yZ="𝓎",bZ="Ю",vZ="ю",xZ="ÿ",_Z="Ÿ",wZ="Ź",EZ="ź",SZ="Ž",CZ="ž",kZ="З",AZ="з",TZ="Ż",DZ="ż",LZ="ℨ",OZ="​",MZ="Ζ",RZ="ζ",IZ="𝔷",FZ="ℨ",PZ="Ж",NZ="ж",$Z="⇝",BZ="𝕫",jZ="ℤ",zZ="𝒵",UZ="𝓏",qZ="‍",HZ="‌",Kfe={Aacute:x,aacute:w,Abreve:S,abreve:C,ac:k,acd:O,acE:M,Acirc:A,acirc:I,acute:R,Acy:V,acy:oe,AElig:L,aelig:F,af:U,Afr:Y,afr:G,Agrave:Q,agrave:J,alefsym:re,aleph:pe,Alpha:ee,alpha:B,Amacr:ge,amacr:ve,amalg:ze,amp:it,AMP:tt,andand:Ne,And:Xe,and:nt,andd:vt,andslope:Dt,andv:Rt,ang:Er,ange:or,angle:di,angmsdaa:We,angmsdab:he,angmsdac:ue,angmsdad:ae,angmsdae:me,angmsdaf:T,angmsdag:$,angmsdah:W,angmsd:K,angrt:ye,angrtvb:xe,angrtvbd:Me,angsph:j,angst:te,angzarr:de,Aogon:ce,aogon:Ae,Aopf:Ce,aopf:Se,apacir:De,ap:Ie,apE:Ve,ape:ot,apid:lt,apos:$t,ApplyFunction:mt,approx:zt,approxeq:Ht,Aring:Vt,aring:fr,Ascr:Yt,ascr:ri,Assign:dn,ast:hn,asymp:on,asympeq:$s,Atilde:Sr,atilde:ai,Auml:hi,auml:$r,awconint:pr,awint:an,backcong:Ir,backepsilon:Cn,backprime:ur,backsim:qn,backsimeq:fe,Backslash:Te,Barv:rt,barvee:Ye,barwed:bt,Barwed:qt,barwedge:Wt,bbrk:pt,bbrktbrk:Je,bcong:Kt,Bcy:Jt,bcy:Lt,bdquo:Ct,becaus:ii,because:Li,Because:Bt,bemptyv:He,bepsi:ht,bernou:Dr,Bernoullis:li,Beta:ni,beta:ui,beth:qr,between:Ot,Bfr:Ki,bfr:fn,bigcap:pn,bigcirc:kn,bigcup:Hn,bigodot:ps,bigoplus:ms,bigotimes:gs,bigsqcup:Dn,bigstar:Bs,bigtriangledown:ys,bigtriangleup:Ii,biguplus:bs,bigvee:es,bigwedge:Vn,bkarow:Gn,blacklozenge:Wn,blacksquare:vs,blacktriangle:ho,blacktriangledown:ts,blacktriangleleft:fo,blacktriangleright:js,blank:Oi,blk12:Yn,blk14:An,blk34:Ks,block:rs,bne:wn,bnequiv:Ln,bNot:xs,bnot:ln,Bopf:_s,bopf:po,bot:Zn,bottom:ie,bowtie:X,boxbox:Oe,boxdl:Ke,boxdL:Pt,boxDl:kt,boxDL:cr,boxdr:Lr,boxdR:Br,boxDr:jr,boxDR:zr,boxh:Ei,boxH:Or,boxhd:Fi,boxHd:On,boxhD:is,boxHD:tn,boxhu:rn,boxHu:Ts,boxhU:bi,boxHU:Js,boxminus:Ca,boxplus:Eo,boxtimes:So,boxul:il,boxuL:ka,boxUl:Z,boxUL:_e,boxur:qe,boxuR:gt,boxUr:jt,boxUR:Mt,boxv:ir,boxV:Xr,boxvh:fi,boxvH:mn,boxVh:Mn,boxVH:Ui,boxvl:Ji,boxvL:ke,boxVl:at,boxVL:It,boxvr:Cr,boxvR:Kr,boxVr:yr,boxVR:nn,bprime:mo,breve:$p,Breve:by,brvbar:Bp,bscr:jp,Bscr:Au,bsemi:zp,bsim:Up,bsime:xh,bsolb:Uc,bsol:qp,bsolhsub:qc,bull:Co,bullet:Hp,bump:_h,bumpE:wh,bumpe:Vp,Bumpeq:Gp,bumpeq:Eh,Cacute:vy,cacute:xy,capand:_y,capbrcup:Pl,capcap:Nl,cap:Sh,Cap:Ch,capcup:Wp,capdot:kh,CapitalDifferentialD:nl,caps:sl,caret:Ds,caron:Aa,Cayleys:Ta,ccaps:Hc,Ccaron:Yp,ccaron:Tu,Ccedil:Zp,ccedil:Ah,Ccirc:Vc,ccirc:wy,Cconint:Th,ccups:Xp,ccupssm:Dh,Cdot:Lh,cdot:$l,cedil:Gc,Cedilla:Kp,cemptyv:Wc,cent:Oh,centerdot:Mh,CenterDot:Bl,cfr:Du,Cfr:Yc,CHcy:Jp,chcy:Lu,check:Qp,checkmark:ol,Chi:Ou,chi:al,circ:Mu,circeq:jl,circlearrowleft:em,circlearrowright:tm,circledast:rm,circledcirc:Ey,circleddash:ll,CircleDot:ul,circledR:Sy,circledS:Cy,CircleMinus:ky,CirclePlus:Ay,CircleTimes:Ty,cir:zs,cirE:Rn,cire:ws,cirfnint:In,cirmid:Ru,cirscir:Dy,ClockwiseContourIntegral:Zc,CloseCurlyDoubleQuote:Ly,CloseCurlyQuote:Rh,clubs:im,clubsuit:Ih,colon:Fh,Colon:Ph,Colone:nm,colone:sm,coloneq:Nh,comma:om,commat:Iu,comp:Oy,compfn:Xc,complement:ua,complexes:am,cong:My,congdot:lm,Congruent:Qs,conint:pi,Conint:ko,ContourIntegral:Da,copf:La,Copf:um,coprod:$h,Coproduct:cm,copy:Bh,COPY:Fu,copysr:dm,CounterClockwiseContourIntegral:jh,crarr:Oa,cross:hm,Cross:fm,Cscr:Kc,cscr:zh,csub:pm,csube:mm,csup:Ry,csupe:Jc,ctdot:gm,cudarrl:Iy,cudarrr:ym,cuepr:zl,cuesc:Uh,cularr:Qc,cularrp:bm,cupbrcap:qh,cupcap:vm,CupCap:xm,cup:ns,Cup:ed,cupcup:_m,cupdot:wm,cupor:Em,cups:Ul,curarr:td,curarrm:Sm,curlyeqprec:Cm,curlyeqsucc:km,curlyvee:ql,curlywedge:Am,curren:rd,curvearrowleft:Tm,curvearrowright:Pu,cuvee:Hl,cuwed:Dm,cwconint:Lm,cwint:Om,cylcty:Nu,dagger:$u,Dagger:Bu,daleth:ju,darr:Mm,Darr:Rm,dArr:Ma,dash:Vl,Dashv:zu,dashv:Im,dbkarow:Fy,dblac:Py,Dcaron:Ls,dcaron:Fm,Dcy:Ny,dcy:Pm,ddagger:Nm,ddarr:$m,DD:$y,dd:By,DDotrahd:Ra,ddotseq:Uu,deg:id,Del:qu,Delta:ca,delta:jy,demptyv:zy,dfisht:Gl,Dfr:Bm,dfr:jm,dHar:zm,dharl:nd,dharr:Wl,DiacriticalAcute:Hh,DiacriticalDot:Vh,DiacriticalDoubleAcute:Gh,DiacriticalGrave:Hu,DiacriticalTilde:Um,diam:qm,diamond:sd,Diamond:Uy,diamondsuit:Vu,diams:Hm,die:Vm,DifferentialD:Wh,digamma:Gm,disin:Wm,div:Ym,divide:Gu,divideontimes:Wu,divonx:Yh,DJcy:Zm,djcy:Xm,dlcorn:Km,dlcrop:Zh,dollar:Jm,Dopf:Qm,dopf:Yl,Dot:eg,dot:od,DotDot:qy,doteq:Hy,doteqdot:Qi,DotEqual:Xh,dotminus:Yu,dotplus:Ao,dotsquare:ad,doublebarwedge:Kh,DoubleContourIntegral:tg,DoubleDot:rg,DoubleDownArrow:ig,DoubleLeftArrow:ng,DoubleLeftRightArrow:sg,DoubleLeftTee:Jh,DoubleLongLeftArrow:og,DoubleLongLeftRightArrow:Si,DoubleLongRightArrow:ag,DoubleRightArrow:Zl,DoubleRightTee:ld,DoubleUpArrow:Vy,DoubleUpDownArrow:gn,DoubleVerticalBar:Gy,DownArrowBar:ud,downarrow:c,DownArrow:m,Downarrow:_,DownArrowUpArrow:v,DownBreve:E,downdownarrows:D,downharpoonleft:P,downharpoonright:N,DownLeftRightVector:q,DownLeftTeeVector:H,DownLeftVectorBar:se,DownLeftVector:le,DownRightTeeVector:we,DownRightVectorBar:be,DownRightVector:Fe,DownTeeArrow:Pe,DownTee:Re,drbkarow:Ue,drcorn:Qe,drcrop:Ze,Dscr:dt,dscr:ut,DScy:ft,dscy:Qt,dsol:St,Dstrok:wr,dstrok:Zt,dtdot:Hr,dtri:mi,dtrif:Vr,duarr:Mr,duhar:Gr,dwangle:mr,DZcy:gi,dzcy:dr,dzigrarr:Fr,Eacute:br,eacute:Qr,easter:Es,Ecaron:yi,ecaron:ss,Ecirc:os,ecirc:Yi,ecir:Ss,ecolon:go,Ecy:Xn,ecy:To,eDDot:cd,Edot:lg,edot:cl,eDot:Us,ee:Ia,efDot:Wy,Efr:Xl,efr:Qh,eg:Zu,Egrave:dd,egrave:Xu,egs:ef,egsdot:ug,el:tf,Element:cg,elinters:dg,ell:hg,els:wk,elsdot:Ek,Emacr:Sk,emacr:Ck,empty:kk,emptyset:Ak,EmptySmallSquare:Tk,emptyv:Dk,EmptyVerySmallSquare:Lk,emsp13:Ok,emsp14:Mk,emsp:Rk,ENG:Ik,eng:Fk,ensp:Pk,Eogon:Nk,eogon:$k,Eopf:Bk,eopf:jk,epar:zk,eparsl:Uk,eplus:qk,epsi:Hk,Epsilon:Vk,epsilon:Gk,epsiv:Wk,eqcirc:Yk,eqcolon:Zk,eqsim:Xk,eqslantgtr:Kk,eqslantless:Jk,Equal:Qk,equals:eA,EqualTilde:tA,equest:rA,Equilibrium:iA,equiv:nA,equivDD:sA,eqvparsl:oA,erarr:aA,erDot:lA,escr:uA,Escr:cA,esdot:dA,Esim:hA,esim:fA,Eta:pA,eta:mA,ETH:gA,eth:yA,Euml:bA,euml:vA,euro:xA,excl:_A,exist:wA,Exists:EA,expectation:SA,exponentiale:CA,ExponentialE:kA,fallingdotseq:AA,Fcy:TA,fcy:DA,female:LA,ffilig:OA,fflig:MA,ffllig:RA,Ffr:IA,ffr:FA,filig:PA,FilledSmallSquare:NA,FilledVerySmallSquare:$A,fjlig:BA,flat:jA,fllig:zA,fltns:UA,fnof:qA,Fopf:HA,fopf:VA,forall:GA,ForAll:WA,fork:YA,forkv:ZA,Fouriertrf:XA,fpartint:KA,frac12:JA,frac13:QA,frac14:eT,frac15:tT,frac16:rT,frac18:iT,frac23:nT,frac25:sT,frac34:oT,frac35:aT,frac38:lT,frac45:uT,frac56:cT,frac58:dT,frac78:hT,frasl:fT,frown:pT,fscr:mT,Fscr:gT,gacute:yT,Gamma:bT,gamma:vT,Gammad:xT,gammad:_T,gap:wT,Gbreve:ET,gbreve:ST,Gcedil:CT,Gcirc:kT,gcirc:AT,Gcy:TT,gcy:DT,Gdot:LT,gdot:OT,ge:MT,gE:RT,gEl:IT,gel:FT,geq:PT,geqq:NT,geqslant:$T,gescc:BT,ges:jT,gesdot:zT,gesdoto:UT,gesdotol:qT,gesl:HT,gesles:VT,Gfr:GT,gfr:WT,gg:YT,Gg:ZT,ggg:XT,gimel:KT,GJcy:JT,gjcy:QT,gla:eD,gl:tD,glE:rD,glj:iD,gnap:nD,gnapprox:sD,gne:oD,gnE:aD,gneq:lD,gneqq:uD,gnsim:cD,Gopf:dD,gopf:hD,grave:fD,GreaterEqual:pD,GreaterEqualLess:mD,GreaterFullEqual:gD,GreaterGreater:yD,GreaterLess:bD,GreaterSlantEqual:vD,GreaterTilde:xD,Gscr:_D,gscr:wD,gsim:ED,gsime:SD,gsiml:CD,gtcc:kD,gtcir:AD,gt:TD,GT:DD,Gt:LD,gtdot:OD,gtlPar:MD,gtquest:RD,gtrapprox:ID,gtrarr:FD,gtrdot:PD,gtreqless:ND,gtreqqless:$D,gtrless:BD,gtrsim:jD,gvertneqq:zD,gvnE:UD,Hacek:qD,hairsp:HD,half:VD,hamilt:GD,HARDcy:WD,hardcy:YD,harrcir:ZD,harr:XD,hArr:KD,harrw:JD,Hat:QD,hbar:e3,Hcirc:t3,hcirc:r3,hearts:i3,heartsuit:n3,hellip:s3,hercon:o3,hfr:a3,Hfr:l3,HilbertSpace:u3,hksearow:c3,hkswarow:d3,hoarr:h3,homtht:f3,hookleftarrow:p3,hookrightarrow:m3,hopf:g3,Hopf:y3,horbar:b3,HorizontalLine:v3,hscr:x3,Hscr:_3,hslash:w3,Hstrok:E3,hstrok:S3,HumpDownHump:C3,HumpEqual:k3,hybull:A3,hyphen:T3,Iacute:D3,iacute:L3,ic:O3,Icirc:M3,icirc:R3,Icy:I3,icy:F3,Idot:P3,IEcy:N3,iecy:$3,iexcl:B3,iff:j3,ifr:z3,Ifr:U3,Igrave:q3,igrave:H3,ii:V3,iiiint:G3,iiint:W3,iinfin:Y3,iiota:Z3,IJlig:X3,ijlig:K3,Imacr:J3,imacr:Q3,image:eL,ImaginaryI:tL,imagline:rL,imagpart:iL,imath:nL,Im:sL,imof:oL,imped:aL,Implies:lL,incare:uL,in:"∈",infin:cL,infintie:dL,inodot:hL,intcal:fL,int:pL,Int:mL,integers:gL,Integral:yL,intercal:bL,Intersection:vL,intlarhk:xL,intprod:_L,InvisibleComma:wL,InvisibleTimes:EL,IOcy:SL,iocy:CL,Iogon:kL,iogon:AL,Iopf:TL,iopf:DL,Iota:LL,iota:OL,iprod:ML,iquest:RL,iscr:IL,Iscr:FL,isin:PL,isindot:NL,isinE:$L,isins:BL,isinsv:jL,isinv:zL,it:UL,Itilde:qL,itilde:HL,Iukcy:VL,iukcy:GL,Iuml:WL,iuml:YL,Jcirc:ZL,jcirc:XL,Jcy:KL,jcy:JL,Jfr:QL,jfr:eO,jmath:tO,Jopf:rO,jopf:iO,Jscr:nO,jscr:sO,Jsercy:oO,jsercy:aO,Jukcy:lO,jukcy:uO,Kappa:cO,kappa:dO,kappav:hO,Kcedil:fO,kcedil:pO,Kcy:mO,kcy:gO,Kfr:yO,kfr:bO,kgreen:vO,KHcy:xO,khcy:_O,KJcy:wO,kjcy:EO,Kopf:SO,kopf:CO,Kscr:kO,kscr:AO,lAarr:TO,Lacute:DO,lacute:LO,laemptyv:OO,lagran:MO,Lambda:RO,lambda:IO,lang:FO,Lang:PO,langd:NO,langle:$O,lap:BO,Laplacetrf:jO,laquo:zO,larrb:UO,larrbfs:qO,larr:HO,Larr:VO,lArr:GO,larrfs:WO,larrhk:YO,larrlp:ZO,larrpl:XO,larrsim:KO,larrtl:JO,latail:QO,lAtail:eM,lat:tM,late:rM,lates:iM,lbarr:nM,lBarr:sM,lbbrk:oM,lbrace:aM,lbrack:lM,lbrke:uM,lbrksld:cM,lbrkslu:dM,Lcaron:hM,lcaron:fM,Lcedil:pM,lcedil:mM,lceil:gM,lcub:yM,Lcy:bM,lcy:vM,ldca:xM,ldquo:_M,ldquor:wM,ldrdhar:EM,ldrushar:SM,ldsh:CM,le:kM,lE:AM,LeftAngleBracket:TM,LeftArrowBar:DM,leftarrow:LM,LeftArrow:OM,Leftarrow:MM,LeftArrowRightArrow:RM,leftarrowtail:IM,LeftCeiling:FM,LeftDoubleBracket:PM,LeftDownTeeVector:NM,LeftDownVectorBar:$M,LeftDownVector:BM,LeftFloor:jM,leftharpoondown:zM,leftharpoonup:UM,leftleftarrows:qM,leftrightarrow:HM,LeftRightArrow:VM,Leftrightarrow:GM,leftrightarrows:WM,leftrightharpoons:YM,leftrightsquigarrow:ZM,LeftRightVector:XM,LeftTeeArrow:KM,LeftTee:JM,LeftTeeVector:QM,leftthreetimes:eR,LeftTriangleBar:tR,LeftTriangle:rR,LeftTriangleEqual:iR,LeftUpDownVector:nR,LeftUpTeeVector:sR,LeftUpVectorBar:oR,LeftUpVector:aR,LeftVectorBar:lR,LeftVector:uR,lEg:cR,leg:dR,leq:hR,leqq:fR,leqslant:pR,lescc:mR,les:gR,lesdot:yR,lesdoto:bR,lesdotor:vR,lesg:xR,lesges:_R,lessapprox:wR,lessdot:ER,lesseqgtr:SR,lesseqqgtr:CR,LessEqualGreater:kR,LessFullEqual:AR,LessGreater:TR,lessgtr:DR,LessLess:LR,lesssim:OR,LessSlantEqual:MR,LessTilde:RR,lfisht:IR,lfloor:FR,Lfr:PR,lfr:NR,lg:$R,lgE:BR,lHar:jR,lhard:zR,lharu:UR,lharul:qR,lhblk:HR,LJcy:VR,ljcy:GR,llarr:WR,ll:YR,Ll:ZR,llcorner:XR,Lleftarrow:KR,llhard:JR,lltri:QR,Lmidot:eI,lmidot:tI,lmoustache:rI,lmoust:iI,lnap:nI,lnapprox:sI,lne:oI,lnE:aI,lneq:lI,lneqq:uI,lnsim:cI,loang:dI,loarr:hI,lobrk:fI,longleftarrow:pI,LongLeftArrow:mI,Longleftarrow:gI,longleftrightarrow:yI,LongLeftRightArrow:bI,Longleftrightarrow:vI,longmapsto:xI,longrightarrow:_I,LongRightArrow:wI,Longrightarrow:EI,looparrowleft:SI,looparrowright:CI,lopar:kI,Lopf:AI,lopf:TI,loplus:DI,lotimes:LI,lowast:OI,lowbar:MI,LowerLeftArrow:RI,LowerRightArrow:II,loz:FI,lozenge:PI,lozf:NI,lpar:$I,lparlt:BI,lrarr:jI,lrcorner:zI,lrhar:UI,lrhard:qI,lrm:HI,lrtri:VI,lsaquo:GI,lscr:WI,Lscr:YI,lsh:ZI,Lsh:XI,lsim:KI,lsime:JI,lsimg:QI,lsqb:eF,lsquo:tF,lsquor:rF,Lstrok:iF,lstrok:nF,ltcc:sF,ltcir:oF,lt:aF,LT:lF,Lt:uF,ltdot:cF,lthree:dF,ltimes:hF,ltlarr:fF,ltquest:pF,ltri:mF,ltrie:gF,ltrif:yF,ltrPar:bF,lurdshar:vF,luruhar:xF,lvertneqq:_F,lvnE:wF,macr:EF,male:SF,malt:CF,maltese:kF,Map:"⤅",map:AF,mapsto:TF,mapstodown:DF,mapstoleft:LF,mapstoup:OF,marker:MF,mcomma:RF,Mcy:IF,mcy:FF,mdash:PF,mDDot:NF,measuredangle:$F,MediumSpace:BF,Mellintrf:jF,Mfr:zF,mfr:UF,mho:qF,micro:HF,midast:VF,midcir:GF,mid:WF,middot:YF,minusb:ZF,minus:XF,minusd:KF,minusdu:JF,MinusPlus:QF,mlcp:eP,mldr:tP,mnplus:rP,models:iP,Mopf:nP,mopf:sP,mp:oP,mscr:aP,Mscr:lP,mstpos:uP,Mu:cP,mu:dP,multimap:hP,mumap:fP,nabla:pP,Nacute:mP,nacute:gP,nang:yP,nap:bP,napE:vP,napid:xP,napos:_P,napprox:wP,natural:EP,naturals:SP,natur:CP,nbsp:kP,nbump:AP,nbumpe:TP,ncap:DP,Ncaron:LP,ncaron:OP,Ncedil:MP,ncedil:RP,ncong:IP,ncongdot:FP,ncup:PP,Ncy:NP,ncy:$P,ndash:BP,nearhk:jP,nearr:zP,neArr:UP,nearrow:qP,ne:HP,nedot:VP,NegativeMediumSpace:GP,NegativeThickSpace:WP,NegativeThinSpace:YP,NegativeVeryThinSpace:ZP,nequiv:XP,nesear:KP,nesim:JP,NestedGreaterGreater:QP,NestedLessLess:e5,NewLine:t5,nexist:r5,nexists:i5,Nfr:n5,nfr:s5,ngE:o5,nge:a5,ngeq:l5,ngeqq:u5,ngeqslant:c5,nges:d5,nGg:h5,ngsim:f5,nGt:p5,ngt:m5,ngtr:g5,nGtv:y5,nharr:b5,nhArr:v5,nhpar:x5,ni:_5,nis:w5,nisd:E5,niv:S5,NJcy:C5,njcy:k5,nlarr:A5,nlArr:T5,nldr:D5,nlE:L5,nle:O5,nleftarrow:M5,nLeftarrow:R5,nleftrightarrow:I5,nLeftrightarrow:F5,nleq:P5,nleqq:N5,nleqslant:$5,nles:B5,nless:j5,nLl:z5,nlsim:U5,nLt:q5,nlt:H5,nltri:V5,nltrie:G5,nLtv:W5,nmid:Y5,NoBreak:Z5,NonBreakingSpace:X5,nopf:K5,Nopf:J5,Not:Q5,not:e4,NotCongruent:t4,NotCupCap:r4,NotDoubleVerticalBar:i4,NotElement:n4,NotEqual:s4,NotEqualTilde:o4,NotExists:a4,NotGreater:l4,NotGreaterEqual:u4,NotGreaterFullEqual:c4,NotGreaterGreater:d4,NotGreaterLess:h4,NotGreaterSlantEqual:f4,NotGreaterTilde:p4,NotHumpDownHump:m4,NotHumpEqual:g4,notin:y4,notindot:b4,notinE:v4,notinva:x4,notinvb:_4,notinvc:w4,NotLeftTriangleBar:E4,NotLeftTriangle:S4,NotLeftTriangleEqual:C4,NotLess:k4,NotLessEqual:A4,NotLessGreater:T4,NotLessLess:D4,NotLessSlantEqual:L4,NotLessTilde:O4,NotNestedGreaterGreater:M4,NotNestedLessLess:R4,notni:I4,notniva:F4,notnivb:P4,notnivc:N4,NotPrecedes:$4,NotPrecedesEqual:B4,NotPrecedesSlantEqual:j4,NotReverseElement:z4,NotRightTriangleBar:U4,NotRightTriangle:q4,NotRightTriangleEqual:H4,NotSquareSubset:V4,NotSquareSubsetEqual:G4,NotSquareSuperset:W4,NotSquareSupersetEqual:Y4,NotSubset:Z4,NotSubsetEqual:X4,NotSucceeds:K4,NotSucceedsEqual:J4,NotSucceedsSlantEqual:Q4,NotSucceedsTilde:e6,NotSuperset:t6,NotSupersetEqual:r6,NotTilde:i6,NotTildeEqual:n6,NotTildeFullEqual:s6,NotTildeTilde:o6,NotVerticalBar:a6,nparallel:l6,npar:u6,nparsl:c6,npart:d6,npolint:h6,npr:f6,nprcue:p6,nprec:m6,npreceq:g6,npre:y6,nrarrc:b6,nrarr:v6,nrArr:x6,nrarrw:_6,nrightarrow:w6,nRightarrow:E6,nrtri:S6,nrtrie:C6,nsc:k6,nsccue:A6,nsce:T6,Nscr:D6,nscr:L6,nshortmid:O6,nshortparallel:M6,nsim:R6,nsime:I6,nsimeq:F6,nsmid:P6,nspar:N6,nsqsube:$6,nsqsupe:B6,nsub:j6,nsubE:z6,nsube:U6,nsubset:q6,nsubseteq:H6,nsubseteqq:V6,nsucc:G6,nsucceq:W6,nsup:Y6,nsupE:Z6,nsupe:X6,nsupset:K6,nsupseteq:J6,nsupseteqq:Q6,ntgl:eN,Ntilde:tN,ntilde:rN,ntlg:iN,ntriangleleft:nN,ntrianglelefteq:sN,ntriangleright:oN,ntrianglerighteq:aN,Nu:lN,nu:uN,num:cN,numero:dN,numsp:hN,nvap:fN,nvdash:pN,nvDash:mN,nVdash:gN,nVDash:yN,nvge:bN,nvgt:vN,nvHarr:xN,nvinfin:_N,nvlArr:wN,nvle:EN,nvlt:SN,nvltrie:CN,nvrArr:kN,nvrtrie:AN,nvsim:TN,nwarhk:DN,nwarr:LN,nwArr:ON,nwarrow:MN,nwnear:RN,Oacute:IN,oacute:FN,oast:PN,Ocirc:NN,ocirc:$N,ocir:BN,Ocy:jN,ocy:zN,odash:UN,Odblac:qN,odblac:HN,odiv:VN,odot:GN,odsold:WN,OElig:YN,oelig:ZN,ofcir:XN,Ofr:KN,ofr:JN,ogon:QN,Ograve:e8,ograve:t8,ogt:r8,ohbar:i8,ohm:n8,oint:s8,olarr:o8,olcir:a8,olcross:l8,oline:u8,olt:c8,Omacr:d8,omacr:h8,Omega:f8,omega:p8,Omicron:m8,omicron:g8,omid:y8,ominus:b8,Oopf:v8,oopf:x8,opar:_8,OpenCurlyDoubleQuote:w8,OpenCurlyQuote:E8,operp:S8,oplus:C8,orarr:k8,Or:A8,or:T8,ord:D8,order:L8,orderof:O8,ordf:M8,ordm:R8,origof:I8,oror:F8,orslope:P8,orv:N8,oS:$8,Oscr:B8,oscr:j8,Oslash:z8,oslash:U8,osol:q8,Otilde:H8,otilde:V8,otimesas:G8,Otimes:W8,otimes:Y8,Ouml:Z8,ouml:X8,ovbar:K8,OverBar:J8,OverBrace:Q8,OverBracket:e$,OverParenthesis:t$,para:r$,parallel:i$,par:n$,parsim:s$,parsl:o$,part:a$,PartialD:l$,Pcy:u$,pcy:c$,percnt:d$,period:h$,permil:f$,perp:p$,pertenk:m$,Pfr:g$,pfr:y$,Phi:b$,phi:v$,phiv:x$,phmmat:_$,phone:w$,Pi:E$,pi:S$,pitchfork:C$,piv:k$,planck:A$,planckh:T$,plankv:D$,plusacir:L$,plusb:O$,pluscir:M$,plus:R$,plusdo:I$,plusdu:F$,pluse:P$,PlusMinus:N$,plusmn:$$,plussim:B$,plustwo:j$,pm:z$,Poincareplane:U$,pointint:q$,popf:H$,Popf:V$,pound:G$,prap:W$,Pr:Y$,pr:Z$,prcue:X$,precapprox:K$,prec:J$,preccurlyeq:Q$,Precedes:eB,PrecedesEqual:tB,PrecedesSlantEqual:rB,PrecedesTilde:iB,preceq:nB,precnapprox:sB,precneqq:oB,precnsim:aB,pre:lB,prE:uB,precsim:cB,prime:dB,Prime:hB,primes:fB,prnap:pB,prnE:mB,prnsim:gB,prod:yB,Product:bB,profalar:vB,profline:xB,profsurf:_B,prop:wB,Proportional:EB,Proportion:SB,propto:CB,prsim:kB,prurel:AB,Pscr:TB,pscr:DB,Psi:LB,psi:OB,puncsp:MB,Qfr:RB,qfr:IB,qint:FB,qopf:PB,Qopf:NB,qprime:$B,Qscr:BB,qscr:jB,quaternions:zB,quatint:UB,quest:qB,questeq:HB,quot:VB,QUOT:GB,rAarr:WB,race:YB,Racute:ZB,racute:XB,radic:KB,raemptyv:JB,rang:QB,Rang:ej,rangd:tj,range:rj,rangle:ij,raquo:nj,rarrap:sj,rarrb:oj,rarrbfs:aj,rarrc:lj,rarr:uj,Rarr:cj,rArr:dj,rarrfs:hj,rarrhk:fj,rarrlp:pj,rarrpl:mj,rarrsim:gj,Rarrtl:yj,rarrtl:bj,rarrw:vj,ratail:xj,rAtail:_j,ratio:wj,rationals:Ej,rbarr:Sj,rBarr:Cj,RBarr:kj,rbbrk:Aj,rbrace:Tj,rbrack:Dj,rbrke:Lj,rbrksld:Oj,rbrkslu:Mj,Rcaron:Rj,rcaron:Ij,Rcedil:Fj,rcedil:Pj,rceil:Nj,rcub:$j,Rcy:Bj,rcy:jj,rdca:zj,rdldhar:Uj,rdquo:qj,rdquor:Hj,rdsh:Vj,real:Gj,realine:Wj,realpart:Yj,reals:Zj,Re:Xj,rect:Kj,reg:Jj,REG:Qj,ReverseElement:e9,ReverseEquilibrium:t9,ReverseUpEquilibrium:r9,rfisht:i9,rfloor:n9,rfr:s9,Rfr:o9,rHar:a9,rhard:l9,rharu:u9,rharul:c9,Rho:d9,rho:h9,rhov:f9,RightAngleBracket:p9,RightArrowBar:m9,rightarrow:g9,RightArrow:y9,Rightarrow:b9,RightArrowLeftArrow:v9,rightarrowtail:x9,RightCeiling:_9,RightDoubleBracket:w9,RightDownTeeVector:E9,RightDownVectorBar:S9,RightDownVector:C9,RightFloor:k9,rightharpoondown:A9,rightharpoonup:T9,rightleftarrows:D9,rightleftharpoons:L9,rightrightarrows:O9,rightsquigarrow:M9,RightTeeArrow:R9,RightTee:I9,RightTeeVector:F9,rightthreetimes:P9,RightTriangleBar:N9,RightTriangle:$9,RightTriangleEqual:B9,RightUpDownVector:j9,RightUpTeeVector:z9,RightUpVectorBar:U9,RightUpVector:q9,RightVectorBar:H9,RightVector:V9,ring:G9,risingdotseq:W9,rlarr:Y9,rlhar:Z9,rlm:X9,rmoustache:K9,rmoust:J9,rnmid:Q9,roang:ez,roarr:tz,robrk:rz,ropar:iz,ropf:nz,Ropf:sz,roplus:oz,rotimes:az,RoundImplies:lz,rpar:uz,rpargt:cz,rppolint:dz,rrarr:hz,Rrightarrow:fz,rsaquo:pz,rscr:mz,Rscr:gz,rsh:yz,Rsh:bz,rsqb:vz,rsquo:xz,rsquor:_z,rthree:wz,rtimes:Ez,rtri:Sz,rtrie:Cz,rtrif:kz,rtriltri:Az,RuleDelayed:Tz,ruluhar:Dz,rx:Lz,Sacute:Oz,sacute:Mz,sbquo:Rz,scap:Iz,Scaron:Fz,scaron:Pz,Sc:Nz,sc:$z,sccue:Bz,sce:jz,scE:zz,Scedil:Uz,scedil:qz,Scirc:Hz,scirc:Vz,scnap:Gz,scnE:Wz,scnsim:Yz,scpolint:Zz,scsim:Xz,Scy:Kz,scy:Jz,sdotb:Qz,sdot:e7,sdote:t7,searhk:r7,searr:i7,seArr:n7,searrow:s7,sect:o7,semi:a7,seswar:l7,setminus:u7,setmn:c7,sext:d7,Sfr:h7,sfr:f7,sfrown:p7,sharp:m7,SHCHcy:g7,shchcy:y7,SHcy:b7,shcy:v7,ShortDownArrow:x7,ShortLeftArrow:_7,shortmid:w7,shortparallel:E7,ShortRightArrow:S7,ShortUpArrow:C7,shy:k7,Sigma:A7,sigma:T7,sigmaf:D7,sigmav:L7,sim:O7,simdot:M7,sime:R7,simeq:I7,simg:F7,simgE:P7,siml:N7,simlE:$7,simne:B7,simplus:j7,simrarr:z7,slarr:U7,SmallCircle:q7,smallsetminus:H7,smashp:V7,smeparsl:G7,smid:W7,smile:Y7,smt:Z7,smte:X7,smtes:K7,SOFTcy:J7,softcy:Q7,solbar:eU,solb:tU,sol:rU,Sopf:iU,sopf:nU,spades:sU,spadesuit:oU,spar:aU,sqcap:lU,sqcaps:uU,sqcup:cU,sqcups:dU,Sqrt:hU,sqsub:fU,sqsube:pU,sqsubset:mU,sqsubseteq:gU,sqsup:yU,sqsupe:bU,sqsupset:vU,sqsupseteq:xU,square:_U,Square:wU,SquareIntersection:EU,SquareSubset:SU,SquareSubsetEqual:CU,SquareSuperset:kU,SquareSupersetEqual:AU,SquareUnion:TU,squarf:DU,squ:LU,squf:OU,srarr:MU,Sscr:RU,sscr:IU,ssetmn:FU,ssmile:PU,sstarf:NU,Star:$U,star:BU,starf:jU,straightepsilon:zU,straightphi:UU,strns:qU,sub:HU,Sub:VU,subdot:GU,subE:WU,sube:YU,subedot:ZU,submult:XU,subnE:KU,subne:JU,subplus:QU,subrarr:eq,subset:tq,Subset:rq,subseteq:iq,subseteqq:nq,SubsetEqual:sq,subsetneq:oq,subsetneqq:aq,subsim:lq,subsub:uq,subsup:cq,succapprox:dq,succ:hq,succcurlyeq:fq,Succeeds:pq,SucceedsEqual:mq,SucceedsSlantEqual:gq,SucceedsTilde:yq,succeq:bq,succnapprox:vq,succneqq:xq,succnsim:_q,succsim:wq,SuchThat:Eq,sum:Sq,Sum:Cq,sung:kq,sup1:Aq,sup2:Tq,sup3:Dq,sup:Lq,Sup:Oq,supdot:Mq,supdsub:Rq,supE:Iq,supe:Fq,supedot:Pq,Superset:Nq,SupersetEqual:$q,suphsol:Bq,suphsub:jq,suplarr:zq,supmult:Uq,supnE:qq,supne:Hq,supplus:Vq,supset:Gq,Supset:Wq,supseteq:Yq,supseteqq:Zq,supsetneq:Xq,supsetneqq:Kq,supsim:Jq,supsub:Qq,supsup:eH,swarhk:tH,swarr:rH,swArr:iH,swarrow:nH,swnwar:sH,szlig:oH,Tab:aH,target:lH,Tau:uH,tau:cH,tbrk:dH,Tcaron:hH,tcaron:fH,Tcedil:pH,tcedil:mH,Tcy:gH,tcy:yH,tdot:bH,telrec:vH,Tfr:xH,tfr:_H,there4:wH,therefore:EH,Therefore:SH,Theta:CH,theta:kH,thetasym:AH,thetav:TH,thickapprox:DH,thicksim:LH,ThickSpace:OH,ThinSpace:MH,thinsp:RH,thkap:IH,thksim:FH,THORN:PH,thorn:NH,tilde:$H,Tilde:BH,TildeEqual:jH,TildeFullEqual:zH,TildeTilde:UH,timesbar:qH,timesb:HH,times:VH,timesd:GH,tint:WH,toea:YH,topbot:ZH,topcir:XH,top:KH,Topf:JH,topf:QH,topfork:eV,tosa:tV,tprime:rV,trade:iV,TRADE:nV,triangle:sV,triangledown:oV,triangleleft:aV,trianglelefteq:lV,triangleq:uV,triangleright:cV,trianglerighteq:dV,tridot:hV,trie:fV,triminus:pV,TripleDot:mV,triplus:gV,trisb:yV,tritime:bV,trpezium:vV,Tscr:xV,tscr:_V,TScy:wV,tscy:EV,TSHcy:SV,tshcy:CV,Tstrok:kV,tstrok:AV,twixt:TV,twoheadleftarrow:DV,twoheadrightarrow:LV,Uacute:OV,uacute:MV,uarr:RV,Uarr:IV,uArr:FV,Uarrocir:PV,Ubrcy:NV,ubrcy:$V,Ubreve:BV,ubreve:jV,Ucirc:zV,ucirc:UV,Ucy:qV,ucy:HV,udarr:VV,Udblac:GV,udblac:WV,udhar:YV,ufisht:ZV,Ufr:XV,ufr:KV,Ugrave:JV,ugrave:QV,uHar:eG,uharl:tG,uharr:rG,uhblk:iG,ulcorn:nG,ulcorner:sG,ulcrop:oG,ultri:aG,Umacr:lG,umacr:uG,uml:cG,UnderBar:dG,UnderBrace:hG,UnderBracket:fG,UnderParenthesis:pG,Union:mG,UnionPlus:gG,Uogon:yG,uogon:bG,Uopf:vG,uopf:xG,UpArrowBar:_G,uparrow:wG,UpArrow:EG,Uparrow:SG,UpArrowDownArrow:CG,updownarrow:kG,UpDownArrow:AG,Updownarrow:TG,UpEquilibrium:DG,upharpoonleft:LG,upharpoonright:OG,uplus:MG,UpperLeftArrow:RG,UpperRightArrow:IG,upsi:FG,Upsi:PG,upsih:NG,Upsilon:$G,upsilon:BG,UpTeeArrow:jG,UpTee:zG,upuparrows:UG,urcorn:qG,urcorner:HG,urcrop:VG,Uring:GG,uring:WG,urtri:YG,Uscr:ZG,uscr:XG,utdot:KG,Utilde:JG,utilde:QG,utri:eW,utrif:tW,uuarr:rW,Uuml:iW,uuml:nW,uwangle:sW,vangrt:oW,varepsilon:aW,varkappa:lW,varnothing:uW,varphi:cW,varpi:dW,varpropto:hW,varr:fW,vArr:pW,varrho:mW,varsigma:gW,varsubsetneq:yW,varsubsetneqq:bW,varsupsetneq:vW,varsupsetneqq:xW,vartheta:_W,vartriangleleft:wW,vartriangleright:EW,vBar:SW,Vbar:CW,vBarv:kW,Vcy:AW,vcy:TW,vdash:DW,vDash:LW,Vdash:OW,VDash:MW,Vdashl:RW,veebar:IW,vee:FW,Vee:PW,veeeq:NW,vellip:$W,verbar:BW,Verbar:jW,vert:zW,Vert:UW,VerticalBar:qW,VerticalLine:HW,VerticalSeparator:VW,VerticalTilde:GW,VeryThinSpace:WW,Vfr:YW,vfr:ZW,vltri:XW,vnsub:KW,vnsup:JW,Vopf:QW,vopf:eY,vprop:tY,vrtri:rY,Vscr:iY,vscr:nY,vsubnE:sY,vsubne:oY,vsupnE:aY,vsupne:lY,Vvdash:uY,vzigzag:cY,Wcirc:dY,wcirc:hY,wedbar:fY,wedge:pY,Wedge:mY,wedgeq:gY,weierp:yY,Wfr:bY,wfr:vY,Wopf:xY,wopf:_Y,wp:wY,wr:EY,wreath:SY,Wscr:CY,wscr:kY,xcap:AY,xcirc:TY,xcup:DY,xdtri:LY,Xfr:OY,xfr:MY,xharr:RY,xhArr:IY,Xi:FY,xi:PY,xlarr:NY,xlArr:$Y,xmap:BY,xnis:jY,xodot:zY,Xopf:UY,xopf:qY,xoplus:HY,xotime:VY,xrarr:GY,xrArr:WY,Xscr:YY,xscr:ZY,xsqcup:XY,xuplus:KY,xutri:JY,xvee:QY,xwedge:eZ,Yacute:tZ,yacute:rZ,YAcy:iZ,yacy:nZ,Ycirc:sZ,ycirc:oZ,Ycy:aZ,ycy:lZ,yen:uZ,Yfr:cZ,yfr:dZ,YIcy:hZ,yicy:fZ,Yopf:pZ,yopf:mZ,Yscr:gZ,yscr:yZ,YUcy:bZ,yucy:vZ,yuml:xZ,Yuml:_Z,Zacute:wZ,zacute:EZ,Zcaron:SZ,zcaron:CZ,Zcy:kZ,zcy:AZ,Zdot:TZ,zdot:DZ,zeetrf:LZ,ZeroWidthSpace:OZ,Zeta:MZ,zeta:RZ,zfr:IZ,Zfr:FZ,ZHcy:PZ,zhcy:NZ,zigrarr:$Z,zopf:BZ,Zopf:jZ,Zscr:zZ,zscr:UZ,zwj:qZ,zwnj:HZ},Jfe=Object.freeze({__proto__:null,Aacute:x,aacute:w,Abreve:S,abreve:C,ac:k,acd:O,acE:M,Acirc:A,acirc:I,acute:R,Acy:V,acy:oe,AElig:L,aelig:F,af:U,Afr:Y,afr:G,Agrave:Q,agrave:J,alefsym:re,aleph:pe,Alpha:ee,alpha:B,Amacr:ge,amacr:ve,amalg:ze,amp:it,AMP:tt,andand:Ne,And:Xe,and:nt,andd:vt,andslope:Dt,andv:Rt,ang:Er,ange:or,angle:di,angmsdaa:We,angmsdab:he,angmsdac:ue,angmsdad:ae,angmsdae:me,angmsdaf:T,angmsdag:$,angmsdah:W,angmsd:K,angrt:ye,angrtvb:xe,angrtvbd:Me,angsph:j,angst:te,angzarr:de,Aogon:ce,aogon:Ae,Aopf:Ce,aopf:Se,apacir:De,ap:Ie,apE:Ve,ape:ot,apid:lt,apos:$t,ApplyFunction:mt,approx:zt,approxeq:Ht,Aring:Vt,aring:fr,Ascr:Yt,ascr:ri,Assign:dn,ast:hn,asymp:on,asympeq:$s,Atilde:Sr,atilde:ai,Auml:hi,auml:$r,awconint:pr,awint:an,backcong:Ir,backepsilon:Cn,backprime:ur,backsim:qn,backsimeq:fe,Backslash:Te,Barv:rt,barvee:Ye,barwed:bt,Barwed:qt,barwedge:Wt,bbrk:pt,bbrktbrk:Je,bcong:Kt,Bcy:Jt,bcy:Lt,bdquo:Ct,becaus:ii,because:Li,Because:Bt,bemptyv:He,bepsi:ht,bernou:Dr,Bernoullis:li,Beta:ni,beta:ui,beth:qr,between:Ot,Bfr:Ki,bfr:fn,bigcap:pn,bigcirc:kn,bigcup:Hn,bigodot:ps,bigoplus:ms,bigotimes:gs,bigsqcup:Dn,bigstar:Bs,bigtriangledown:ys,bigtriangleup:Ii,biguplus:bs,bigvee:es,bigwedge:Vn,bkarow:Gn,blacklozenge:Wn,blacksquare:vs,blacktriangle:ho,blacktriangledown:ts,blacktriangleleft:fo,blacktriangleright:js,blank:Oi,blk12:Yn,blk14:An,blk34:Ks,block:rs,bne:wn,bnequiv:Ln,bNot:xs,bnot:ln,Bopf:_s,bopf:po,bot:Zn,bottom:ie,bowtie:X,boxbox:Oe,boxdl:Ke,boxdL:Pt,boxDl:kt,boxDL:cr,boxdr:Lr,boxdR:Br,boxDr:jr,boxDR:zr,boxh:Ei,boxH:Or,boxhd:Fi,boxHd:On,boxhD:is,boxHD:tn,boxhu:rn,boxHu:Ts,boxhU:bi,boxHU:Js,boxminus:Ca,boxplus:Eo,boxtimes:So,boxul:il,boxuL:ka,boxUl:Z,boxUL:_e,boxur:qe,boxuR:gt,boxUr:jt,boxUR:Mt,boxv:ir,boxV:Xr,boxvh:fi,boxvH:mn,boxVh:Mn,boxVH:Ui,boxvl:Ji,boxvL:ke,boxVl:at,boxVL:It,boxvr:Cr,boxvR:Kr,boxVr:yr,boxVR:nn,bprime:mo,breve:$p,Breve:by,brvbar:Bp,bscr:jp,Bscr:Au,bsemi:zp,bsim:Up,bsime:xh,bsolb:Uc,bsol:qp,bsolhsub:qc,bull:Co,bullet:Hp,bump:_h,bumpE:wh,bumpe:Vp,Bumpeq:Gp,bumpeq:Eh,Cacute:vy,cacute:xy,capand:_y,capbrcup:Pl,capcap:Nl,cap:Sh,Cap:Ch,capcup:Wp,capdot:kh,CapitalDifferentialD:nl,caps:sl,caret:Ds,caron:Aa,Cayleys:Ta,ccaps:Hc,Ccaron:Yp,ccaron:Tu,Ccedil:Zp,ccedil:Ah,Ccirc:Vc,ccirc:wy,Cconint:Th,ccups:Xp,ccupssm:Dh,Cdot:Lh,cdot:$l,cedil:Gc,Cedilla:Kp,cemptyv:Wc,cent:Oh,centerdot:Mh,CenterDot:Bl,cfr:Du,Cfr:Yc,CHcy:Jp,chcy:Lu,check:Qp,checkmark:ol,Chi:Ou,chi:al,circ:Mu,circeq:jl,circlearrowleft:em,circlearrowright:tm,circledast:rm,circledcirc:Ey,circleddash:ll,CircleDot:ul,circledR:Sy,circledS:Cy,CircleMinus:ky,CirclePlus:Ay,CircleTimes:Ty,cir:zs,cirE:Rn,cire:ws,cirfnint:In,cirmid:Ru,cirscir:Dy,ClockwiseContourIntegral:Zc,CloseCurlyDoubleQuote:Ly,CloseCurlyQuote:Rh,clubs:im,clubsuit:Ih,colon:Fh,Colon:Ph,Colone:nm,colone:sm,coloneq:Nh,comma:om,commat:Iu,comp:Oy,compfn:Xc,complement:ua,complexes:am,cong:My,congdot:lm,Congruent:Qs,conint:pi,Conint:ko,ContourIntegral:Da,copf:La,Copf:um,coprod:$h,Coproduct:cm,copy:Bh,COPY:Fu,copysr:dm,CounterClockwiseContourIntegral:jh,crarr:Oa,cross:hm,Cross:fm,Cscr:Kc,cscr:zh,csub:pm,csube:mm,csup:Ry,csupe:Jc,ctdot:gm,cudarrl:Iy,cudarrr:ym,cuepr:zl,cuesc:Uh,cularr:Qc,cularrp:bm,cupbrcap:qh,cupcap:vm,CupCap:xm,cup:ns,Cup:ed,cupcup:_m,cupdot:wm,cupor:Em,cups:Ul,curarr:td,curarrm:Sm,curlyeqprec:Cm,curlyeqsucc:km,curlyvee:ql,curlywedge:Am,curren:rd,curvearrowleft:Tm,curvearrowright:Pu,cuvee:Hl,cuwed:Dm,cwconint:Lm,cwint:Om,cylcty:Nu,dagger:$u,Dagger:Bu,daleth:ju,darr:Mm,Darr:Rm,dArr:Ma,dash:Vl,Dashv:zu,dashv:Im,dbkarow:Fy,dblac:Py,Dcaron:Ls,dcaron:Fm,Dcy:Ny,dcy:Pm,ddagger:Nm,ddarr:$m,DD:$y,dd:By,DDotrahd:Ra,ddotseq:Uu,deg:id,Del:qu,Delta:ca,delta:jy,demptyv:zy,dfisht:Gl,Dfr:Bm,dfr:jm,dHar:zm,dharl:nd,dharr:Wl,DiacriticalAcute:Hh,DiacriticalDot:Vh,DiacriticalDoubleAcute:Gh,DiacriticalGrave:Hu,DiacriticalTilde:Um,diam:qm,diamond:sd,Diamond:Uy,diamondsuit:Vu,diams:Hm,die:Vm,DifferentialD:Wh,digamma:Gm,disin:Wm,div:Ym,divide:Gu,divideontimes:Wu,divonx:Yh,DJcy:Zm,djcy:Xm,dlcorn:Km,dlcrop:Zh,dollar:Jm,Dopf:Qm,dopf:Yl,Dot:eg,dot:od,DotDot:qy,doteq:Hy,doteqdot:Qi,DotEqual:Xh,dotminus:Yu,dotplus:Ao,dotsquare:ad,doublebarwedge:Kh,DoubleContourIntegral:tg,DoubleDot:rg,DoubleDownArrow:ig,DoubleLeftArrow:ng,DoubleLeftRightArrow:sg,DoubleLeftTee:Jh,DoubleLongLeftArrow:og,DoubleLongLeftRightArrow:Si,DoubleLongRightArrow:ag,DoubleRightArrow:Zl,DoubleRightTee:ld,DoubleUpArrow:Vy,DoubleUpDownArrow:gn,DoubleVerticalBar:Gy,DownArrowBar:ud,downarrow:c,DownArrow:m,Downarrow:_,DownArrowUpArrow:v,DownBreve:E,downdownarrows:D,downharpoonleft:P,downharpoonright:N,DownLeftRightVector:q,DownLeftTeeVector:H,DownLeftVectorBar:se,DownLeftVector:le,DownRightTeeVector:we,DownRightVectorBar:be,DownRightVector:Fe,DownTeeArrow:Pe,DownTee:Re,drbkarow:Ue,drcorn:Qe,drcrop:Ze,Dscr:dt,dscr:ut,DScy:ft,dscy:Qt,dsol:St,Dstrok:wr,dstrok:Zt,dtdot:Hr,dtri:mi,dtrif:Vr,duarr:Mr,duhar:Gr,dwangle:mr,DZcy:gi,dzcy:dr,dzigrarr:Fr,Eacute:br,eacute:Qr,easter:Es,Ecaron:yi,ecaron:ss,Ecirc:os,ecirc:Yi,ecir:Ss,ecolon:go,Ecy:Xn,ecy:To,eDDot:cd,Edot:lg,edot:cl,eDot:Us,ee:Ia,efDot:Wy,Efr:Xl,efr:Qh,eg:Zu,Egrave:dd,egrave:Xu,egs:ef,egsdot:ug,el:tf,Element:cg,elinters:dg,ell:hg,els:wk,elsdot:Ek,Emacr:Sk,emacr:Ck,empty:kk,emptyset:Ak,EmptySmallSquare:Tk,emptyv:Dk,EmptyVerySmallSquare:Lk,emsp13:Ok,emsp14:Mk,emsp:Rk,ENG:Ik,eng:Fk,ensp:Pk,Eogon:Nk,eogon:$k,Eopf:Bk,eopf:jk,epar:zk,eparsl:Uk,eplus:qk,epsi:Hk,Epsilon:Vk,epsilon:Gk,epsiv:Wk,eqcirc:Yk,eqcolon:Zk,eqsim:Xk,eqslantgtr:Kk,eqslantless:Jk,Equal:Qk,equals:eA,EqualTilde:tA,equest:rA,Equilibrium:iA,equiv:nA,equivDD:sA,eqvparsl:oA,erarr:aA,erDot:lA,escr:uA,Escr:cA,esdot:dA,Esim:hA,esim:fA,Eta:pA,eta:mA,ETH:gA,eth:yA,Euml:bA,euml:vA,euro:xA,excl:_A,exist:wA,Exists:EA,expectation:SA,exponentiale:CA,ExponentialE:kA,fallingdotseq:AA,Fcy:TA,fcy:DA,female:LA,ffilig:OA,fflig:MA,ffllig:RA,Ffr:IA,ffr:FA,filig:PA,FilledSmallSquare:NA,FilledVerySmallSquare:$A,fjlig:BA,flat:jA,fllig:zA,fltns:UA,fnof:qA,Fopf:HA,fopf:VA,forall:GA,ForAll:WA,fork:YA,forkv:ZA,Fouriertrf:XA,fpartint:KA,frac12:JA,frac13:QA,frac14:eT,frac15:tT,frac16:rT,frac18:iT,frac23:nT,frac25:sT,frac34:oT,frac35:aT,frac38:lT,frac45:uT,frac56:cT,frac58:dT,frac78:hT,frasl:fT,frown:pT,fscr:mT,Fscr:gT,gacute:yT,Gamma:bT,gamma:vT,Gammad:xT,gammad:_T,gap:wT,Gbreve:ET,gbreve:ST,Gcedil:CT,Gcirc:kT,gcirc:AT,Gcy:TT,gcy:DT,Gdot:LT,gdot:OT,ge:MT,gE:RT,gEl:IT,gel:FT,geq:PT,geqq:NT,geqslant:$T,gescc:BT,ges:jT,gesdot:zT,gesdoto:UT,gesdotol:qT,gesl:HT,gesles:VT,Gfr:GT,gfr:WT,gg:YT,Gg:ZT,ggg:XT,gimel:KT,GJcy:JT,gjcy:QT,gla:eD,gl:tD,glE:rD,glj:iD,gnap:nD,gnapprox:sD,gne:oD,gnE:aD,gneq:lD,gneqq:uD,gnsim:cD,Gopf:dD,gopf:hD,grave:fD,GreaterEqual:pD,GreaterEqualLess:mD,GreaterFullEqual:gD,GreaterGreater:yD,GreaterLess:bD,GreaterSlantEqual:vD,GreaterTilde:xD,Gscr:_D,gscr:wD,gsim:ED,gsime:SD,gsiml:CD,gtcc:kD,gtcir:AD,gt:TD,GT:DD,Gt:LD,gtdot:OD,gtlPar:MD,gtquest:RD,gtrapprox:ID,gtrarr:FD,gtrdot:PD,gtreqless:ND,gtreqqless:$D,gtrless:BD,gtrsim:jD,gvertneqq:zD,gvnE:UD,Hacek:qD,hairsp:HD,half:VD,hamilt:GD,HARDcy:WD,hardcy:YD,harrcir:ZD,harr:XD,hArr:KD,harrw:JD,Hat:QD,hbar:e3,Hcirc:t3,hcirc:r3,hearts:i3,heartsuit:n3,hellip:s3,hercon:o3,hfr:a3,Hfr:l3,HilbertSpace:u3,hksearow:c3,hkswarow:d3,hoarr:h3,homtht:f3,hookleftarrow:p3,hookrightarrow:m3,hopf:g3,Hopf:y3,horbar:b3,HorizontalLine:v3,hscr:x3,Hscr:_3,hslash:w3,Hstrok:E3,hstrok:S3,HumpDownHump:C3,HumpEqual:k3,hybull:A3,hyphen:T3,Iacute:D3,iacute:L3,ic:O3,Icirc:M3,icirc:R3,Icy:I3,icy:F3,Idot:P3,IEcy:N3,iecy:$3,iexcl:B3,iff:j3,ifr:z3,Ifr:U3,Igrave:q3,igrave:H3,ii:V3,iiiint:G3,iiint:W3,iinfin:Y3,iiota:Z3,IJlig:X3,ijlig:K3,Imacr:J3,imacr:Q3,image:eL,ImaginaryI:tL,imagline:rL,imagpart:iL,imath:nL,Im:sL,imof:oL,imped:aL,Implies:lL,incare:uL,infin:cL,infintie:dL,inodot:hL,intcal:fL,int:pL,Int:mL,integers:gL,Integral:yL,intercal:bL,Intersection:vL,intlarhk:xL,intprod:_L,InvisibleComma:wL,InvisibleTimes:EL,IOcy:SL,iocy:CL,Iogon:kL,iogon:AL,Iopf:TL,iopf:DL,Iota:LL,iota:OL,iprod:ML,iquest:RL,iscr:IL,Iscr:FL,isin:PL,isindot:NL,isinE:$L,isins:BL,isinsv:jL,isinv:zL,it:UL,Itilde:qL,itilde:HL,Iukcy:VL,iukcy:GL,Iuml:WL,iuml:YL,Jcirc:ZL,jcirc:XL,Jcy:KL,jcy:JL,Jfr:QL,jfr:eO,jmath:tO,Jopf:rO,jopf:iO,Jscr:nO,jscr:sO,Jsercy:oO,jsercy:aO,Jukcy:lO,jukcy:uO,Kappa:cO,kappa:dO,kappav:hO,Kcedil:fO,kcedil:pO,Kcy:mO,kcy:gO,Kfr:yO,kfr:bO,kgreen:vO,KHcy:xO,khcy:_O,KJcy:wO,kjcy:EO,Kopf:SO,kopf:CO,Kscr:kO,kscr:AO,lAarr:TO,Lacute:DO,lacute:LO,laemptyv:OO,lagran:MO,Lambda:RO,lambda:IO,lang:FO,Lang:PO,langd:NO,langle:$O,lap:BO,Laplacetrf:jO,laquo:zO,larrb:UO,larrbfs:qO,larr:HO,Larr:VO,lArr:GO,larrfs:WO,larrhk:YO,larrlp:ZO,larrpl:XO,larrsim:KO,larrtl:JO,latail:QO,lAtail:eM,lat:tM,late:rM,lates:iM,lbarr:nM,lBarr:sM,lbbrk:oM,lbrace:aM,lbrack:lM,lbrke:uM,lbrksld:cM,lbrkslu:dM,Lcaron:hM,lcaron:fM,Lcedil:pM,lcedil:mM,lceil:gM,lcub:yM,Lcy:bM,lcy:vM,ldca:xM,ldquo:_M,ldquor:wM,ldrdhar:EM,ldrushar:SM,ldsh:CM,le:kM,lE:AM,LeftAngleBracket:TM,LeftArrowBar:DM,leftarrow:LM,LeftArrow:OM,Leftarrow:MM,LeftArrowRightArrow:RM,leftarrowtail:IM,LeftCeiling:FM,LeftDoubleBracket:PM,LeftDownTeeVector:NM,LeftDownVectorBar:$M,LeftDownVector:BM,LeftFloor:jM,leftharpoondown:zM,leftharpoonup:UM,leftleftarrows:qM,leftrightarrow:HM,LeftRightArrow:VM,Leftrightarrow:GM,leftrightarrows:WM,leftrightharpoons:YM,leftrightsquigarrow:ZM,LeftRightVector:XM,LeftTeeArrow:KM,LeftTee:JM,LeftTeeVector:QM,leftthreetimes:eR,LeftTriangleBar:tR,LeftTriangle:rR,LeftTriangleEqual:iR,LeftUpDownVector:nR,LeftUpTeeVector:sR,LeftUpVectorBar:oR,LeftUpVector:aR,LeftVectorBar:lR,LeftVector:uR,lEg:cR,leg:dR,leq:hR,leqq:fR,leqslant:pR,lescc:mR,les:gR,lesdot:yR,lesdoto:bR,lesdotor:vR,lesg:xR,lesges:_R,lessapprox:wR,lessdot:ER,lesseqgtr:SR,lesseqqgtr:CR,LessEqualGreater:kR,LessFullEqual:AR,LessGreater:TR,lessgtr:DR,LessLess:LR,lesssim:OR,LessSlantEqual:MR,LessTilde:RR,lfisht:IR,lfloor:FR,Lfr:PR,lfr:NR,lg:$R,lgE:BR,lHar:jR,lhard:zR,lharu:UR,lharul:qR,lhblk:HR,LJcy:VR,ljcy:GR,llarr:WR,ll:YR,Ll:ZR,llcorner:XR,Lleftarrow:KR,llhard:JR,lltri:QR,Lmidot:eI,lmidot:tI,lmoustache:rI,lmoust:iI,lnap:nI,lnapprox:sI,lne:oI,lnE:aI,lneq:lI,lneqq:uI,lnsim:cI,loang:dI,loarr:hI,lobrk:fI,longleftarrow:pI,LongLeftArrow:mI,Longleftarrow:gI,longleftrightarrow:yI,LongLeftRightArrow:bI,Longleftrightarrow:vI,longmapsto:xI,longrightarrow:_I,LongRightArrow:wI,Longrightarrow:EI,looparrowleft:SI,looparrowright:CI,lopar:kI,Lopf:AI,lopf:TI,loplus:DI,lotimes:LI,lowast:OI,lowbar:MI,LowerLeftArrow:RI,LowerRightArrow:II,loz:FI,lozenge:PI,lozf:NI,lpar:$I,lparlt:BI,lrarr:jI,lrcorner:zI,lrhar:UI,lrhard:qI,lrm:HI,lrtri:VI,lsaquo:GI,lscr:WI,Lscr:YI,lsh:ZI,Lsh:XI,lsim:KI,lsime:JI,lsimg:QI,lsqb:eF,lsquo:tF,lsquor:rF,Lstrok:iF,lstrok:nF,ltcc:sF,ltcir:oF,lt:aF,LT:lF,Lt:uF,ltdot:cF,lthree:dF,ltimes:hF,ltlarr:fF,ltquest:pF,ltri:mF,ltrie:gF,ltrif:yF,ltrPar:bF,lurdshar:vF,luruhar:xF,lvertneqq:_F,lvnE:wF,macr:EF,male:SF,malt:CF,maltese:kF,map:AF,mapsto:TF,mapstodown:DF,mapstoleft:LF,mapstoup:OF,marker:MF,mcomma:RF,Mcy:IF,mcy:FF,mdash:PF,mDDot:NF,measuredangle:$F,MediumSpace:BF,Mellintrf:jF,Mfr:zF,mfr:UF,mho:qF,micro:HF,midast:VF,midcir:GF,mid:WF,middot:YF,minusb:ZF,minus:XF,minusd:KF,minusdu:JF,MinusPlus:QF,mlcp:eP,mldr:tP,mnplus:rP,models:iP,Mopf:nP,mopf:sP,mp:oP,mscr:aP,Mscr:lP,mstpos:uP,Mu:cP,mu:dP,multimap:hP,mumap:fP,nabla:pP,Nacute:mP,nacute:gP,nang:yP,nap:bP,napE:vP,napid:xP,napos:_P,napprox:wP,natural:EP,naturals:SP,natur:CP,nbsp:kP,nbump:AP,nbumpe:TP,ncap:DP,Ncaron:LP,ncaron:OP,Ncedil:MP,ncedil:RP,ncong:IP,ncongdot:FP,ncup:PP,Ncy:NP,ncy:$P,ndash:BP,nearhk:jP,nearr:zP,neArr:UP,nearrow:qP,ne:HP,nedot:VP,NegativeMediumSpace:GP,NegativeThickSpace:WP,NegativeThinSpace:YP,NegativeVeryThinSpace:ZP,nequiv:XP,nesear:KP,nesim:JP,NestedGreaterGreater:QP,NestedLessLess:e5,NewLine:t5,nexist:r5,nexists:i5,Nfr:n5,nfr:s5,ngE:o5,nge:a5,ngeq:l5,ngeqq:u5,ngeqslant:c5,nges:d5,nGg:h5,ngsim:f5,nGt:p5,ngt:m5,ngtr:g5,nGtv:y5,nharr:b5,nhArr:v5,nhpar:x5,ni:_5,nis:w5,nisd:E5,niv:S5,NJcy:C5,njcy:k5,nlarr:A5,nlArr:T5,nldr:D5,nlE:L5,nle:O5,nleftarrow:M5,nLeftarrow:R5,nleftrightarrow:I5,nLeftrightarrow:F5,nleq:P5,nleqq:N5,nleqslant:$5,nles:B5,nless:j5,nLl:z5,nlsim:U5,nLt:q5,nlt:H5,nltri:V5,nltrie:G5,nLtv:W5,nmid:Y5,NoBreak:Z5,NonBreakingSpace:X5,nopf:K5,Nopf:J5,Not:Q5,not:e4,NotCongruent:t4,NotCupCap:r4,NotDoubleVerticalBar:i4,NotElement:n4,NotEqual:s4,NotEqualTilde:o4,NotExists:a4,NotGreater:l4,NotGreaterEqual:u4,NotGreaterFullEqual:c4,NotGreaterGreater:d4,NotGreaterLess:h4,NotGreaterSlantEqual:f4,NotGreaterTilde:p4,NotHumpDownHump:m4,NotHumpEqual:g4,notin:y4,notindot:b4,notinE:v4,notinva:x4,notinvb:_4,notinvc:w4,NotLeftTriangleBar:E4,NotLeftTriangle:S4,NotLeftTriangleEqual:C4,NotLess:k4,NotLessEqual:A4,NotLessGreater:T4,NotLessLess:D4,NotLessSlantEqual:L4,NotLessTilde:O4,NotNestedGreaterGreater:M4,NotNestedLessLess:R4,notni:I4,notniva:F4,notnivb:P4,notnivc:N4,NotPrecedes:$4,NotPrecedesEqual:B4,NotPrecedesSlantEqual:j4,NotReverseElement:z4,NotRightTriangleBar:U4,NotRightTriangle:q4,NotRightTriangleEqual:H4,NotSquareSubset:V4,NotSquareSubsetEqual:G4,NotSquareSuperset:W4,NotSquareSupersetEqual:Y4,NotSubset:Z4,NotSubsetEqual:X4,NotSucceeds:K4,NotSucceedsEqual:J4,NotSucceedsSlantEqual:Q4,NotSucceedsTilde:e6,NotSuperset:t6,NotSupersetEqual:r6,NotTilde:i6,NotTildeEqual:n6,NotTildeFullEqual:s6,NotTildeTilde:o6,NotVerticalBar:a6,nparallel:l6,npar:u6,nparsl:c6,npart:d6,npolint:h6,npr:f6,nprcue:p6,nprec:m6,npreceq:g6,npre:y6,nrarrc:b6,nrarr:v6,nrArr:x6,nrarrw:_6,nrightarrow:w6,nRightarrow:E6,nrtri:S6,nrtrie:C6,nsc:k6,nsccue:A6,nsce:T6,Nscr:D6,nscr:L6,nshortmid:O6,nshortparallel:M6,nsim:R6,nsime:I6,nsimeq:F6,nsmid:P6,nspar:N6,nsqsube:$6,nsqsupe:B6,nsub:j6,nsubE:z6,nsube:U6,nsubset:q6,nsubseteq:H6,nsubseteqq:V6,nsucc:G6,nsucceq:W6,nsup:Y6,nsupE:Z6,nsupe:X6,nsupset:K6,nsupseteq:J6,nsupseteqq:Q6,ntgl:eN,Ntilde:tN,ntilde:rN,ntlg:iN,ntriangleleft:nN,ntrianglelefteq:sN,ntriangleright:oN,ntrianglerighteq:aN,Nu:lN,nu:uN,num:cN,numero:dN,numsp:hN,nvap:fN,nvdash:pN,nvDash:mN,nVdash:gN,nVDash:yN,nvge:bN,nvgt:vN,nvHarr:xN,nvinfin:_N,nvlArr:wN,nvle:EN,nvlt:SN,nvltrie:CN,nvrArr:kN,nvrtrie:AN,nvsim:TN,nwarhk:DN,nwarr:LN,nwArr:ON,nwarrow:MN,nwnear:RN,Oacute:IN,oacute:FN,oast:PN,Ocirc:NN,ocirc:$N,ocir:BN,Ocy:jN,ocy:zN,odash:UN,Odblac:qN,odblac:HN,odiv:VN,odot:GN,odsold:WN,OElig:YN,oelig:ZN,ofcir:XN,Ofr:KN,ofr:JN,ogon:QN,Ograve:e8,ograve:t8,ogt:r8,ohbar:i8,ohm:n8,oint:s8,olarr:o8,olcir:a8,olcross:l8,oline:u8,olt:c8,Omacr:d8,omacr:h8,Omega:f8,omega:p8,Omicron:m8,omicron:g8,omid:y8,ominus:b8,Oopf:v8,oopf:x8,opar:_8,OpenCurlyDoubleQuote:w8,OpenCurlyQuote:E8,operp:S8,oplus:C8,orarr:k8,Or:A8,or:T8,ord:D8,order:L8,orderof:O8,ordf:M8,ordm:R8,origof:I8,oror:F8,orslope:P8,orv:N8,oS:$8,Oscr:B8,oscr:j8,Oslash:z8,oslash:U8,osol:q8,Otilde:H8,otilde:V8,otimesas:G8,Otimes:W8,otimes:Y8,Ouml:Z8,ouml:X8,ovbar:K8,OverBar:J8,OverBrace:Q8,OverBracket:e$,OverParenthesis:t$,para:r$,parallel:i$,par:n$,parsim:s$,parsl:o$,part:a$,PartialD:l$,Pcy:u$,pcy:c$,percnt:d$,period:h$,permil:f$,perp:p$,pertenk:m$,Pfr:g$,pfr:y$,Phi:b$,phi:v$,phiv:x$,phmmat:_$,phone:w$,Pi:E$,pi:S$,pitchfork:C$,piv:k$,planck:A$,planckh:T$,plankv:D$,plusacir:L$,plusb:O$,pluscir:M$,plus:R$,plusdo:I$,plusdu:F$,pluse:P$,PlusMinus:N$,plusmn:$$,plussim:B$,plustwo:j$,pm:z$,Poincareplane:U$,pointint:q$,popf:H$,Popf:V$,pound:G$,prap:W$,Pr:Y$,pr:Z$,prcue:X$,precapprox:K$,prec:J$,preccurlyeq:Q$,Precedes:eB,PrecedesEqual:tB,PrecedesSlantEqual:rB,PrecedesTilde:iB,preceq:nB,precnapprox:sB,precneqq:oB,precnsim:aB,pre:lB,prE:uB,precsim:cB,prime:dB,Prime:hB,primes:fB,prnap:pB,prnE:mB,prnsim:gB,prod:yB,Product:bB,profalar:vB,profline:xB,profsurf:_B,prop:wB,Proportional:EB,Proportion:SB,propto:CB,prsim:kB,prurel:AB,Pscr:TB,pscr:DB,Psi:LB,psi:OB,puncsp:MB,Qfr:RB,qfr:IB,qint:FB,qopf:PB,Qopf:NB,qprime:$B,Qscr:BB,qscr:jB,quaternions:zB,quatint:UB,quest:qB,questeq:HB,quot:VB,QUOT:GB,rAarr:WB,race:YB,Racute:ZB,racute:XB,radic:KB,raemptyv:JB,rang:QB,Rang:ej,rangd:tj,range:rj,rangle:ij,raquo:nj,rarrap:sj,rarrb:oj,rarrbfs:aj,rarrc:lj,rarr:uj,Rarr:cj,rArr:dj,rarrfs:hj,rarrhk:fj,rarrlp:pj,rarrpl:mj,rarrsim:gj,Rarrtl:yj,rarrtl:bj,rarrw:vj,ratail:xj,rAtail:_j,ratio:wj,rationals:Ej,rbarr:Sj,rBarr:Cj,RBarr:kj,rbbrk:Aj,rbrace:Tj,rbrack:Dj,rbrke:Lj,rbrksld:Oj,rbrkslu:Mj,Rcaron:Rj,rcaron:Ij,Rcedil:Fj,rcedil:Pj,rceil:Nj,rcub:$j,Rcy:Bj,rcy:jj,rdca:zj,rdldhar:Uj,rdquo:qj,rdquor:Hj,rdsh:Vj,real:Gj,realine:Wj,realpart:Yj,reals:Zj,Re:Xj,rect:Kj,reg:Jj,REG:Qj,ReverseElement:e9,ReverseEquilibrium:t9,ReverseUpEquilibrium:r9,rfisht:i9,rfloor:n9,rfr:s9,Rfr:o9,rHar:a9,rhard:l9,rharu:u9,rharul:c9,Rho:d9,rho:h9,rhov:f9,RightAngleBracket:p9,RightArrowBar:m9,rightarrow:g9,RightArrow:y9,Rightarrow:b9,RightArrowLeftArrow:v9,rightarrowtail:x9,RightCeiling:_9,RightDoubleBracket:w9,RightDownTeeVector:E9,RightDownVectorBar:S9,RightDownVector:C9,RightFloor:k9,rightharpoondown:A9,rightharpoonup:T9,rightleftarrows:D9,rightleftharpoons:L9,rightrightarrows:O9,rightsquigarrow:M9,RightTeeArrow:R9,RightTee:I9,RightTeeVector:F9,rightthreetimes:P9,RightTriangleBar:N9,RightTriangle:$9,RightTriangleEqual:B9,RightUpDownVector:j9,RightUpTeeVector:z9,RightUpVectorBar:U9,RightUpVector:q9,RightVectorBar:H9,RightVector:V9,ring:G9,risingdotseq:W9,rlarr:Y9,rlhar:Z9,rlm:X9,rmoustache:K9,rmoust:J9,rnmid:Q9,roang:ez,roarr:tz,robrk:rz,ropar:iz,ropf:nz,Ropf:sz,roplus:oz,rotimes:az,RoundImplies:lz,rpar:uz,rpargt:cz,rppolint:dz,rrarr:hz,Rrightarrow:fz,rsaquo:pz,rscr:mz,Rscr:gz,rsh:yz,Rsh:bz,rsqb:vz,rsquo:xz,rsquor:_z,rthree:wz,rtimes:Ez,rtri:Sz,rtrie:Cz,rtrif:kz,rtriltri:Az,RuleDelayed:Tz,ruluhar:Dz,rx:Lz,Sacute:Oz,sacute:Mz,sbquo:Rz,scap:Iz,Scaron:Fz,scaron:Pz,Sc:Nz,sc:$z,sccue:Bz,sce:jz,scE:zz,Scedil:Uz,scedil:qz,Scirc:Hz,scirc:Vz,scnap:Gz,scnE:Wz,scnsim:Yz,scpolint:Zz,scsim:Xz,Scy:Kz,scy:Jz,sdotb:Qz,sdot:e7,sdote:t7,searhk:r7,searr:i7,seArr:n7,searrow:s7,sect:o7,semi:a7,seswar:l7,setminus:u7,setmn:c7,sext:d7,Sfr:h7,sfr:f7,sfrown:p7,sharp:m7,SHCHcy:g7,shchcy:y7,SHcy:b7,shcy:v7,ShortDownArrow:x7,ShortLeftArrow:_7,shortmid:w7,shortparallel:E7,ShortRightArrow:S7,ShortUpArrow:C7,shy:k7,Sigma:A7,sigma:T7,sigmaf:D7,sigmav:L7,sim:O7,simdot:M7,sime:R7,simeq:I7,simg:F7,simgE:P7,siml:N7,simlE:$7,simne:B7,simplus:j7,simrarr:z7,slarr:U7,SmallCircle:q7,smallsetminus:H7,smashp:V7,smeparsl:G7,smid:W7,smile:Y7,smt:Z7,smte:X7,smtes:K7,SOFTcy:J7,softcy:Q7,solbar:eU,solb:tU,sol:rU,Sopf:iU,sopf:nU,spades:sU,spadesuit:oU,spar:aU,sqcap:lU,sqcaps:uU,sqcup:cU,sqcups:dU,Sqrt:hU,sqsub:fU,sqsube:pU,sqsubset:mU,sqsubseteq:gU,sqsup:yU,sqsupe:bU,sqsupset:vU,sqsupseteq:xU,square:_U,Square:wU,SquareIntersection:EU,SquareSubset:SU,SquareSubsetEqual:CU,SquareSuperset:kU,SquareSupersetEqual:AU,SquareUnion:TU,squarf:DU,squ:LU,squf:OU,srarr:MU,Sscr:RU,sscr:IU,ssetmn:FU,ssmile:PU,sstarf:NU,Star:$U,star:BU,starf:jU,straightepsilon:zU,straightphi:UU,strns:qU,sub:HU,Sub:VU,subdot:GU,subE:WU,sube:YU,subedot:ZU,submult:XU,subnE:KU,subne:JU,subplus:QU,subrarr:eq,subset:tq,Subset:rq,subseteq:iq,subseteqq:nq,SubsetEqual:sq,subsetneq:oq,subsetneqq:aq,subsim:lq,subsub:uq,subsup:cq,succapprox:dq,succ:hq,succcurlyeq:fq,Succeeds:pq,SucceedsEqual:mq,SucceedsSlantEqual:gq,SucceedsTilde:yq,succeq:bq,succnapprox:vq,succneqq:xq,succnsim:_q,succsim:wq,SuchThat:Eq,sum:Sq,Sum:Cq,sung:kq,sup1:Aq,sup2:Tq,sup3:Dq,sup:Lq,Sup:Oq,supdot:Mq,supdsub:Rq,supE:Iq,supe:Fq,supedot:Pq,Superset:Nq,SupersetEqual:$q,suphsol:Bq,suphsub:jq,suplarr:zq,supmult:Uq,supnE:qq,supne:Hq,supplus:Vq,supset:Gq,Supset:Wq,supseteq:Yq,supseteqq:Zq,supsetneq:Xq,supsetneqq:Kq,supsim:Jq,supsub:Qq,supsup:eH,swarhk:tH,swarr:rH,swArr:iH,swarrow:nH,swnwar:sH,szlig:oH,Tab:aH,target:lH,Tau:uH,tau:cH,tbrk:dH,Tcaron:hH,tcaron:fH,Tcedil:pH,tcedil:mH,Tcy:gH,tcy:yH,tdot:bH,telrec:vH,Tfr:xH,tfr:_H,there4:wH,therefore:EH,Therefore:SH,Theta:CH,theta:kH,thetasym:AH,thetav:TH,thickapprox:DH,thicksim:LH,ThickSpace:OH,ThinSpace:MH,thinsp:RH,thkap:IH,thksim:FH,THORN:PH,thorn:NH,tilde:$H,Tilde:BH,TildeEqual:jH,TildeFullEqual:zH,TildeTilde:UH,timesbar:qH,timesb:HH,times:VH,timesd:GH,tint:WH,toea:YH,topbot:ZH,topcir:XH,top:KH,Topf:JH,topf:QH,topfork:eV,tosa:tV,tprime:rV,trade:iV,TRADE:nV,triangle:sV,triangledown:oV,triangleleft:aV,trianglelefteq:lV,triangleq:uV,triangleright:cV,trianglerighteq:dV,tridot:hV,trie:fV,triminus:pV,TripleDot:mV,triplus:gV,trisb:yV,tritime:bV,trpezium:vV,Tscr:xV,tscr:_V,TScy:wV,tscy:EV,TSHcy:SV,tshcy:CV,Tstrok:kV,tstrok:AV,twixt:TV,twoheadleftarrow:DV,twoheadrightarrow:LV,Uacute:OV,uacute:MV,uarr:RV,Uarr:IV,uArr:FV,Uarrocir:PV,Ubrcy:NV,ubrcy:$V,Ubreve:BV,ubreve:jV,Ucirc:zV,ucirc:UV,Ucy:qV,ucy:HV,udarr:VV,Udblac:GV,udblac:WV,udhar:YV,ufisht:ZV,Ufr:XV,ufr:KV,Ugrave:JV,ugrave:QV,uHar:eG,uharl:tG,uharr:rG,uhblk:iG,ulcorn:nG,ulcorner:sG,ulcrop:oG,ultri:aG,Umacr:lG,umacr:uG,uml:cG,UnderBar:dG,UnderBrace:hG,UnderBracket:fG,UnderParenthesis:pG,Union:mG,UnionPlus:gG,Uogon:yG,uogon:bG,Uopf:vG,uopf:xG,UpArrowBar:_G,uparrow:wG,UpArrow:EG,Uparrow:SG,UpArrowDownArrow:CG,updownarrow:kG,UpDownArrow:AG,Updownarrow:TG,UpEquilibrium:DG,upharpoonleft:LG,upharpoonright:OG,uplus:MG,UpperLeftArrow:RG,UpperRightArrow:IG,upsi:FG,Upsi:PG,upsih:NG,Upsilon:$G,upsilon:BG,UpTeeArrow:jG,UpTee:zG,upuparrows:UG,urcorn:qG,urcorner:HG,urcrop:VG,Uring:GG,uring:WG,urtri:YG,Uscr:ZG,uscr:XG,utdot:KG,Utilde:JG,utilde:QG,utri:eW,utrif:tW,uuarr:rW,Uuml:iW,uuml:nW,uwangle:sW,vangrt:oW,varepsilon:aW,varkappa:lW,varnothing:uW,varphi:cW,varpi:dW,varpropto:hW,varr:fW,vArr:pW,varrho:mW,varsigma:gW,varsubsetneq:yW,varsubsetneqq:bW,varsupsetneq:vW,varsupsetneqq:xW,vartheta:_W,vartriangleleft:wW,vartriangleright:EW,vBar:SW,Vbar:CW,vBarv:kW,Vcy:AW,vcy:TW,vdash:DW,vDash:LW,Vdash:OW,VDash:MW,Vdashl:RW,veebar:IW,vee:FW,Vee:PW,veeeq:NW,vellip:$W,verbar:BW,Verbar:jW,vert:zW,Vert:UW,VerticalBar:qW,VerticalLine:HW,VerticalSeparator:VW,VerticalTilde:GW,VeryThinSpace:WW,Vfr:YW,vfr:ZW,vltri:XW,vnsub:KW,vnsup:JW,Vopf:QW,vopf:eY,vprop:tY,vrtri:rY,Vscr:iY,vscr:nY,vsubnE:sY,vsubne:oY,vsupnE:aY,vsupne:lY,Vvdash:uY,vzigzag:cY,Wcirc:dY,wcirc:hY,wedbar:fY,wedge:pY,Wedge:mY,wedgeq:gY,weierp:yY,Wfr:bY,wfr:vY,Wopf:xY,wopf:_Y,wp:wY,wr:EY,wreath:SY,Wscr:CY,wscr:kY,xcap:AY,xcirc:TY,xcup:DY,xdtri:LY,Xfr:OY,xfr:MY,xharr:RY,xhArr:IY,Xi:FY,xi:PY,xlarr:NY,xlArr:$Y,xmap:BY,xnis:jY,xodot:zY,Xopf:UY,xopf:qY,xoplus:HY,xotime:VY,xrarr:GY,xrArr:WY,Xscr:YY,xscr:ZY,xsqcup:XY,xuplus:KY,xutri:JY,xvee:QY,xwedge:eZ,Yacute:tZ,yacute:rZ,YAcy:iZ,yacy:nZ,Ycirc:sZ,ycirc:oZ,Ycy:aZ,ycy:lZ,yen:uZ,Yfr:cZ,yfr:dZ,YIcy:hZ,yicy:fZ,Yopf:pZ,yopf:mZ,Yscr:gZ,yscr:yZ,YUcy:bZ,yucy:vZ,yuml:xZ,Yuml:_Z,Zacute:wZ,zacute:EZ,Zcaron:SZ,zcaron:CZ,Zcy:kZ,zcy:AZ,Zdot:TZ,zdot:DZ,zeetrf:LZ,ZeroWidthSpace:OZ,Zeta:MZ,zeta:RZ,zfr:IZ,Zfr:FZ,ZHcy:PZ,zhcy:NZ,zigrarr:$Z,zopf:BZ,Zopf:jZ,Zscr:zZ,zscr:UZ,zwj:qZ,zwnj:HZ,default:Kfe}),VZ="Á",GZ="á",WZ="Â",YZ="â",ZZ="´",XZ="Æ",KZ="æ",JZ="À",QZ="à",eX="&",tX="&",rX="Å",iX="å",nX="Ã",sX="ã",oX="Ä",aX="ä",lX="¦",uX="Ç",cX="ç",dX="¸",hX="¢",fX="©",pX="©",mX="¤",gX="°",yX="÷",bX="É",vX="é",xX="Ê",_X="ê",wX="È",EX="è",SX="Ð",CX="ð",kX="Ë",AX="ë",TX="½",DX="¼",LX="¾",OX=">",MX=">",RX="Í",IX="í",FX="Î",PX="î",NX="¡",$X="Ì",BX="ì",jX="¿",zX="Ï",UX="ï",qX="«",HX="<",VX="<",GX="¯",WX="µ",YX="·",ZX=" ",XX="¬",KX="Ñ",JX="ñ",QX="Ó",eK="ó",tK="Ô",rK="ô",iK="Ò",nK="ò",sK="ª",oK="º",aK="Ø",lK="ø",uK="Õ",cK="õ",dK="Ö",hK="ö",fK="¶",pK="±",mK="£",gK='"',yK='"',bK="»",vK="®",xK="®",_K="§",wK="­",EK="¹",SK="²",CK="³",kK="ß",AK="Þ",TK="þ",DK="×",LK="Ú",OK="ú",MK="Û",RK="û",IK="Ù",FK="ù",PK="¨",NK="Ü",$K="ü",BK="Ý",jK="ý",zK="¥",UK="ÿ",Qfe={Aacute:VZ,aacute:GZ,Acirc:WZ,acirc:YZ,acute:ZZ,AElig:XZ,aelig:KZ,Agrave:JZ,agrave:QZ,amp:eX,AMP:tX,Aring:rX,aring:iX,Atilde:nX,atilde:sX,Auml:oX,auml:aX,brvbar:lX,Ccedil:uX,ccedil:cX,cedil:dX,cent:hX,copy:fX,COPY:pX,curren:mX,deg:gX,divide:yX,Eacute:bX,eacute:vX,Ecirc:xX,ecirc:_X,Egrave:wX,egrave:EX,ETH:SX,eth:CX,Euml:kX,euml:AX,frac12:TX,frac14:DX,frac34:LX,gt:OX,GT:MX,Iacute:RX,iacute:IX,Icirc:FX,icirc:PX,iexcl:NX,Igrave:$X,igrave:BX,iquest:jX,Iuml:zX,iuml:UX,laquo:qX,lt:HX,LT:VX,macr:GX,micro:WX,middot:YX,nbsp:ZX,not:XX,Ntilde:KX,ntilde:JX,Oacute:QX,oacute:eK,Ocirc:tK,ocirc:rK,Ograve:iK,ograve:nK,ordf:sK,ordm:oK,Oslash:aK,oslash:lK,Otilde:uK,otilde:cK,Ouml:dK,ouml:hK,para:fK,plusmn:pK,pound:mK,quot:gK,QUOT:yK,raquo:bK,reg:vK,REG:xK,sect:_K,shy:wK,sup1:EK,sup2:SK,sup3:CK,szlig:kK,THORN:AK,thorn:TK,times:DK,Uacute:LK,uacute:OK,Ucirc:MK,ucirc:RK,Ugrave:IK,ugrave:FK,uml:PK,Uuml:NK,uuml:$K,Yacute:BK,yacute:jK,yen:zK,yuml:UK},epe=Object.freeze({__proto__:null,Aacute:VZ,aacute:GZ,Acirc:WZ,acirc:YZ,acute:ZZ,AElig:XZ,aelig:KZ,Agrave:JZ,agrave:QZ,amp:eX,AMP:tX,Aring:rX,aring:iX,Atilde:nX,atilde:sX,Auml:oX,auml:aX,brvbar:lX,Ccedil:uX,ccedil:cX,cedil:dX,cent:hX,copy:fX,COPY:pX,curren:mX,deg:gX,divide:yX,Eacute:bX,eacute:vX,Ecirc:xX,ecirc:_X,Egrave:wX,egrave:EX,ETH:SX,eth:CX,Euml:kX,euml:AX,frac12:TX,frac14:DX,frac34:LX,gt:OX,GT:MX,Iacute:RX,iacute:IX,Icirc:FX,icirc:PX,iexcl:NX,Igrave:$X,igrave:BX,iquest:jX,Iuml:zX,iuml:UX,laquo:qX,lt:HX,LT:VX,macr:GX,micro:WX,middot:YX,nbsp:ZX,not:XX,Ntilde:KX,ntilde:JX,Oacute:QX,oacute:eK,Ocirc:tK,ocirc:rK,Ograve:iK,ograve:nK,ordf:sK,ordm:oK,Oslash:aK,oslash:lK,Otilde:uK,otilde:cK,Ouml:dK,ouml:hK,para:fK,plusmn:pK,pound:mK,quot:gK,QUOT:yK,raquo:bK,reg:vK,REG:xK,sect:_K,shy:wK,sup1:EK,sup2:SK,sup3:CK,szlig:kK,THORN:AK,thorn:TK,times:DK,Uacute:LK,uacute:OK,Ucirc:MK,ucirc:RK,Ugrave:IK,ugrave:FK,uml:PK,Uuml:NK,uuml:$K,Yacute:BK,yacute:jK,yen:zK,yuml:UK,default:Qfe}),qK="&",HK="'",VK=">",GK="<",WK='"',tpe={amp:qK,apos:HK,gt:VK,lt:GK,quot:WK},rpe=Object.freeze({__proto__:null,amp:qK,apos:HK,gt:VK,lt:GK,quot:WK,default:tpe}),ipe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},npe=Object.freeze({__proto__:null,default:ipe}),spe=b(npe),YK=y(function(z,ne){var Ee=p&&p.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(ne,"__esModule",{value:!0});var Le=Ee(spe);function ct(st){if(st>=55296&&st<=57343||st>1114111)return"�";st in Le.default&&(st=Le.default[st]);var er="";return st>65535&&(st-=65536,er+=String.fromCharCode(st>>>10&1023|55296),st=56320|st&1023),er+=String.fromCharCode(st),er}ne.default=ct});g(YK);var ZK=b(Jfe),ope=b(epe),XK=b(rpe),Kl=y(function(z,ne){var Ee=p&&p.__importDefault||function(ei){return ei&&ei.__esModule?ei:{default:ei}};Object.defineProperty(ne,"__esModule",{value:!0});var Le=Ee(ZK),ct=Ee(ope),st=Ee(XK),er=Ee(YK);ne.decodeXML=At(st.default),ne.decodeHTMLStrict=At(Le.default);function At(ei){var ti=Object.keys(ei).join("|"),Ci=vi(ei);ti+="|#[xX][\\da-fA-F]+|#\\d+";var ki=new RegExp("&(?:"+ti+");","g");return function(Cs){return String(Cs).replace(ki,Ci)}}var hr=function(ei,ti){return ei<ti?1:-1};ne.decodeHTML=function(){for(var ei=Object.keys(ct.default).sort(hr),ti=Object.keys(Le.default).sort(hr),Ci=0,ki=0;Ci<ti.length;Ci++)ei[ki]===ti[Ci]?(ti[Ci]+=";?",ki++):ti[Ci]+=";";var Cs=new RegExp("&(?:"+ti.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),gd=vi(Le.default);function Xx(yd){return yd.substr(-1)!==";"&&(yd+=";"),gd(yd)}return function(yd){return String(yd).replace(Cs,Xx)}}();function vi(ei){return function(Ci){return Ci.charAt(1)==="#"?Ci.charAt(2)==="X"||Ci.charAt(2)==="x"?er.default(parseInt(Ci.substr(3),16)):er.default(parseInt(Ci.substr(2),10)):ei[Ci.slice(1,-1)]}}});g(Kl),Kl.decodeXML,Kl.decodeHTMLStrict,Kl.decodeHTML;var hd=y(function(z,ne){var Ee=p&&p.__importDefault||function(Os){return Os&&Os.__esModule?Os:{default:Os}};Object.defineProperty(ne,"__esModule",{value:!0});var Le=Ee(XK),ct=vi(Le.default),st=ei(ct);ne.encodeXML=gd(ct,st);var er=Ee(ZK),At=vi(er.default),hr=ei(At);ne.encodeHTML=gd(At,hr);function vi(Os){return Object.keys(Os).sort().reduce(function(Ju,dl){return Ju[Os[dl]]="&"+dl+";",Ju},{})}function ei(Os){var Ju=[],dl=[];return Object.keys(Os).forEach(function(bd){return bd.length===1?Ju.push("\\"+bd):dl.push(bd)}),dl.unshift("["+Ju.join("")+"]"),new RegExp(dl.join("|"),"g")}var ti=/[^\0-\x7F]/g,Ci=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function ki(Os){return"&#x"+Os.charCodeAt(0).toString(16).toUpperCase()+";"}function Cs(Os,Ju){var dl=Os.charCodeAt(0),bd=Os.charCodeAt(1),Mge=(dl-55296)*1024+bd-56320+65536;return"&#x"+Mge.toString(16).toUpperCase()+";"}function gd(Os,Ju){return function(dl){return dl.replace(Ju,function(bd){return Os[bd]}).replace(Ci,Cs).replace(ti,ki)}}var Xx=ei(ct);function yd(Os){return Os.replace(Xx,ki).replace(Ci,Cs).replace(ti,ki)}ne.escape=yd});g(hd),hd.encodeXML,hd.encodeHTML,hd.escape;var qs=y(function(z,ne){Object.defineProperty(ne,"__esModule",{value:!0});function Ee(At,hr){return(!hr||hr<=0?Kl.decodeXML:Kl.decodeHTML)(At)}ne.decode=Ee;function Le(At,hr){return(!hr||hr<=0?Kl.decodeXML:Kl.decodeHTMLStrict)(At)}ne.decodeStrict=Le;function ct(At,hr){return(!hr||hr<=0?hd.encodeXML:hd.encodeHTML)(At)}ne.encode=ct;var st=hd;ne.encodeXML=st.encodeXML,ne.encodeHTML=st.encodeHTML,ne.escape=st.escape,ne.encodeHTML4=st.encodeHTML,ne.encodeHTML5=st.encodeHTML;var er=Kl;ne.decodeXML=er.decodeXML,ne.decodeHTML=er.decodeHTML,ne.decodeHTMLStrict=er.decodeHTMLStrict,ne.decodeHTML4=er.decodeHTML,ne.decodeHTML5=er.decodeHTML,ne.decodeHTML4Strict=er.decodeHTMLStrict,ne.decodeHTML5Strict=er.decodeHTMLStrict,ne.decodeXMLStrict=er.decodeXML});g(qs),qs.decode,qs.decodeStrict,qs.encode,qs.encodeXML,qs.encodeHTML,qs.escape,qs.encodeHTML4,qs.encodeHTML5,qs.decodeXML;var KK=qs.decodeHTML;qs.decodeHTMLStrict,qs.decodeHTML4,qs.decodeHTML5,qs.decodeHTML4Strict,qs.decodeHTML5Strict,qs.decodeXMLStrict;var ape=92,JK="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",QK="[A-Za-z][A-Za-z0-9-]*",lpe="[a-zA-Z_:][a-zA-Z0-9:._-]*",upe="[^\"'=<>`\\x00-\\x20]+",cpe="'[^']*'",dpe='"[^"]*"',hpe="(?:"+upe+"|"+cpe+"|"+dpe+")",fpe="(?:\\s*=\\s*"+hpe+")",ppe="(?:\\s+"+lpe+fpe+"?)",eJ="<"+QK+ppe+"*\\s*/?>",tJ="</"+QK+"\\s*[>]",mpe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",gpe="[<][?][\\s\\S]*?[?][>]",ype="<![A-Z]+\\s+[^>]*>",bpe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",vpe="(?:"+eJ+"|"+tJ+"|"+mpe+"|"+gpe+"|"+ype+"|"+bpe+")",xpe=new RegExp("^"+vpe),_pe=/[\\&]/,rJ="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",wpe=new RegExp("\\\\"+rJ+"|"+JK,"gi"),Epe='[&<>"]',iJ=new RegExp(Epe,"g"),Spe=function(z){return z.charCodeAt(0)===ape?z.charAt(1):KK(z)},nJ=function(z){return _pe.test(z)?z.replace(wpe,Spe):z},Cpe=function(z){try{return f(z)}catch{return z}},kpe=function(z){switch(z){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return z}},sJ=function(z){return iJ.test(z)?z.replace(iJ,kpe):z};/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Hx;function Vx(z){return Hx(z)}if(String.fromCodePoint)Hx=function(z){try{return String.fromCodePoint(z)}catch(ne){if(ne instanceof RangeError)return"�";throw ne}};else{var Ape=String.fromCharCode,Tpe=Math.floor;Hx=function(){var z=16384,ne=[],Ee,Le,ct=-1,st=arguments.length;if(!st)return"";for(var er="";++ct<st;){var At=Number(arguments[ct]);if(!isFinite(At)||At<0||At>1114111||Tpe(At)!==At)return"�";At<=65535?ne.push(At):(At-=65536,Ee=(At>>10)+55296,Le=At%1024+56320,ne.push(Ee,Le)),(ct+1===st||ne.length>z)&&(er+=Ape.apply(null,ne),ne.length=0)}return er}}/*! http://mths.be/repeat v0.2.0 by @mathias */String.prototype.repeat||function(){var z=function(){try{var Ee={},Le=Object.defineProperty,ct=Le(Ee,Ee,Ee)&&Le}catch{}return ct}(),ne=function(Ee){if(this==null)throw TypeError();var Le=String(this),ct=Ee?Number(Ee):0;if(ct!=ct&&(ct=0),ct<0||ct==1/0)throw RangeError();for(var st="";ct;)ct%2==1&&(st+=Le),ct>1&&(Le+=Le),ct>>=1;return st};z?z(String.prototype,"repeat",{value:ne,configurable:!0,writable:!0}):String.prototype.repeat=ne}();var Yy=Cpe,Gx=nJ,oJ=10,Wx=42,Zy=95,Dpe=96,aJ=91,Lpe=93,lJ=60,Ope=33,uJ=92,Mpe=38,cJ=40,Yx=41,Rpe=58,fd=39,pd=34,dJ=rJ,Zx="\\\\"+dJ,Ipe=JK,Fpe=xpe,hJ=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Ppe=new RegExp('^(?:"('+Zx+`|[^"\\x00])*"|'(`+Zx+"|[^'\\x00])*'|\\(("+Zx+"|[^()\\x00])*\\))"),Npe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,fJ=new RegExp("^"+dJ),$pe=new RegExp("^"+Ipe,"i"),Bpe=/`+/,jpe=/^`+/,zpe=/\.\.\./g,Upe=/--+/g,qpe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Hpe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Vpe=/^ *(?:\n *)?/,pJ=/^[ \t\n\x0b\x0c\x0d]/,mJ=/^\s/,Gpe=/ *$/,Wpe=/^ */,gJ=/^ *(?:\n|$)/,Ype=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,Zpe=/^[^\n`\[\]\\!<&*_'"]+/m,eo=function(z){var ne=new a("text");return ne._literal=z,ne},yJ=function(z){return z.slice(1,z.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()},Xpe=function(z){var ne=z.exec(this.subject.slice(this.pos));return ne===null?null:(this.pos+=ne.index+ne[0].length,ne[0])},Kpe=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},Jpe=function(){return this.match(Vpe),!0},Qpe=function(z){var ne=this.match(jpe);if(ne===null)return!1;for(var Ee=this.pos,Le,ct,st;(Le=this.match(Bpe))!==null;)if(Le===ne)return ct=new a("code"),st=this.subject.slice(Ee,this.pos-ne.length).replace(/\n/gm," "),st.length>0&&st.match(/[^ ]/)!==null&&st[0]==" "&&st[st.length-1]==" "?ct._literal=st.slice(1,st.length-1):ct._literal=st,z.appendChild(ct),!0;return this.pos=Ee,z.appendChild(eo(ne)),!0},eme=function(z){var ne=this.subject,Ee;return this.pos+=1,this.peek()===oJ?(this.pos+=1,Ee=new a("linebreak"),z.appendChild(Ee)):fJ.test(ne.charAt(this.pos))?(z.appendChild(eo(ne.charAt(this.pos))),this.pos+=1):z.appendChild(eo("\\")),!0},tme=function(z){var ne,Ee,Le;return(ne=this.match(qpe))?(Ee=ne.slice(1,ne.length-1),Le=new a("link"),Le._destination=Yy("mailto:"+Ee),Le._title="",Le.appendChild(eo(Ee)),z.appendChild(Le),!0):(ne=this.match(Hpe))?(Ee=ne.slice(1,ne.length-1),Le=new a("link"),Le._destination=Yy(Ee),Le._title="",Le.appendChild(eo(Ee)),z.appendChild(Le),!0):!1},rme=function(z){var ne=this.match(Fpe);if(ne===null)return!1;var Ee=new a("html_inline");return Ee._literal=ne,z.appendChild(Ee),!0},ime=function(z){var ne=0,Ee,Le,ct,st=this.pos,er,At,hr,vi,ei,ti,Ci,ki;if(z===fd||z===pd)ne++,this.pos++;else for(;this.peek()===z;)ne++,this.pos++;return ne===0?null:(Ee=st===0?`
`:this.subject.charAt(st-1),ct=this.peek(),ct===-1?Le=`
`:Le=Vx(ct),ei=mJ.test(Le),ti=hJ.test(Le),Ci=mJ.test(Ee),ki=hJ.test(Ee),er=!ei&&(!ti||Ci||ki),At=!Ci&&(!ki||ei||ti),z===Zy?(hr=er&&(!At||ki),vi=At&&(!er||ti)):z===fd||z===pd?(hr=er&&!At,vi=At):(hr=er,vi=At),this.pos=st,{numdelims:ne,can_open:hr,can_close:vi})},nme=function(z,ne){var Ee=this.scanDelims(z);if(!Ee)return!1;var Le=Ee.numdelims,ct=this.pos,st;this.pos+=Le,z===fd?st="’":z===pd?st="“":st=this.subject.slice(ct,this.pos);var er=eo(st);return ne.appendChild(er),(Ee.can_open||Ee.can_close)&&(this.options.smart||z!==fd&&z!==pd)&&(this.delimiters={cc:z,numdelims:Le,origdelims:Le,node:er,previous:this.delimiters,next:null,can_open:Ee.can_open,can_close:Ee.can_close},this.delimiters.previous!==null&&(this.delimiters.previous.next=this.delimiters)),!0},sme=function(z){z.previous!==null&&(z.previous.next=z.next),z.next===null?this.delimiters=z.previous:z.next.previous=z.previous},ome=function(z,ne){z.next!==ne&&(z.next=ne,ne.previous=z)},ame=function(z){for(var ne,Ee,Le,ct,st,er,At,hr,vi,ei,ti=[[],[],[]],Ci=!1,ki=0;ki<3;ki++)ti[ki][Zy]=z,ti[ki][Wx]=z,ti[ki][fd]=z,ti[ki][pd]=z;for(Ee=this.delimiters;Ee!==null&&Ee.previous!==z;)Ee=Ee.previous;for(;Ee!==null;){var Cs=Ee.cc;if(!Ee.can_close)Ee=Ee.next;else{for(ne=Ee.previous,ei=!1;ne!==null&&ne!==z&&ne!==ti[Ee.origdelims%3][Cs];){if(Ci=(Ee.can_open||ne.can_close)&&Ee.origdelims%3!==0&&(ne.origdelims+Ee.origdelims)%3===0,ne.cc===Ee.cc&&ne.can_open&&!Ci){ei=!0;break}ne=ne.previous}if(Le=Ee,Cs===Wx||Cs===Zy)if(!ei)Ee=Ee.next;else{At=Ee.numdelims>=2&&ne.numdelims>=2?2:1,ct=ne.node,st=Ee.node,ne.numdelims-=At,Ee.numdelims-=At,ct._literal=ct._literal.slice(0,ct._literal.length-At),st._literal=st._literal.slice(0,st._literal.length-At);var gd=new a(At===1?"emph":"strong");for(hr=ct._next;hr&&hr!==st;)vi=hr._next,hr.unlink(),gd.appendChild(hr),hr=vi;ct.insertAfter(gd),ome(ne,Ee),ne.numdelims===0&&(ct.unlink(),this.removeDelimiter(ne)),Ee.numdelims===0&&(st.unlink(),er=Ee.next,this.removeDelimiter(Ee),Ee=er)}else Cs===fd?(Ee.node._literal="’",ei&&(ne.node._literal="‘"),Ee=Ee.next):Cs===pd&&(Ee.node._literal="”",ei&&(ne.node.literal="“"),Ee=Ee.next);ei||(ti[Le.origdelims%3][Cs]=Le.previous,Le.can_open||this.removeDelimiter(Le))}}for(;this.delimiters!==null&&this.delimiters!==z;)this.removeDelimiter(this.delimiters)},lme=function(){var z=this.match(Ppe);return z===null?null:Gx(z.substr(1,z.length-2))},ume=function(){var z=this.match(Npe);if(z===null){if(this.peek()===lJ)return null;for(var ne=this.pos,Ee=0,Le;(Le=this.peek())!==-1;)if(Le===uJ&&fJ.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(Le===cJ)this.pos+=1,Ee+=1;else if(Le===Yx){if(Ee<1)break;this.pos+=1,Ee-=1}else{if(pJ.exec(Vx(Le))!==null)break;this.pos+=1}return this.pos===ne&&Le!==Yx||Ee!==0?null:(z=this.subject.substr(ne,this.pos-ne),Yy(Gx(z)))}else return Yy(Gx(z.substr(1,z.length-2)))},cme=function(){var z=this.match(Ype);return z===null||z.length>1001?0:z.length},dme=function(z){var ne=this.pos;this.pos+=1;var Ee=eo("[");return z.appendChild(Ee),this.addBracket(Ee,ne,!1),!0},hme=function(z){var ne=this.pos;if(this.pos+=1,this.peek()===aJ){this.pos+=1;var Ee=eo("![");z.appendChild(Ee),this.addBracket(Ee,ne+1,!0)}else z.appendChild(eo("!"));return!0},fme=function(z){var ne,Ee,Le,ct,st=!1,er,At;if(this.pos+=1,ne=this.pos,At=this.brackets,At===null)return z.appendChild(eo("]")),!0;if(!At.active)return z.appendChild(eo("]")),this.removeBracket(),!0;Ee=At.image;var hr=this.pos;if(this.peek()===cJ&&(this.pos++,this.spnl()&&(Le=this.parseLinkDestination())!==null&&this.spnl()&&(pJ.test(this.subject.charAt(this.pos-1))&&(ct=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Yx?(this.pos+=1,st=!0):this.pos=hr),!st){var vi=this.pos,ei=this.parseLinkLabel();if(ei>2?er=this.subject.slice(vi,vi+ei):At.bracketAfter||(er=this.subject.slice(At.index,ne)),ei===0&&(this.pos=hr),er){var ti=this.refmap[yJ(er)];ti&&(Le=ti.destination,ct=ti.title,st=!0)}}if(st){var Ci=new a(Ee?"image":"link");Ci._destination=Le,Ci._title=ct||"";var ki,Cs;for(ki=At.node._next;ki;)Cs=ki._next,ki.unlink(),Ci.appendChild(ki),ki=Cs;if(z.appendChild(Ci),this.processEmphasis(At.previousDelimiter),this.removeBracket(),At.node.unlink(),!Ee)for(At=this.brackets;At!==null;)At.image||(At.active=!1),At=At.previous;return!0}else return this.removeBracket(),this.pos=ne,z.appendChild(eo("]")),!0},pme=function(z,ne,Ee){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:z,previous:this.brackets,previousDelimiter:this.delimiters,index:ne,image:Ee,active:!0}},mme=function(){this.brackets=this.brackets.previous},gme=function(z){var ne;return(ne=this.match($pe))?(z.appendChild(eo(KK(ne))),!0):!1},yme=function(z){var ne;return(ne=this.match(Zpe))?(this.options.smart?z.appendChild(eo(ne.replace(zpe,"…").replace(Upe,function(Ee){var Le=0,ct=0;return Ee.length%3===0?ct=Ee.length/3:Ee.length%2===0?Le=Ee.length/2:Ee.length%3===2?(Le=1,ct=(Ee.length-2)/3):(Le=2,ct=(Ee.length-4)/3),"—".repeat(ct)+"–".repeat(Le)}))):z.appendChild(eo(ne)),!0):!1},bme=function(z){this.pos+=1;var ne=z._lastChild;if(ne&&ne.type==="text"&&ne._literal[ne._literal.length-1]===" "){var Ee=ne._literal[ne._literal.length-2]===" ";ne._literal=ne._literal.replace(Gpe,""),z.appendChild(new a(Ee?"linebreak":"softbreak"))}else z.appendChild(new a("softbreak"));return this.match(Wpe),!0},vme=function(z,ne){this.subject=z,this.pos=0;var Ee,Le,ct,st,er=this.pos;if(st=this.parseLinkLabel(),st===0)return 0;if(Ee=this.subject.substr(0,st),this.peek()===Rpe)this.pos++;else return this.pos=er,0;if(this.spnl(),Le=this.parseLinkDestination(),Le===null)return this.pos=er,0;var At=this.pos;this.spnl(),this.pos!==At&&(ct=this.parseLinkTitle()),ct===null&&(ct="",this.pos=At);var hr=!0;if(this.match(gJ)===null&&(ct===""?hr=!1:(ct="",this.pos=At,hr=this.match(gJ)!==null)),!hr)return this.pos=er,0;var vi=yJ(Ee);return vi===""?(this.pos=er,0):(ne[vi]||(ne[vi]={destination:Le,title:ct}),this.pos-er)},xme=function(z){var ne=!1,Ee=this.peek();if(Ee===-1)return!1;switch(Ee){case oJ:ne=this.parseNewline(z);break;case uJ:ne=this.parseBackslash(z);break;case Dpe:ne=this.parseBackticks(z);break;case Wx:case Zy:ne=this.handleDelim(Ee,z);break;case fd:case pd:ne=this.options.smart&&this.handleDelim(Ee,z);break;case aJ:ne=this.parseOpenBracket(z);break;case Ope:ne=this.parseBang(z);break;case Lpe:ne=this.parseCloseBracket(z);break;case lJ:ne=this.parseAutolink(z)||this.parseHtmlTag(z);break;case Mpe:ne=this.parseEntity(z);break;default:ne=this.parseString(z);break}return ne||(this.pos+=1,z.appendChild(eo(Vx(Ee)))),!0},_me=function(z){for(this.subject=z._string_content.trim(),this.pos=0,this.delimiters=null,this.brackets=null;this.parseInline(z););z._string_content=null,this.processEmphasis(null)};function wme(z){return{subject:"",delimiters:null,brackets:null,pos:0,refmap:{},match:Xpe,peek:Kpe,spnl:Jpe,parseBackticks:Qpe,parseBackslash:eme,parseAutolink:tme,parseHtmlTag:rme,scanDelims:ime,handleDelim:nme,parseLinkTitle:lme,parseLinkDestination:ume,parseLinkLabel:cme,parseOpenBracket:dme,parseBang:hme,parseCloseBracket:fme,addBracket:pme,removeBracket:mme,parseEntity:gme,parseString:yme,parseNewline:bme,parseReference:vme,parseInline:xme,processEmphasis:ame,removeDelimiter:sme,options:z||{},parse:_me}}var Xy=4,bJ=9,Eme=10,vJ=62,Sme=60,xJ=32,_J=91,Cme=[/./,/^<(?:script|pre|textarea|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+eJ+"|"+tJ+")\\s*$","i")],kme=[/./,/<\/(?:script|pre|textarea|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Ame=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Tme=/^[#`~*+_=<>0-9-]/,wJ=/[^ \t\f\v\r\n]/,Dme=/^[*+-]/,Lme=/^(\d{1,9})([.)])/,Ome=/^#{1,6}(?:[ \t]+|$)/,Mme=/^`{3,}(?!.*`)|^~{3,}/,Rme=/^(?:`{3,}|~{3,})(?= *$)/,Ime=/^(?:=+|-+)[ \t]*$/,Fme=/\r\n|\n|\r/,Pme=function(z){return!wJ.test(z)},fg=function(z){return z===xJ||z===bJ},da=function(z,ne){return ne<z.length?z.charCodeAt(ne):-1},EJ=function(z){for(;z;){if(z._lastLineBlank)return!0;var ne=z.type;if(!z._lastLineChecked&&(ne==="list"||ne==="item"))z._lastLineChecked=!0,z=z._lastChild;else{z._lastLineChecked=!0;break}}return!1},Nme=function(){if(this.partiallyConsumedTab){this.offset+=1;var z=4-this.column%4;this.tip._string_content+=" ".repeat(z)}this.tip._string_content+=this.currentLine.slice(this.offset)+`
`},$me=function(z,ne){for(;!this.blocks[this.tip.type].canContain(z);)this.finalize(this.tip,this.lineNumber-1);var Ee=ne+1,Le=new a(z,[[this.lineNumber,Ee],[0,0]]);return Le._string_content="",this.tip.appendChild(Le),this.tip=Le,Le},Bme=function(z,ne){var Ee=z.currentLine.slice(z.nextNonspace),Le,ct,st,er,At={type:null,tight:!0,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:z.indent};if(z.indent>=4)return null;if(Le=Ee.match(Dme))At.type="bullet",At.bulletChar=Le[0][0];else if((Le=Ee.match(Lme))&&(ne.type!=="paragraph"||Le[1]==="1"))At.type="ordered",At.start=parseInt(Le[1]),At.delimiter=Le[2];else return null;if(ct=da(z.currentLine,z.nextNonspace+Le[0].length),!(ct===-1||ct===bJ||ct===xJ)||ne.type==="paragraph"&&!z.currentLine.slice(z.nextNonspace+Le[0].length).match(wJ))return null;z.advanceNextNonspace(),z.advanceOffset(Le[0].length,!0),st=z.column,er=z.offset;do z.advanceOffset(1,!0),ct=da(z.currentLine,z.offset);while(z.column-st<5&&fg(ct));var hr=da(z.currentLine,z.offset)===-1,vi=z.column-st;return vi>=5||vi<1||hr?(At.padding=Le[0].length+1,z.column=st,z.offset=er,fg(da(z.currentLine,z.offset))&&z.advanceOffset(1,!0)):At.padding=Le[0].length+vi,At},jme=function(z,ne){return z.type===ne.type&&z.delimiter===ne.delimiter&&z.bulletChar===ne.bulletChar},zme=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var z=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=z}this.allClosed=!0}},SJ={document:{continue:function(){return 0},finalize:function(){},canContain:function(z){return z!=="item"},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(z,ne){for(var Ee=ne._firstChild;Ee;){if(EJ(Ee)&&Ee._next){ne._listData.tight=!1;break}for(var Le=Ee._firstChild;Le;){if(EJ(Le)&&(Ee._next||Le._next)){ne._listData.tight=!1;break}Le=Le._next}Ee=Ee._next}},canContain:function(z){return z==="item"},acceptsLines:!1},block_quote:{continue:function(z){var ne=z.currentLine;if(!z.indented&&da(ne,z.nextNonspace)===vJ)z.advanceNextNonspace(),z.advanceOffset(1,!1),fg(da(ne,z.offset))&&z.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(z){return z!=="item"},acceptsLines:!1},item:{continue:function(z,ne){if(z.blank){if(ne._firstChild==null)return 1;z.advanceNextNonspace()}else if(z.indent>=ne._listData.markerOffset+ne._listData.padding)z.advanceOffset(ne._listData.markerOffset+ne._listData.padding,!0);else return 1;return 0},finalize:function(){},canContain:function(z){return z!=="item"},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematic_break:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},code_block:{continue:function(z,ne){var Ee=z.currentLine,Le=z.indent;if(ne._isFenced){var ct=Le<=3&&Ee.charAt(z.nextNonspace)===ne._fenceChar&&Ee.slice(z.nextNonspace).match(Rme);if(ct&&ct[0].length>=ne._fenceLength)return z.lastLineLength=z.offset+Le+ct[0].length,z.finalize(ne,z.lineNumber),2;for(var st=ne._fenceOffset;st>0&&fg(da(Ee,z.offset));)z.advanceOffset(1,!0),st--}else if(Le>=Xy)z.advanceOffset(Xy,!0);else if(z.blank)z.advanceNextNonspace();else return 1;return 0},finalize:function(z,ne){if(ne._isFenced){var Ee=ne._string_content,Le=Ee.indexOf(`
`),ct=Ee.slice(0,Le),st=Ee.slice(Le+1);ne.info=nJ(ct.trim()),ne._literal=st}else ne._literal=ne._string_content.replace(/(\n *)+$/,`
`);ne._string_content=null},canContain:function(){return!1},acceptsLines:!0},html_block:{continue:function(z,ne){return z.blank&&(ne._htmlBlockType===6||ne._htmlBlockType===7)?1:0},finalize:function(z,ne){ne._literal=ne._string_content.replace(/(\n *)+$/,""),ne._string_content=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(z){return z.blank?1:0},finalize:function(z,ne){for(var Ee,Le=!1;da(ne._string_content,0)===_J&&(Ee=z.inlineParser.parseReference(ne._string_content,z.refmap));)ne._string_content=ne._string_content.slice(Ee),Le=!0;Le&&Pme(ne._string_content)&&ne.unlink()},canContain:function(){return!1},acceptsLines:!0}},Ume=[function(z){return!z.indented&&da(z.currentLine,z.nextNonspace)===vJ?(z.advanceNextNonspace(),z.advanceOffset(1,!1),fg(da(z.currentLine,z.offset))&&z.advanceOffset(1,!0),z.closeUnmatchedBlocks(),z.addChild("block_quote",z.nextNonspace),1):0},function(z){var ne;if(!z.indented&&(ne=z.currentLine.slice(z.nextNonspace).match(Ome))){z.advanceNextNonspace(),z.advanceOffset(ne[0].length,!1),z.closeUnmatchedBlocks();var Ee=z.addChild("heading",z.nextNonspace);return Ee.level=ne[0].trim().length,Ee._string_content=z.currentLine.slice(z.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),z.advanceOffset(z.currentLine.length-z.offset),2}else return 0},function(z){var ne;if(!z.indented&&(ne=z.currentLine.slice(z.nextNonspace).match(Mme))){var Ee=ne[0].length;z.closeUnmatchedBlocks();var Le=z.addChild("code_block",z.nextNonspace);return Le._isFenced=!0,Le._fenceLength=Ee,Le._fenceChar=ne[0][0],Le._fenceOffset=z.indent,z.advanceNextNonspace(),z.advanceOffset(Ee,!1),2}else return 0},function(z,ne){if(!z.indented&&da(z.currentLine,z.nextNonspace)===Sme){var Ee=z.currentLine.slice(z.nextNonspace),Le;for(Le=1;Le<=7;Le++)if(Cme[Le].test(Ee)&&(Le<7||ne.type!=="paragraph")){z.closeUnmatchedBlocks();var ct=z.addChild("html_block",z.offset);return ct._htmlBlockType=Le,2}}return 0},function(z,ne){var Ee;if(!z.indented&&ne.type==="paragraph"&&(Ee=z.currentLine.slice(z.nextNonspace).match(Ime))){z.closeUnmatchedBlocks();for(var Le;da(ne._string_content,0)===_J&&(Le=z.inlineParser.parseReference(ne._string_content,z.refmap));)ne._string_content=ne._string_content.slice(Le);if(ne._string_content.length>0){var ct=new a("heading",ne.sourcepos);return ct.level=Ee[0][0]==="="?1:2,ct._string_content=ne._string_content,ne.insertAfter(ct),ne.unlink(),z.tip=ct,z.advanceOffset(z.currentLine.length-z.offset,!1),2}else return 0}else return 0},function(z){return!z.indented&&Ame.test(z.currentLine.slice(z.nextNonspace))?(z.closeUnmatchedBlocks(),z.addChild("thematic_break",z.nextNonspace),z.advanceOffset(z.currentLine.length-z.offset,!1),2):0},function(z,ne){var Ee;return(!z.indented||ne.type==="list")&&(Ee=Bme(z,ne))?(z.closeUnmatchedBlocks(),(z.tip.type!=="list"||!jme(ne._listData,Ee))&&(ne=z.addChild("list",z.nextNonspace),ne._listData=Ee),ne=z.addChild("item",z.nextNonspace),ne._listData=Ee,1):0},function(z){return z.indented&&z.tip.type!=="paragraph"&&!z.blank?(z.advanceOffset(Xy,!0),z.closeUnmatchedBlocks(),z.addChild("code_block",z.offset),2):0}],qme=function(z,ne){for(var Ee=this.currentLine,Le,ct,st;z>0&&(st=Ee[this.offset]);)st==="	"?(Le=4-this.column%4,ne?(this.partiallyConsumedTab=Le>z,ct=Le>z?z:Le,this.column+=ct,this.offset+=this.partiallyConsumedTab?0:1,z-=ct):(this.partiallyConsumedTab=!1,this.column+=Le,this.offset+=1,z-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,z-=1)},Hme=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},Vme=function(){for(var z=this.currentLine,ne=this.offset,Ee=this.column,Le;(Le=z.charAt(ne))!=="";)if(Le===" ")ne++,Ee++;else if(Le==="	")ne++,Ee+=4-Ee%4;else break;this.blank=Le===`
`||Le==="\r"||Le==="",this.nextNonspace=ne,this.nextNonspaceColumn=Ee,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Xy},Gme=function(z){var ne=!0,Ee,Le=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,z.indexOf("\0")!==-1&&(z=z.replace(/\0/g,"�")),this.currentLine=z;for(var ct;(ct=Le._lastChild)&&ct._open;){switch(Le=ct,this.findNextNonspace(),this.blocks[Le.type].continue(this,Le)){case 0:break;case 1:ne=!1;break;case 2:return;default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!ne){Le=Le._parent;break}}this.allClosed=Le===this.oldtip,this.lastMatchedContainer=Le;for(var st=Le.type!=="paragraph"&&SJ[Le.type].acceptsLines,er=this.blockStarts,At=er.length;!st;){if(this.findNextNonspace(),!this.indented&&!Tme.test(z.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var hr=0;hr<At;){var vi=er[hr](this,Le);if(vi===1){Le=this.tip;break}else if(vi===2){Le=this.tip,st=!0;break}else hr++}if(hr===At){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&Le.lastChild&&(Le.lastChild._lastLineBlank=!0),Ee=Le.type;for(var ei=this.blank&&!(Ee==="block_quote"||Ee==="code_block"&&Le._isFenced||Ee==="item"&&!Le._firstChild&&Le.sourcepos[0][0]===this.lineNumber),ti=Le;ti;)ti._lastLineBlank=ei,ti=ti._parent;this.blocks[Ee].acceptsLines?(this.addLine(),Ee==="html_block"&&Le._htmlBlockType>=1&&Le._htmlBlockType<=5&&kme[Le._htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=z.length,this.finalize(Le,this.lineNumber))):this.offset<z.length&&!this.blank&&(Le=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=z.length},Wme=function(z,ne){var Ee=z._parent;z._open=!1,z.sourcepos[1]=[ne,this.lastLineLength],this.blocks[z.type].finalize(this,z),this.tip=Ee},Yme=function(z){var ne,Ee,Le,ct=z.walker();for(this.inlineParser.refmap=this.refmap,this.inlineParser.options=this.options;Ee=ct.next();)ne=Ee.node,Le=ne.type,!Ee.entering&&(Le==="paragraph"||Le==="heading")&&this.inlineParser.parse(ne)},CJ=function(){var z=new a("document",[[1,1],[0,0]]);return z},Zme=function(z){this.doc=new CJ,this.tip=this.doc,this.refmap={},this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="",this.options.time&&console.time("preparing input");var ne=z.split(Fme),Ee=ne.length;z.charCodeAt(z.length-1)===Eme&&(Ee-=1),this.options.time&&console.timeEnd("preparing input"),this.options.time&&console.time("block parsing");for(var Le=0;Le<Ee;Le++)this.incorporateLine(ne[Le]);for(;this.tip;)this.finalize(this.tip,Ee);return this.options.time&&console.timeEnd("block parsing"),this.options.time&&console.time("inline parsing"),this.processInlines(this.doc),this.options.time&&console.timeEnd("inline parsing"),this.doc};function Xme(z){return{doc:new CJ,blocks:SJ,blockStarts:Ume,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:!1,blank:!1,partiallyConsumedTab:!1,allClosed:!0,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new wme(z),findNextNonspace:Vme,advanceOffset:qme,advanceNextNonspace:Hme,addLine:Nme,addChild:$me,incorporateLine:Gme,finalize:Wme,processInlines:Yme,closeUnmatchedBlocks:zme,parse:Zme,options:z||{}}}function Ku(){}function Kme(z){var ne=z.walker(),Ee,Le;for(this.buffer="",this.lastOut=`
`;Ee=ne.next();)Le=Ee.node.type,this[Le]&&this[Le](Ee.node,Ee.entering);return this.buffer}function Jme(z){this.buffer+=z,this.lastOut=z}function Qme(){this.lastOut!==`
`&&this.lit(`
`)}function ege(z){this.lit(z)}function tge(z){return z}Ku.prototype.render=Kme,Ku.prototype.out=ege,Ku.prototype.lit=Jme,Ku.prototype.cr=Qme,Ku.prototype.esc=tge;var rge=/^javascript:|vbscript:|file:|data:/i,ige=/^data:image\/(?:png|gif|jpeg|webp)/i,kJ=function(z){return rge.test(z)&&!ige.test(z)};function nge(z,ne,Ee){if(!(this.disableTags>0)){if(this.buffer+="<"+z,ne&&ne.length>0)for(var Le=0,ct;(ct=ne[Le])!==void 0;)this.buffer+=" "+ct[0]+'="'+ct[1]+'"',Le++;Ee&&(this.buffer+=" /"),this.buffer+=">",this.lastOut=">"}}function yn(z){z=z||{},z.softbreak=z.softbreak||`
`,this.disableTags=0,this.lastOut=`
`,this.options=z}function sge(z){this.out(z.literal)}function oge(){this.lit(this.options.softbreak)}function age(){this.tag("br",[],!0),this.cr()}function lge(z,ne){var Ee=this.attrs(z);ne?(this.options.safe&&kJ(z.destination)||Ee.push(["href",this.esc(z.destination)]),z.title&&Ee.push(["title",this.esc(z.title)]),this.tag("a",Ee)):this.tag("/a")}function uge(z,ne){ne?(this.disableTags===0&&(this.options.safe&&kJ(z.destination)?this.lit('<img src="" alt="'):this.lit('<img src="'+this.esc(z.destination)+'" alt="')),this.disableTags+=1):(this.disableTags-=1,this.disableTags===0&&(z.title&&this.lit('" title="'+this.esc(z.title)),this.lit('" />')))}function cge(z,ne){this.tag(ne?"em":"/em")}function dge(z,ne){this.tag(ne?"strong":"/strong")}function hge(z,ne){var Ee=z.parent.parent,Le=this.attrs(z);Ee!==null&&Ee.type==="list"&&Ee.listTight||(ne?(this.cr(),this.tag("p",Le)):(this.tag("/p"),this.cr()))}function fge(z,ne){var Ee="h"+z.level,Le=this.attrs(z);ne?(this.cr(),this.tag(Ee,Le)):(this.tag("/"+Ee),this.cr())}function pge(z){this.tag("code"),this.out(z.literal),this.tag("/code")}function mge(z){var ne=z.info?z.info.split(/\s+/):[],Ee=this.attrs(z);ne.length>0&&ne[0].length>0&&Ee.push(["class","language-"+this.esc(ne[0])]),this.cr(),this.tag("pre"),this.tag("code",Ee),this.out(z.literal),this.tag("/code"),this.tag("/pre"),this.cr()}function gge(z){var ne=this.attrs(z);this.cr(),this.tag("hr",ne,!0),this.cr()}function yge(z,ne){var Ee=this.attrs(z);ne?(this.cr(),this.tag("blockquote",Ee),this.cr()):(this.cr(),this.tag("/blockquote"),this.cr())}function bge(z,ne){var Ee=z.listType==="bullet"?"ul":"ol",Le=this.attrs(z);if(ne){var ct=z.listStart;ct!==null&&ct!==1&&Le.push(["start",ct.toString()]),this.cr(),this.tag(Ee,Le),this.cr()}else this.cr(),this.tag("/"+Ee),this.cr()}function vge(z,ne){var Ee=this.attrs(z);ne?this.tag("li",Ee):(this.tag("/li"),this.cr())}function xge(z){this.options.safe?this.lit("<!-- raw HTML omitted -->"):this.lit(z.literal)}function _ge(z){this.cr(),this.options.safe?this.lit("<!-- raw HTML omitted -->"):this.lit(z.literal),this.cr()}function wge(z,ne){ne&&z.onEnter?this.lit(z.onEnter):!ne&&z.onExit&&this.lit(z.onExit)}function Ege(z,ne){this.cr(),ne&&z.onEnter?this.lit(z.onEnter):!ne&&z.onExit&&this.lit(z.onExit),this.cr()}function Sge(z){this.lit(this.esc(z))}function Cge(z){var ne=[];if(this.options.sourcepos){var Ee=z.sourcepos;Ee&&ne.push(["data-sourcepos",String(Ee[0][0])+":"+String(Ee[0][1])+"-"+String(Ee[1][0])+":"+String(Ee[1][1])])}return ne}yn.prototype=Object.create(Ku.prototype),yn.prototype.text=sge,yn.prototype.html_inline=xge,yn.prototype.html_block=_ge,yn.prototype.softbreak=oge,yn.prototype.linebreak=age,yn.prototype.link=lge,yn.prototype.image=uge,yn.prototype.emph=cge,yn.prototype.strong=dge,yn.prototype.paragraph=hge,yn.prototype.heading=fge,yn.prototype.code=pge,yn.prototype.code_block=mge,yn.prototype.thematic_break=gge,yn.prototype.block_quote=yge,yn.prototype.list=bge,yn.prototype.item=vge,yn.prototype.custom_inline=wge,yn.prototype.custom_block=Ege,yn.prototype.esc=sJ,yn.prototype.out=Sge,yn.prototype.tag=nge,yn.prototype.attrs=Cge;var kge=/\<[^>]*\>/;function Age(z){return z.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()}function md(z){z=z||{},this.disableTags=0,this.lastOut=`
`,this.indentLevel=0,this.indent="  ",this.options=z}function Tge(z){this.buffer="";var ne,Ee,Le=z.walker(),ct,st,er,At,hr,vi,ei=this.options;for(ei.time&&console.time("rendering"),this.buffer+=`<?xml version="1.0" encoding="UTF-8"?>
`,this.buffer+=`<!DOCTYPE document SYSTEM "CommonMark.dtd">
`;ct=Le.next();)if(er=ct.entering,st=ct.node,vi=st.type,At=st.isContainer,hr=vi==="thematic_break"||vi==="linebreak"||vi==="softbreak",Ee=Age(vi),er){switch(ne=[],vi){case"document":ne.push(["xmlns","http://commonmark.org/xml/1.0"]);break;case"list":st.listType!==null&&ne.push(["type",st.listType.toLowerCase()]),st.listStart!==null&&ne.push(["start",String(st.listStart)]),st.listTight!==null&&ne.push(["tight",st.listTight?"true":"false"]);var ti=st.listDelimiter;if(ti!==null){var Ci="";ti==="."?Ci="period":Ci="paren",ne.push(["delimiter",Ci])}break;case"code_block":st.info&&ne.push(["info",st.info]);break;case"heading":ne.push(["level",String(st.level)]);break;case"link":case"image":ne.push(["destination",st.destination]),ne.push(["title",st.title]);break;case"custom_inline":case"custom_block":ne.push(["on_enter",st.onEnter]),ne.push(["on_exit",st.onExit]);break}if(ei.sourcepos){var ki=st.sourcepos;ki&&ne.push(["sourcepos",String(ki[0][0])+":"+String(ki[0][1])+"-"+String(ki[1][0])+":"+String(ki[1][1])])}if(this.cr(),this.out(this.tag(Ee,ne,hr)),At)this.indentLevel+=1;else if(!At&&!hr){var Cs=st.literal;Cs&&this.out(this.esc(Cs)),this.out(this.tag("/"+Ee))}}else this.indentLevel-=1,this.cr(),this.out(this.tag("/"+Ee));return ei.time&&console.timeEnd("rendering"),this.buffer+=`
`,this.buffer}function Dge(z){this.disableTags>0?this.buffer+=z.replace(kge,""):this.buffer+=z,this.lastOut=z}function Lge(){if(this.lastOut!==`
`){this.buffer+=`
`,this.lastOut=`
`;for(var z=this.indentLevel;z>0;z--)this.buffer+=this.indent}}function Oge(z,ne,Ee){var Le="<"+z;if(ne&&ne.length>0)for(var ct=0,st;(st=ne[ct])!==void 0;)Le+=" "+st[0]+'="'+this.esc(st[1])+'"',ct++;return Ee&&(Le+=" /"),Le+=">",Le}md.prototype=Object.create(Ku.prototype),md.prototype.render=Tge,md.prototype.out=Dge,md.prototype.cr=Lge,md.prototype.tag=Oge,md.prototype.esc=sJ,r.HtmlRenderer=yn,r.Node=a,r.Parser=Xme,r.Renderer=Ku,r.XmlRenderer=md,Object.defineProperty(r,"__esModule",{value:!0})})}($b,$b.exports)),$b.exports}var Bb={exports:{}},nw,qre;function B8e(){if(qre)return nw;qre=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,b=0,x=0,w=g.length;x!==w&&g[x]===0;)x++,y++;for(var S=(w-x)*h+1>>>0,C=new Uint8Array(S);x!==w;){for(var k=g[x],O=0,M=S-1;(k!==0||O<b)&&M!==-1;M--,O++)k+=256*C[M]>>>0,C[M]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");b=O,x++}for(var A=S-b;A!==S&&C[A]===0;)A++;for(var I=l.repeat(y);A<S;++A)I+=e.charAt(C[A]);return I}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var b=0,x=0;g[y]===l;)b++,y++;for(var w=(g.length-y)*u+1>>>0,S=new Uint8Array(w);g[y];){var C=r[g.charCodeAt(y)];if(C===255)return;for(var k=0,O=w-1;(C!==0||k<x)&&O!==-1;O--,k++)C+=a*S[O]>>>0,S[O]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");x=k,y++}if(g[y]!==" "){for(var M=w-x;M!==w&&S[M]===0;)M++;for(var A=new Uint8Array(b+(w-M)),I=b;M!==w;)A[I++]=S[M++];return A}}}function p(g){var y=f(g);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:d,decodeUnsafe:f,decode:p}}return nw=t,nw}var jb={},sw={},ow={},aw,Hre;function Vde(){return Hre||(Hre=1,aw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0}),aw}var lw,Vre;function QC(){if(Vre)return lw;Vre=1;var t=Vde();return lw=function(){return t()&&!!Symbol.toStringTag},lw}var uw,Gre;function j8e(){return Gre||(Gre=1,uw=Error),uw}var cw,Wre;function z8e(){return Wre||(Wre=1,cw=EvalError),cw}var dw,Yre;function U8e(){return Yre||(Yre=1,dw=RangeError),dw}var hw,Zre;function q8e(){return Zre||(Zre=1,hw=ReferenceError),hw}var fw,Xre;function Gde(){return Xre||(Xre=1,fw=SyntaxError),fw}var pw,Kre;function Px(){return Kre||(Kre=1,pw=TypeError),pw}var mw,Jre;function H8e(){return Jre||(Jre=1,mw=URIError),mw}var gw,Qre;function V8e(){if(Qre)return gw;Qre=1;var t=typeof Symbol<"u"&&Symbol,e=Vde();return gw=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},gw}var yw,eie;function G8e(){if(eie)return yw;eie=1;var t={__proto__:null,foo:{}},e=Object;return yw=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},yw}var bw,tie;function W8e(){if(tie)return bw;tie=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,i="[object Function]",n=function(l,u){for(var h=[],d=0;d<l.length;d+=1)h[d]=l[d];for(var f=0;f<u.length;f+=1)h[f+l.length]=u[f];return h},s=function(l,u){for(var h=[],d=u,f=0;d<l.length;d+=1,f+=1)h[f]=l[d];return h},o=function(a,l){for(var u="",h=0;h<a.length;h+=1)u+=a[h],h+1<a.length&&(u+=l);return u};return bw=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==i)throw new TypeError(t+u);for(var h=s(arguments,1),d,f=function(){if(this instanceof d){var x=u.apply(this,n(h,arguments));return Object(x)===x?x:this}return u.apply(l,n(h,arguments))},p=r(0,u.length-h.length),g=[],y=0;y<p;y++)g[y]="$"+y;if(d=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var b=function(){};b.prototype=u.prototype,d.prototype=new b,b.prototype=null}return d},bw}var vw,rie;function ek(){if(rie)return vw;rie=1;var t=W8e();return vw=Function.prototype.bind||t,vw}var xw,iie;function Y8e(){if(iie)return xw;iie=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=ek();return xw=r.call(t,e),xw}var _w,nie;function fy(){if(nie)return _w;nie=1;var t,e=j8e(),r=z8e(),i=U8e(),n=q8e(),s=Gde(),o=Px(),a=H8e(),l=Function,u=function(G){try{return l('"use strict"; return ('+G+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var d=function(){throw new o},f=h?function(){try{return arguments.callee,d}catch{try{return h(arguments,"callee").get}catch{return d}}}():d,p=V8e()(),g=G8e()(),y=Object.getPrototypeOf||(g?function(G){return G.__proto__}:null),b={},x=typeof Uint8Array>"u"||!y?t:y(Uint8Array),w={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!p||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":n,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!p||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":f,"%TypedArray%":x,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(y)try{null.error}catch(G){var S=y(y(G));w["%Error.prototype%"]=S}var C=function G(Q){var J;if(Q==="%AsyncFunction%")J=u("async function () {}");else if(Q==="%GeneratorFunction%")J=u("function* () {}");else if(Q==="%AsyncGeneratorFunction%")J=u("async function* () {}");else if(Q==="%AsyncGenerator%"){var re=G("%AsyncGeneratorFunction%");re&&(J=re.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var pe=G("%AsyncGenerator%");pe&&y&&(J=y(pe.prototype))}return w[Q]=J,J},k={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=ek(),M=Y8e(),A=O.call(Function.call,Array.prototype.concat),I=O.call(Function.apply,Array.prototype.splice),R=O.call(Function.call,String.prototype.replace),V=O.call(Function.call,String.prototype.slice),oe=O.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,U=function(Q){var J=V(Q,0,1),re=V(Q,-1);if(J==="%"&&re!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&J!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var pe=[];return R(Q,L,function(ee,B,ge,ve){pe[pe.length]=ge?R(ve,F,"$1"):B||ee}),pe},Y=function(Q,J){var re=Q,pe;if(M(k,re)&&(pe=k[re],re="%"+pe[0]+"%"),M(w,re)){var ee=w[re];if(ee===b&&(ee=C(re)),typeof ee>"u"&&!J)throw new o("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:pe,name:re,value:ee}}throw new s("intrinsic "+Q+" does not exist!")};return _w=function(Q,J){if(typeof Q!="string"||Q.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new o('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,Q)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=U(Q),pe=re.length>0?re[0]:"",ee=Y("%"+pe+"%",J),B=ee.name,ge=ee.value,ve=!1,ze=ee.alias;ze&&(pe=ze[0],I(re,A([0,1],ze)));for(var it=1,tt=!0;it<re.length;it+=1){var Ne=re[it],Xe=V(Ne,0,1),nt=V(Ne,-1);if((Xe==='"'||Xe==="'"||Xe==="`"||nt==='"'||nt==="'"||nt==="`")&&Xe!==nt)throw new s("property names with quotes must have matching quotes");if((Ne==="constructor"||!tt)&&(ve=!0),pe+="."+Ne,B="%"+pe+"%",M(w,B))ge=w[B];else if(ge!=null){if(!(Ne in ge)){if(!J)throw new o("base intrinsic for "+Q+" exists, but the property is not available.");return}if(h&&it+1>=re.length){var vt=h(ge,Ne);tt=!!vt,tt&&"get"in vt&&!("originalValue"in vt.get)?ge=vt.get:ge=ge[Ne]}else tt=M(ge,Ne),ge=ge[Ne];tt&&!ve&&(w[B]=ge)}}return ge},_w}var ww={exports:{}},Ew,sie;function tk(){if(sie)return Ew;sie=1;var t=fy(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Ew=e,Ew}var Sw,oie;function rk(){if(oie)return Sw;oie=1;var t=fy(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Sw=e,Sw}var Cw,aie;function Z8e(){if(aie)return Cw;aie=1;var t=tk(),e=Gde(),r=Px(),i=rk();return Cw=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,f=!!i&&i(s,o);if(t)t(s,o,{configurable:h===null&&f?f.configurable:!h,enumerable:l===null&&f?f.enumerable:!l,value:a,writable:u===null&&f?f.writable:!u});else if(d||!l&&!u&&!h)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Cw}var kw,lie;function X8e(){if(lie)return kw;lie=1;var t=tk(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},kw=e,kw}var Aw,uie;function K8e(){if(uie)return Aw;uie=1;var t=fy(),e=Z8e(),r=X8e()(),i=rk(),n=Px(),s=t("%Math.floor%");return Aw=function(a,l){if(typeof a!="function")throw new n("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new n("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],h=!0,d=!0;if("length"in a&&i){var f=i(a,"length");f&&!f.configurable&&(h=!1),f&&!f.writable&&(d=!1)}return(h||d||!u)&&(r?e(a,"length",l,!0,!0):e(a,"length",l)),a},Aw}var cie;function Wde(){return cie||(cie=1,function(t){var e=ek(),r=fy(),i=K8e(),n=Px(),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=tk(),u=r("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new n("a function is required");var p=a(e,o,arguments);return i(p,1+u(0,f.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h}(ww)),ww.exports}var Tw,die;function Yde(){if(die)return Tw;die=1;var t=fy(),e=Wde(),r=e(t("String.prototype.indexOf"));return Tw=function(n,s){var o=t(n,!!s);return typeof o=="function"&&r(n,".prototype.")>-1?e(o):o},Tw}var Dw,hie;function J8e(){if(hie)return Dw;hie=1;var t=QC()(),e=Yde(),r=e("Object.prototype.toString"),i=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},n=function(a){return i(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return i(arguments)}();return i.isLegacyArguments=n,Dw=s?i:n,Dw}var Lw,fie;function Q8e(){if(fie)return Lw;fie=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,i=QC()(),n=Object.getPrototypeOf,s=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},o;return Lw=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!i){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!n)return!1;if(typeof o>"u"){var h=s();o=h?n(h):!1}return n(l)===o},Lw}var Ow,pie;function e$e(){if(pie)return Ow;pie=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},e(function(){throw 42},null,r)}catch(w){w!==i&&(e=null)}else e=null;var n=/^\s*class\b/,s=function(S){try{var C=t.call(S);return n.test(C)}catch{return!1}},o=function(S){try{return s(S)?!1:(t.call(S),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",h="[object GeneratorFunction]",d="[object HTMLAllCollection]",f="[object HTML document.all class]",p="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var x=document.all;a.call(x)===a.call(document.all)&&(b=function(S){if((y||!S)&&(typeof S>"u"||typeof S=="object"))try{var C=a.call(S);return(C===d||C===f||C===p||C===l)&&S("")==null}catch{}return!1})}return Ow=e?function(S){if(b(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;try{e(S,null,r)}catch(C){if(C!==i)return!1}return!s(S)&&o(S)}:function(S){if(b(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;if(g)return o(S);if(s(S))return!1;var C=a.call(S);return C!==u&&C!==h&&!/^\[object HTML/.test(C)?!1:o(S)},Ow}var Mw,mie;function t$e(){if(mie)return Mw;mie=1;var t=e$e(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=function(l,u,h){for(var d=0,f=l.length;d<f;d++)r.call(l,d)&&(h==null?u(l[d],d,l):u.call(h,l[d],d,l))},n=function(l,u,h){for(var d=0,f=l.length;d<f;d++)h==null?u(l.charAt(d),d,l):u.call(h,l.charAt(d),d,l)},s=function(l,u,h){for(var d in l)r.call(l,d)&&(h==null?u(l[d],d,l):u.call(h,l[d],d,l))},o=function(l,u,h){if(!t(u))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=h),e.call(l)==="[object Array]"?i(l,u,d):typeof l=="string"?n(l,u,d):s(l,u,d)};return Mw=o,Mw}var Rw,gie;function r$e(){return gie||(gie=1,Rw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Rw}var Iw,yie;function i$e(){if(yie)return Iw;yie=1;var t=r$e(),e=typeof globalThis>"u"?oi:globalThis;return Iw=function(){for(var i=[],n=0;n<t.length;n++)typeof e[t[n]]=="function"&&(i[i.length]=t[n]);return i},Iw}var Fw,bie;function Zde(){if(bie)return Fw;bie=1;var t=t$e(),e=i$e(),r=Wde(),i=Yde(),n=rk(),s=i("Object.prototype.toString"),o=QC()(),a=typeof globalThis>"u"?oi:globalThis,l=e(),u=i("String.prototype.slice"),h=Object.getPrototypeOf,d=i("Array.prototype.indexOf",!0)||function(b,x){for(var w=0;w<b.length;w+=1)if(b[w]===x)return w;return-1},f={__proto__:null};o&&n&&h?t(l,function(y){var b=new a[y];if(Symbol.toStringTag in b){var x=h(b),w=n(x,Symbol.toStringTag);if(!w){var S=h(x);w=n(S,Symbol.toStringTag)}f["$"+y]=r(w.get)}}):t(l,function(y){var b=new a[y],x=b.slice||b.set;x&&(f["$"+y]=r(x))});var p=function(b){var x=!1;return t(f,function(w,S){if(!x)try{"$"+w(b)===S&&(x=u(S,1))}catch{}}),x},g=function(b){var x=!1;return t(f,function(w,S){if(!x)try{w(b),x=u(S,1)}catch{}}),x};return Fw=function(b){if(!b||typeof b!="object")return!1;if(!o){var x=u(s(b),8,-1);return d(l,x)>-1?x:x!=="Object"?!1:g(b)}return n?p(b):null},Fw}var Pw,vie;function n$e(){if(vie)return Pw;vie=1;var t=Zde();return Pw=function(r){return!!t(r)},Pw}var xie;function s$e(){return xie||(xie=1,function(t){var e=J8e(),r=Q8e(),i=Zde(),n=n$e();function s(he){return he.call.bind(he)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var p=s(Symbol.prototype.valueOf);function g(he,ue){if(typeof he!="object")return!1;try{return ue(he),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=n;function y(he){return typeof Promise<"u"&&he instanceof Promise||he!==null&&typeof he=="object"&&typeof he.then=="function"&&typeof he.catch=="function"}t.isPromise=y;function b(he){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(he):n(he)||B(he)}t.isArrayBufferView=b;function x(he){return i(he)==="Uint8Array"}t.isUint8Array=x;function w(he){return i(he)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function S(he){return i(he)==="Uint16Array"}t.isUint16Array=S;function C(he){return i(he)==="Uint32Array"}t.isUint32Array=C;function k(he){return i(he)==="Int8Array"}t.isInt8Array=k;function O(he){return i(he)==="Int16Array"}t.isInt16Array=O;function M(he){return i(he)==="Int32Array"}t.isInt32Array=M;function A(he){return i(he)==="Float32Array"}t.isFloat32Array=A;function I(he){return i(he)==="Float64Array"}t.isFloat64Array=I;function R(he){return i(he)==="BigInt64Array"}t.isBigInt64Array=R;function V(he){return i(he)==="BigUint64Array"}t.isBigUint64Array=V;function oe(he){return l(he)==="[object Map]"}oe.working=typeof Map<"u"&&oe(new Map);function L(he){return typeof Map>"u"?!1:oe.working?oe(he):he instanceof Map}t.isMap=L;function F(he){return l(he)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function U(he){return typeof Set>"u"?!1:F.working?F(he):he instanceof Set}t.isSet=U;function Y(he){return l(he)==="[object WeakMap]"}Y.working=typeof WeakMap<"u"&&Y(new WeakMap);function G(he){return typeof WeakMap>"u"?!1:Y.working?Y(he):he instanceof WeakMap}t.isWeakMap=G;function Q(he){return l(he)==="[object WeakSet]"}Q.working=typeof WeakSet<"u"&&Q(new WeakSet);function J(he){return Q(he)}t.isWeakSet=J;function re(he){return l(he)==="[object ArrayBuffer]"}re.working=typeof ArrayBuffer<"u"&&re(new ArrayBuffer);function pe(he){return typeof ArrayBuffer>"u"?!1:re.working?re(he):he instanceof ArrayBuffer}t.isArrayBuffer=pe;function ee(he){return l(he)==="[object DataView]"}ee.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ee(new DataView(new ArrayBuffer(1),0,1));function B(he){return typeof DataView>"u"?!1:ee.working?ee(he):he instanceof DataView}t.isDataView=B;var ge=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ve(he){return l(he)==="[object SharedArrayBuffer]"}function ze(he){return typeof ge>"u"?!1:(typeof ve.working>"u"&&(ve.working=ve(new ge)),ve.working?ve(he):he instanceof ge)}t.isSharedArrayBuffer=ze;function it(he){return l(he)==="[object AsyncFunction]"}t.isAsyncFunction=it;function tt(he){return l(he)==="[object Map Iterator]"}t.isMapIterator=tt;function Ne(he){return l(he)==="[object Set Iterator]"}t.isSetIterator=Ne;function Xe(he){return l(he)==="[object Generator]"}t.isGeneratorObject=Xe;function nt(he){return l(he)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=nt;function vt(he){return g(he,u)}t.isNumberObject=vt;function Dt(he){return g(he,h)}t.isStringObject=Dt;function Rt(he){return g(he,d)}t.isBooleanObject=Rt;function Er(he){return o&&g(he,f)}t.isBigIntObject=Er;function or(he){return a&&g(he,p)}t.isSymbolObject=or;function di(he){return vt(he)||Dt(he)||Rt(he)||Er(he)||or(he)}t.isBoxedPrimitive=di;function We(he){return typeof Uint8Array<"u"&&(pe(he)||ze(he))}t.isAnyArrayBuffer=We,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(he){Object.defineProperty(t,he,{enumerable:!1,value:function(){throw new Error(he+" is not supported in userland")}})})}(ow)),ow}var Nw,_ie;function o$e(){return _ie||(_ie=1,Nw=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Nw}var zb={exports:{}},wie;function a$e(){return wie||(wie=1,typeof Object.create=="function"?zb.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:zb.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}),zb.exports}var Eie;function Sie(){return Eie||(Eie=1,function(t){var e={},r=Object.getOwnPropertyDescriptors||function(ge){for(var ve=Object.keys(ge),ze={},it=0;it<ve.length;it++)ze[ve[it]]=Object.getOwnPropertyDescriptor(ge,ve[it]);return ze},i=/%[sdj%]/g;t.format=function(B){if(!O(B)){for(var ge=[],ve=0;ve<arguments.length;ve++)ge.push(a(arguments[ve]));return ge.join(" ")}for(var ve=1,ze=arguments,it=ze.length,tt=String(B).replace(i,function(Xe){if(Xe==="%%")return"%";if(ve>=it)return Xe;switch(Xe){case"%s":return String(ze[ve++]);case"%d":return Number(ze[ve++]);case"%j":try{return JSON.stringify(ze[ve++])}catch{return"[Circular]"}default:return Xe}}),Ne=ze[ve];ve<it;Ne=ze[++ve])S(Ne)||!R(Ne)?tt+=" "+Ne:tt+=" "+a(Ne);return tt},t.deprecate=function(B,ge){if(typeof process<"u"&&process.noDeprecation===!0)return B;if(typeof process>"u")return function(){return t.deprecate(B,ge).apply(this,arguments)};var ve=!1;function ze(){if(!ve){if(process.throwDeprecation)throw new Error(ge);process.traceDeprecation?console.trace(ge):console.error(ge),ve=!0}return B.apply(this,arguments)}return ze};var n={},s=/^$/;if(e.NODE_DEBUG){var o=e.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+o+"$","i")}t.debuglog=function(B){if(B=B.toUpperCase(),!n[B])if(s.test(B)){var ge=process.pid;n[B]=function(){var ve=t.format.apply(t,arguments);console.error("%s %d: %s",B,ge,ve)}}else n[B]=function(){};return n[B]};function a(B,ge){var ve={seen:[],stylize:u};return arguments.length>=3&&(ve.depth=arguments[2]),arguments.length>=4&&(ve.colors=arguments[3]),w(ge)?ve.showHidden=ge:ge&&t._extend(ve,ge),A(ve.showHidden)&&(ve.showHidden=!1),A(ve.depth)&&(ve.depth=2),A(ve.colors)&&(ve.colors=!1),A(ve.customInspect)&&(ve.customInspect=!0),ve.colors&&(ve.stylize=l),d(ve,B,ve.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(B,ge){var ve=a.styles[ge];return ve?"\x1B["+a.colors[ve][0]+"m"+B+"\x1B["+a.colors[ve][1]+"m":B}function u(B,ge){return B}function h(B){var ge={};return B.forEach(function(ve,ze){ge[ve]=!0}),ge}function d(B,ge,ve){if(B.customInspect&&ge&&L(ge.inspect)&&ge.inspect!==t.inspect&&!(ge.constructor&&ge.constructor.prototype===ge)){var ze=ge.inspect(ve,B);return O(ze)||(ze=d(B,ze,ve)),ze}var it=f(B,ge);if(it)return it;var tt=Object.keys(ge),Ne=h(tt);if(B.showHidden&&(tt=Object.getOwnPropertyNames(ge)),oe(ge)&&(tt.indexOf("message")>=0||tt.indexOf("description")>=0))return p(ge);if(tt.length===0){if(L(ge)){var Xe=ge.name?": "+ge.name:"";return B.stylize("[Function"+Xe+"]","special")}if(I(ge))return B.stylize(RegExp.prototype.toString.call(ge),"regexp");if(V(ge))return B.stylize(Date.prototype.toString.call(ge),"date");if(oe(ge))return p(ge)}var nt="",vt=!1,Dt=["{","}"];if(x(ge)&&(vt=!0,Dt=["[","]"]),L(ge)){var Rt=ge.name?": "+ge.name:"";nt=" [Function"+Rt+"]"}if(I(ge)&&(nt=" "+RegExp.prototype.toString.call(ge)),V(ge)&&(nt=" "+Date.prototype.toUTCString.call(ge)),oe(ge)&&(nt=" "+p(ge)),tt.length===0&&(!vt||ge.length==0))return Dt[0]+nt+Dt[1];if(ve<0)return I(ge)?B.stylize(RegExp.prototype.toString.call(ge),"regexp"):B.stylize("[Object]","special");B.seen.push(ge);var Er;return vt?Er=g(B,ge,ve,Ne,tt):Er=tt.map(function(or){return y(B,ge,ve,Ne,or,vt)}),B.seen.pop(),b(Er,nt,Dt)}function f(B,ge){if(A(ge))return B.stylize("undefined","undefined");if(O(ge)){var ve="'"+JSON.stringify(ge).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(ve,"string")}if(k(ge))return B.stylize(""+ge,"number");if(w(ge))return B.stylize(""+ge,"boolean");if(S(ge))return B.stylize("null","null")}function p(B){return"["+Error.prototype.toString.call(B)+"]"}function g(B,ge,ve,ze,it){for(var tt=[],Ne=0,Xe=ge.length;Ne<Xe;++Ne)J(ge,String(Ne))?tt.push(y(B,ge,ve,ze,String(Ne),!0)):tt.push("");return it.forEach(function(nt){nt.match(/^\d+$/)||tt.push(y(B,ge,ve,ze,nt,!0))}),tt}function y(B,ge,ve,ze,it,tt){var Ne,Xe,nt;if(nt=Object.getOwnPropertyDescriptor(ge,it)||{value:ge[it]},nt.get?nt.set?Xe=B.stylize("[Getter/Setter]","special"):Xe=B.stylize("[Getter]","special"):nt.set&&(Xe=B.stylize("[Setter]","special")),J(ze,it)||(Ne="["+it+"]"),Xe||(B.seen.indexOf(nt.value)<0?(S(ve)?Xe=d(B,nt.value,null):Xe=d(B,nt.value,ve-1),Xe.indexOf(`
`)>-1&&(tt?Xe=Xe.split(`
`).map(function(vt){return"  "+vt}).join(`
`).slice(2):Xe=`
`+Xe.split(`
`).map(function(vt){return"   "+vt}).join(`
`))):Xe=B.stylize("[Circular]","special")),A(Ne)){if(tt&&it.match(/^\d+$/))return Xe;Ne=JSON.stringify(""+it),Ne.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ne=Ne.slice(1,-1),Ne=B.stylize(Ne,"name")):(Ne=Ne.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ne=B.stylize(Ne,"string"))}return Ne+": "+Xe}function b(B,ge,ve){var ze=B.reduce(function(it,tt){return tt.indexOf(`
`)>=0,it+tt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ze>60?ve[0]+(ge===""?"":ge+`
 `)+" "+B.join(`,
  `)+" "+ve[1]:ve[0]+ge+" "+B.join(", ")+" "+ve[1]}t.types=s$e();function x(B){return Array.isArray(B)}t.isArray=x;function w(B){return typeof B=="boolean"}t.isBoolean=w;function S(B){return B===null}t.isNull=S;function C(B){return B==null}t.isNullOrUndefined=C;function k(B){return typeof B=="number"}t.isNumber=k;function O(B){return typeof B=="string"}t.isString=O;function M(B){return typeof B=="symbol"}t.isSymbol=M;function A(B){return B===void 0}t.isUndefined=A;function I(B){return R(B)&&U(B)==="[object RegExp]"}t.isRegExp=I,t.types.isRegExp=I;function R(B){return typeof B=="object"&&B!==null}t.isObject=R;function V(B){return R(B)&&U(B)==="[object Date]"}t.isDate=V,t.types.isDate=V;function oe(B){return R(B)&&(U(B)==="[object Error]"||B instanceof Error)}t.isError=oe,t.types.isNativeError=oe;function L(B){return typeof B=="function"}t.isFunction=L;function F(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}t.isPrimitive=F,t.isBuffer=o$e();function U(B){return Object.prototype.toString.call(B)}function Y(B){return B<10?"0"+B.toString(10):B.toString(10)}var G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Q(){var B=new Date,ge=[Y(B.getHours()),Y(B.getMinutes()),Y(B.getSeconds())].join(":");return[B.getDate(),G[B.getMonth()],ge].join(" ")}t.log=function(){console.log("%s - %s",Q(),t.format.apply(t,arguments))},t.inherits=a$e(),t._extend=function(B,ge){if(!ge||!R(ge))return B;for(var ve=Object.keys(ge),ze=ve.length;ze--;)B[ve[ze]]=ge[ve[ze]];return B};function J(B,ge){return Object.prototype.hasOwnProperty.call(B,ge)}var re=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(ge){if(typeof ge!="function")throw new TypeError('The "original" argument must be of type Function');if(re&&ge[re]){var ve=ge[re];if(typeof ve!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ve,re,{value:ve,enumerable:!1,writable:!1,configurable:!0}),ve}function ve(){for(var ze,it,tt=new Promise(function(nt,vt){ze=nt,it=vt}),Ne=[],Xe=0;Xe<arguments.length;Xe++)Ne.push(arguments[Xe]);Ne.push(function(nt,vt){nt?it(nt):ze(vt)});try{ge.apply(this,Ne)}catch(nt){it(nt)}return tt}return Object.setPrototypeOf(ve,Object.getPrototypeOf(ge)),re&&Object.defineProperty(ve,re,{value:ve,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ve,r(ge))},t.promisify.custom=re;function pe(B,ge){if(!B){var ve=new Error("Promise was rejected with a falsy value");ve.reason=B,B=ve}return ge(B)}function ee(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function ge(){for(var ve=[],ze=0;ze<arguments.length;ze++)ve.push(arguments[ze]);var it=ve.pop();if(typeof it!="function")throw new TypeError("The last argument must be of type Function");var tt=this,Ne=function(){return it.apply(tt,arguments)};B.apply(this,ve).then(function(Xe){process.nextTick(Ne.bind(null,null,Xe))},function(Xe){process.nextTick(pe.bind(null,Xe,Ne))})}return Object.setPrototypeOf(ge,Object.getPrototypeOf(B)),Object.defineProperties(ge,r(B)),ge}t.callbackify=ee}(sw)),sw}var Cie;function l$e(){return Cie||(Cie=1,jb.TextEncoder=typeof TextEncoder<"u"?TextEncoder:Sie().TextEncoder,jb.TextDecoder=typeof TextDecoder<"u"?TextDecoder:Sie().TextDecoder),jb}var $w,kie;function ik(){if(kie)return $w;kie=1;const{TextEncoder:t,TextDecoder:e}=l$e(),r=new e,i=a=>r.decode(a),n=new t,s=a=>n.encode(a);function o(a,l){const u=new Uint8Array(l);let h=0;for(const d of a)u.set(d,h),h+=d.length;return u}return $w={decodeText:i,encodeText:s,concat:o},$w}var Bw,Aie;function u$e(){if(Aie)return Bw;Aie=1;const{encodeText:t}=ik();class e{constructor(i,n,s,o){this.name=i,this.code=n,this.codeBuf=t(this.code),this.alphabet=o,this.codec=s(o)}encode(i){return this.codec.encode(i)}decode(i){for(const n of i)if(this.alphabet&&this.alphabet.indexOf(n)<0)throw new Error(`invalid character '${n}' in '${i}'`);return this.codec.decode(i)}}return Bw=e,Bw}var jw,Tie;function c$e(){if(Tie)return jw;Tie=1;const t=(i,n,s)=>{const o={};for(let f=0;f<n.length;++f)o[n[f]]=f;let a=i.length;for(;i[a-1]==="=";)--a;const l=new Uint8Array(a*s/8|0);let u=0,h=0,d=0;for(let f=0;f<a;++f){const p=o[i[f]];if(p===void 0)throw new SyntaxError("Invalid character "+i[f]);h=h<<s|p,u+=s,u>=8&&(u-=8,l[d++]=255&h>>u)}if(u>=s||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return l},e=(i,n,s)=>{const o=n[n.length-1]==="=",a=(1<<s)-1;let l="",u=0,h=0;for(let d=0;d<i.length;++d)for(h=h<<8|i[d],u+=8;u>s;)u-=s,l+=n[a&h>>u];if(u&&(l+=n[a&h<<s-u]),o)for(;l.length*s&7;)l+="=";return l};return jw={rfc4648:i=>n=>({encode(s){return e(s,n,i)},decode(s){return t(s,n,i)}})},jw}var zw,Die;function d$e(){if(Die)return zw;Die=1;const t=B8e(),e=u$e(),{rfc4648:r}=c$e(),{decodeText:i,encodeText:n}=ik(),o=[["identity","\0",()=>({encode:i,decode:n}),""],["base2","0",r(1),"01"],["base8","7",r(3),"01234567"],["base10","9",t,"0123456789"],["base16","f",r(4),"0123456789abcdef"],["base16upper","F",r(4),"0123456789ABCDEF"],["base32hex","v",r(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",r(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",r(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",r(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",r(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",r(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",r(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",r(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",r(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",t,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",t,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",t,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",t,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",r(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",r(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",r(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",r(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],a=o.reduce((u,h)=>(u[h[0]]=new e(h[0],h[1],h[2],h[3]),u),{}),l=o.reduce((u,h)=>(u[h[1]]=a[h[0]],u),{});return zw={names:a,codes:l},zw}var Lie;function h$e(){return Lie||(Lie=1,function(t,e){const r=d$e(),{encodeText:i,decodeText:n,concat:s}=ik();function o(p,g){if(!g)throw new Error("requires an encoded Uint8Array");const{name:y,codeBuf:b}=d(p);return h(y,g),s([b,g],b.length+g.length)}function a(p,g){const y=d(p),b=i(y.encode(g));return s([y.codeBuf,b],y.codeBuf.length+b.length)}function l(p){p instanceof Uint8Array&&(p=n(p));const g=p[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(g)&&(p=p.toLowerCase()),d(p[0]).decode(p.substring(1))}function u(p){if(p instanceof Uint8Array&&(p=n(p)),Object.prototype.toString.call(p)!=="[object String]")return!1;try{return d(p[0]).name}catch{return!1}}function h(p,g){d(p).decode(n(g))}function d(p){if(Object.prototype.hasOwnProperty.call(r.names,p))return r.names[p];if(Object.prototype.hasOwnProperty.call(r.codes,p))return r.codes[p];throw new Error(`Unsupported encoding: ${p}`)}function f(p){return p instanceof Uint8Array&&(p=n(p)),d(p[0])}e=t.exports=o,e.encode=a,e.decode=l,e.isEncoded=u,e.encoding=d,e.encodingFromData=f,e.names=Object.freeze(r.names),e.codes=Object.freeze(r.codes)}(Bb,Bb.exports)),Bb.exports}var Uw,Oie;function f$e(){if(Oie)return Uw;Oie=1,Uw=n;var t=128,e=127,r=~e,i=Math.pow(2,31);function n(s,o,a){if(Number.MAX_SAFE_INTEGER&&s>Number.MAX_SAFE_INTEGER)throw n.bytes=0,new RangeError("Could not encode varint");o=o||[],a=a||0;for(var l=a;s>=i;)o[a++]=s&255|t,s/=128;for(;s&r;)o[a++]=s&255|t,s>>>=7;return o[a]=s|0,n.bytes=a-l+1,o}return Uw}var qw,Mie;function p$e(){if(Mie)return qw;Mie=1,qw=r;var t=128,e=127;function r(i,o){var s=0,o=o||0,a=0,l=o,u,h=i.length;do{if(l>=h||a>49)throw r.bytes=0,new RangeError("Could not decode varint");u=i[l++],s+=a<28?(u&e)<<a:(u&e)*Math.pow(2,a),a+=7}while(u>=t);return r.bytes=l-o,s}return qw}var Hw,Rie;function m$e(){if(Rie)return Hw;Rie=1;var t=Math.pow(2,7),e=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),n=Math.pow(2,35),s=Math.pow(2,42),o=Math.pow(2,49),a=Math.pow(2,56),l=Math.pow(2,63);return Hw=function(u){return u<t?1:u<e?2:u<r?3:u<i?4:u<n?5:u<s?6:u<o?7:u<a?8:u<l?9:10},Hw}var Vw,Iie;function g$e(){return Iie||(Iie=1,Vw={encode:f$e(),decode:p$e(),encodingLength:m$e()}),Vw}var Gw,Fie;function y$e(){return Fie||(Fie=1,Gw={names:Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082})}),Gw}function b$e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,l=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,b=0,x=0,w=g.length;x!==w&&g[x]===0;)x++,y++;for(var S=(w-x)*h+1>>>0,C=new Uint8Array(S);x!==w;){for(var k=g[x],O=0,M=S-1;(k!==0||O<b)&&M!==-1;M--,O++)k+=256*C[M]>>>0,C[M]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");b=O,x++}for(var A=S-b;A!==S&&C[A]===0;)A++;for(var I=l.repeat(y);A<S;++A)I+=t.charAt(C[A]);return I}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var b=0,x=0;g[y]===l;)b++,y++;for(var w=(g.length-y)*u+1>>>0,S=new Uint8Array(w);g[y];){var C=r[g.charCodeAt(y)];if(C===255)return;for(var k=0,O=w-1;(C!==0||k<x)&&O!==-1;O--,k++)C+=a*S[O]>>>0,S[O]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");x=k,y++}if(g[y]!==" "){for(var M=w-x;M!==w&&S[M]===0;)M++;for(var A=new Uint8Array(b+(w-M)),I=b;M!==w;)A[I++]=S[M++];return A}}}function p(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:p}}var v$e=b$e,x$e=v$e;const Xde=new Uint8Array(0),_$e=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),w$e=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):Xde},Kde=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},vh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},E$e=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),Jde=t=>new TextEncoder().encode(t),Qde=t=>new TextDecoder().decode(t),S$e=Object.freeze(Object.defineProperty({__proto__:null,coerce:vh,empty:Xde,equals:Kde,fromHex:w$e,fromString:Jde,isBinary:E$e,toHex:_$e,toString:Qde},Symbol.toStringTag,{value:"Module"}));class C$e{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class k$e{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ehe(this,e)}}class A$e{constructor(e){this.decoders=e}or(e){return ehe(this,e)}decode(e){const r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ehe=(t,e)=>new A$e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class T$e{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new C$e(e,r,i),this.decoder=new k$e(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Nx=({name:t,prefix:e,encode:r,decode:i})=>new T$e(t,e,r,i),py=({prefix:t,name:e,alphabet:r})=>{const{encode:i,decode:n}=x$e(r,e);return Nx({prefix:t,name:e,encode:i,decode:s=>vh(n(s))})},D$e=(t,e,r,i)=>{const n={};for(let h=0;h<e.length;++h)n[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,u=0;for(let h=0;h<s;++h){const d=n[t[h]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},L$e=(t,e,r)=>{const i=e[e.length-1]==="=",n=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Xs=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Nx({prefix:e,name:t,encode(n){return L$e(n,i,r)},decode(n){return D$e(n,i,r,t)}}),O$e=Nx({prefix:"\0",name:"identity",encode:t=>Qde(t),decode:t=>Jde(t)}),M$e=Object.freeze(Object.defineProperty({__proto__:null,identity:O$e},Symbol.toStringTag,{value:"Module"})),R$e=Xs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I$e=Object.freeze(Object.defineProperty({__proto__:null,base2:R$e},Symbol.toStringTag,{value:"Module"})),F$e=Xs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),P$e=Object.freeze(Object.defineProperty({__proto__:null,base8:F$e},Symbol.toStringTag,{value:"Module"})),N$e=py({prefix:"9",name:"base10",alphabet:"0123456789"}),$$e=Object.freeze(Object.defineProperty({__proto__:null,base10:N$e},Symbol.toStringTag,{value:"Module"})),B$e=Xs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),j$e=Xs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),z$e=Object.freeze(Object.defineProperty({__proto__:null,base16:B$e,base16upper:j$e},Symbol.toStringTag,{value:"Module"})),t0=Xs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),U$e=Xs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q$e=Xs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),H$e=Xs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),V$e=Xs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),G$e=Xs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),W$e=Xs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Y$e=Xs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z$e=Xs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),X$e=Object.freeze(Object.defineProperty({__proto__:null,base32:t0,base32hex:V$e,base32hexpad:W$e,base32hexpadupper:Y$e,base32hexupper:G$e,base32pad:q$e,base32padupper:H$e,base32upper:U$e,base32z:Z$e},Symbol.toStringTag,{value:"Module"})),K$e=py({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),J$e=py({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Q$e=Object.freeze(Object.defineProperty({__proto__:null,base36:K$e,base36upper:J$e},Symbol.toStringTag,{value:"Module"})),ou=py({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eBe=py({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),tBe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ou,base58flickr:eBe},Symbol.toStringTag,{value:"Module"})),rBe=Xs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),iBe=Xs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),nBe=Xs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sBe=Xs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),oBe=Object.freeze(Object.defineProperty({__proto__:null,base64:rBe,base64pad:iBe,base64url:nBe,base64urlpad:sBe},Symbol.toStringTag,{value:"Module"})),the=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),aBe=the.reduce((t,e,r)=>(t[r]=e,t),[]),lBe=the.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function uBe(t){return t.reduce((e,r)=>(e+=aBe[r],e),"")}function cBe(t){const e=[];for(const r of t){const i=lBe[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}const dBe=Nx({prefix:"🚀",name:"base256emoji",encode:uBe,decode:cBe}),hBe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:dBe},Symbol.toStringTag,{value:"Module"}));var fBe=rhe,Pie=128,pBe=127,mBe=~pBe,gBe=Math.pow(2,31);function rhe(t,e,r){e=e||[],r=r||0;for(var i=r;t>=gBe;)e[r++]=t&255|Pie,t/=128;for(;t&mBe;)e[r++]=t&255|Pie,t>>>=7;return e[r]=t|0,rhe.bytes=r-i+1,e}var yBe=RE,bBe=128,Nie=127;function RE(t,i){var r=0,i=i||0,n=0,s=i,o,a=t.length;do{if(s>=a)throw RE.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&Nie)<<n:(o&Nie)*Math.pow(2,n),n+=7}while(o>=bBe);return RE.bytes=s-i,r}var vBe=Math.pow(2,7),xBe=Math.pow(2,14),_Be=Math.pow(2,21),wBe=Math.pow(2,28),EBe=Math.pow(2,35),SBe=Math.pow(2,42),CBe=Math.pow(2,49),kBe=Math.pow(2,56),ABe=Math.pow(2,63),TBe=function(t){return t<vBe?1:t<xBe?2:t<_Be?3:t<wBe?4:t<EBe?5:t<SBe?6:t<CBe?7:t<kBe?8:t<ABe?9:10},DBe={encode:fBe,decode:yBe,encodingLength:TBe},c1=DBe;const d1=(t,e=0)=>[c1.decode(t,e),c1.decode.bytes],S0=(t,e,r=0)=>(c1.encode(t,e,r),e),C0=t=>c1.encodingLength(t),LBe=Object.freeze(Object.defineProperty({__proto__:null,decode:d1,encodeTo:S0,encodingLength:C0},Symbol.toStringTag,{value:"Module"})),k0=(t,e)=>{const r=e.byteLength,i=C0(t),n=i+C0(r),s=new Uint8Array(n+r);return S0(t,s,0),S0(r,s,i),s.set(e,n),new $x(t,r,e,s)},ihe=t=>{const e=vh(t),[r,i]=d1(e),[n,s]=d1(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new $x(r,n,o,e)},nhe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Kde(t.bytes,e.bytes);class $x{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}}const OBe=Object.freeze(Object.defineProperty({__proto__:null,Digest:$x,create:k0,decode:ihe,equals:nhe},Symbol.toStringTag,{value:"Module"})),nk=({name:t,code:e,encode:r})=>new she(t,e,r);class she{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?k0(this.code,r):r.then(i=>k0(this.code,i))}else throw Error("Unknown type, must be binary type")}}const MBe=Object.freeze(Object.defineProperty({__proto__:null,Hasher:she,from:nk},Symbol.toStringTag,{value:"Module"})),ohe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),RBe=nk({name:"sha2-256",code:18,encode:ohe("SHA-256")}),IBe=nk({name:"sha2-512",code:19,encode:ohe("SHA-512")}),FBe=Object.freeze(Object.defineProperty({__proto__:null,sha256:RBe,sha512:IBe},Symbol.toStringTag,{value:"Module"})),ahe=0,PBe="identity",lhe=vh,NBe=t=>k0(ahe,lhe(t)),$Be={code:ahe,name:PBe,encode:lhe,digest:NBe},BBe=Object.freeze(Object.defineProperty({__proto__:null,identity:$Be},Symbol.toStringTag,{value:"Module"})),jBe="raw",zBe=85,UBe=t=>vh(t),qBe=t=>vh(t),HBe=Object.freeze(Object.defineProperty({__proto__:null,code:zBe,decode:qBe,encode:UBe,name:jBe},Symbol.toStringTag,{value:"Module"})),VBe=new TextEncoder,GBe=new TextDecoder,WBe="json",YBe=512,ZBe=t=>VBe.encode(JSON.stringify(t)),XBe=t=>JSON.parse(GBe.decode(t)),KBe=Object.freeze(Object.defineProperty({__proto__:null,code:YBe,decode:XBe,encode:ZBe,name:WBe},Symbol.toStringTag,{value:"Module"}));class ro{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:qb,byteLength:qb,code:Ub,version:Ub,multihash:Ub,bytes:Ub,_baseCache:qb,asCID:qb})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==Cg)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==tje)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ro.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,i=k0(e,r);return ro.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&nhe(this.multihash,e.multihash)}toString(e){const{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return QBe(r,n,e||ou.encoder);default:return eje(r,n,e||t0.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return ije(/^0\.0/,nje),!!(e&&(e[Bie]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ro)return e;if(e!=null&&e.asCID===e){const{version:r,code:i,multihash:n,bytes:s}=e;return new ro(r,i,n,s||$ie(r,i,n.bytes))}else if(e!=null&&e[Bie]===!0){const{version:r,multihash:i,code:n}=e,s=ihe(i);return ro.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Cg)throw new Error(`Version 0 CID must use dag-pb (code: ${Cg}) block encoding`);return new ro(e,r,i,i.bytes)}case 1:{const n=$ie(e,r,i.bytes);return new ro(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return ro.create(0,Cg,e)}static createV1(e,r){return ro.create(1,e,r)}static decode(e){const[r,i]=ro.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=ro.inspectBytes(e),i=r.size-r.multihashSize,n=vh(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=n.subarray(r.multihashSize-r.digestSize),o=new $x(r.multihashCode,r.digestSize,s,n);return[r.version===0?ro.createV0(o):ro.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0;const i=()=>{const[d,f]=d1(e.subarray(r));return r+=f,d};let n=i(),s=Cg;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);const o=r,a=i(),l=i(),u=r+l,h=u-o;return{version:n,codec:s,multihashCode:a,digestSize:l,multihashSize:h,size:u}}static parse(e,r){const[i,n]=JBe(e,r),s=ro.decode(n);return s._baseCache.set(i,e),s}}const JBe=(t,e)=>{switch(t[0]){case"Q":{const r=e||ou;return[ou.prefix,r.decode(`${ou.prefix}${t}`)]}case ou.prefix:{const r=e||ou;return[ou.prefix,r.decode(t)]}case t0.prefix:{const r=e||t0;return[t0.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},QBe=(t,e,r)=>{const{prefix:i}=r;if(i!==ou.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const n=e.get(i);if(n==null){const s=r.encode(t).slice(1);return e.set(i,s),s}else return n},eje=(t,e,r)=>{const{prefix:i}=r,n=e.get(i);if(n==null){const s=r.encode(t);return e.set(i,s),s}else return n},Cg=112,tje=18,$ie=(t,e,r)=>{const i=C0(t),n=i+C0(e),s=new Uint8Array(n+r.byteLength);return S0(t,s,0),S0(e,s,i),s.set(r,n),s},Bie=Symbol.for("@ipld/js-cid/CID"),Ub={writable:!1,configurable:!1,enumerable:!0},qb={writable:!1,enumerable:!1,configurable:!1},rje="0.0.0-dev",ije=(t,e)=>{if(t.test(rje))console.warn(e);else throw new Error(e)},nje=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,sje={...M$e,...I$e,...P$e,...$$e,...z$e,...X$e,...Q$e,...tBe,...oBe,...hBe},oje={...FBe,...BBe},aje={raw:HBe,json:KBe},lje=Object.freeze(Object.defineProperty({__proto__:null,CID:ro,bases:sje,bytes:S$e,codecs:aje,digest:OBe,hasher:MBe,hashes:oje,varint:LBe},Symbol.toStringTag,{value:"Module"})),uje=Ine(lje);var Ww,jie;function uhe(){if(jie)return Ww;jie=1;const{bases:t}=uje;function e(s,o,a,l){return{name:s,prefix:o,encoder:{name:s,prefix:o,encode:a},decoder:{decode:l}}}const r=e("utf8","u",s=>"u"+new TextDecoder("utf8").decode(s),s=>new TextEncoder().encode(s.substring(1))),i=e("ascii","a",s=>{let o="a";for(let a=0;a<s.length;a++)o+=String.fromCharCode(s[a]);return o},s=>{s=s.substring(1);const o=new Uint8Array(s.length);for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return o});return Ww={utf8:r,"utf-8":r,hex:t.base16,latin1:i,ascii:i,binary:i,...t},Ww}var Yw,zie;function cje(){if(zie)return Yw;zie=1;const t=uhe();function e(r,i="utf8"){const n=t[i];if(!n)throw new Error(`Unsupported encoding "${i}"`);return n.encoder.encode(r).substring(1)}return Yw=e,Yw}var Zw,Uie;function dje(){if(Uie)return Zw;Uie=1;const t=uhe();function e(r,i="utf8"){const n=t[i];if(!n)throw new Error(`Unsupported encoding "${i}"`);return n.decoder.decode(`${n.prefix}${r}`)}return Zw=e,Zw}var Xw,qie;function hje(){if(qie)return Xw;qie=1;function t(e,r){r||(r=e.reduce((s,o)=>s+o.length,0));const i=new Uint8Array(r);let n=0;for(const s of e)i.set(s,n),n+=s.length;return i}return Xw=t,Xw}var Kw,Hie;function fje(){if(Hie)return Kw;Hie=1;const t=h$e(),e=g$e(),{names:r}=y$e(),i=cje(),n=dje(),s=hje(),o={};for(const w in r){const S=w;o[r[S]]=S}function a(w){if(!(w instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return i(w,"base16")}function l(w){return n(w,"base16")}function u(w){if(!(w instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return i(t.encode("base58btc",w)).slice(1)}function h(w){const S=w instanceof Uint8Array?i(w):w;return t.decode("z"+S)}function d(w){if(!(w instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(w.length<2)throw new Error("multihash too short. must be > 2 bytes.");const S=e.decode(w);if(!y(S))throw new Error(`multihash unknown function code: 0x${S.toString(16)}`);w=w.slice(e.decode.bytes);const C=e.decode(w);if(C<0)throw new Error(`multihash invalid length: ${C}`);if(w=w.slice(e.decode.bytes),w.length!==C)throw new Error(`multihash length inconsistent: 0x${i(w,"base16")}`);return{code:S,name:o[S],length:C,digest:w}}function f(w,S,C){if(!w||S===void 0)throw new Error("multihash encode requires at least two args: digest, code");const k=p(S);if(!(w instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(C==null&&(C=w.length),C&&w.length!==C)throw new Error("digest length should be equal to specified length.");const O=e.encode(k),M=e.encode(C);return s([O,M,w],O.length+M.length+w.length)}function p(w){let S=w;if(typeof w=="string"){if(r[w]===void 0)throw new Error(`Unrecognized hash function named: ${w}`);S=r[w]}if(typeof S!="number")throw new Error(`Hash function code should be a number. Got: ${S}`);if(o[S]===void 0&&!g(S))throw new Error(`Unrecognized function code: ${S}`);return S}function g(w){return w>0&&w<16}function y(w){return!!(g(w)||o[w])}function b(w){d(w)}function x(w){return b(w),w.subarray(0,2)}return Kw={names:r,codes:Object.freeze(o),toHexString:a,fromHexString:l,toB58String:u,fromB58String:h,decode:d,encode:f,coerceCode:p,isAppCode:g,validate:b,prefix:x,isValidCode:y},Kw}var Jw,Vie;function sk(){if(Vie)return Jw;Vie=1;const t=hy(),e=Pp(),r={array(i,n=!1,s=""){return t.toList(i,n,o=>r.format(o,s))},object(i){return t.toObject(i,n=>r.format(n))},null(i=null){return i===null&&(i=t.t("n/a")),t.toNothing(i)},number(i,n=""){return typeof i!="number"&&(i=parseFloat(i)),t.unit(e.numberFormatter.format(i),n)},string(i,n=""){return t.unit(t.e(i).replace(/(\r\n|\r|\n){2,}/g,"<br>"),n)},boolean(i){return i?"✔️":"❌"},format(i,n=""){return typeof i=="boolean"?r.boolean(i):typeof i=="number"?r.number(i,n):typeof i=="string"?r.string(i,n):Array.isArray(i)?r.array(i,n):t.isObject(i)?r.object(i):r.null()}};return Jw=r,Jw}const pje="Afar",mje="Abkhazian",gje="Afrikaans",yje="Akan",bje="Amharic",vje="Aragonese",xje="Arabic",_je="Assamese",wje="Avar",Eje="Aymara",Sje="Azerbaijani",Cje="Bashkir",kje="Belarusian",Aje="Bulgarian",Tje="Bihari",Dje="Bislama",Lje="Bambara",Oje="Bengali",Mje="Tibetan",Rje="Breton",Ije="Bosnian",Fje="Catalan",Pje="Chechen",Nje="Chamorro",$je="Corsican",Bje="Cree",jje="Czech",zje="Old Bulgarian",Uje="Chuvash",qje="Welsh",Hje="Danish",Vje="German",Gje="Divehi",Wje="Dzongkha",Yje="Ewe",Zje="Greek",Xje="English",Kje="Esperanto",Jje="Spanish",Qje="Estonian",e9e="Basque",t9e="Persian",r9e="Peul",i9e="Finnish",n9e="Fijian",s9e="Faroese",o9e="French",a9e="West Frisian",l9e="Irish",u9e="Scottish Gaelic",c9e="Galician",d9e="Guarani",h9e="Gujarati",f9e="Manx",p9e="Hausa",m9e="Hebrew",g9e="Hindi",y9e="Hiri Motu",b9e="Croatian",v9e="Haitian",x9e="Hungarian",_9e="Armenian",w9e="Herero",E9e="Interlingua",S9e="Indonesian",C9e="Interlingue",k9e="Igbo",A9e="Sichuan Yi",T9e="Inupiak",D9e="Ido",L9e="Icelandic",O9e="Italian",M9e="Inuktitut",R9e="Japanese",I9e="Javanese",F9e="Georgian",P9e="Kongo",N9e="Kikuyu",$9e="Kuanyama",B9e="Kazakh",j9e="Greenlandic",z9e="Cambodian",U9e="Kannada",q9e="Korean",H9e="Kanuri",V9e="Kashmiri",G9e="Kurdish",W9e="Komi",Y9e="Cornish",Z9e="Kirghiz",X9e="Latin",K9e="Luxembourgish",J9e="Ganda",Q9e="Limburgian",eze="Lingala",tze="Laotian",rze="Lithuanian",ize="Latvian",nze="Malagasy",sze="Marshallese",oze="Maori",aze="Macedonian",lze="Malayalam",uze="Mongolian",cze="Moldovan",dze="Marathi",hze="Malay",fze="Maltese",pze="Burmese",mze="Nauruan",gze="North Ndebele",yze="Nepali",bze="Ndonga",vze="Dutch",xze="Norwegian Nynorsk",_ze="Norwegian",wze="South Ndebele",Eze="Navajo",Sze="Chichewa",Cze="Occitan",kze="Ojibwa",Aze="Oromo",Tze="Oriya",Dze="Ossetian",Lze="Punjabi",Oze="Pali",Mze="Polish",Rze="Pashto",Ize="Portuguese",Fze="Quechua",Pze="Raeto Romance",Nze="Kirundi",$ze="Romanian",Bze="Russian",jze="Rwandi",zze="Sanskrit",Uze="Sardinian",qze="Sindhi",Hze="Sango",Vze="Serbo-Croatian",Gze="Sinhalese",Wze="Slovak",Yze="Slovenian",Zze="Samoan",Xze="Shona",Kze="Somalia",Jze="Albanian",Qze="Serbian",e7e="Swati",t7e="Southern Sotho",r7e="Sundanese",i7e="Swedish",n7e="Swahili",s7e="Tamil",o7e="Telugu",a7e="Tajik",l7e="Thai",u7e="Tigrinya",c7e="Turkmen",d7e="Tagalog",h7e="Tswana",f7e="Tonga",p7e="Turkish",m7e="Tsonga",g7e="Tatar",y7e="Twi",b7e="Tahitian",v7e="Uyghur",x7e="Ukrainian",_7e="Urdu",w7e="Venda",E7e="Vietnamese",S7e="Volapük",C7e="Walloon",k7e="Wolof",A7e="Xhosa",T7e="Yiddish",D7e="Yoruba",L7e="Zhuang",O7e="Chinese",M7e="Zulu",R7e={aa:pje,ab:mje,af:gje,ak:yje,am:bje,an:vje,ar:xje,as:_je,av:wje,ay:Eje,az:Sje,ba:Cje,be:kje,bg:Aje,bh:Tje,bi:Dje,bm:Lje,bn:Oje,bo:Mje,br:Rje,bs:Ije,ca:Fje,ce:Pje,ch:Nje,co:$je,cr:Bje,cs:jje,cu:zje,cv:Uje,cy:qje,da:Hje,de:Vje,dv:Gje,dz:Wje,ee:Yje,el:Zje,en:Xje,eo:Kje,es:Jje,et:Qje,eu:e9e,fa:t9e,ff:r9e,fi:i9e,fj:n9e,fo:s9e,fr:o9e,fy:a9e,ga:l9e,gd:u9e,gl:c9e,gn:d9e,gu:h9e,gv:f9e,ha:p9e,he:m9e,hi:g9e,ho:y9e,hr:b9e,ht:v9e,hu:x9e,hy:_9e,hz:w9e,ia:E9e,id:S9e,ie:C9e,ig:k9e,ii:A9e,ik:T9e,io:D9e,is:L9e,it:O9e,iu:M9e,ja:R9e,jv:I9e,ka:F9e,kg:P9e,ki:N9e,kj:$9e,kk:B9e,kl:j9e,km:z9e,kn:U9e,ko:q9e,kr:H9e,ks:V9e,ku:G9e,kv:W9e,kw:Y9e,ky:Z9e,la:X9e,lb:K9e,lg:J9e,li:Q9e,ln:eze,lo:tze,lt:rze,lv:ize,mg:nze,mh:sze,mi:oze,mk:aze,ml:lze,mn:uze,mo:cze,mr:dze,ms:hze,mt:fze,my:pze,na:mze,nd:gze,ne:yze,ng:bze,nl:vze,nn:xze,no:_ze,nr:wze,nv:Eze,ny:Sze,oc:Cze,oj:kze,om:Aze,or:Tze,os:Dze,pa:Lze,pi:Oze,pl:Mze,ps:Rze,pt:Ize,qu:Fze,rm:Pze,rn:Nze,ro:$ze,ru:Bze,rw:jze,sa:zze,sc:Uze,sd:qze,sg:Hze,sh:Vze,si:Gze,sk:Wze,sl:Yze,sm:Zze,sn:Xze,so:Kze,sq:Jze,sr:Qze,ss:e7e,st:t7e,su:r7e,sv:i7e,sw:n7e,ta:s7e,te:o7e,tg:a7e,th:l7e,ti:u7e,tk:c7e,tl:d7e,tn:h7e,to:f7e,tr:p7e,ts:m7e,tt:g7e,tw:y7e,ty:b7e,ug:v7e,uk:x7e,ur:_7e,ve:w7e,vi:E7e,vo:S7e,wa:C7e,wo:k7e,xh:A7e,yi:T7e,yo:D7e,za:L7e,zh:O7e,zu:M7e};var Qw,Gie;function che(){if(Gie)return Qw;Gie=1;const t=hy(),e=sk(),r=Pp(),i=KC,n={allowHtmlInCommonMark:!1,formatUrl(s,o,a={},l=null,u=null){let h=t.isObject(u)&&typeof u=="string"?u.title:s;return t.toLink(s,h,u.rel||"")},formatLink(s){return t.toList(s,!1,o=>t.toLink(o.href,o.title,o.rel))},formatMediaType(s,o,a={}){return t.e(t.t(n._formatMediaType(s,o,a)))},_formatMediaType(s,o,a={}){let l=!!a.shorten;const u=i.getDependency("content-type");if(!u)return l?"":t.e(s);let h;try{h=u.parse(s)}catch(d){return console.warn(d),l?"":t.e(s)}switch(h.type){case"image/tiff":return h.parameters.application==="geotiff"?h.parameters.profile==="cloud-optimized"?l?"COG":"Cloud-Optimized GeoTIFF image":l?"GeoTiff":"GeoTIFF image":l?"TIFF":"TIFF image";case"image/jp2":return l?"JPEG 2000":"JPEG 2000 image";case"image/png":case"image/apng":case"image/vnd.mozilla.apng":return l?"PNG":"PNG image";case"image/gif":return l?"GIF":"GIF image";case"image/jpeg":case"image/jpg":return l?"JPEG":"JPEG image";case"image/webp":return l?"WebP":"WebP image";case"image/bmp":case"image/x-bmp":case"image/x-ms-bmp":case"image/wbmp":return l?"Bitmap":"Bitmap image";case"image/svg+xml":return l?"SVG":"SVG vector image";case"text/csv":return l?"CSV":"Comma-separated values (CSV)";case"text/xml":case"application/xml":return"XML";case"text/json":case"application/json":return"JSON";case"application/x-ndjson":return l?"NDJSON":"Newline Delimited JSON";case"text/yaml":case"text/vnd.yaml":case"text/x-yaml":case"application/x-yaml":return"YAML";case"application/geo+json":return"GeoJSON";case"application/gml+xml":return"GML";case"application/vnd.google-earth.kml+xml":case"application/vnd.google-earth.kmz":return"KML";case"application/geopackage+vnd.sqlite3":case"application/geopackage+sqlite3":return"GeoPackage";case"text/html":case"application/html":case"application/xhtml+xml":return l?"HTML":"HTML (Website)";case"text/plain":return l?"Text":"Text document";case"text/markdown":return l?"Markdown":"Markdown document";case"application/pdf":return l?"PDF":"PDF document";case"application/zip":return l?"ZIP":"ZIP archive";case"application/gzip":return l?"GZIP":"GZIP archive";case"application/x-hdf":return"HDF";case"application/netcdf":case"application/x-netcdf":return"NetCDF";case"application/x.mrf":return l?"MRF":"Meta Raster Format";case"application/wmo-GRIB2":return"GRIB 2";case"application/grib":return`GRIB ${h.parameters.edition||""}`.trim();case"application/bufr":return`BUFR ${h.parameters.edition||""}`.trim();case"application/octet-stream":return l?"Binary":"Binary file";case"application/vnd.laszip":return"LASzip";case"application/vnd.laszip+copc":return l?"COPC":"Cloud-Optimized Point Cloud (LASzip)";case"application/vnd+zarr":return"Zarr";case"application/x-parquet":case"application/vnd.apache.parquet":return"Parquet";case"application/vnd.pmtiles":return"PMTiles";case"application/vnd.cov+json":return"CoverageJSON";case"application/vnd.flatgeobuf":return"FlatGeobuf";case"application/x-filegdb":return l?"Geodatabase":"Esri File Geodatabase";case"application/vnd.nitf":return l?"NITF":"National Imagery Transmission Format";case"application/3dtiles+json":return"3D Tiles";default:{let[d,f]=h.type.split("/");if(f=t.formatKey(f.replace(/^(vnd|x)[.+-]/,"")),l)return f;switch(d){case"audio":return`${f} audio`;case"image":return`${f} image`;case"font":return"Font";case"model":return`${f} 3D model`;case"video":return`${f} video`;case"text":case"application":return f;default:return s}}}},formatTimestamp(s){if(typeof s=="string")try{return r.dateTimeFormatter.format(new Date(s))}catch{}return e.null()},formatPercent0to1(s,o,a={}){return e.number(s*100,a.unit)},formatDate(s){if(typeof s=="string")try{return r.dateFormatter.format(new Date(s))}catch{}return e.null()},formatDuration(s){if(typeof s=="string"){const o=i.getDependency("@musement/iso-duration");if(!o)return t.e(s);const{isoDuration:a,en:l}=o;a.setLocales({en:l},{fallbackLocale:"en"});let u=a(s).humanize("en");return u.length===0?t.e(t.t("none")):t.e(u)}return e.null()},formatLanguageCode(s){if(Array.isArray(s))return t.toList(s,!0,n.formatLanguageCode,!1);if(typeof s!="string"||s.length<2)return e.null();const o=R7e,[a,...l]=s.split("-");if(a in o){const u=o[a];return l.length>0?t.e(t.t(`${u} (${l.join(" ")})`)):t.e(t.t(u))}return t.e(t.t(s))},formatLicense(s,o,a={},l=null){if(typeof s!="string"||s.length===0)return e.null();if(s!=="other"&&s!=="proprietary"&&s!=="various"&&s.match(/^[\w\.\-]+$/i))return t.toLink(`https://spdx.org/licenses/${s}.html`,s,"license");let u=Array.isArray(l.links)?l.links.filter(h=>t.isObject(h)&&typeof h.href=="string"&&h.rel==="license"):[];return u.length>0?t.toList(u,!1,h=>t.toLink(h.href,h.title||s,"license")):e.string(s)},formatProviders(s){return t.toList(s,!1,o=>{let a=o.name,l="",u="";return typeof o.url=="string"&&o.url.length>0&&(a=t.toLink(o.url,a)),Array.isArray(o.roles)&&o.roles.length>0&&(l=o.roles.map(h=>e.format(h)).join(", "),l=` (<em>${l}</em>)`),typeof o.description=="string"&&o.description.length>0&&(u=n.formatCommonMark(o.description)),`${a}${l}${u}`})},formatCommonMark(s){if(typeof s!="string"||s.length===0)return e.null();const o=i.getDependency("commonmark");let a;if(o){let l=new o.Parser;a=new o.HtmlRenderer({safe:!n.allowHtmlInCommonMark,smart:!0}).render(l.parse(s))}else n.allowHtmlInCommonMark?a=s:a=t.e(s);return`<div class="description">${a}</div>`},formatSoftware(s){if(!t.isObject(s))return e.null();let o=[];for(let a in s){let l=s[a];typeof l=="string"&&l.length>0||typeof l=="number"?o.push(`${a} (${l})`):o.push(a)}return t.toList(o,!0,null,!1)},formatDOI(s){return s=e.format(s),t.toLink(`http://doi.org/${s}`,s)},formatCRS(s){return t.toList(s,!1,o=>{if(typeof o=="string"){let a=o.replace(/^https?:\/\/www\.opengis\.net\/def\/crs\//i,"").replace(/^urn:ogc:def:crs:/i,"");return t.toLink(o,a)}return e.format(o)})},formatCrsCode(s){if(typeof s=="string"){const[o,a]=s.split(":",2);switch(o.toUpperCase()){case"EPSG":case"ESRI":case"IAU_2015":case"IGNF":case"MKG":case"OGC":return t.toLink(`https://spatialreference.org/ref/${o.toLowerCase()}/${a}/`,s);default:return e.string(s)}}return e.null()},formatEPSG(s){return typeof s=="number"?n.formatCrsCode(`EPSG:${s}`):typeof s=="string"?n.formatCrsCode(s):e.null()},formatExtent(s,o,a={}){return!Array.isArray(s)||s.length<2?e.null():s[0]===s[1]?e.format(s[0],a.unit):s[0]===null?`< ${e.format(s[1],a.unit)}`:s[1]===null?`> ${e.format(s[0],a.unit)}`:s.map(l=>e.format(l,a.unit)).join(" – ")},formatHexColor(s){return typeof s!="string"||!s.match(/^#?[\dA-F]{3,8}$/i)?e.null():(s.startsWith("#")&&(s=s.substring(1)),`<div class="color" style="background-color: #${s}"><code class="color-code">#${s}</code></div>`)},formatPROJJSON(s){return t.isObject(s)?t.isObject(s.id)&&s.id.authority==="EPSG"&&typeof s.code=="number"&&s.code>0?"EPSG "+n.formatEPSG(s):typeof s.name=="string"?e.string(s.name):e.object(s):e.null()},formatTemporalExtent(s,o,a={}){if(!Array.isArray(s)||s.length!==2)return e.null();s=s.map(l=>{try{return l?new Date(l):null}catch{return null}});try{const[l,u]=s;if(l||u){const h=a.shorten?r.dateFormatter:r.dateTimeFormatter;return l?u?h.formatRange(l,u):t.t("{0} until present",[h.format(l)]):t.t("Until {0}",[h.format(u)])}}catch{}return e.null()},formatTemporalExtents(s,o,a={}){let l=(u,h)=>u[0]===null?-1:r.collator.compare(u[0],h[0]);return t.toList(s,l,u=>n.formatTemporalExtent(u,o,a))},formatWKT2(s){if(typeof s!="string")return e.null();let o=-1,a;try{a=s.replace(/([A-Z]+)\[|\]/ig,(l,u)=>l==="]"?(o--,l):(o++,`
${"  ".repeat(o)}${u}[`))}catch{a=s}return`<pre>${a}</pre>`},fileSizeUnits:["B","kB","MB","GB","TB"],formatFileSize(s){if(typeof s!="number")return e.format(s);var o=s==0?0:Math.floor(Math.log(s)/Math.log(1024));return t.unit((s/Math.pow(1024,o)).toFixed(2)*1,n.fileSizeUnits[o])},formatChecksum(s){if(typeof s!="string")return e.null();const o=i.getDependency("multihashes");if(!o)return t.e(s);try{const a=o.decode(t.hexToUint8(s)),l=t.e(a.name);return`<div class="checksum"><input class="checksum-input" size="32" value="${t.e(t.uint8ToHex(a.digest))}" readonly><br><span class="checksum-algo">${t.t("Hashing algorithm:")} <strong>${l}</strong></span></div>`}catch{return e.null()}},fileDataTypes:{int8:"8-bit integer",int16:"16-bit integer",int32:"32-bit integer",int64:"64-bit integer",uint8:"unsigned 8-bit integer",uint16:"unsigned 16-bit integer",uint32:"unsigned 32-bit integer",uint64:"unsigned 64-bit integer",float16:"16-bit float",float32:"32-bit float",float64:"64-bit float",cint16:"16-bit complex integer",cint32:"32-bit complex integer",cfloat32:"32-bit complex float",cfloat64:"64-bit complex float"},formatFileDataType(s){return s==="other"?t.t("non-standard"):typeof s=="string"&&s in n.fileDataTypes?t.abbrev(t.t(s),t.t(n.fileDataTypes[s])):e.null()},formatTransform(s){if(Array.isArray(s)&&s.length%3===0){let o=[];for(let a=0;a<s.length;a=a+3){let l=s.slice(a,a+3);o.push(`[${n.formatCSV(l)}]`)}return o.join("<br>")}else return n.formatCSV(s)},formatShape(s,o,a={}){return Array.isArray(s)?s.map(l=>e.format(l,a.unit)).join(" × "):e.format(s,a.unit)},formatCSV(s){if(Array.isArray(s)){let o=s.find(a=>typeof a=="number")!==void 0;return s.map(e.format).join(o?"; ":", ")}else return e.format(s)},formatImage(s,o){let a="",l=null;if(t.isObject(s))l=s.href,a=s.title||"";else if(typeof s=="string")l=s;else return e.format(l);return`<img src="${t.e(l)}" title="${t.e(a)}" class="${t.e(o.replace(":","_"))}">`},formatPhone(s){return t.toLink(`tel:${s}`,s)},formatEmail(s){return t.toLink(`mailto:${s}`,s)},formatConcepts(s){return t.toList(s,!1,o=>{if(!t.isObject(o))return e.format(o);let a="";if(o.title){let l=o.title;o.url&&(l=t.toLink(o.url,o.title)),a+=`<strong>${l}</strong> (<code>${t.e(o.id)}</code>)`}else{let l=o.id;o.url&&(l=t.toLink(o.url,o.id)),a+=`<strong><code>${l}</code></strong>`}return o.description&&(a+=`<br><small>${t.e(o.description)}</small>`),a})},formatAddress(s){return t.toList(s,!1,o=>{if(!t.isObject(o))return e.format(o);let a=Array.isArray(o.deliveryPoint)?o.deliveryPoint.slice(0):[];if(o.postalCode&&o.city){let l=`${o.postalCode} ${o.city}`;o.administrativeArea&&(l+=` (${o.administrativeArea})`),typeof o.country=="string"&&o.country.length>0&&(o.country.length===2&&o.country.toUpperCase()===o.country?(l=o.country+"-"+l,a.push(l)):(a.push(l),a.push(o.country.toUpperCase())))}else o.city&&a.push(o.city),o.administrativeArea&&a.push(o.administrativeArea),o.postalCode&&a.push(o.postalCode),typeof o.country=="string"&&o.country.length>0&&a.push(o.country.toUpperCase());return e.string(a.join(`

`))})},formatGridCode(s){if(typeof s!="string")return e.format(s);let o=function(h,d,f,p){let g=d.length;if(g%2===1)h.push(`Code: ${d}`);else{let y=g/2,b=d.substring(0,y);h.push(`${f}: ${b}`);let x=d.substring(y,g);h.push(`${p}: ${x}`)}},[a,l]=s.split(/-(.*)/),u=[];switch(a){case"MGRS":u.push(t.abbrev(t.t(a),t.t("Military Grid Reference System")));let[,h,d,f,p]=l.match(/^(\d{2})([C-X])([A-Z]{2})(\d*)$/);u.push(`${t.t("UTM Zone")}: ${h}`),u.push(`${t.t("Latitude Band")}: ${d}`),u.push(`${t.t("Square Identifier")}: ${f}`),p&&o(u,p,t.t("Easting"),t.t("Northing"));break;case"MSIN":u.push(t.t("MODIS Sinusoidal Tile Grid")),o(u,l,t.t("Horizontal"),t.t("Vertical"));break;case"WRS1":case"WRS2":let g=a.substring(3,4);u.push(t.abbrev(t.t("WRS-"+g),t.t("Worldwide Reference System "+g))),o(u,l,t.t("Path"),t.t("Row"));break;case"DOQ":u.push(_abbrev(t.t(a),t.t("Digital Orthophoto Quadrangle"))),u.push(`${t.t("Quadrangle")}: ${l}`);break;case"DOQQ":u.push(_abbrev(t.t(a),t.t("Digital Orthophoto Quarter Quadrangle")));let y=l.substr(0,l.length-2);u.push(`${t.t("Quadrangle")}: ${y}`);let b=l.substr(-2),x=b[0]==="N"?t.t("North"):t.t("South"),w=b[1]==="E"?t.t("East"):t.t("West");u.push(`${t.t("Quarter")}: ${x} ${w}`);break;case"MXRA":u.push(t.t("Maxar ARD Tile Grid"));let[S,C]=l.split(/-(.*)/);S.startsWith("Z")&&(S=S.substring(1)),u.push(`${t.t("UTM Zone")}: ${S}`),u.push(`${t.t("Quadkey")}: ${C}`);break;case"EASE":let[k,O]=l.split("-");if(k==="DGGS"){u.push(t.t("EASE-DGGS"));let[I,R,...V]=O.split(".");if(u.push(`${t.t("Level")}: ${I}`),R.length===6){u.push(`${t.t("Level 0 row cell")}: ${R.substring(0,3)}`),u.push(`${t.t("Level 0 column cell")}: ${R.substring(3,6)}`);for(let oe in V){let L=V[oe];L.length===2&&(u.push(`${t.t("Fraction of level {i} row cell",{i:oe})}: ${L[0]}`),u.push(`${t.t("Fraction of level {i} column cell",{i:oe})}: ${L[1]}`))}}break}case"CDEM":let[,M,A]=l.match(/^([A-Z]\d+)([A-Z]\d+)$/);u.push(t.t("Copernicus Digital Elevation Model Grid")),u.push(`${t.t("Easting")}: ${A}`),u.push(`${t.t("Northing")}: ${M}`);default:u.push(s)}return u.join("<br>")}};return Qw=n,Qw}var e2,Wie;function I7e(){if(Wie)return e2;Wie=1;const t=KC,e=hy(),r=Pp(),i=sk(),n=che();function s(b,x,w,S,C){let k={};for(let O in x){let M;try{let A=O.split(/:(.*)/);A.length===1&&A.unshift(C);let I=A[0];if(typeof S=="function"&&!S(O,[O]))continue;M=x[O];let R=t.getSpecification(O,w);R.ext&&(I=R.ext);let V=!1;w==="summaries"&&R.listWithKeys&&Array.isArray(M)&&M.length>0&&(M=M[0],V=!0);let oe=null,L=[];if(e.isObject(R.items)){let U=M;R.listWithKeys&&(U=Object.values(U));let Y=[];Array.isArray(U)?Y=e.keysFromListOfObjects(U):e.isObject(U)&&(Y=Object.keys(U)),oe={},L=R.itemOrder.filter(G=>Y.includes(G)),Y.forEach(G=>{typeof R.items[G]>"u"?(oe[G]={label:e.formatKey(G),explain:G},L.push(G)):(oe[G]=Object.assign({},R.items[G]),oe[G].label=g(G,R.items[G]))})}let F;if(w==="summaries")if(!V&&e.isObject(M))if(typeof M.minimum<"u"&&typeof M.maximum<"u"){const U=Y=>p(Y,O,b,x,R,S,[O]);M.minimum===M.maximum?F=U(M.minimum):M.minimum===null?F=`< ${U(M.maximum)}`:M.maximum===null?F=`> ${U(M.minimum)}`:F=`${U(M.minimum)} – ${U(M.maximum)}`}else F=i.object(M);else if(t.externalRenderer&&oe){let U=V?Object.assign({},M):M.slice(0);for(let Y in U){let G=e.isObject(U[Y])?{}:[];for(let Q in oe)G[Q]=p(U[Y][Q],Q,b,x,oe[Q]);U[Y]=G}}else Array.isArray(M)?F=e.toList(M,!R.custom&&!R.items,U=>p(U,O,b,x,R)):console.warn(`Invalid summary value: ${M}`);typeof F>"u"&&(F=p(M,O,b,x,R,S,[O])),e.isObject(k[I])||(k[I]={extension:I,label:y(I),properties:{}}),k[I].properties[O]={label:g(O,R),value:M,formatted:F,items:oe,itemOrder:L,spec:R}}catch(A){console.error(`Field '${O}' with value '${M}' resulted in an error`,A)}}return Object.values(k).sort((O,M)=>r.collator.compare(O.extension,M.extension))}function o(b,x,w=null,S=""){return s(x,b,"assets",w,S)}function a(b,x,w=null,S=""){return s(x,b,"links",w,S)}function l(b,x,w=null,S=""){return s(x,b,"providers",w,S)}function u(b,x=null,w=""){return s(b,b.summaries,"summaries",x,w)}function h(b,x=null,w=""){return s(b,b,"collection",x,w)}function d(b,x=null,w=""){return s(b,b,"catalog",x,w)}function f(b,x=null,w=""){return s(b,b.properties,"metadata",x,w)}function p(b,x,w=null,S=null,C=null,k=null,O=[]){if(e.isObject(C)||(C=t.getSpecification(x)),typeof C.format=="string"){let M=n[`format${C.format}`];return M||console.warn(`Formatter '${C.format}' not available.`),M(b,x,C,w,S)}else{if(typeof C.formatter=="function")return C.formatter(b,x,C,w,S);if(e.isObject(C.mapping)){let M=String(b);return typeof C.mapping[M]<"u"?b=C.mapping[M]:typeof C.mapping[M.toLowerCase()]<"u"?b=C.mapping[M.toLowerCase()]:typeof C.mapping[M.toUpperCase()]<"u"&&(b=C.mapping[M.toUpperCase()]),i.format(e.t(b),C.unit)}else{if(b===null&&C.null)return i.null(C.null);if(Array.isArray(b)){let M=(A,I)=>p(A,x,w,S,C,k,O.concat([I]));return typeof k=="function"&&O.length>0&&(b=b.filter((A,I)=>k(O[0],O.concat([I])))),t.externalRenderer&&(C.custom||C.items)?b.map(M):e.toList(b,!1,M)}else if(e.isObject(b)){let M=I=>e.isObject(C.items)?C.listWithKeys?{items:C.items,itemOrder:C.itemOrder}:C.items[I]:e.isObject(C.properties)?C.properties[I]:{},A=(I,R,V)=>p(I,R,w,V,M(R),k,O.concat([R]));if(t.externalRenderer&&(C.custom||C.items||C.properties)){let I={};for(let R in b)typeof k=="function"&&O.length>0&&!k(O[0],O.concat([R]))||(I[R]=A(b[R],R,b));return I}else{let I=V=>g(V,M(V)),R=C.listWithKeys?[]:C.itemOrder;return e.toObject(b,A,I,R,k,O)}}else return i.format(b,C.unit)}}}function g(b,x=null){if(e.isObject(x)||(x=t.getSpecification(b)),e.isObject(x)&&typeof x.label=="string"){if(typeof x.explain=="string")return x.explain.match(/^https?:\/\//i)?e.toLink(x.explain,e.t(x.label),"about"):e.abbrev(e.t(x.label),e.t(x.explain));if(typeof x.label=="string")return e.t(x.label)}return e.formatKey(b)}function y(b){return g(b,t.getExtension(b))}return e2={format:p,label:g,extension:y,formatCatalog:d,formatCollection:h,formatSummaries:u,formatItemProperties:f,formatAsset:o,formatLink:a,formatProvider:l,formatGrouped:s},e2}const uh=KC;uh.importFields(MNe);uh.addDependency("@musement/iso-duration",P8e);uh.addDependency("content-type",N8e());uh.addDependency("commonmark",$8e());uh.addDependency("multihashes",fje());var dhe={...I7e(),Fields:uh.exportFields(),Registry:uh,Helper:hy(),DataTypes:sk(),Formatters:che(),I18N:Pp()};const t2=Ps(dhe);function F7e(t){if(t.type==="Catalog")return t2.formatCatalog(t);if(t.type==="Collection")return t2.formatCollection(t);if(t.type==="Feature")return t2.formatItemProperties(t)}async function P7e(t){const r=await(await fetch(`${t.for}?ts=${Date.now()}`)).json();t.stacInfo=F7e(r),t.dispatchEvent(new CustomEvent("loaded"))}function Md(t,e,r){return SNe(Object.entries(e.stacProperties).filter(([i])=>t==null?void 0:t.includes(i)).reverse().sort(([i],[n])=>(t==null?void 0:t.indexOf(i))>(t==null?void 0:t.indexOf(n))?1:-1),r)}const N7e=`
:host {
  --color-primary-lighter: color-mix(in srgb, var(--primary-color), #fff 95%);
  display: flex;
  flex-direction: column;
  min-height: 100%;
  height: auto;
  line-height: 1.5;
  box-sizing: border-box;
}
img,
video,
iframe {
  max-width: 100%;
}
header,
main,
footer {
  padding: 5px 30px;
}
header {
  background: var(--color-primary-lighter);
}
h1 {
  margin-block-start: 0.67em;
  margin-block-end: 0.67em;
  line-height: 1.5;
}
header h1 {
  font-size: 24px;
  color: var(--primary-color);
}
header h2 {
  font-size: 22px;
  color: var(--primary-color);
}
section#tags ul {
  padding: 0;
  display: flex;
  flex-wrap: wrap;
}
section#tags li {
  list-style: none;
}
main {
  padding-bottom: 50px;
  flex: 1;
  font-size: small;
}
section#body ul {
  padding: 0;
}
section#body > ul:not(.single-property) {
  columns: 2;
  -webkit-columns: 2;
  -moz-columns: 2;
}
section#body li {
  margin-bottom: 8px;
  break-inside: avoid;
}
section#body .value li {
  margin-bottom: 0px;    
}
section#body slot:not([name=description]) ul li {
  list-style: none;
}
section#body .colon {
  margin-right: 4px;
}
section#body .label {
  font-weight: bold;
}
section#body ul li,
section#body ul li ul {
  display: flex;
  flex-wrap: wrap;
}
section#body ul li ul li:not(:last-child):after {
  content: ",";
  margin-right: 4px;
}
section#featured details > div {
  padding: 10px 12px 20px;
}
section#featured .button-container {
  text-align: center;
  margin-bottom: 24px;
}
section#featured .button-container .button {
  /*height: 14px;*/
  padding: 8px;
  margin: 8px 0;
  height: auto;
  text-decoration: none;
  /*display: block;
  display: flex;
  align-items: center;
  justify-content: center;*/
}
section#featured .button-container .button:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 24 24'%3E%3Ctitle%3Eopen-in-new%3C/title%3E%3Cpath d='M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z' /%3E%3C/svg%3E");
}
section#featured .button-container > div {
  text-align: left;
}
section#featured .button-container > div > p {
  margin-bottom: 0;
}
footer {
  background: var(--primary-color);
  color: white;
  padding: 10px 30px 20px;
  position: relative;
}
footer a,
footer h1 {
  color: white;
}
footer h1 {
  font-size: 14px;
}
footer h2 {
  font-size: 12px;
}
footer .copy {
  background: none;
  border: none;
  position: absolute;
  top: 15px;
  right: 30px;
}
footer .copy:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='-6 -6 36 36'%3E%3Ctitle%3Econtent-copy%3C/title%3E%3Cpath d='M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z' /%3E%3C/svg%3E");
}
dt {
  font-weight: bold;
  text-transform: uppercase;
}
dd dt {
  text-transform: unset;
}
dd, dt {
  margin: 0;
}
dt {
  margin-top: 20px;
}
dd dt {
  margin-top: 8px;
}

/* from eox-itemfilter
TODO harmonize/refactor */
details summary > * {
  display: inline;
}
details summary {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #0002;
  padding: .5rem 0;
}

details > summary::-webkit-details-marker {
  display: none;
}

.title {
  font-size: small;
  align-items: center;
}
details summary .title {
  display: flex;
  font-weight: 500;
}
details summary::before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230009' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-right%3C/title%3E%3Cpath d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z' /%3E%3C/svg%3E");
  height: 24px;
  width: 24px;
}
details[open] summary::before {
  transform: rotate(90deg);
}
section#tags ul>li,
.count {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #00417044;
  padding: 0 12px;
  height: 20px;
  border-radius: 10px;
  color: #004170;
  font-weight: 500;
  margin-left: 9px;
}
section#tags ul>li {
  padding: 2px 12px;
  margin: 0 4px 4px 0;
}
`;function $7e(t=[]){return et`
    <section id="body" part="body">
      <ul class=${t.length===1?"single-property":zi}>
        ${ta(t,([,e])=>et`
            <slot name=${e.label.toLowerCase()}>
              <li>
                ${Ar(t.length>1,()=>et` <span class="label"> ${e.label}</span
                    ><span class="colon">:</span>`)}
                <span class="value">
                  ${Ar(e.label.toLowerCase()==="description",()=>et`
                      <eox-stacinfo-shadow .content=${e.formatted}>
                      </eox-stacinfo-shadow>
                    `,()=>et`${Xa(e.formatted)}`)}
                </span>
              </li>
            </slot>
          `)}
      </ul>
    </section>
  `}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hhe=Symbol.for(""),B7e=t=>{if((t==null?void 0:t.r)===hhe)return t==null?void 0:t._$litStatic$},h1=t=>({_$litStatic$:t,r:hhe}),Yie=new Map,j7e=t=>(e,...r)=>{const i=r.length;let n,s;const o=[],a=[];let l,u=0,h=!1;for(;u<i;){for(l=e[u];u<i&&(s=r[u],(n=B7e(s))!==void 0);)l+=n+e[++u],h=!0;u!==i&&a.push(s),o.push(l),u++}if(u===i&&o.push(e[i]),h){const d=o.join("$$lit$$");(e=Yie.get(d))===void 0&&(o.raw=o,Yie.set(d,e=o)),r=a}return t(e,...r)},fhe=j7e(et);function z7e(t=[]){return et`
    ${t.length>0?et`
          <header part="header">
            <slot name="header">
              ${ta(t,([,e],r)=>fhe`
              <h${h1((r+1).toString())}>${Xa(e.formatted)}</h${h1((r+1).toString())}>
              `)}
            </slot>
          </header>
        `:zi}
  `}function U7e(t=[]){return et`
    <section id="tags" part="tags">
      <ul>
        ${ta(t,([,e])=>et`<slot name=${e.label.toLowerCase()}
            ><li>
              <span class="label">${Xa(e.formatted)}</span>
            </li></slot
          >`)}
      </ul>
    </section>
  `}function q7e(t=[]){return et`
    ${Ar(t.length>0,()=>et`
        <section id="featured" part="featured">
          ${ta(t,([,e])=>et`
              <details>
                <summary>
                  <slot
                    name="featured-${e.label.toLowerCase()}-summary"
                    class="title"
                  >
                    ${e.label}
                    ${Ar(e.length,()=>et` <span class="count">${e.length}</span> `)}
                  </slot>
                </summary>
                <div class="featured-container">
                  <slot name="featured-${e.label.toLowerCase()}">
                    ${Ar(e.label.toLowerCase()==="description",()=>et`
                        <eox-stacinfo-shadow .content=${e.formatted}>
                        </eox-stacinfo-shadow>
                      `,()=>et`${Xa(e.formatted)}`)}
                  </slot>
                </div>
              </details>
            `)}
        </section>
      `)}
  `}function H7e(t=[]){return et`
    ${Ar(t.length>0,()=>et`
        <footer part="footer">
          <slot name="footer">
            ${ta(t,([e,r],i)=>fhe`
                  <div class="footer-container">
                    <h${h1((i+1).toString())}>
                      ${Xa(r.label)}
                    </h${h1((i+1).toString())}>
                    <small>${Xa(r.formatted)}</small>
                  </div>
                  ${Ar(e==="sci:citation",()=>et`
                      <button
                        class="copy icon"
                        @click=${()=>navigator.clipboard.writeText(r.formatted)}
                      >
                        copy
                      </button>
                    `)}
                `)}
          </slot>
        </footer>
      `)}
  `}class V7e extends Wi{static get properties(){return{content:{type:String}}}constructor(){super(),this.content=null}render(){return et`<style>
        img,
        video,
        iframe {
          max-width: 100%;
        }
      </style>
      <div>${Xa(this.content)}</div>`}}customElements.define("eox-stacinfo-shadow",V7e);class G7e extends Wi{static get properties(){return{allowHtml:{attribute:"allow-html",type:Boolean},unstyled:{attribute:"unstyled",type:Boolean},for:{attribute:"for",type:String},header:{attribute:!1,type:Array},tags:{attribute:!1,type:Array},body:{attribute:!1,type:Array},featured:{attribute:!1,type:Array},footer:{attribute:!1,type:Array},stacInfo:{attribute:!1,state:!0,type:Array},stacProperties:{attribute:!1,state:!0,type:Array}}}constructor(){super(),this.allowHtml=!1,this.unstyled=!1,this.for="",this.header=[],this.tags=[],this.body=[],this.featured=[],this.footer=[],this.stacInfo=[],this.stacProperties=[]}updated(e){e.has("for")&&P7e(this),e.has("stacInfo")&&(dhe.Formatters.allowHtmlInCommonMark=this.allowHtml!==void 0,CNe(this))}render(){return et`
      <style>
        :host {
          display: block;
        }
        ${!this.unstyled&&_C}
        ${!this.unstyled&&N7e}
      </style>
      <slot></slot>
      ${Ar(this.stacInfo.length,()=>et`
          <!-- Header Component-->
          ${z7e(Md(this.header,this))}
          <main>
            ${Md(this.tags,this).length+Md(this.body,this).length>0?et`
                  <!-- Tags Component-->
                  ${U7e(Md(this.tags,this))}

                  <!-- Body Component-->
                  ${$7e(Md(this.body,this))}
                `:zi}

            <!-- Featured Component-->
            ${q7e(Md(this.featured,this,"featured"))}
          </main>

          <!-- Footer Component-->
          ${H7e(Md(this.footer,this))}
        `,()=>et`${zi}`)}
    `}}customElements.define("eox-stacinfo",G7e);const Zie={};function W7e(t){let e=Zie[t];if(e)return e;e=Zie[t]=[];for(let r=0;r<128;r++){const i=String.fromCharCode(r);e.push(i)}for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function ap(t,e){typeof e!="string"&&(e=ap.defaultChars);const r=W7e(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(i){let n="";for(let s=0,o=i.length;s<o;s+=3){const a=parseInt(i.slice(s+1,s+3),16);if(a<128){n+=r[a];continue}if((a&224)===192&&s+3<o){const l=parseInt(i.slice(s+4,s+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?n+="��":n+=String.fromCharCode(u),s+=3;continue}}if((a&240)===224&&s+6<o){const l=parseInt(i.slice(s+4,s+6),16),u=parseInt(i.slice(s+7,s+9),16);if((l&192)===128&&(u&192)===128){const h=a<<12&61440|l<<6&4032|u&63;h<2048||h>=55296&&h<=57343?n+="���":n+=String.fromCharCode(h),s+=6;continue}}if((a&248)===240&&s+9<o){const l=parseInt(i.slice(s+4,s+6),16),u=parseInt(i.slice(s+7,s+9),16),h=parseInt(i.slice(s+10,s+12),16);if((l&192)===128&&(u&192)===128&&(h&192)===128){let d=a<<18&1835008|l<<12&258048|u<<6&4032|h&63;d<65536||d>1114111?n+="����":(d-=65536,n+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),s+=9;continue}}n+="�"}return n})}ap.defaultChars=";/?:@&=+$,#";ap.componentChars="";const Xie={};function Y7e(t){let e=Xie[t];if(e)return e;e=Xie[t]=[];for(let r=0;r<128;r++){const i=String.fromCharCode(r);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<t.length;r++)e[t.charCodeAt(r)]=t[r];return e}function my(t,e,r){typeof e!="string"&&(r=e,e=my.defaultChars),typeof r>"u"&&(r=!0);const i=Y7e(e);let n="";for(let s=0,o=t.length;s<o;s++){const a=t.charCodeAt(s);if(r&&a===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){n+=t.slice(s,s+3),s+=2;continue}if(a<128){n+=i[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&s+1<o){const l=t.charCodeAt(s+1);if(l>=56320&&l<=57343){n+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}n+="%EF%BF%BD";continue}n+=encodeURIComponent(t[s])}return n}my.defaultChars=";/?:@&=+$,-_.!~*'()#";my.componentChars="-_.!~*'()";function ok(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function f1(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Z7e=/^([a-z0-9.+-]+:)/i,X7e=/:[0-9]*$/,K7e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,J7e=["<",">",'"',"`"," ","\r",`
`,"	"],Q7e=["{","}","|","\\","^","`"].concat(J7e),eUe=["'"].concat(Q7e),Kie=["%","/","?",";","#"].concat(eUe),Jie=["/","?","#"],tUe=255,Qie=/^[+a-z0-9A-Z_-]{0,63}$/,rUe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ene={javascript:!0,"javascript:":!0},tne={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ak(t,e){if(t&&t instanceof f1)return t;const r=new f1;return r.parse(t,e),r}f1.prototype.parse=function(t,e){let r,i,n,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const u=K7e.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let o=Z7e.exec(s);if(o&&(o=o[0],r=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(n=s.substr(0,2)==="//",n&&!(o&&ene[o])&&(s=s.substr(2),this.slashes=!0)),!ene[o]&&(n||o&&!tne[o])){let u=-1;for(let g=0;g<Jie.length;g++)i=s.indexOf(Jie[g]),i!==-1&&(u===-1||i<u)&&(u=i);let h,d;u===-1?d=s.lastIndexOf("@"):d=s.lastIndexOf("@",u),d!==-1&&(h=s.slice(0,d),s=s.slice(d+1),this.auth=h),u=-1;for(let g=0;g<Kie.length;g++)i=s.indexOf(Kie[g]),i!==-1&&(u===-1||i<u)&&(u=i);u===-1&&(u=s.length),s[u-1]===":"&&u--;const f=s.slice(0,u);s=s.slice(u),this.parseHost(f),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const g=this.hostname.split(/\./);for(let y=0,b=g.length;y<b;y++){const x=g[y];if(x&&!x.match(Qie)){let w="";for(let S=0,C=x.length;S<C;S++)x.charCodeAt(S)>127?w+="x":w+=x[S];if(!w.match(Qie)){const S=g.slice(0,y),C=g.slice(y+1),k=x.match(rUe);k&&(S.push(k[1]),C.unshift(k[2])),C.length&&(s=C.join(".")+s),this.hostname=S.join(".");break}}}}this.hostname.length>tUe&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");a!==-1&&(this.hash=s.substr(a),s=s.slice(0,a));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),tne[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};f1.prototype.parseHost=function(t){let e=X7e.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const iUe=Object.freeze(Object.defineProperty({__proto__:null,decode:ap,encode:my,format:ok,parse:ak},Symbol.toStringTag,{value:"Module"})),phe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,mhe=/[\0-\x1F\x7F-\x9F]/,nUe=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,lk=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,ghe=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,yhe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,sUe=Object.freeze(Object.defineProperty({__proto__:null,Any:phe,Cc:mhe,Cf:nUe,P:lk,S:ghe,Z:yhe},Symbol.toStringTag,{value:"Module"})),oUe=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),aUe=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var r2;const lUe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uUe=(r2=String.fromCodePoint)!==null&&r2!==void 0?r2:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function cUe(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=lUe.get(t))!==null&&e!==void 0?e:t}var Rs;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Rs||(Rs={}));const dUe=32;var bc;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(bc||(bc={}));function IE(t){return t>=Rs.ZERO&&t<=Rs.NINE}function hUe(t){return t>=Rs.UPPER_A&&t<=Rs.UPPER_F||t>=Rs.LOWER_A&&t<=Rs.LOWER_F}function fUe(t){return t>=Rs.UPPER_A&&t<=Rs.UPPER_Z||t>=Rs.LOWER_A&&t<=Rs.LOWER_Z||IE(t)}function pUe(t){return t===Rs.EQUALS||fUe(t)}var Ms;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ms||(Ms={}));var uc;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(uc||(uc={}));class mUe{constructor(e,r,i){this.decodeTree=e,this.emitCodePoint=r,this.errors=i,this.state=Ms.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=uc.Strict}startEntity(e){this.decodeMode=e,this.state=Ms.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case Ms.EntityStart:return e.charCodeAt(r)===Rs.NUM?(this.state=Ms.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=Ms.NamedEntity,this.stateNamedEntity(e,r));case Ms.NumericStart:return this.stateNumericStart(e,r);case Ms.NumericDecimal:return this.stateNumericDecimal(e,r);case Ms.NumericHex:return this.stateNumericHex(e,r);case Ms.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|dUe)===Rs.LOWER_X?(this.state=Ms.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=Ms.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,i,n){if(r!==i){const s=i-r;this.result=this.result*Math.pow(n,s)+parseInt(e.substr(r,s),n),this.consumed+=s}}stateNumericHex(e,r){const i=r;for(;r<e.length;){const n=e.charCodeAt(r);if(IE(n)||hUe(n))r+=1;else return this.addToNumericResult(e,i,r,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(e,i,r,16),-1}stateNumericDecimal(e,r){const i=r;for(;r<e.length;){const n=e.charCodeAt(r);if(IE(n))r+=1;else return this.addToNumericResult(e,i,r,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(e,i,r,10),-1}emitNumericEntity(e,r){var i;if(this.consumed<=r)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Rs.SEMI)this.consumed+=1;else if(this.decodeMode===uc.Strict)return 0;return this.emitCodePoint(cUe(this.result),this.consumed),this.errors&&(e!==Rs.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:i}=this;let n=i[this.treeIndex],s=(n&bc.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const o=e.charCodeAt(r);if(this.treeIndex=gUe(i,n,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===uc.Attribute&&(s===0||pUe(o))?0:this.emitNotTerminatedNamedEntity();if(n=i[this.treeIndex],s=(n&bc.VALUE_LENGTH)>>14,s!==0){if(o===Rs.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==uc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:i}=this,n=(i[r]&bc.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,n,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,i){const{decodeTree:n}=this;return this.emitCodePoint(r===1?n[e]&~bc.VALUE_LENGTH:n[e+1],i),r===3&&this.emitCodePoint(n[e+2],i),i}end(){var e;switch(this.state){case Ms.NamedEntity:return this.result!==0&&(this.decodeMode!==uc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ms.NumericDecimal:return this.emitNumericEntity(0,2);case Ms.NumericHex:return this.emitNumericEntity(0,3);case Ms.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ms.EntityStart:return 0}}}function bhe(t){let e="";const r=new mUe(t,i=>e+=uUe(i));return function(n,s){let o=0,a=0;for(;(a=n.indexOf("&",a))>=0;){e+=n.slice(o,a),r.startEntity(s);const u=r.write(n,a+1);if(u<0){o=a+r.end();break}o=a+u,a=u===0?o+1:o}const l=e+n.slice(o);return e="",l}}function gUe(t,e,r,i){const n=(e&bc.BRANCH_LENGTH)>>7,s=e&bc.JUMP_TABLE;if(n===0)return s!==0&&i===s?r:-1;if(s){const l=i-s;return l<0||l>=n?-1:t[r+l]-1}let o=r,a=o+n-1;for(;o<=a;){const l=o+a>>>1,u=t[l];if(u<i)o=l+1;else if(u>i)a=l-1;else return t[l+n]}return-1}const yUe=bhe(oUe);bhe(aUe);function vhe(t,e=uc.Legacy){return yUe(t,e)}function bUe(t){return Object.prototype.toString.call(t)}function uk(t){return bUe(t)==="[object String]"}const vUe=Object.prototype.hasOwnProperty;function xUe(t,e){return vUe.call(t,e)}function Bx(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(i){t[i]=r[i]})}}),t}function xhe(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function ck(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function p1(t){if(t>65535){t-=65536;const e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}const _he=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,_Ue=/&([a-z#][a-z0-9]{1,31});/gi,wUe=new RegExp(_he.source+"|"+_Ue.source,"gi"),EUe=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function SUe(t,e){if(e.charCodeAt(0)===35&&EUe.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return ck(i)?p1(i):t}const r=vhe(t);return r!==t?r:t}function CUe(t){return t.indexOf("\\")<0?t:t.replace(_he,"$1")}function lp(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(wUe,function(e,r,i){return r||SUe(e,i)})}const kUe=/[&<>"]/,AUe=/[&<>"]/g,TUe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function DUe(t){return TUe[t]}function Ic(t){return kUe.test(t)?t.replace(AUe,DUe):t}const LUe=/[.?*+^$[\]\\(){}|-]/g;function OUe(t){return t.replace(LUe,"\\$&")}function cn(t){switch(t){case 9:case 32:return!0}return!1}function A0(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function T0(t){return lk.test(t)||ghe.test(t)}function D0(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function jx(t){return t=t.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}const MUe={mdurl:iUe,ucmicro:sUe},RUe=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:xhe,assign:Bx,escapeHtml:Ic,escapeRE:OUe,fromCodePoint:p1,has:xUe,isMdAsciiPunct:D0,isPunctChar:T0,isSpace:cn,isString:uk,isValidEntityCode:ck,isWhiteSpace:A0,lib:MUe,normalizeReference:jx,unescapeAll:lp,unescapeMd:CUe},Symbol.toStringTag,{value:"Module"}));function IUe(t,e,r){let i,n,s,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,i=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){n=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)i++;else if(r)return t.pos=l,-1}}let u=-1;return n&&(u=t.pos),t.pos=l,u}function FUe(t,e,r){let i,n=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(n)===60){for(n++;n<r;){if(i=t.charCodeAt(n),i===10||i===60)return s;if(i===62)return s.pos=n+1,s.str=lp(t.slice(e+1,n)),s.ok=!0,s;if(i===92&&n+1<r){n+=2;continue}n++}return s}let o=0;for(;n<r&&(i=t.charCodeAt(n),!(i===32||i<32||i===127));){if(i===92&&n+1<r){if(t.charCodeAt(n+1)===32)break;n+=2;continue}if(i===40&&(o++,o>32))return s;if(i===41){if(o===0)break;o--}n++}return e===n||o!==0||(s.str=lp(t.slice(e,n)),s.pos=n,s.ok=!0),s}function PUe(t,e,r,i){let n,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)o.str=i.str,o.marker=i.marker;else{if(s>=r)return o;let a=t.charCodeAt(s);if(a!==34&&a!==39&&a!==40)return o;e++,s++,a===40&&(a=41),o.marker=a}for(;s<r;){if(n=t.charCodeAt(s),n===o.marker)return o.pos=s+1,o.str+=lp(t.slice(e,s)),o.ok=!0,o;if(n===40&&o.marker===41)return o;n===92&&s+1<r&&s++,s++}return o.can_continue=!0,o.str+=lp(t.slice(e,s)),o}const NUe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:FUe,parseLinkLabel:IUe,parseLinkTitle:PUe},Symbol.toStringTag,{value:"Module"})),Il={};Il.code_inline=function(t,e,r,i,n){const s=t[e];return"<code"+n.renderAttrs(s)+">"+Ic(s.content)+"</code>"};Il.code_block=function(t,e,r,i,n){const s=t[e];return"<pre"+n.renderAttrs(s)+"><code>"+Ic(t[e].content)+`</code></pre>
`};Il.fence=function(t,e,r,i,n){const s=t[e],o=s.info?lp(s.info).trim():"";let a="",l="";if(o){const h=o.split(/(\s+)/g);a=h[0],l=h.slice(2).join("")}let u;if(r.highlight?u=r.highlight(s.content,a,l)||Ic(s.content):u=Ic(s.content),u.indexOf("<pre")===0)return u+`
`;if(o){const h=s.attrIndex("class"),d=s.attrs?s.attrs.slice():[];h<0?d.push(["class",r.langPrefix+a]):(d[h]=d[h].slice(),d[h][1]+=" "+r.langPrefix+a);const f={attrs:d};return`<pre><code${n.renderAttrs(f)}>${u}</code></pre>
`}return`<pre><code${n.renderAttrs(s)}>${u}</code></pre>
`};Il.image=function(t,e,r,i,n){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=n.renderInlineAsText(s.children,r,i),n.renderToken(t,e,r)};Il.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};Il.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};Il.text=function(t,e){return Ic(t[e].content)};Il.html_block=function(t,e){return t[e].content};Il.html_inline=function(t,e){return t[e].content};function Np(){this.rules=Bx({},Il)}Np.prototype.renderAttrs=function(e){let r,i,n;if(!e.attrs)return"";for(n="",r=0,i=e.attrs.length;r<i;r++)n+=" "+Ic(e.attrs[r][0])+'="'+Ic(e.attrs[r][1])+'"';return n};Np.prototype.renderToken=function(e,r,i){const n=e[r];let s="";if(n.hidden)return"";n.block&&n.nesting!==-1&&r&&e[r-1].hidden&&(s+=`
`),s+=(n.nesting===-1?"</":"<")+n.tag,s+=this.renderAttrs(n),n.nesting===0&&i.xhtmlOut&&(s+=" /");let o=!1;if(n.block&&(o=!0,n.nesting===1&&r+1<e.length)){const a=e[r+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===n.tag)&&(o=!1)}return s+=o?`>
`:">",s};Np.prototype.renderInline=function(t,e,r){let i="";const n=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;typeof n[a]<"u"?i+=n[a](t,s,e,r,this):i+=this.renderToken(t,s,e)}return i};Np.prototype.renderInlineAsText=function(t,e,r){let i="";for(let n=0,s=t.length;n<s;n++)switch(t[n].type){case"text":i+=t[n].content;break;case"image":i+=this.renderInlineAsText(t[n].children,e,r);break;case"html_inline":case"html_block":i+=t[n].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};Np.prototype.render=function(t,e,r){let i="";const n=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;a==="inline"?i+=this.renderInline(t[s].children,e,r):typeof n[a]<"u"?i+=n[a](t,s,e,r,this):i+=this.renderToken(t,s,e,r)}return i};function Uo(){this.__rules__=[],this.__cache__=null}Uo.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Uo.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(i){i.enabled&&(r&&i.alt.indexOf(r)<0||t.__cache__[r].push(i.fn))})})};Uo.prototype.at=function(t,e,r){const i=this.__find__(t),n=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=n.alt||[],this.__cache__=null};Uo.prototype.before=function(t,e,r,i){const n=this.__find__(t),s=i||{};if(n===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(n,0,{name:e,enabled:!0,fn:r,alt:s.alt||[]}),this.__cache__=null};Uo.prototype.after=function(t,e,r,i){const n=this.__find__(t),s=i||{};if(n===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(n+1,0,{name:e,enabled:!0,fn:r,alt:s.alt||[]}),this.__cache__=null};Uo.prototype.push=function(t,e,r){const i=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};Uo.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(i){const n=this.__find__(i);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[n].enabled=!0,r.push(i)},this),this.__cache__=null,r};Uo.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};Uo.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(i){const n=this.__find__(i);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[n].enabled=!1,r.push(i)},this),this.__cache__=null,r};Uo.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function rl(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}rl.prototype.attrIndex=function(e){if(!this.attrs)return-1;const r=this.attrs;for(let i=0,n=r.length;i<n;i++)if(r[i][0]===e)return i;return-1};rl.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};rl.prototype.attrSet=function(e,r){const i=this.attrIndex(e),n=[e,r];i<0?this.attrPush(n):this.attrs[i]=n};rl.prototype.attrGet=function(e){const r=this.attrIndex(e);let i=null;return r>=0&&(i=this.attrs[r][1]),i};rl.prototype.attrJoin=function(e,r){const i=this.attrIndex(e);i<0?this.attrPush([e,r]):this.attrs[i][1]=this.attrs[i][1]+" "+r};function whe(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}whe.prototype.Token=rl;const $Ue=/\r\n?|\n/g,BUe=/\0/g;function jUe(t){let e;e=t.src.replace($Ue,`
`),e=e.replace(BUe,"�"),t.src=e}function zUe(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function UUe(t){const e=t.tokens;for(let r=0,i=e.length;r<i;r++){const n=e[r];n.type==="inline"&&t.md.inline.parse(n.content,t.md,t.env,n.children)}}function qUe(t){return/^<a[>\s]/i.test(t)}function HUe(t){return/^<\/a\s*>/i.test(t)}function VUe(t){const e=t.tokens;if(t.md.options.linkify)for(let r=0,i=e.length;r<i;r++){if(e[r].type!=="inline"||!t.md.linkify.pretest(e[r].content))continue;let n=e[r].children,s=0;for(let o=n.length-1;o>=0;o--){const a=n[o];if(a.type==="link_close"){for(o--;n[o].level!==a.level&&n[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(qUe(a.content)&&s>0&&s--,HUe(a.content)&&s++),!(s>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const l=a.content;let u=t.md.linkify.match(l);const h=[];let d=a.level,f=0;u.length>0&&u[0].index===0&&o>0&&n[o-1].type==="text_special"&&(u=u.slice(1));for(let p=0;p<u.length;p++){const g=u[p].url,y=t.md.normalizeLink(g);if(!t.md.validateLink(y))continue;let b=u[p].text;u[p].schema?u[p].schema==="mailto:"&&!/^mailto:/i.test(b)?b=t.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=t.md.normalizeLinkText(b):b=t.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const x=u[p].index;if(x>f){const k=new t.Token("text","",0);k.content=l.slice(f,x),k.level=d,h.push(k)}const w=new t.Token("link_open","a",1);w.attrs=[["href",y]],w.level=d++,w.markup="linkify",w.info="auto",h.push(w);const S=new t.Token("text","",0);S.content=b,S.level=d,h.push(S);const C=new t.Token("link_close","a",-1);C.level=--d,C.markup="linkify",C.info="auto",h.push(C),f=u[p].lastIndex}if(f<l.length){const p=new t.Token("text","",0);p.content=l.slice(f),p.level=d,h.push(p)}e[r].children=n=xhe(n,o,h)}}}}const Ehe=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,GUe=/\((c|tm|r)\)/i,WUe=/\((c|tm|r)\)/ig,YUe={c:"©",r:"®",tm:"™"};function ZUe(t,e){return YUe[e.toLowerCase()]}function XUe(t){let e=0;for(let r=t.length-1;r>=0;r--){const i=t[r];i.type==="text"&&!e&&(i.content=i.content.replace(WUe,ZUe)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function KUe(t){let e=0;for(let r=t.length-1;r>=0;r--){const i=t[r];i.type==="text"&&!e&&Ehe.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function JUe(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(GUe.test(t.tokens[e].content)&&XUe(t.tokens[e].children),Ehe.test(t.tokens[e].content)&&KUe(t.tokens[e].children))}const QUe=/['"]/,rne=/['"]/g,ine="’";function Hb(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function eqe(t,e){let r;const i=[];for(let n=0;n<t.length;n++){const s=t[n],o=t[n].level;for(r=i.length-1;r>=0&&!(i[r].level<=o);r--);if(i.length=r+1,s.type!=="text")continue;let a=s.content,l=0,u=a.length;e:for(;l<u;){rne.lastIndex=l;const h=rne.exec(a);if(!h)break;let d=!0,f=!0;l=h.index+1;const p=h[0]==="'";let g=32;if(h.index-1>=0)g=a.charCodeAt(h.index-1);else for(r=n-1;r>=0&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r--)if(t[r].content){g=t[r].content.charCodeAt(t[r].content.length-1);break}let y=32;if(l<u)y=a.charCodeAt(l);else for(r=n+1;r<t.length&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r++)if(t[r].content){y=t[r].content.charCodeAt(0);break}const b=D0(g)||T0(String.fromCharCode(g)),x=D0(y)||T0(String.fromCharCode(y)),w=A0(g),S=A0(y);if(S?d=!1:x&&(w||b||(d=!1)),w?f=!1:b&&(S||x||(f=!1)),y===34&&h[0]==='"'&&g>=48&&g<=57&&(f=d=!1),d&&f&&(d=b,f=x),!d&&!f){p&&(s.content=Hb(s.content,h.index,ine));continue}if(f)for(r=i.length-1;r>=0;r--){let C=i[r];if(i[r].level<o)break;if(C.single===p&&i[r].level===o){C=i[r];let k,O;p?(k=e.md.options.quotes[2],O=e.md.options.quotes[3]):(k=e.md.options.quotes[0],O=e.md.options.quotes[1]),s.content=Hb(s.content,h.index,O),t[C.token].content=Hb(t[C.token].content,C.pos,k),l+=O.length-1,C.token===n&&(l+=k.length-1),a=s.content,u=a.length,i.length=r;continue e}}d?i.push({token:n,pos:h.index,single:p,level:o}):f&&p&&(s.content=Hb(s.content,h.index,ine))}}}function tqe(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!QUe.test(t.tokens[e].content)||eqe(t.tokens[e].children,t)}function rqe(t){let e,r;const i=t.tokens,n=i.length;for(let s=0;s<n;s++){if(i[s].type!=="inline")continue;const o=i[s].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=r=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==r&&(o[r]=o[e]),r++);e!==r&&(o.length=r)}}const i2=[["normalize",jUe],["block",zUe],["inline",UUe],["linkify",VUe],["replacements",JUe],["smartquotes",tqe],["text_join",rqe]];function dk(){this.ruler=new Uo;for(let t=0;t<i2.length;t++)this.ruler.push(i2[t][0],i2[t][1])}dk.prototype.process=function(t){const e=this.ruler.getRules("");for(let r=0,i=e.length;r<i;r++)e[r](t)};dk.prototype.State=whe;function Fl(t,e,r,i){this.src=t,this.md=e,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let s=0,o=0,a=0,l=0,u=n.length,h=!1;o<u;o++){const d=n.charCodeAt(o);if(!h)if(cn(d)){a++,d===9?l+=4-l%4:l++;continue}else h=!0;(d===10||o===u-1)&&(d!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),h=!1,a=0,l=0,s=o+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Fl.prototype.push=function(t,e,r){const i=new rl(t,e,r);return i.block=!0,r<0&&this.level--,i.level=this.level,r>0&&this.level++,this.tokens.push(i),i};Fl.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Fl.prototype.skipEmptyLines=function(e){for(let r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Fl.prototype.skipSpaces=function(e){for(let r=this.src.length;e<r;e++){const i=this.src.charCodeAt(e);if(!cn(i))break}return e};Fl.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!cn(this.src.charCodeAt(--e)))return e+1;return e};Fl.prototype.skipChars=function(e,r){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===r;e++);return e};Fl.prototype.skipCharsBack=function(e,r,i){if(e<=i)return e;for(;e>i;)if(r!==this.src.charCodeAt(--e))return e+1;return e};Fl.prototype.getLines=function(e,r,i,n){if(e>=r)return"";const s=new Array(r-e);for(let o=0,a=e;a<r;a++,o++){let l=0;const u=this.bMarks[a];let h=u,d;for(a+1<r||n?d=this.eMarks[a]+1:d=this.eMarks[a];h<d&&l<i;){const f=this.src.charCodeAt(h);if(cn(f))f===9?l+=4-(l+this.bsCount[a])%4:l++;else if(h-u<this.tShift[a])l++;else break;h++}l>i?s[o]=new Array(l-i+1).join(" ")+this.src.slice(h,d):s[o]=this.src.slice(h,d)}return s.join("")};Fl.prototype.Token=rl;const iqe=65536;function n2(t,e){const r=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(r,i)}function nne(t){const e=[],r=t.length;let i=0,n=t.charCodeAt(i),s=!1,o=0,a="";for(;i<r;)n===124&&(s?(a+=t.substring(o,i-1),o=i):(e.push(a+t.substring(o,i)),a="",o=i+1)),s=n===92,i++,n=t.charCodeAt(i);return e.push(a+t.substring(o)),e}function nqe(t,e,r,i){if(e+2>r)return!1;let n=e+1;if(t.sCount[n]<t.blkIndent||t.sCount[n]-t.blkIndent>=4)return!1;let s=t.bMarks[n]+t.tShift[n];if(s>=t.eMarks[n])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[n])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58&&!cn(a)||o===45&&cn(a))return!1;for(;s<t.eMarks[n];){const C=t.src.charCodeAt(s);if(C!==124&&C!==45&&C!==58&&!cn(C))return!1;s++}let l=n2(t,e+1),u=l.split("|");const h=[];for(let C=0;C<u.length;C++){const k=u[C].trim();if(!k){if(C===0||C===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(k))return!1;k.charCodeAt(k.length-1)===58?h.push(k.charCodeAt(0)===58?"center":"right"):k.charCodeAt(0)===58?h.push("left"):h.push("")}if(l=n2(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;u=nne(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const d=u.length;if(d===0||d!==h.length)return!1;if(i)return!0;const f=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),g=t.push("table_open","table",1),y=[e,0];g.map=y;const b=t.push("thead_open","thead",1);b.map=[e,e+1];const x=t.push("tr_open","tr",1);x.map=[e,e+1];for(let C=0;C<u.length;C++){const k=t.push("th_open","th",1);h[C]&&(k.attrs=[["style","text-align:"+h[C]]]);const O=t.push("inline","",0);O.content=u[C].trim(),O.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let w,S=0;for(n=e+2;n<r&&!(t.sCount[n]<t.blkIndent);n++){let C=!1;for(let O=0,M=p.length;O<M;O++)if(p[O](t,n,r,!0)){C=!0;break}if(C||(l=n2(t,n).trim(),!l)||t.sCount[n]-t.blkIndent>=4||(u=nne(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),S+=d-u.length,S>iqe))break;if(n===e+2){const O=t.push("tbody_open","tbody",1);O.map=w=[e+2,0]}const k=t.push("tr_open","tr",1);k.map=[n,n+1];for(let O=0;O<d;O++){const M=t.push("td_open","td",1);h[O]&&(M.attrs=[["style","text-align:"+h[O]]]);const A=t.push("inline","",0);A.content=u[O]?u[O].trim():"",A.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return w&&(t.push("tbody_close","tbody",-1),w[1]=n),t.push("table_close","table",-1),y[1]=n,t.parentType=f,t.line=n,!0}function sqe(t,e,r){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,n=i;for(;i<r;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,n=i;continue}break}t.line=n;const s=t.push("code_block","code",0);return s.content=t.getLines(e,n,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function oqe(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||n+3>s)return!1;const o=t.src.charCodeAt(n);if(o!==126&&o!==96)return!1;let a=n;n=t.skipChars(n,o);let l=n-a;if(l<3)return!1;const u=t.src.slice(a,n),h=t.src.slice(n,s);if(o===96&&h.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;let d=e,f=!1;for(;d++,!(d>=r||(n=a=t.bMarks[d]+t.tShift[d],s=t.eMarks[d],n<s&&t.sCount[d]<t.blkIndent));)if(t.src.charCodeAt(n)===o&&!(t.sCount[d]-t.blkIndent>=4)&&(n=t.skipChars(n,o),!(n-a<l)&&(n=t.skipSpaces(n),!(n<s)))){f=!0;break}l=t.sCount[e],t.line=d+(f?1:0);const p=t.push("fence","code",0);return p.info=h,p.content=t.getLines(e+1,d,l,!0),p.markup=u,p.map=[e,t.line],!0}function aqe(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(n)!==62)return!1;if(i)return!0;const a=[],l=[],u=[],h=[],d=t.md.block.ruler.getRules("blockquote"),f=t.parentType;t.parentType="blockquote";let p=!1,g;for(g=e;g<r;g++){const S=t.sCount[g]<t.blkIndent;if(n=t.bMarks[g]+t.tShift[g],s=t.eMarks[g],n>=s)break;if(t.src.charCodeAt(n++)===62&&!S){let k=t.sCount[g]+1,O,M;t.src.charCodeAt(n)===32?(n++,k++,M=!1,O=!0):t.src.charCodeAt(n)===9?(O=!0,(t.bsCount[g]+k)%4===3?(n++,k++,M=!1):M=!0):O=!1;let A=k;for(a.push(t.bMarks[g]),t.bMarks[g]=n;n<s;){const I=t.src.charCodeAt(n);if(cn(I))I===9?A+=4-(A+t.bsCount[g]+(M?1:0))%4:A++;else break;n++}p=n>=s,l.push(t.bsCount[g]),t.bsCount[g]=t.sCount[g]+1+(O?1:0),u.push(t.sCount[g]),t.sCount[g]=A-k,h.push(t.tShift[g]),t.tShift[g]=n-t.bMarks[g];continue}if(p)break;let C=!1;for(let k=0,O=d.length;k<O;k++)if(d[k](t,g,r,!0)){C=!0;break}if(C){t.lineMax=g,t.blkIndent!==0&&(a.push(t.bMarks[g]),l.push(t.bsCount[g]),h.push(t.tShift[g]),u.push(t.sCount[g]),t.sCount[g]-=t.blkIndent);break}a.push(t.bMarks[g]),l.push(t.bsCount[g]),h.push(t.tShift[g]),u.push(t.sCount[g]),t.sCount[g]=-1}const y=t.blkIndent;t.blkIndent=0;const b=t.push("blockquote_open","blockquote",1);b.markup=">";const x=[e,0];b.map=x,t.md.block.tokenize(t,e,g);const w=t.push("blockquote_close","blockquote",-1);w.markup=">",t.lineMax=o,t.parentType=f,x[1]=t.line;for(let S=0;S<h.length;S++)t.bMarks[S+e]=a[S],t.tShift[S+e]=h[S],t.sCount[S+e]=u[S],t.bsCount[S+e]=l[S];return t.blkIndent=y,!0}function lqe(t,e,r,i){const n=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;s<n;){const u=t.src.charCodeAt(s++);if(u!==o&&!cn(u))return!1;u===o&&a++}if(a<3)return!1;if(i)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0}function sne(t,e){const r=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const n=t.src.charCodeAt(i++);if(n!==42&&n!==45&&n!==43)return-1;if(i<r){const s=t.src.charCodeAt(i);if(!cn(s))return-1}return i}function one(t,e){const r=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let n=r;if(n+1>=i)return-1;let s=t.src.charCodeAt(n++);if(s<48||s>57)return-1;for(;;){if(n>=i)return-1;if(s=t.src.charCodeAt(n++),s>=48&&s<=57){if(n-r>=10)return-1;continue}if(s===41||s===46)break;return-1}return n<i&&(s=t.src.charCodeAt(n),!cn(s))?-1:n}function uqe(t,e){const r=t.level+2;for(let i=e+2,n=t.tokens.length-2;i<n;i++)t.tokens[i].level===r&&t.tokens[i].type==="paragraph_open"&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}function cqe(t,e,r,i){let n,s,o,a,l=e,u=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let h=!1;i&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(h=!0);let d,f,p;if((p=one(t,l))>=0){if(d=!0,o=t.bMarks[l]+t.tShift[l],f=Number(t.src.slice(o,p-1)),h&&f!==1)return!1}else if((p=sne(t,l))>=0)d=!1;else return!1;if(h&&t.skipSpaces(p)>=t.eMarks[l])return!1;if(i)return!0;const g=t.src.charCodeAt(p-1),y=t.tokens.length;d?(a=t.push("ordered_list_open","ol",1),f!==1&&(a.attrs=[["start",f]])):a=t.push("bullet_list_open","ul",1);const b=[l,0];a.map=b,a.markup=String.fromCharCode(g);let x=!1;const w=t.md.block.ruler.getRules("list"),S=t.parentType;for(t.parentType="list";l<r;){s=p,n=t.eMarks[l];const C=t.sCount[l]+p-(t.bMarks[l]+t.tShift[l]);let k=C;for(;s<n;){const U=t.src.charCodeAt(s);if(U===9)k+=4-(k+t.bsCount[l])%4;else if(U===32)k++;else break;s++}const O=s;let M;O>=n?M=1:M=k-C,M>4&&(M=1);const A=C+M;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(g);const I=[l,0];a.map=I,d&&(a.info=t.src.slice(o,p-1));const R=t.tight,V=t.tShift[l],oe=t.sCount[l],L=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=A,t.tight=!0,t.tShift[l]=O-t.bMarks[l],t.sCount[l]=k,O>=n&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,l,r,!0),(!t.tight||x)&&(u=!1),x=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=L,t.tShift[l]=V,t.sCount[l]=oe,t.tight=R,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(g),l=t.line,I[1]=l,l>=r||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let F=!1;for(let U=0,Y=w.length;U<Y;U++)if(w[U](t,l,r,!0)){F=!0;break}if(F)break;if(d){if(p=one(t,l),p<0)break;o=t.bMarks[l]+t.tShift[l]}else if(p=sne(t,l),p<0)break;if(g!==t.src.charCodeAt(p-1))break}return d?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(g),b[1]=l,t.line=l,t.parentType=S,u&&uqe(t,y),!0}function dqe(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(n)!==91)return!1;function a(w){const S=t.lineMax;if(w>=S||t.isEmpty(w))return null;let C=!1;if(t.sCount[w]-t.blkIndent>3&&(C=!0),t.sCount[w]<0&&(C=!0),!C){const M=t.md.block.ruler.getRules("reference"),A=t.parentType;t.parentType="reference";let I=!1;for(let R=0,V=M.length;R<V;R++)if(M[R](t,w,S,!0)){I=!0;break}if(t.parentType=A,I)return null}const k=t.bMarks[w]+t.tShift[w],O=t.eMarks[w];return t.src.slice(k,O+1)}let l=t.src.slice(n,s+1);s=l.length;let u=-1;for(n=1;n<s;n++){const w=l.charCodeAt(n);if(w===91)return!1;if(w===93){u=n;break}else if(w===10){const S=a(o);S!==null&&(l+=S,s=l.length,o++)}else if(w===92&&(n++,n<s&&l.charCodeAt(n)===10)){const S=a(o);S!==null&&(l+=S,s=l.length,o++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(n=u+2;n<s;n++){const w=l.charCodeAt(n);if(w===10){const S=a(o);S!==null&&(l+=S,s=l.length,o++)}else if(!cn(w))break}const h=t.md.helpers.parseLinkDestination(l,n,s);if(!h.ok)return!1;const d=t.md.normalizeLink(h.str);if(!t.md.validateLink(d))return!1;n=h.pos;const f=n,p=o,g=n;for(;n<s;n++){const w=l.charCodeAt(n);if(w===10){const S=a(o);S!==null&&(l+=S,s=l.length,o++)}else if(!cn(w))break}let y=t.md.helpers.parseLinkTitle(l,n,s);for(;y.can_continue;){const w=a(o);if(w===null)break;l+=w,n=s,s=l.length,o++,y=t.md.helpers.parseLinkTitle(l,n,s,y)}let b;for(n<s&&g!==n&&y.ok?(b=y.str,n=y.pos):(b="",n=f,o=p);n<s;){const w=l.charCodeAt(n);if(!cn(w))break;n++}if(n<s&&l.charCodeAt(n)!==10&&b)for(b="",n=f,o=p;n<s;){const w=l.charCodeAt(n);if(!cn(w))break;n++}if(n<s&&l.charCodeAt(n)!==10)return!1;const x=jx(l.slice(1,u));return x?(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[x]>"u"&&(t.env.references[x]={title:b,href:d}),t.line=o),!0):!1}const hqe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fqe="[a-zA-Z_:][a-zA-Z0-9:._-]*",pqe="[^\"'=<>`\\x00-\\x20]+",mqe="'[^']*'",gqe='"[^"]*"',yqe="(?:"+pqe+"|"+mqe+"|"+gqe+")",bqe="(?:\\s+"+fqe+"(?:\\s*=\\s*"+yqe+")?)",She="<[A-Za-z][A-Za-z0-9\\-]*"+bqe+"*\\s*\\/?>",Che="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",vqe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",xqe="<[?][\\s\\S]*?[?]>",_qe="<![A-Za-z][^>]*>",wqe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Eqe=new RegExp("^(?:"+She+"|"+Che+"|"+vqe+"|"+xqe+"|"+_qe+"|"+wqe+")"),Sqe=new RegExp("^(?:"+She+"|"+Che+")"),gf=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+hqe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Sqe.source+"\\s*$"),/^$/,!1]];function Cqe(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(n)!==60)return!1;let o=t.src.slice(n,s),a=0;for(;a<gf.length&&!gf[a][0].test(o);a++);if(a===gf.length)return!1;if(i)return gf[a][2];let l=e+1;if(!gf[a][1].test(o)){for(;l<r&&!(t.sCount[l]<t.blkIndent);l++)if(n=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],o=t.src.slice(n,s),gf[a][1].test(o)){o.length!==0&&l++;break}}t.line=l;const u=t.push("html_block","",0);return u.map=[e,l],u.content=t.getLines(e,l,t.blkIndent,!0),!0}function kqe(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(n);if(o!==35||n>=s)return!1;let a=1;for(o=t.src.charCodeAt(++n);o===35&&n<s&&a<=6;)a++,o=t.src.charCodeAt(++n);if(a>6||n<s&&!cn(o))return!1;if(i)return!0;s=t.skipSpacesBack(s,n);const l=t.skipCharsBack(s,35,n);l>n&&cn(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const u=t.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[e,t.line];const h=t.push("inline","",0);h.content=t.src.slice(n,s).trim(),h.map=[e,t.line],h.children=[];const d=t.push("heading_close","h"+String(a),-1);return d.markup="########".slice(0,a),!0}function Aqe(t,e,r){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const n=t.parentType;t.parentType="paragraph";let s=0,o,a=e+1;for(;a<r&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let p=t.bMarks[a]+t.tShift[a];const g=t.eMarks[a];if(p<g&&(o=t.src.charCodeAt(p),(o===45||o===61)&&(p=t.skipChars(p,o),p=t.skipSpaces(p),p>=g))){s=o===61?1:2;break}}if(t.sCount[a]<0)continue;let f=!1;for(let p=0,g=i.length;p<g;p++)if(i[p](t,a,r,!0)){f=!0;break}if(f)break}if(!s)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const u=t.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(o),u.map=[e,t.line];const h=t.push("inline","",0);h.content=l,h.map=[e,t.line-1],h.children=[];const d=t.push("heading_close","h"+String(s),-1);return d.markup=String.fromCharCode(o),t.parentType=n,!0}function Tqe(t,e,r){const i=t.md.block.ruler.getRules("paragraph"),n=t.parentType;let s=e+1;for(t.parentType="paragraph";s<r&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let u=!1;for(let h=0,d=i.length;h<d;h++)if(i[h](t,s,r,!0)){u=!0;break}if(u)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=n,!0}const Vb=[["table",nqe,["paragraph","reference"]],["code",sqe],["fence",oqe,["paragraph","reference","blockquote","list"]],["blockquote",aqe,["paragraph","reference","blockquote","list"]],["hr",lqe,["paragraph","reference","blockquote","list"]],["list",cqe,["paragraph","reference","blockquote"]],["reference",dqe],["html_block",Cqe,["paragraph","reference","blockquote"]],["heading",kqe,["paragraph","reference","blockquote"]],["lheading",Aqe],["paragraph",Tqe]];function zx(){this.ruler=new Uo;for(let t=0;t<Vb.length;t++)this.ruler.push(Vb[t][0],Vb[t][1],{alt:(Vb[t][2]||[]).slice()})}zx.prototype.tokenize=function(t,e,r){const i=this.ruler.getRules(""),n=i.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<r&&(t.line=o=t.skipEmptyLines(o),!(o>=r||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=r;break}const l=t.line;let u=!1;for(let h=0;h<n;h++)if(u=i[h](t,o,r,!1),u){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<r&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};zx.prototype.parse=function(t,e,r,i){if(!t)return;const n=new this.State(t,e,r,i);this.tokenize(n,n.line,n.lineMax)};zx.prototype.State=Fl;function gy(t,e,r,i){this.src=t,this.env=r,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}gy.prototype.pushPending=function(){const t=new rl("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};gy.prototype.push=function(t,e,r){this.pending&&this.pushPending();const i=new rl(t,e,r);let n=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(n),i};gy.prototype.scanDelims=function(t,e){const r=this.posMax,i=this.src.charCodeAt(t),n=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<r&&this.src.charCodeAt(s)===i;)s++;const o=s-t,a=s<r?this.src.charCodeAt(s):32,l=D0(n)||T0(String.fromCharCode(n)),u=D0(a)||T0(String.fromCharCode(a)),h=A0(n),d=A0(a),f=!d&&(!u||h||l),p=!h&&(!l||d||u);return{can_open:f&&(e||!p||l),can_close:p&&(e||!f||u),length:o}};gy.prototype.Token=rl;function Dqe(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Lqe(t,e){let r=t.pos;for(;r<t.posMax&&!Dqe(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}const Oqe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Mqe(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const r=t.pos,i=t.posMax;if(r+3>i||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47)return!1;const n=t.pending.match(Oqe);if(!n)return!1;const s=n[1],o=t.md.linkify.matchAtStart(t.src.slice(r-s.length));if(!o)return!1;let a=o.url;if(a.length<=s.length)return!1;a=a.replace(/\*+$/,"");const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const u=t.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const h=t.push("text","",0);h.content=t.md.normalizeLinkText(a);const d=t.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return t.pos+=a.length-s.length,!0}function Rqe(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==10)return!1;const i=t.pending.length-1,n=t.posMax;if(!e)if(i>=0&&t.pending.charCodeAt(i)===32)if(i>=1&&t.pending.charCodeAt(i-1)===32){let s=i-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(r++;r<n&&cn(t.src.charCodeAt(r));)r++;return t.pos=r,!0}const hk=[];for(let t=0;t<256;t++)hk.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){hk[t.charCodeAt(0)]=1});function Iqe(t,e){let r=t.pos;const i=t.posMax;if(t.src.charCodeAt(r)!==92||(r++,r>=i))return!1;let n=t.src.charCodeAt(r);if(n===10){for(e||t.push("hardbreak","br",0),r++;r<i&&(n=t.src.charCodeAt(r),!!cn(n));)r++;return t.pos=r,!0}let s=t.src[r];if(n>=55296&&n<=56319&&r+1<i){const a=t.src.charCodeAt(r+1);a>=56320&&a<=57343&&(s+=t.src[r+1],r++)}const o="\\"+s;if(!e){const a=t.push("text_special","",0);n<256&&hk[n]!==0?a.content=s:a.content=o,a.markup=o,a.info="escape"}return t.pos=r+1,!0}function Fqe(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==96)return!1;const n=r;r++;const s=t.posMax;for(;r<s&&t.src.charCodeAt(r)===96;)r++;const o=t.src.slice(n,r),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=n)return e||(t.pending+=o),t.pos+=a,!0;let l=r,u;for(;(u=t.src.indexOf("`",l))!==-1;){for(l=u+1;l<s&&t.src.charCodeAt(l)===96;)l++;const h=l-u;if(h===a){if(!e){const d=t.push("code_inline","code",0);d.markup=o,d.content=t.src.slice(r,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[h]=u}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function Pqe(t,e){const r=t.pos,i=t.src.charCodeAt(r);if(e||i!==126)return!1;const n=t.scanDelims(t.pos,!0);let s=n.length;const o=String.fromCharCode(i);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let l=0;l<s;l+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0}function ane(t,e){let r;const i=[],n=e.length;for(let s=0;s<n;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];r=t.tokens[o.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=t.tokens[a.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&i.push(a.token-1)}for(;i.length;){const s=i.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(r=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=r)}}function Nqe(t){const e=t.tokens_meta,r=t.tokens_meta.length;ane(t,t.delimiters);for(let i=0;i<r;i++)e[i]&&e[i].delimiters&&ane(t,e[i].delimiters)}const khe={tokenize:Pqe,postProcess:Nqe};function $qe(t,e){const r=t.pos,i=t.src.charCodeAt(r);if(e||i!==95&&i!==42)return!1;const n=t.scanDelims(t.pos,i===42);for(let s=0;s<n.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(i),t.delimiters.push({marker:i,length:n.length,token:t.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return t.pos+=n.length,!0}function lne(t,e){const r=e.length;for(let i=r-1;i>=0;i--){const n=e[i];if(n.marker!==95&&n.marker!==42||n.end===-1)continue;const s=e[n.end],o=i>0&&e[i-1].end===n.end+1&&e[i-1].marker===n.marker&&e[i-1].token===n.token-1&&e[n.end+1].token===s.token+1,a=String.fromCharCode(n.marker),l=t.tokens[n.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?a+a:a,l.content="";const u=t.tokens[s.token];u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?a+a:a,u.content="",o&&(t.tokens[e[i-1].token].content="",t.tokens[e[n.end+1].token].content="",i--)}}function Bqe(t){const e=t.tokens_meta,r=t.tokens_meta.length;lne(t,t.delimiters);for(let i=0;i<r;i++)e[i]&&e[i].delimiters&&lne(t,e[i].delimiters)}const Ahe={tokenize:$qe,postProcess:Bqe};function jqe(t,e){let r,i,n,s,o="",a="",l=t.pos,u=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const h=t.pos,d=t.posMax,f=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let g=p+1;if(g<d&&t.src.charCodeAt(g)===40){for(u=!1,g++;g<d&&(r=t.src.charCodeAt(g),!(!cn(r)&&r!==10));g++);if(g>=d)return!1;if(l=g,n=t.md.helpers.parseLinkDestination(t.src,g,t.posMax),n.ok){for(o=t.md.normalizeLink(n.str),t.md.validateLink(o)?g=n.pos:o="",l=g;g<d&&(r=t.src.charCodeAt(g),!(!cn(r)&&r!==10));g++);if(n=t.md.helpers.parseLinkTitle(t.src,g,t.posMax),g<d&&l!==g&&n.ok)for(a=n.str,g=n.pos;g<d&&(r=t.src.charCodeAt(g),!(!cn(r)&&r!==10));g++);}(g>=d||t.src.charCodeAt(g)!==41)&&(u=!0),g++}if(u){if(typeof t.env.references>"u")return!1;if(g<d&&t.src.charCodeAt(g)===91?(l=g+1,g=t.md.helpers.parseLinkLabel(t,g),g>=0?i=t.src.slice(l,g++):g=p+1):g=p+1,i||(i=t.src.slice(f,p)),s=t.env.references[jx(i)],!s)return t.pos=h,!1;o=s.href,a=s.title}if(!e){t.pos=f,t.posMax=p;const y=t.push("link_open","a",1),b=[["href",o]];y.attrs=b,a&&b.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=g,t.posMax=d,!0}function zqe(t,e){let r,i,n,s,o,a,l,u,h="";const d=t.pos,f=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const p=t.pos+2,g=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(g<0)return!1;if(s=g+1,s<f&&t.src.charCodeAt(s)===40){for(s++;s<f&&(r=t.src.charCodeAt(s),!(!cn(r)&&r!==10));s++);if(s>=f)return!1;for(u=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(h=t.md.normalizeLink(a.str),t.md.validateLink(h)?s=a.pos:h=""),u=s;s<f&&(r=t.src.charCodeAt(s),!(!cn(r)&&r!==10));s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<f&&u!==s&&a.ok)for(l=a.str,s=a.pos;s<f&&(r=t.src.charCodeAt(s),!(!cn(r)&&r!==10));s++);else l="";if(s>=f||t.src.charCodeAt(s)!==41)return t.pos=d,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<f&&t.src.charCodeAt(s)===91?(u=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?n=t.src.slice(u,s++):s=g+1):s=g+1,n||(n=t.src.slice(p,g)),o=t.env.references[jx(n)],!o)return t.pos=d,!1;h=o.href,l=o.title}if(!e){i=t.src.slice(p,g);const y=[];t.md.inline.parse(i,t.md,t.env,y);const b=t.push("image","img",0),x=[["src",h],["alt",""]];b.attrs=x,b.children=y,b.content=i,l&&x.push(["title",l])}return t.pos=s,t.posMax=f,!0}const Uqe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,qqe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Hqe(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==60)return!1;const i=t.pos,n=t.posMax;for(;;){if(++r>=n)return!1;const o=t.src.charCodeAt(r);if(o===60)return!1;if(o===62)break}const s=t.src.slice(i+1,r);if(qqe.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}if(Uqe.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}return!1}function Vqe(t){return/^<a[>\s]/i.test(t)}function Gqe(t){return/^<\/a\s*>/i.test(t)}function Wqe(t){const e=t|32;return e>=97&&e<=122}function Yqe(t,e){if(!t.md.options.html)return!1;const r=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==60||i+2>=r)return!1;const n=t.src.charCodeAt(i+1);if(n!==33&&n!==63&&n!==47&&!Wqe(n))return!1;const s=t.src.slice(i).match(Eqe);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],Vqe(o.content)&&t.linkLevel++,Gqe(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const Zqe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Xqe=/^&([a-z][a-z0-9]{1,31});/i;function Kqe(t,e){const r=t.pos,i=t.posMax;if(t.src.charCodeAt(r)!==38||r+1>=i)return!1;if(t.src.charCodeAt(r+1)===35){const s=t.src.slice(r).match(Zqe);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0);a.content=ck(o)?p1(o):p1(65533),a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(r).match(Xqe);if(s){const o=vhe(s[0]);if(o!==s[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function une(t){const e={},r=t.length;if(!r)return;let i=0,n=-2;const s=[];for(let o=0;o<r;o++){const a=t[o];if(s.push(0),(t[i].marker!==a.marker||n!==a.token-1)&&(i=o),n=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let u=i-s[i]-1,h=u;for(;u>l;u-=s[u]+1){const d=t[u];if(d.marker===a.marker&&d.open&&d.end<0){let f=!1;if((d.close||a.open)&&(d.length+a.length)%3===0&&(d.length%3!==0||a.length%3!==0)&&(f=!0),!f){const p=u>0&&!t[u-1].open?s[u-1]+1:0;s[o]=o-u+p,s[u]=p,a.open=!1,d.end=o,d.close=!1,h=-1,n=-2;break}}}h!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=h)}}function Jqe(t){const e=t.tokens_meta,r=t.tokens_meta.length;une(t.delimiters);for(let i=0;i<r;i++)e[i]&&e[i].delimiters&&une(e[i].delimiters)}function Qqe(t){let e,r,i=0;const n=t.tokens,s=t.tokens.length;for(e=r=0;e<s;e++)n[e].nesting<0&&i--,n[e].level=i,n[e].nesting>0&&i++,n[e].type==="text"&&e+1<s&&n[e+1].type==="text"?n[e+1].content=n[e].content+n[e+1].content:(e!==r&&(n[r]=n[e]),r++);e!==r&&(n.length=r)}const s2=[["text",Lqe],["linkify",Mqe],["newline",Rqe],["escape",Iqe],["backticks",Fqe],["strikethrough",khe.tokenize],["emphasis",Ahe.tokenize],["link",jqe],["image",zqe],["autolink",Hqe],["html_inline",Yqe],["entity",Kqe]],o2=[["balance_pairs",Jqe],["strikethrough",khe.postProcess],["emphasis",Ahe.postProcess],["fragments_join",Qqe]];function yy(){this.ruler=new Uo;for(let t=0;t<s2.length;t++)this.ruler.push(s2[t][0],s2[t][1]);this.ruler2=new Uo;for(let t=0;t<o2.length;t++)this.ruler2.push(o2[t][0],o2[t][1])}yy.prototype.skipToken=function(t){const e=t.pos,r=this.ruler.getRules(""),i=r.length,n=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<n){for(let a=0;a<i;a++)if(t.level++,o=r[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};yy.prototype.tokenize=function(t){const e=this.ruler.getRules(""),r=e.length,i=t.posMax,n=t.md.options.maxNesting;for(;t.pos<i;){const s=t.pos;let o=!1;if(t.level<n){for(let a=0;a<r;a++)if(o=e[a](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};yy.prototype.parse=function(t,e,r,i){const n=new this.State(t,e,r,i);this.tokenize(n);const s=this.ruler2.getRules(""),o=s.length;for(let a=0;a<o;a++)s[a](n)};yy.prototype.State=gy;function eHe(t){const e={};t=t||{},e.src_Any=phe.source,e.src_Cc=mhe.source,e.src_Z=yhe.source,e.src_P=lk.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const r="[><｜]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function FE(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(i){t[i]=r[i]})}),t}function Ux(t){return Object.prototype.toString.call(t)}function tHe(t){return Ux(t)==="[object String]"}function rHe(t){return Ux(t)==="[object Object]"}function iHe(t){return Ux(t)==="[object RegExp]"}function cne(t){return Ux(t)==="[object Function]"}function nHe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const The={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function sHe(t){return Object.keys(t||{}).reduce(function(e,r){return e||The.hasOwnProperty(r)},!1)}const oHe={"http:":{validate:function(t,e,r){const i=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(i)?i.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){const i=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(i)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:i.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){const i=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(i)?i.match(r.re.mailto)[0].length:0}}},aHe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",lHe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function uHe(t){t.__index__=-1,t.__text_cache__=""}function cHe(t){return function(e,r){const i=e.slice(r);return t.test(i)?i.match(t)[0].length:0}}function dne(){return function(t,e){e.normalize(t)}}function m1(t){const e=t.re=eHe(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(aHe),r.push(e.src_xn),e.src_tlds=r.join("|");function i(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const n=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(t.__compiled__[a]=u,rHe(l)){iHe(l.validate)?u.validate=cHe(l.validate):cne(l.validate)?u.validate=l.validate:s(a,l),cne(l.normalize)?u.normalize=l.normalize:l.normalize?s(a,l):u.normalize=dne();return}if(tHe(l)){n.push(a);return}s(a,l)}),n.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:dne()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(nHe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),uHe(t)}function dHe(t,e){const r=t.__index__,i=t.__last_index__,n=t.__text_cache__.slice(r,i);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=i+e,this.raw=n,this.text=n,this.url=n}function PE(t,e){const r=new dHe(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function aa(t,e){if(!(this instanceof aa))return new aa(t,e);e||sHe(t)&&(e=t,t={}),this.__opts__=FE({},The,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=FE({},oHe,t),this.__compiled__={},this.__tlds__=lHe,this.__tlds_replaced__=!1,this.re={},m1(this)}aa.prototype.add=function(e,r){return this.__schemas__[e]=r,m1(this),this};aa.prototype.set=function(e){return this.__opts__=FE(this.__opts__,e),this};aa.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let r,i,n,s,o,a,l,u,h;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(r=l.exec(e))!==null;)if(s=this.testSchemaAt(e,r[2],l.lastIndex),s){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=i.index+i[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(h=e.indexOf("@"),h>=0&&(n=e.match(this.re.email_fuzzy))!==null&&(o=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};aa.prototype.pretest=function(e){return this.re.pretest.test(e)};aa.prototype.testSchemaAt=function(e,r,i){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,i,this):0};aa.prototype.match=function(e){const r=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(r.push(PE(this,i)),i=this.__last_index__);let n=i?e.slice(i):e;for(;this.test(n);)r.push(PE(this,i)),n=n.slice(this.__last_index__),i+=this.__last_index__;return r.length?r:null};aa.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const r=this.re.schema_at_start.exec(e);if(!r)return null;const i=this.testSchemaAt(e,r[2],r[0].length);return i?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+i,PE(this,0)):null};aa.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,n,s){return i!==s[n-1]}).reverse(),m1(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,m1(this),this)};aa.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};aa.prototype.onCompile=function(){};const Uf=2147483647,_l=36,fk=1,L0=26,hHe=38,fHe=700,Dhe=72,Lhe=128,Ohe="-",pHe=/^xn--/,mHe=/[^\0-\x7F]/,gHe=/[\x2E\u3002\uFF0E\uFF61]/g,yHe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},a2=_l-fk,wl=Math.floor,l2=String.fromCharCode;function oc(t){throw new RangeError(yHe[t])}function bHe(t,e){const r=[];let i=t.length;for(;i--;)r[i]=e(t[i]);return r}function Mhe(t,e){const r=t.split("@");let i="";r.length>1&&(i=r[0]+"@",t=r[1]),t=t.replace(gHe,".");const n=t.split("."),s=bHe(n,e).join(".");return i+s}function Rhe(t){const e=[];let r=0;const i=t.length;for(;r<i;){const n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){const s=t.charCodeAt(r++);(s&64512)==56320?e.push(((n&1023)<<10)+(s&1023)+65536):(e.push(n),r--)}else e.push(n)}return e}const vHe=t=>String.fromCodePoint(...t),xHe=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:_l},hne=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Ihe=function(t,e,r){let i=0;for(t=r?wl(t/fHe):t>>1,t+=wl(t/e);t>a2*L0>>1;i+=_l)t=wl(t/a2);return wl(i+(a2+1)*t/(t+hHe))},Fhe=function(t){const e=[],r=t.length;let i=0,n=Lhe,s=Dhe,o=t.lastIndexOf(Ohe);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&oc("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<r;){const l=i;for(let h=1,d=_l;;d+=_l){a>=r&&oc("invalid-input");const f=xHe(t.charCodeAt(a++));f>=_l&&oc("invalid-input"),f>wl((Uf-i)/h)&&oc("overflow"),i+=f*h;const p=d<=s?fk:d>=s+L0?L0:d-s;if(f<p)break;const g=_l-p;h>wl(Uf/g)&&oc("overflow"),h*=g}const u=e.length+1;s=Ihe(i-l,u,l==0),wl(i/u)>Uf-n&&oc("overflow"),n+=wl(i/u),i%=u,e.splice(i++,0,n)}return String.fromCodePoint(...e)},Phe=function(t){const e=[];t=Rhe(t);const r=t.length;let i=Lhe,n=0,s=Dhe;for(const l of t)l<128&&e.push(l2(l));const o=e.length;let a=o;for(o&&e.push(Ohe);a<r;){let l=Uf;for(const h of t)h>=i&&h<l&&(l=h);const u=a+1;l-i>wl((Uf-n)/u)&&oc("overflow"),n+=(l-i)*u,i=l;for(const h of t)if(h<i&&++n>Uf&&oc("overflow"),h===i){let d=n;for(let f=_l;;f+=_l){const p=f<=s?fk:f>=s+L0?L0:f-s;if(d<p)break;const g=d-p,y=_l-p;e.push(l2(hne(p+g%y,0))),d=wl(g/y)}e.push(l2(hne(d,0))),s=Ihe(n,u,a===o),n=0,++a}++n,++i}return e.join("")},_He=function(t){return Mhe(t,function(e){return pHe.test(e)?Fhe(e.slice(4).toLowerCase()):e})},wHe=function(t){return Mhe(t,function(e){return mHe.test(e)?"xn--"+Phe(e):e})},Nhe={version:"2.3.1",ucs2:{decode:Rhe,encode:vHe},decode:Fhe,encode:Phe,toASCII:wHe,toUnicode:_He},EHe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},SHe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},CHe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},kHe={default:EHe,zero:SHe,commonmark:CHe},AHe=/^(vbscript|javascript|file|data):/,THe=/^data:image\/(gif|png|jpeg|webp);/;function DHe(t){const e=t.trim().toLowerCase();return AHe.test(e)?THe.test(e):!0}const $he=["http:","https:","mailto:"];function LHe(t){const e=ak(t,!0);if(e.hostname&&(!e.protocol||$he.indexOf(e.protocol)>=0))try{e.hostname=Nhe.toASCII(e.hostname)}catch{}return my(ok(e))}function OHe(t){const e=ak(t,!0);if(e.hostname&&(!e.protocol||$he.indexOf(e.protocol)>=0))try{e.hostname=Nhe.toUnicode(e.hostname)}catch{}return ap(ok(e),ap.defaultChars+"%")}function Sa(t,e){if(!(this instanceof Sa))return new Sa(t,e);e||uk(t)||(e=t||{},t="default"),this.inline=new yy,this.block=new zx,this.core=new dk,this.renderer=new Np,this.linkify=new aa,this.validateLink=DHe,this.normalizeLink=LHe,this.normalizeLinkText=OHe,this.utils=RUe,this.helpers=Bx({},NUe),this.options={},this.configure(t),e&&this.set(e)}Sa.prototype.set=function(t){return Bx(this.options,t),this};Sa.prototype.configure=function(t){const e=this;if(uk(t)){const r=t;if(t=kHe[r],!t)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};Sa.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(n){r=r.concat(this[n].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(n){return r.indexOf(n)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Sa.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(n){r=r.concat(this[n].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(n){return r.indexOf(n)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Sa.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Sa.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};Sa.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Sa.prototype.parseInline=function(t,e){const r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};Sa.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};async function MHe(t){try{const e=await fetch(t);if(!e.ok)throw new Error("Network response was not ok");return await e.text()}catch(e){return console.error("There has been a problem with your fetch operation:",e),null}}const Bhe=/^<!-- ?\{(?:([a-z0-9]+)(\^[0-9]*)?: ?)?(.*)} ?-->\n?$/,RHe={li:["list_item"],ul:["bullet_list"],p:["paragraph"],ol:["ordered_list"],blockquote:["blockquote"],h1:["heading"],h2:["heading"],h3:["heading"],h4:["heading"],h5:["heading"],h6:["heading"],a:["link"],code:["code_inline","code_block","fence"]},jhe={hr:!0,image:!0},IHe={"eox-map":{tour:[["prevent-scroll",!0]]},img:{hero:[["position","center"],["data-parallax",!0]]},video:{hero:[["position","center"],["loop",!0],["muted",!0],["autoplay",!0],["data-parallax",!0]]}},FHe=["img","video"],u2={1:["0.0.0"]},PHe=["tour"],NHe=["iframe"];function zhe(){document.body.style.userSelect="none"}function $He(){document.body.style.userSelect=""}function BHe(t,e,r){t.target===e&&(zhe(),r.dragging=!0,r.lastX=t.clientX,r.lastY=t.clientY)}function jHe(t,e,r){if(r.dragging){let i=t.clientX-r.lastX,n=t.clientY-r.lastY,{top:s,left:o}=e.getBoundingClientRect();e.style.top=`${s+n}px`,e.style.left=`${o+i}px`,r.lastX=t.clientX,r.lastY=t.clientY}if(r.dragging||r.resizing){let i=r.lastX-t.clientX,n=t.clientY-r.lastY,{width:s,height:o,left:a,top:l}=e.getBoundingClientRect();r.resizing&&(e.style.width=`${s+i}px`,e.style.height=`${o+n}px`,e.style.top=`${l}px`),e.style.left=`${a-i}px`,r.lastX=t.clientX,r.lastY=t.clientY}}function zHe(t){$He(),t.dragging=!1,t.resizing=!1}function UHe(t,e){t.stopPropagation(),zhe(),e.resizing=!0,e.lastX=t.clientX,e.lastY=t.clientY}async function qHe(t,e,r){t.addEventListener("mousedown",i=>BHe(i,t,r)),window.addEventListener("mousemove",i=>jHe(i,t,r)),window.addEventListener("mouseup",()=>zHe(r)),e.addEventListener("mousedown",i=>UHe(i,r))}function HHe(t){const e=document.querySelector("eox-storytelling"),{y:r}=e.getBoundingClientRect(),i=t.querySelector(".editor-wrapper"),n=h=>Number(h.replace("px","")),s=window.getComputedStyle(i),o=n(s.bottom),a=n(s.padding)*2,l=i.classList.contains("partial-height")?80:0,u=window.innerHeight-r-o-a-l;i.style.height=`${u}px`}function VHe(t){const e=document.createElement("input");e.type="file",e.accept=".md",e.onchange=r=>{const i=r.target.files[0];if(!i)return;const n=new FileReader;n.onload=s=>{const o=s.target.result;t.value(o)},n.readAsText(i)},e.click()}function GHe(t){const e=t.value(),r=new Blob([e],{type:"text/markdown"}),i=URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download=`${document.title}.md`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function Uhe(t){const e=[];return t.forEach((r,i)=>{(r.startsWith("## ")||r.startsWith("# ")&&e.length)&&e.push(i)}),e}function fne(t,e,r,i,n,s){const o=t.split(`
`),a=s.shadowRoot||s,l=a.querySelector("eox-storytelling-editor"),h=Uhe(o)[e];if(i)if(n){const f=a.querySelector("eox-jsonform#storytelling-editor-fields").editor.getValue();Object.keys(f).forEach(p=>{const g=f[p];r=r.replaceAll(`{${p}}`,g)}),s.selectedCustomElement=null}else{s.selectedCustomElement={markdown:r,fields:i},s.requestUpdate();return}h>=0?o.splice(h,0,r):o.push(r),l.editor.editor.editors["root.Story"].setValue(o.join(`
`)),setTimeout(()=>{const d=a.querySelector(`div[data-section="${e+1}"]`);d&&window.scrollTo(0,d.offsetTop)},200),s.addCustomSectionIndex=-1,s.requestUpdate()}function WHe(t,e,r){let i=null;r==null||r.codemirror.on("change",function(){const n=t.querySelector(".editor-saver");n.innerText="Auto Saving...",i&&clearTimeout(i),i=setTimeout(()=>{n.innerText="Saved";const s=JSON.parse(localStorage.getItem("markdown")||"{}");localStorage.setItem("markdown",JSON.stringify({...s,[e||"default"]:r.value()})),i=null},2500)})}function YHe(t){var e;(e=(t.shadowRoot||t).querySelector(".CodeMirror-scroll"))==null||e.addEventListener("wheel",function(r){const i=r.deltaY,n=this.scrollHeight,s=this.clientHeight;(this.scrollTop===0&&i<0||this.scrollTop+s>=n&&i>0)&&r.preventDefault()},{passive:!1})}function ZHe(t){if(t.showEditor!==void 0){let e=JSON.parse(localStorage.getItem("markdown")||"{}");const r=t.id||"default",i=e[r];i&&i!==t.markdown&&(confirm("Recover your Story from the last time you edited?")?t.markdown=i:(delete e[r],localStorage.setItem("markdown",JSON.stringify(e))))}}function qhe(t){var e,r;if((r=(e=t.editor.editor)==null?void 0:e.editors)!=null&&r["root.Story"]){const i=t.editor.editor.editors["root.Story"].simplemde_instance;WHe(t,t.storyId,i),YHe(t)}else setTimeout(()=>qhe(t),100)}function Hhe(t){var r;t.renderRoot.querySelector(".editor-wrapper").classList.add("editor-opacity-none"),t.editor&&t.editor.editor&&t.editor.editor.ready&&((r=t.editor.editor)!=null&&r.editors["root.Story"].simplemde_instance)?t.querySelector(".switch-input").click():setTimeout(()=>Hhe(t),100)}const c2=(t,e,r,i,n)=>({name:t,action:n||function({codemirror:o}){const a=o.getCursor("start"),l=o.getCursor("end");o.replaceRange(e,a,l)},className:r,title:i}),XHe={properties:{Story:{type:"string",format:"markdown",options:{simplemde:{toolbar:["bold","italic","strikethrough","heading","|","unordered-list","ordered-list","link","|",c2("import",null,"fa fa-upload","Import Markdown File",VHe),c2("export",null,"fa fa-download","Export Markdown File",GHe),"|",c2("add-custom-section",null,"fa fa-plus","Add custom section",()=>{const t=document.querySelector("eox-storytelling"),e=t.markdown.split(`
`),r=Uhe(e);t&&(t.addCustomSectionIndex=r.length,t.requestUpdate())})],spellChecker:!1}}}}},KHe=`## What is Lorem Ipsum?
Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
`,JHe=`## Table <!--{ as="div" }-->
| Number | Random Name | Lorem Ipsum                                       |
|--------|-------------|---------------------------------------------------|
| 1      | Alice       | Lorem ipsum dolor sit amet, consectetur adipiscing |
| 2      | Bob         | elit. Sed do eiusmod tempor incididunt ut labore  |
| 3      | Charlie     | et dolore magna aliqua. Ut enim ad minim veniam,  |
| 4      | Dana        | quis nostrud exercitation ullamco laboris nisi ut |
| 5      | Eve         | aliquip ex ea commodo consequat. Duis aute irure  |
`,QHe=`## List <!--{ as="div" }-->
1. Lorem ipsum dolor sit amet, consectetur adipiscing elit. **Sed do eiusmod tempor** incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
2. _Duis aute irure_ dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. **Excepteur sint occaecat cupidatat** non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
3. **Lorem ipsum dolor sit amet,** consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. _Ut enim ad minim veniam, quis nostrud exercitation ullamco_ laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
4. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. **Excepteur sint occaecat cupidatat** non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. _Lorem ipsum dolor sit amet, consectetur adipiscing elit._ Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
5. _Ut enim ad minim veniam, quis nostrud_ exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. **Duis aute irure dolor** in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
6. **Excepteur sint occaecat cupidatat** non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. _Lorem ipsum dolor sit amet, consectetur adipiscing elit._ Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,eVe=`## {title} <!--{as="eox-map" style="width: 100%; height: 500px;" layers='{layers}' zoom="{zoom}" center=[{longitude},{latitude}] }-->
`,tVe={title:"Simple Map",type:"object",required:["title","layers"],properties:{title:{type:"string",default:"Map Example",format:"text"},layers:{type:"string",default:'[ { "type": "Tile", "properties": { "id": "TOPO-WMS" }, "source": { "type": "TileWMS", "url": "https://ows.mundialis.de/services/service", "params": { "LAYERS": "TOPO-WMS" } } } ]',format:"textarea"},zoom:{type:"integer",default:2,minimum:1,maximum:28,format:"number"},longitude:{type:"integer",default:15,format:"number"},latitude:{type:"integer",default:48,format:"number"}}},rVe=`## {title} <!--{ as="eox-map" mode="tour" }-->

### <!--{ layers='{layers}' center=[{longitude},{latitude}] zoom="{zoom}" animationOptions="{duration:500}" }-->
#### {tourTitle}
{description}
`,iVe={title:"Tour",type:"object",required:["title"],properties:{title:{type:"string",default:"Map Tour Example",format:"text"},layers:{title:"Layers (Tour 1)",type:"string",default:'[{"type":"Tile","properties":{"id":"osm"},"source":{"type":"OSM"}}]',format:"textarea"},zoom:{title:"Zoom (Tour 1)",type:"integer",default:5,minimum:1,maximum:28,format:"number"},longitude:{title:"Longitude (Tour 1)",type:"integer",default:15,format:"number"},latitude:{title:"Longitude (Tour 1)",type:"integer",default:48,format:"number"},tourTitle:{title:"Title (Tour 1)",type:"string",default:"Tour Title",format:"text"},description:{title:"Description (Tour 1)",type:"string",default:"Some description for tour 1",format:"text"}}},nVe=`## {title} <!--{as="img" src="{src}" style="width: 100%; height: 600px;"}-->
`,sVe={title:"Simple Image",type:"object",required:["title","src"],properties:{title:{type:"string",default:"Simple Image Example",format:"text"},src:{type:"string",default:"https://images.unsplash.com/photo-1461880234904-751a2f54f1c7?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",format:"text"}}},oVe=`# {title} <!--{ as="img" mode="hero" src="{src}" }-->
### {description} <!--{ style="font-size:1rem;opacity:0.7;margin-top:1rem;" }-->
`,aVe={title:"Hero Image",type:"object",required:["title","src"],properties:{title:{type:"string",default:"Hero Bg Image Example",format:"text"},src:{type:"string",default:"https://www.gstatic.com/prettyearth/assets/full/14617.jpg",format:"text"},description:{type:"string",default:"by EOX",format:"text"}}},lVe=`# {title} <!--{ as="video" mode="hero" src="{src}" }-->
#### {description} <!--{ style="font-size:1rem;opacity:0.7;margin-top:1rem;" }-->
`,uVe={title:"Hero Image",type:"object",required:["title","src"],properties:{title:{type:"string",default:"Hero Bg Video Example",format:"text"},src:{type:"string",default:"https://dlmultimedia.esa.int/download/public/videos/2023/06/010/2306_010_AR_EN.mp4",format:"text"},description:{type:"string",default:"by EOX",format:"text"}}},cVe=[{name:"Basic",elements:[{name:"Textual",id:"ele-textual",markdown:KHe,icon:"data:image/svg+xml,%3Csvg fill='none' viewBox='0 0 138 112' xmlns='http://www.w3.org/2000/svg'%3E%3Crect fill='%23f7f7f7' rx='4' height='112' width='138'/%3E%3Crect x='27' y='22' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='27' y='34' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='27' y='46' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='27' y='58' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='27' y='70' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='27' y='82' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3C/svg%3E"},{name:"Table",id:"ele-table",markdown:JHe,icon:"data:image/svg+xml,%3Csvg viewBox='0 0 137 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='137' height='112' rx='4' fill='%23f7f7f7'/%3E%3Crect x='26' y='22' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='26' y='34' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='26' y='46' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='26' y='58' width='84' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='26' y='73' width='84' height='14' rx='7' fill='%23D9D9D9'/%3E%3C/svg%3E%0A"},{name:"List",id:"ele-list",markdown:QHe,icon:"data:image/svg+xml,%3Csvg viewBox='0 0 138 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='138' height='112' rx='4' fill='%23f7f7f7'/%3E%3Crect x='38' y='22' width='73' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='38' y='34' width='73' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='38' y='46' width='73' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='38' y='58' width='73' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='38' y='70' width='73' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='38' y='82' width='73' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Ccircle cx='30.5' cy='25.5' r='3.5' fill='%23BFBFBF'/%3E%3Ccircle cx='30.5' cy='37.5' r='3.5' fill='%23BFBFBF'/%3E%3Ccircle cx='30.5' cy='49.5' r='3.5' fill='%23BFBFBF'/%3E%3Ccircle cx='30.5' cy='61.5' r='3.5' fill='%23BFBFBF'/%3E%3Ccircle cx='30.5' cy='73.5' r='3.5' fill='%23BFBFBF'/%3E%3Ccircle cx='30.5' cy='85.5' r='3.5' fill='%23BFBFBF'/%3E%3C/svg%3E%0A"}]},{name:"Map",elements:[{name:"Simple Map",id:"ele-simple-map",markdown:eVe,icon:"data:image/svg+xml,%3Csvg viewBox='0 0 138 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='138' height='112' rx='4' fill='%23f7f7f7'/%3E%3Crect x='11' y='11' width='116' height='90' rx='4' fill='%23ebebeb'/%3E%3Cpath d='M54.08 42.873L56.58 52.373C57.83 57.123 65.08 59.373 69.58 59.373C73.18 59.373 74.7467 63.0397 75.08 64.873C74.08 68.0397 73.48 74.373 79.08 74.373C84.68 74.373 85.08 70.7064 84.58 68.873L80.58 59.373C78.2467 56.5397 73.58 49.473 73.58 43.873C73.58 38.2729 69.9134 37.873 68.08 38.373C64.08 42.373 60.4134 40.0397 59.08 38.373C54.28 36.773 53.7467 40.7063 54.08 42.873Z' fill='%235E5E5E'/%3E%3Cpath d='M59.0891 62.4676C58.5923 65.8092 60.2794 68.2359 61.5214 68.4348C66.4893 71.7763 70.4738 69.4293 71.5088 68.4348C72.9992 66.5253 71.7634 63.0643 70.5214 62.4676C68.5343 62.945 64.5564 63.661 63.5214 62.4676C62.031 60.5581 60.0214 60.4641 59.0891 62.4676Z' fill='%235E5E5E'/%3E%3C/svg%3E%0A",fields:tVe},{name:"Tour",id:"ele-map-tour",markdown:rVe,icon:"data:image/svg+xml,%3Csvg viewBox='0 0 138 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='138' height='112' rx='4' fill='%23f7f7f7'/%3E%3Crect x='27' y='22' width='84' height='67' rx='4' fill='%23ebebeb'/%3E%3Cpath d='M65.08 35.873L67.58 45.373C68.83 50.123 76.08 52.373 80.58 52.373C84.18 52.373 85.7467 56.0397 86.08 57.873C85.08 61.0397 84.48 67.373 90.08 67.373C95.68 67.373 96.08 63.7064 95.58 61.873L91.58 52.373C89.2467 49.5397 84.58 42.473 84.58 36.873C84.58 31.2729 80.9134 30.873 79.08 31.373C75.08 35.373 71.4134 33.0397 70.08 31.373C65.28 29.773 64.7467 33.7063 65.08 35.873Z' fill='%235E5E5E'/%3E%3Cpath d='M70.0891 55.4676C69.5923 58.8092 71.2794 61.2359 72.5214 61.4348C77.4893 64.7763 81.4738 62.4293 82.5088 61.4348C83.9992 59.5253 82.7634 56.0643 81.5214 55.4676C79.5343 55.945 75.5564 56.661 74.5214 55.4676C73.031 53.5581 71.0214 53.4641 70.0891 55.4676Z' fill='%235E5E5E'/%3E%3Crect x='34' y='67' width='26' height='16' rx='2' fill='%23f7f7f7'/%3E%3C/svg%3E%0A",fields:iVe}]},{name:"Media",elements:[{name:"Simple",id:"ele-simple-media",markdown:nVe,icon:"data:image/svg+xml,%3Csvg viewBox='0 0 138 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='138' height='112' rx='4' fill='%23f7f7f7'/%3E%3Crect x='27' y='22' width='84' height='67' rx='4' fill='%23ebebeb'/%3E%3Cpath d='M69.5 39L73.2045 50.4012H85.1924L75.494 57.4476L79.1985 68.8488L69.5 61.8024L59.8015 68.8488L63.506 57.4476L53.8076 50.4012H65.7955L69.5 39Z' fill='%235E5E5E'/%3E%3C/svg%3E%0A",fields:sVe},{name:"Hero Image",id:"ele-hero-image",markdown:oVe,icon:"data:image/svg+xml,%3Csvg viewBox='0 0 138 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='138' height='112' rx='4' fill='%23f7f7f7'/%3E%3Crect x='11' y='11' width='116' height='90' rx='4' fill='%23ebebeb'/%3E%3Crect x='35' y='49' width='69' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='51' y='59' width='37' height='4' rx='2' fill='%23BEBEBE'/%3E%3C/svg%3E%0A",fields:aVe},{name:"Hero Video",id:"ele-hero-video",markdown:lVe,icon:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 138 112' fill='none'%3E%3Crect width='138' height='112' rx='4' fill='%23F2F2F2'/%3E%3Crect x='11' y='11' width='116' height='90' rx='4' fill='%23D8D8D8'/%3E%3Crect x='35' y='49' width='69' height='7' rx='3.5' fill='%235E5E5E'/%3E%3Crect x='51' y='59' width='37' height='4' rx='2' fill='%23BEBEBE'/%3E%3Cline x1='20.6233' y1='87.6712' x2='75.6233' y2='24.6712' stroke='%235E5E5E' stroke-opacity='0.1'/%3E%3Cline x1='64.6233' y1='87.6712' x2='119.623' y2='24.6712' stroke='%235E5E5E' stroke-opacity='0.1'/%3E%3C/svg%3E",fields:uVe}]}];var Vhe={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(oi,function(){function r(T){var $=function(W,K){if(typeof W!="object"||!W)return W;var ye=W[Symbol.toPrimitive];if(ye!==void 0){var xe=ye.call(W,K);if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(T,"string");return typeof $=="symbol"?$:$+""}function i(T){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(T)}function n(T,$){if(!(T instanceof $))throw new TypeError("Cannot call a class as a function")}function s(T,$){for(var W=0;W<$.length;W++){var K=$[W];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(T,r(K.key),K)}}function o(T,$,W){return $&&s(T.prototype,$),Object.defineProperty(T,"prototype",{writable:!1}),T}var a=Date.now();function l(){var T={},$=!0,W=0,K=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&($=arguments[0],W++);for(var ye=function(Me){for(var j in Me)Object.prototype.hasOwnProperty.call(Me,j)&&($&&Object.prototype.toString.call(Me[j])==="[object Object]"?T[j]=l(!0,T[j],Me[j]):T[j]=Me[j])};W<K;W++){var xe=arguments[W];ye(xe)}return T}function u(T,$){if((oe(T)||T===window||T===document)&&(T=[T]),F(T)||U(T)||(T=[T]),Q(T)!=0){if(F(T)&&!U(T))for(var W=T.length,K=0;K<W&&$.call(T[K],T[K],K,T)!==!1;K++);else if(U(T)){for(var ye in T)if(G(T,ye)&&$.call(T[ye],T[ye],ye,T)===!1)break}}}function h(T){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,K=T[a]=T[a]||[],ye={all:K,evt:null,found:null};return $&&W&&Q(K)>0&&u(K,function(xe,Me){if(xe.eventName==$&&xe.fn.toString()==W.toString())return ye.found=!0,ye.evt=Me,!1}),ye}function d(T){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=$.onElement,K=$.withCallback,ye=$.avoidDuplicate,xe=ye===void 0||ye,Me=$.once,j=Me!==void 0&&Me,te=$.useCapture,de=te!==void 0&&te,ce=arguments.length>2?arguments[2]:void 0,Ae=W||[];function Ce(Se){R(K)&&K.call(ce,Se,this),j&&Ce.destroy()}return V(Ae)&&(Ae=document.querySelectorAll(Ae)),Ce.destroy=function(){u(Ae,function(Se){var De=h(Se,T,Ce);De.found&&De.all.splice(De.evt,1),Se.removeEventListener&&Se.removeEventListener(T,Ce,de)})},u(Ae,function(Se){var De=h(Se,T,Ce);(Se.addEventListener&&xe&&!De.found||!xe)&&(Se.addEventListener(T,Ce,de),De.all.push({eventName:T,fn:Ce}))}),Ce}function f(T,$){u($.split(" "),function(W){return T.classList.add(W)})}function p(T,$){u($.split(" "),function(W){return T.classList.remove(W)})}function g(T,$){return T.classList.contains($)}function y(T,$){for(;T!==document.body;){if(!(T=T.parentElement))return!1;if(typeof T.matches=="function"?T.matches($):T.msMatchesSelector($))return T}}function b(T){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",W=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!T||$==="")return!1;if($==="none")return R(W)&&W(),!1;var K=O(),ye=$.split(" ");u(ye,function(xe){f(T,"g"+xe)}),d(K,{onElement:T,avoidDuplicate:!1,once:!0,withCallback:function(xe,Me){u(ye,function(j){p(Me,"g"+j)}),R(W)&&W()}})}function x(T){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if($==="")return T.style.webkitTransform="",T.style.MozTransform="",T.style.msTransform="",T.style.OTransform="",T.style.transform="",!1;T.style.webkitTransform=$,T.style.MozTransform=$,T.style.msTransform=$,T.style.OTransform=$,T.style.transform=$}function w(T){T.style.display="block"}function S(T){T.style.display="none"}function C(T){var $=document.createDocumentFragment(),W=document.createElement("div");for(W.innerHTML=T;W.firstChild;)$.appendChild(W.firstChild);return $}function k(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function O(){var T,$=document.createElement("fakeelement"),W={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(T in W)if($.style[T]!==void 0)return W[T]}function M(T,$,W,K){if(T())$();else{var ye;W||(W=100);var xe=setInterval(function(){T()&&(clearInterval(xe),ye&&clearTimeout(ye),$())},W)}}function A(T,$,W){if(Y(T))console.error("Inject assets error");else if(R($)&&(W=$,$=!1),V($)&&$ in window)R(W)&&W();else{var K;if(T.indexOf(".css")!==-1){if((K=document.querySelectorAll('link[href="'+T+'"]'))&&K.length>0)return void(R(W)&&W());var ye=document.getElementsByTagName("head")[0],xe=ye.querySelectorAll('link[rel="stylesheet"]'),Me=document.createElement("link");return Me.rel="stylesheet",Me.type="text/css",Me.href=T,Me.media="all",xe?ye.insertBefore(Me,xe[0]):ye.appendChild(Me),void(R(W)&&W())}if((K=document.querySelectorAll('script[src="'+T+'"]'))&&K.length>0){if(R(W)){if(V($))return M(function(){return window[$]!==void 0},function(){W()}),!1;W()}}else{var j=document.createElement("script");j.type="text/javascript",j.src=T,j.onload=function(){if(R(W)){if(V($))return M(function(){return window[$]!==void 0},function(){W()}),!1;W()}},document.body.appendChild(j)}}}function I(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function R(T){return typeof T=="function"}function V(T){return typeof T=="string"}function oe(T){return!(!T||!T.nodeType||T.nodeType!=1)}function L(T){return Array.isArray(T)}function F(T){return T&&T.length&&isFinite(T.length)}function U(T){return i(T)==="object"&&T!=null&&!R(T)&&!L(T)}function Y(T){return T==null}function G(T,$){return T!==null&&hasOwnProperty.call(T,$)}function Q(T){if(U(T)){if(T.keys)return T.keys().length;var $=0;for(var W in T)G(T,W)&&$++;return $}return T.length}function J(T){return!isNaN(parseFloat(T))&&isFinite(T)}function re(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,$=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!$.length)return!1;if($.length==1)return $[0];typeof T=="string"&&(T=parseInt(T));var W=[];u($,function(j){W.push(j.getAttribute("data-taborder"))});var K=Math.max.apply(Math,W.map(function(j){return parseInt(j)})),ye=T<0?1:T+1;ye>K&&(ye="1");var xe=W.filter(function(j){return j>=parseInt(ye)}),Me=xe.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(Me,'"]'))}function pe(T){if(T.events.hasOwnProperty("keyboard"))return!1;T.events.keyboard=d("keydown",{onElement:window,withCallback:function($,W){var K=($=$||window.event).keyCode;if(K==9){var ye=document.querySelector(".gbtn.focused");if(!ye){var xe=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(xe=="input"||xe=="textarea"||xe=="button")return}$.preventDefault();var Me=document.querySelectorAll(".gbtn[data-taborder]");if(!Me||Me.length<=0)return;if(!ye){var j=re();return void(j&&(j.focus(),f(j,"focused")))}var te=re(ye.getAttribute("data-taborder"));p(ye,"focused"),te&&(te.focus(),f(te,"focused"))}K==39&&T.nextSlide(),K==37&&T.prevSlide(),K==27&&T.close()}})}var ee=o(function T($,W){var K=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(n(this,T),this.img=$,this.slide=W,this.onclose=ye,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(xe){return K.dragStart(xe)},!1),this.img.addEventListener("mouseup",function(xe){return K.dragEnd(xe)},!1),this.img.addEventListener("mousemove",function(xe){return K.drag(xe)},!1),this.img.addEventListener("click",function(xe){return K.slide.classList.contains("dragging-nav")?(K.zoomOut(),!1):K.zoomedIn?void(K.zoomedIn&&!K.dragging&&K.zoomOut()):K.zoomIn()},!1),this.img.setZoomEvents=!0},[{key:"zoomIn",value:function(){var T=this.widowWidth();if(!(this.zoomedIn||T<=768)){var $=this.img;if($.setAttribute("data-style",$.getAttribute("style")),$.style.maxWidth=$.naturalWidth+"px",$.style.maxHeight=$.naturalHeight+"px",$.naturalWidth>T){var W=T/2-$.naturalWidth/2;this.setTranslate(this.img.parentNode,W,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&typeof this.onclose=="function"&&this.onclose()}},{key:"dragStart",value:function(T){T.preventDefault(),this.zoomedIn?(T.type==="touchstart"?(this.initialX=T.touches[0].clientX-this.xOffset,this.initialY=T.touches[0].clientY-this.yOffset):(this.initialX=T.clientX-this.xOffset,this.initialY=T.clientY-this.yOffset),T.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(T){var $=this;T.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){$.dragging=!1,$.img.isDragging=!1,$.img.classList.remove("dragging")},100)}},{key:"drag",value:function(T){this.active&&(T.preventDefault(),T.type==="touchmove"?(this.currentX=T.touches[0].clientX-this.initialX,this.currentY=T.touches[0].clientY-this.initialY):(this.currentX=T.clientX-this.initialX,this.currentY=T.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(T){if(this.zoomedIn){var $=T.clientX-this.img.naturalWidth/2,W=T.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,$,W)}}},{key:"setTranslate",value:function(T,$,W){T.style.transform="translate3d("+$+"px, "+W+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),B=o(function T(){var $=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(this,T);var K=W.dragEl,ye=W.toleranceX,xe=ye===void 0?40:ye,Me=W.toleranceY,j=Me===void 0?65:Me,te=W.slide,de=te===void 0?null:te,ce=W.instance,Ae=ce===void 0?null:ce;this.el=K,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=xe,this.toleranceY=j,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=de,this.instance=Ae,this.el.addEventListener("mousedown",function(Ce){return $.dragStart(Ce)},!1),this.el.addEventListener("mouseup",function(Ce){return $.dragEnd(Ce)},!1),this.el.addEventListener("mousemove",function(Ce){return $.drag(Ce)},!1)},[{key:"dragStart",value:function(T){if(this.slide.classList.contains("zoomed"))this.active=!1;else{T.type==="touchstart"?(this.initialX=T.touches[0].clientX-this.xOffset,this.initialY=T.touches[0].clientY-this.yOffset):(this.initialX=T.clientX-this.xOffset,this.initialY=T.clientY-this.yOffset);var $=T.target.nodeName.toLowerCase();T.target.classList.contains("nodrag")||y(T.target,".nodrag")||["input","select","textarea","button","a"].indexOf($)!==-1?this.active=!1:(T.preventDefault(),(T.target===this.el||$!=="img"&&y(T.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=y(T.target,".ginner-container")))}}},{key:"dragEnd",value:function(T){var $=this;T&&T.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,this.doSlideChange=="right"&&this.instance.prevSlide(),this.doSlideChange=="left"&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){$.instance.preventOutsideClick=!1,$.toleranceReached=!1,$.lastDirection=null,$.dragging=!1,$.el.isDragging=!1,$.el.classList.remove("dragging"),$.slide.classList.remove("dragging-nav"),$.dragContainer.style.transform="",$.dragContainer.style.transition=""},100)}},{key:"drag",value:function(T){if(this.active){T.preventDefault(),this.slide.classList.add("dragging-nav"),T.type==="touchmove"?(this.currentX=T.touches[0].clientX-this.initialX,this.currentY=T.touches[0].clientY-this.initialY):(this.currentX=T.clientX-this.initialX,this.currentY=T.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var $=Math.abs(this.currentX),W=Math.abs(this.currentY);if($>0&&$>=Math.abs(this.currentY)&&(!this.lastDirection||this.lastDirection=="x")){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var K=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&K&&(this.doSlideChange=K),this.instance.settings.dragAutoSnap&&K)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),K=="right"&&this.instance.prevSlide(),void(K=="left"&&this.instance.nextSlide())}if(this.toleranceY>0&&W>0&&W>=$&&(!this.lastDirection||this.lastDirection=="y")){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var ye=this.shouldClose();return!this.instance.settings.dragAutoSnap&&ye&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&ye&&this.instance.close())}}}},{key:"shouldChange",value:function(){var T=!1;if(Math.abs(this.currentX)>=this.toleranceX){var $=this.currentX>0?"right":"left";($=="left"&&this.slide!==this.slide.parentNode.lastChild||$=="right"&&this.slide!==this.slide.parentNode.firstChild)&&(T=$)}return T}},{key:"shouldClose",value:function(){var T=!1;return Math.abs(this.currentY)>=this.toleranceY&&(T=!0),T}},{key:"setTranslate",value:function(T,$,W){var K=arguments.length>3&&arguments[3]!==void 0&&arguments[3];T.style.transition=K?"all .2s ease":"",T.style.transform="translate3d(".concat($,"px, ").concat(W,"px, 0)")}}]);function ge(T,$,W,K){var ye=T.querySelector(".gslide-media"),xe=new Image,Me="gSlideTitle_"+W,j="gSlideDesc_"+W;xe.addEventListener("load",function(){R(K)&&K()},!1),xe.src=$.href,$.sizes!=""&&$.srcset!=""&&(xe.sizes=$.sizes,xe.srcset=$.srcset),xe.alt="",Y($.alt)||$.alt===""||(xe.alt=$.alt),$.title!==""&&xe.setAttribute("aria-labelledby",Me),$.description!==""&&xe.setAttribute("aria-describedby",j),$.hasOwnProperty("_hasCustomWidth")&&$._hasCustomWidth&&(xe.style.width=$.width),$.hasOwnProperty("_hasCustomHeight")&&$._hasCustomHeight&&(xe.style.height=$.height),ye.insertBefore(xe,ye.firstChild)}function ve(T,$,W,K){var ye=this,xe=T.querySelector(".ginner-container"),Me="gvideo"+W,j=T.querySelector(".gslide-media"),te=this.getAllPlayers();f(xe,"gvideo-container"),j.insertBefore(C('<div class="gvideo-wrapper"></div>'),j.firstChild);var de=T.querySelector(".gvideo-wrapper");A(this.settings.plyr.css,"Plyr");var ce=$.href,Ae=$==null?void 0:$.videoProvider,Ce=!1;j.style.maxWidth=$.width,A(this.settings.plyr.js,"Plyr",function(){if(!Ae&&ce.match(/vimeo\.com\/([0-9]*)/)&&(Ae="vimeo"),!Ae&&(ce.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||ce.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||ce.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||ce.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/))&&(Ae="youtube"),Ae==="local"||!Ae){Ae="local";var Se='<video id="'+Me+'" ';Se+='style="background:#000; max-width: '.concat($.width,';" '),Se+='preload="metadata" ',Se+='x-webkit-airplay="allow" ',Se+="playsinline ",Se+="controls ",Se+='class="gvideo-local">',Se+='<source src="'.concat(ce,'">'),Ce=C(Se+="</video>")}var De=Ce||C('<div id="'.concat(Me,'" data-plyr-provider="').concat(Ae,'" data-plyr-embed-id="').concat(ce,'"></div>'));f(de,"".concat(Ae,"-video gvideo")),de.appendChild(De),de.setAttribute("data-id",Me),de.setAttribute("data-index",W);var Ie=G(ye.settings.plyr,"config")?ye.settings.plyr.config:{},Ve=new Plyr("#"+Me,Ie);Ve.on("ready",function(ot){te[Me]=ot.detail.plyr,R(K)&&K()}),M(function(){return T.querySelector("iframe")&&T.querySelector("iframe").dataset.ready=="true"},function(){ye.resize(T)}),Ve.on("enterfullscreen",ze),Ve.on("exitfullscreen",ze)})}function ze(T){var $=y(T.target,".gslide-media");T.type==="enterfullscreen"&&f($,"fullscreen"),T.type==="exitfullscreen"&&p($,"fullscreen")}function it(T,$,W,K){var ye,xe=this,Me=T.querySelector(".gslide-media"),j=!(!G($,"href")||!$.href)&&$.href.split("#").pop().trim(),te=!(!G($,"content")||!$.content)&&$.content;if(te&&(V(te)&&(ye=C('<div class="ginlined-content">'.concat(te,"</div>"))),oe(te))){te.style.display=="none"&&(te.style.display="block");var de=document.createElement("div");de.className="ginlined-content",de.appendChild(te),ye=de}if(j){var ce=document.getElementById(j);if(!ce)return!1;var Ae=ce.cloneNode(!0);Ae.style.height=$.height,Ae.style.maxWidth=$.width,f(Ae,"ginlined-content"),ye=Ae}if(!ye)return console.error("Unable to append inline slide content",$),!1;Me.style.height=$.height,Me.style.width=$.width,Me.appendChild(ye),this.events["inlineclose"+j]=d("click",{onElement:Me.querySelectorAll(".gtrigger-close"),withCallback:function(Ce){Ce.preventDefault(),xe.close()}}),R(K)&&K()}function tt(T,$,W,K){var ye=T.querySelector(".gslide-media"),xe=function(Me){var j=Me.url,te=Me.allow,de=Me.callback,ce=Me.appendTo,Ae=document.createElement("iframe");return Ae.className="vimeo-video gvideo",Ae.src=j,Ae.style.width="100%",Ae.style.height="100%",te&&Ae.setAttribute("allow",te),Ae.onload=function(){Ae.onload=null,f(Ae,"node-ready"),R(de)&&de()},ce&&ce.appendChild(Ae),Ae}({url:$.href,callback:K});ye.parentNode.style.maxWidth=$.width,ye.parentNode.style.height=$.height,ye.appendChild(xe)}var Ne=o(function T(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(this,T),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},U($)&&(this.defaults=l(this.defaults,$))},[{key:"sourceType",value:function(T){var $=T;return(T=T.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)!==null?"image":T.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||T.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||T.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||T.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/)||T.match(/vimeo\.com\/([0-9]*)/)||T.match(/\.(mp4|ogg|webm|mov)/)!==null?"video":T.match(/\.(mp3|wav|wma|aac|ogg)/)!==null?"audio":T.indexOf("#")>-1&&$.split("#").pop().trim()!==""?"inline":T.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(T,$){var W=this,K=l({descPosition:$.descPosition},this.defaults);if(U(T)&&!oe(T)){G(T,"type")||(G(T,"content")&&T.content?T.type="inline":G(T,"href")&&(T.type=this.sourceType(T.href)));var ye=l(K,T);return this.setSize(ye,$),ye}var xe="",Me=T.getAttribute("data-glightbox"),j=T.nodeName.toLowerCase();if(j==="a"&&(xe=T.href),j==="img"&&(xe=T.src,K.alt=T.alt),K.href=xe,u(K,function(Se,De){G($,De)&&De!=="width"&&(K[De]=$[De]);var Ie=T.dataset[De];Y(Ie)||(K[De]=W.sanitizeValue(Ie))}),K.content&&(K.type="inline"),!K.type&&xe&&(K.type=this.sourceType(xe)),Y(Me)){if(!K.title&&j=="a"){var te=T.title;Y(te)||te===""||(K.title=te)}if(!K.title&&j=="img"){var de=T.alt;Y(de)||de===""||(K.title=de)}}else{var ce=[];u(K,function(Se,De){ce.push(";\\s?"+De)}),ce=ce.join("\\s?:|"),Me.trim()!==""&&u(K,function(Se,De){var Ie=Me,Ve=new RegExp("s?"+De+"s?:s?(.*?)("+ce+"s?:|$)"),ot=Ie.match(Ve);if(ot&&ot.length&&ot[1]){var lt=ot[1].trim().replace(/;\s*$/,"");K[De]=W.sanitizeValue(lt)}})}if(K.description&&K.description.substring(0,1)==="."){var Ae;try{Ae=document.querySelector(K.description).innerHTML}catch(Se){if(!(Se instanceof DOMException))throw Se}Ae&&(K.description=Ae)}if(!K.description){var Ce=T.querySelector(".glightbox-desc");Ce&&(K.description=Ce.innerHTML)}return this.setSize(K,$,T),this.slideConfig=K,K}},{key:"setSize",value:function(T,$){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,K=T.type=="video"?this.checkSize($.videosWidth):this.checkSize($.width),ye=this.checkSize($.height);return T.width=G(T,"width")&&T.width!==""?this.checkSize(T.width):K,T.height=G(T,"height")&&T.height!==""?this.checkSize(T.height):ye,W&&T.type=="image"&&(T._hasCustomWidth=!!W.dataset.width,T._hasCustomHeight=!!W.dataset.height),T}},{key:"checkSize",value:function(T){return J(T)?"".concat(T,"px"):T}},{key:"sanitizeValue",value:function(T){return T!=="true"&&T!=="false"?T:T==="true"}}]),Xe=o(function T($,W,K){n(this,T),this.element=$,this.instance=W,this.index=K},[{key:"setContent",value:function(){var T=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,W=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(g($,"loaded"))return!1;var K=this.instance.settings,ye=this.slideConfig,xe=I();R(K.beforeSlideLoad)&&K.beforeSlideLoad({index:this.index,slide:$,player:!1});var Me=ye.type,j=ye.descPosition,te=$.querySelector(".gslide-media"),de=$.querySelector(".gslide-title"),ce=$.querySelector(".gslide-desc"),Ae=$.querySelector(".gdesc-inner"),Ce=W,Se="gSlideTitle_"+this.index,De="gSlideDesc_"+this.index;if(R(K.afterSlideLoad)&&(Ce=function(){R(W)&&W(),K.afterSlideLoad({index:T.index,slide:$,player:T.instance.getSlidePlayerInstance(T.index)})}),ye.title==""&&ye.description==""?Ae&&Ae.parentNode.parentNode.removeChild(Ae.parentNode):(de&&ye.title!==""?(de.id=Se,de.innerHTML=ye.title):de.parentNode.removeChild(de),ce&&ye.description!==""?(ce.id=De,xe&&K.moreLength>0?(ye.smallDescription=this.slideShortDesc(ye.description,K.moreLength,K.moreText),ce.innerHTML=ye.smallDescription,this.descriptionEvents(ce,ye)):ce.innerHTML=ye.description):ce.parentNode.removeChild(ce),f(te.parentNode,"desc-".concat(j)),f(Ae.parentNode,"description-".concat(j))),f(te,"gslide-".concat(Me)),f($,"loaded"),Me!=="video"){if(Me!=="external")return Me==="inline"?(it.apply(this.instance,[$,ye,this.index,Ce]),void(ye.draggable&&new B({dragEl:$.querySelector(".gslide-inline"),toleranceX:K.dragToleranceX,toleranceY:K.dragToleranceY,slide:$,instance:this.instance}))):void(Me!=="image"?R(Ce)&&Ce():ge($,ye,this.index,function(){var Ie=$.querySelector("img");ye.draggable&&new B({dragEl:Ie,toleranceX:K.dragToleranceX,toleranceY:K.dragToleranceY,slide:$,instance:T.instance}),ye.zoomable&&Ie.naturalWidth>Ie.offsetWidth&&(f(Ie,"zoomable"),new ee(Ie,$,function(){T.instance.resize()})),R(Ce)&&Ce()}));tt.apply(this,[$,ye,this.index,Ce])}else ve.apply(this.instance,[$,ye,this.index,Ce])}},{key:"slideShortDesc",value:function(T){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,W=arguments.length>2&&arguments[2]!==void 0&&arguments[2],K=document.createElement("div");K.innerHTML=T;var ye=K.innerText,xe=W;if((T=ye.trim()).length<=$)return T;var Me=T.substr(0,$-1);return xe?(K=null,Me+'... <a href="#" class="desc-more">'+W+"</a>"):Me}},{key:"descriptionEvents",value:function(T,$){var W=this,K=T.querySelector(".desc-more");if(!K)return!1;d("click",{onElement:K,withCallback:function(ye,xe){ye.preventDefault();var Me=document.body,j=y(xe,".gslide-desc");if(!j)return!1;j.innerHTML=$.description,f(Me,"gdesc-open");var te=d("click",{onElement:[Me,y(j,".gslide-description")],withCallback:function(de,ce){de.target.nodeName.toLowerCase()!=="a"&&(p(Me,"gdesc-open"),f(Me,"gdesc-closed"),j.innerHTML=$.smallDescription,W.descriptionEvents(j,$),setTimeout(function(){p(Me,"gdesc-closed")},400),te.destroy())}})}})}},{key:"create",value:function(){return C(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){oe(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var T=new Ne(this.instance.settings.slideExtraAttributes);return this.slideConfig=T.parseConfig(this.element,this.instance.settings),this.slideConfig}}]);function nt(T){return Math.sqrt(T.x*T.x+T.y*T.y)}function vt(T,$){var W=function(K,ye){var xe=nt(K)*nt(ye);if(xe===0)return 0;var Me=function(j,te){return j.x*te.x+j.y*te.y}(K,ye)/xe;return Me>1&&(Me=1),Math.acos(Me)}(T,$);return function(K,ye){return K.x*ye.y-ye.x*K.y}(T,$)>0&&(W*=-1),180*W/Math.PI}var Dt=o(function T($){n(this,T),this.handlers=[],this.el=$},[{key:"add",value:function(T){this.handlers.push(T)}},{key:"del",value:function(T){T||(this.handlers=[]);for(var $=this.handlers.length;$>=0;$--)this.handlers[$]===T&&this.handlers.splice($,1)}},{key:"dispatch",value:function(){for(var T=0,$=this.handlers.length;T<$;T++){var W=this.handlers[T];typeof W=="function"&&W.apply(this.el,arguments)}}}]);function Rt(T,$){var W=new Dt(T);return W.add($),W}var Er=o(function T($,W){n(this,T),this.element=typeof $=="string"?document.querySelector($):$,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var K=function(){};this.rotate=Rt(this.element,W.rotate||K),this.touchStart=Rt(this.element,W.touchStart||K),this.multipointStart=Rt(this.element,W.multipointStart||K),this.multipointEnd=Rt(this.element,W.multipointEnd||K),this.pinch=Rt(this.element,W.pinch||K),this.swipe=Rt(this.element,W.swipe||K),this.tap=Rt(this.element,W.tap||K),this.doubleTap=Rt(this.element,W.doubleTap||K),this.longTap=Rt(this.element,W.longTap||K),this.singleTap=Rt(this.element,W.singleTap||K),this.pressMove=Rt(this.element,W.pressMove||K),this.twoFingerPressMove=Rt(this.element,W.twoFingerPressMove||K),this.touchMove=Rt(this.element,W.touchMove||K),this.touchEnd=Rt(this.element,W.touchEnd||K),this.touchCancel=Rt(this.element,W.touchCancel||K),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}},[{key:"start",value:function(T){if(T.touches)if(T.target&&T.target.nodeName&&["a","button","input"].indexOf(T.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",T.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=T.touches[0].pageX,this.y1=T.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(T,this.element),this.preTapPosition.x!==null&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var $=this.preV;if(T.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var W={x:T.touches[1].pageX-this.x1,y:T.touches[1].pageY-this.y1};$.x=W.x,$.y=W.y,this.pinchStartLen=nt($),this.multipointStart.dispatch(T,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){this.longTap.dispatch(T,this.element),this._preventTap=!0}).bind(this),750)}}},{key:"move",value:function(T){if(T.touches){var $=this.preV,W=T.touches.length,K=T.touches[0].pageX,ye=T.touches[0].pageY;if(this.isDoubleTap=!1,W>1){var xe=T.touches[1].pageX,Me=T.touches[1].pageY,j={x:T.touches[1].pageX-K,y:T.touches[1].pageY-ye};$.x!==null&&(this.pinchStartLen>0&&(T.zoom=nt(j)/this.pinchStartLen,this.pinch.dispatch(T,this.element)),T.angle=vt(j,$),this.rotate.dispatch(T,this.element)),$.x=j.x,$.y=j.y,this.x2!==null&&this.sx2!==null?(T.deltaX=(K-this.x2+xe-this.sx2)/2,T.deltaY=(ye-this.y2+Me-this.sy2)/2):(T.deltaX=0,T.deltaY=0),this.twoFingerPressMove.dispatch(T,this.element),this.sx2=xe,this.sy2=Me}else{if(this.x2!==null){T.deltaX=K-this.x2,T.deltaY=ye-this.y2;var te=Math.abs(this.x1-this.x2),de=Math.abs(this.y1-this.y2);(te>10||de>10)&&(this._preventTap=!0)}else T.deltaX=0,T.deltaY=0;this.pressMove.dispatch(T,this.element)}this.touchMove.dispatch(T,this.element),this._cancelLongTap(),this.x2=K,this.y2=ye,W>1&&T.preventDefault()}}},{key:"end",value:function(T){if(T.changedTouches){this._cancelLongTap();var $=this;T.touches.length<2&&(this.multipointEnd.dispatch(T,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(T.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){$.swipe.dispatch(T,$.element)},0)):(this.tapTimeout=setTimeout(function(){$._preventTap||$.tap.dispatch(T,$.element),$.isDoubleTap&&($.doubleTap.dispatch(T,$.element),$.isDoubleTap=!1)},0),$.isDoubleTap||($.singleTapTimeout=setTimeout(function(){$.singleTap.dispatch(T,$.element)},250))),this.touchEnd.dispatch(T,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(T){this.cancelAll(),this.touchCancel.dispatch(T,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(T,$,W,K){return Math.abs(T-$)>=Math.abs(W-K)?T-$>0?"Left":"Right":W-K>0?"Up":"Down"}},{key:"on",value:function(T,$){this[T]&&this[T].add($)}},{key:"off",value:function(T,$){this[T]&&this[T].del($)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]);function or(T){var $=function(){var Me,j=document.createElement("fakeelement"),te={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(Me in te)if(j.style[Me]!==void 0)return te[Me]}(),W=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,K=g(T,"gslide-media")?T:T.querySelector(".gslide-media"),ye=y(K,".ginner-container"),xe=T.querySelector(".gslide-description");W>769&&(K=ye),f(K,"greset"),x(K,"translate3d(0, 0, 0)"),d($,{onElement:K,once:!0,withCallback:function(Me,j){p(K,"greset")}}),K.style.opacity="",xe&&(xe.style.opacity="")}function di(T){if(T.events.hasOwnProperty("touch"))return!1;var $,W,K,ye=k(),xe=ye.width,Me=ye.height,j=!1,te=null,de=null,ce=null,Ae=!1,Ce=1,Se=1,De=!1,Ie=!1,Ve=null,ot=null,lt=null,$t=null,mt=0,zt=0,Ht=!1,Vt=!1,fr={},Yt={},ri=0,dn=0,hn=document.getElementById("glightbox-slider"),on=document.querySelector(".goverlay"),$s=new Er(hn,{touchStart:function(Sr){if(j=!0,(g(Sr.targetTouches[0].target,"ginner-container")||y(Sr.targetTouches[0].target,".gslide-desc")||Sr.targetTouches[0].target.nodeName.toLowerCase()=="a")&&(j=!1),y(Sr.targetTouches[0].target,".gslide-inline")&&!g(Sr.targetTouches[0].target.parentNode,"gslide-inline")&&(j=!1),j){if(Yt=Sr.targetTouches[0],fr.pageX=Sr.targetTouches[0].pageX,fr.pageY=Sr.targetTouches[0].pageY,ri=Sr.targetTouches[0].clientX,dn=Sr.targetTouches[0].clientY,te=T.activeSlide,de=te.querySelector(".gslide-media"),K=te.querySelector(".gslide-inline"),ce=null,g(de,"gslide-image")&&(ce=de.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(de=te.querySelector(".ginner-container")),p(on,"greset"),Sr.pageX>20&&Sr.pageX<window.innerWidth-20)return;Sr.preventDefault()}},touchMove:function(Sr){if(j&&(Yt=Sr.targetTouches[0],!De&&!Ie)){if(K&&K.offsetHeight>Me){var ai=fr.pageX-Yt.pageX;if(Math.abs(ai)<=13)return!1}Ae=!0;var hi,$r=Sr.targetTouches[0].clientX,pr=Sr.targetTouches[0].clientY,an=ri-$r,Ir=dn-pr;if(Math.abs(an)>Math.abs(Ir)?(Ht=!1,Vt=!0):(Vt=!1,Ht=!0),$=Yt.pageX-fr.pageX,mt=100*$/xe,W=Yt.pageY-fr.pageY,zt=100*W/Me,Ht&&ce&&(hi=1-Math.abs(W)/Me,on.style.opacity=hi,T.settings.touchFollowAxis&&(mt=0)),Vt&&(hi=1-Math.abs($)/xe,de.style.opacity=hi,T.settings.touchFollowAxis&&(zt=0)),!ce)return x(de,"translate3d(".concat(mt,"%, 0, 0)"));x(de,"translate3d(".concat(mt,"%, ").concat(zt,"%, 0)"))}},touchEnd:function(){if(j){if(Ae=!1,Ie||De)return lt=Ve,void($t=ot);var Sr=Math.abs(parseInt(zt)),ai=Math.abs(parseInt(mt));if(!(Sr>29&&ce))return Sr<29&&ai<25?(f(on,"greset"),on.style.opacity=1,or(de)):void 0;T.close()}},multipointEnd:function(){setTimeout(function(){De=!1},50)},multipointStart:function(){De=!0,Ce=Se||1},pinch:function(Sr){if(!ce||Ae)return!1;De=!0,ce.scaleX=ce.scaleY=Ce*Sr.zoom;var ai=Ce*Sr.zoom;if(Ie=!0,ai<=1)return Ie=!1,ai=1,$t=null,lt=null,Ve=null,ot=null,void ce.setAttribute("style","");ai>4.5&&(ai=4.5),ce.style.transform="scale3d(".concat(ai,", ").concat(ai,", 1)"),Se=ai},pressMove:function(Sr){if(Ie&&!De){var ai=Yt.pageX-fr.pageX,hi=Yt.pageY-fr.pageY;lt&&(ai+=lt),$t&&(hi+=$t),Ve=ai,ot=hi;var $r="translate3d(".concat(ai,"px, ").concat(hi,"px, 0)");Se&&($r+=" scale3d(".concat(Se,", ").concat(Se,", 1)")),x(ce,$r)}},swipe:function(Sr){if(!Ie)if(De)De=!1;else{if(Sr.direction=="Left"){if(T.index==T.elements.length-1)return or(de);T.nextSlide()}if(Sr.direction=="Right"){if(T.index==0)return or(de);T.prevSlide()}}}});T.events.touch=$s}var We=I(),he=I()!==null||document.createTouch!==void 0||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,ue=document.getElementsByTagName("html")[0],ae={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:`<div class="gslide">
    <div class="gslide-inner-content">
        <div class="ginner-container">
            <div class="gslide-media">
            </div>
            <div class="gslide-description">
                <div class="gdesc-inner">
                    <h4 class="gslide-title"></h4>
                    <div class="gslide-desc"></div>
                </div>
            </div>
        </div>
    </div>
</div>`,lightboxHTML:`<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="gloader visible"></div>
    <div class="goverlay"></div>
    <div class="gcontainer">
    <div id="glightbox-slider" class="gslider"></div>
    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>
    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>
    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>
</div>
</div>`},me=o(function T(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(this,T),this.customOptions=$,this.settings=l(ae,$),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1},[{key:"init",value:function(){var T=this,$=this.getSelector();$&&(this.baseEvents=d("click",{onElement:$,withCallback:function(W,K){W.preventDefault(),T.open(K)}})),this.elements=this.getElements()}},{key:"open",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.elements.length===0)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var W=J($)?$:this.settings.startAt;if(oe(T)){var K=T.getAttribute("data-gallery");K&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,K)),Y(W)&&(W=this.getElementIndex(T))<0&&(W=0)}J(W)||(W=0),this.build(),b(this.overlay,this.settings.openEffect==="none"?"none":this.settings.cssEfects.fade.in);var ye=document.body,xe=window.innerWidth-document.documentElement.clientWidth;if(xe>0){var Me=document.createElement("style");Me.type="text/css",Me.className="gcss-styles",Me.innerText=".gscrollbar-fixer {margin-right: ".concat(xe,"px}"),document.head.appendChild(Me),f(ye,"gscrollbar-fixer")}f(ye,"glightbox-open"),f(ue,"glightbox-open"),We&&(f(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(W,!0),this.elements.length===1?(f(this.prevButton,"glightbox-button-hidden"),f(this.nextButton,"glightbox-button-hidden")):(p(this.prevButton,"glightbox-button-hidden"),p(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),R(this.settings.onOpen)&&this.settings.onOpen(),he&&this.settings.touchNavigation&&di(this),this.settings.keyboardNavigation&&pe(this)}},{key:"openAt",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.open(null,T)}},{key:"showSlide",value:function(){var T=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0&&arguments[1];w(this.loader),this.index=parseInt($);var K=this.slidesContainer.querySelector(".current");K&&p(K,"current"),this.slideAnimateOut();var ye=this.slidesContainer.querySelectorAll(".gslide")[$];if(g(ye,"loaded"))this.slideAnimateIn(ye,W),S(this.loader);else{w(this.loader);var xe=this.elements[$],Me={index:this.index,slide:ye,slideNode:ye,slideConfig:xe.slideConfig,slideIndex:this.index,trigger:xe.node,player:null};this.trigger("slide_before_load",Me),xe.instance.setContent(ye,function(){S(T.loader),T.resize(),T.slideAnimateIn(ye,W),T.trigger("slide_after_load",Me)})}this.slideDescription=ye.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&g(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide($+1),this.preloadSlide($-1)),this.updateNavigationClasses(),this.activeSlide=ye}},{key:"preloadSlide",value:function(T){var $=this;if(T<0||T>this.elements.length-1||Y(this.elements[T]))return!1;var W=this.slidesContainer.querySelectorAll(".gslide")[T];if(g(W,"loaded"))return!1;var K=this.elements[T],ye=K.type,xe={index:T,slide:W,slideNode:W,slideConfig:K.slideConfig,slideIndex:T,trigger:K.node,player:null};this.trigger("slide_before_load",xe),ye==="video"||ye==="external"?setTimeout(function(){K.instance.setContent(W,function(){$.trigger("slide_after_load",xe)})},200):K.instance.setContent(W,function(){$.trigger("slide_after_load",xe)})}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var T=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(T<0||T>this.elements.length-1))return!1;T<0?T=this.elements.length-1:T>=this.elements.length&&(T=0),this.showSlide(T)}},{key:"insertSlide",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;$<0&&($=this.elements.length);var W=new Xe(T,this,$),K=W.getConfig(),ye=l({},K),xe=W.create(),Me=this.elements.length-1;ye.index=$,ye.node=!1,ye.instance=W,ye.slideConfig=K,this.elements.splice($,0,ye);var j=null,te=null;if(this.slidesContainer){if($>Me)this.slidesContainer.appendChild(xe);else{var de=this.slidesContainer.querySelectorAll(".gslide")[$];this.slidesContainer.insertBefore(xe,de)}(this.settings.preload&&this.index==0&&$==0||this.index-1==$||this.index+1==$)&&this.preloadSlide($),this.index===0&&$===0&&(this.index=1),this.updateNavigationClasses(),j=this.slidesContainer.querySelectorAll(".gslide")[$],te=this.getSlidePlayerInstance($),ye.slideNode=j}this.trigger("slide_inserted",{index:$,slide:j,slideNode:j,slideConfig:K,slideIndex:$,trigger:null,player:te}),R(this.settings.slideInserted)&&this.settings.slideInserted({index:$,slide:j,player:te})}},{key:"removeSlide",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;if(T<0||T>this.elements.length-1)return!1;var $=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[T];$&&(this.getActiveSlideIndex()==T&&(T==this.elements.length-1?this.prevSlide():this.nextSlide()),$.parentNode.removeChild($)),this.elements.splice(T,1),this.trigger("slide_removed",T),R(this.settings.slideRemoved)&&this.settings.slideRemoved(T)}},{key:"slideAnimateIn",value:function(T,$){var W=this,K=T.querySelector(".gslide-media"),ye=T.querySelector(".gslide-description"),xe={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:Y(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:Y(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},Me={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(K.offsetWidth>0&&ye&&(S(ye),ye.style.display=""),p(T,this.effectsClasses),$)b(T,this.settings.cssEfects[this.settings.openEffect].in,function(){W.settings.autoplayVideos&&W.slidePlayerPlay(T),W.trigger("slide_changed",{prev:xe,current:Me}),R(W.settings.afterSlideChange)&&W.settings.afterSlideChange.apply(W,[xe,Me])});else{var j=this.settings.slideEffect,te=j!=="none"?this.settings.cssEfects[j].in:j;this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(te=this.settings.cssEfects.slideBack.in),b(T,te,function(){W.settings.autoplayVideos&&W.slidePlayerPlay(T),W.trigger("slide_changed",{prev:xe,current:Me}),R(W.settings.afterSlideChange)&&W.settings.afterSlideChange.apply(W,[xe,Me])})}setTimeout(function(){W.resize(T)},100),f(T,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var T=this.prevActiveSlide;p(T,this.effectsClasses),f(T,"prev");var $=this.settings.slideEffect,W=$!=="none"?this.settings.cssEfects[$].out:$;this.slidePlayerPause(T),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:Y(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:Y(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),R(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(W=this.settings.cssEfects.slideBack.out),b(T,W,function(){var K=T.querySelector(".ginner-container"),ye=T.querySelector(".gslide-media"),xe=T.querySelector(".gslide-description");K.style.transform="",ye.style.transform="",p(ye,"greset"),ye.style.opacity="",xe&&(xe.style.opacity=""),p(T,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(T){var $="gvideo"+T,W=this.getAllPlayers();return!(!G(W,$)||!W[$])&&W[$]}},{key:"stopSlideVideo",value:function(T){if(oe(T)){var $=T.querySelector(".gvideo-wrapper");$&&(T=$.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var W=this.getSlidePlayerInstance(T);W&&W.playing&&W.pause()}},{key:"slidePlayerPause",value:function(T){if(oe(T)){var $=T.querySelector(".gvideo-wrapper");$&&(T=$.getAttribute("data-index"))}var W=this.getSlidePlayerInstance(T);W&&W.playing&&W.pause()}},{key:"playSlideVideo",value:function(T){if(oe(T)){var $=T.querySelector(".gvideo-wrapper");$&&(T=$.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var W=this.getSlidePlayerInstance(T);W&&!W.playing&&W.play()}},{key:"slidePlayerPlay",value:function(T){var $;if(!We||($=this.settings.plyr.config)!==null&&$!==void 0&&$.muted){if(oe(T)){var W=T.querySelector(".gvideo-wrapper");W&&(T=W.getAttribute("data-index"))}var K=this.getSlidePlayerInstance(T);K&&!K.playing&&(K.play(),this.settings.autofocusVideos&&K.elements.container.focus())}}},{key:"setElements",value:function(T){var $=this;this.settings.elements=!1;var W=[];T&&T.length&&u(T,function(K,ye){var xe=new Xe(K,$,ye),Me=xe.getConfig(),j=l({},Me);j.slideConfig=Me,j.instance=xe,j.index=ye,W.push(j)}),this.elements=W,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(u(this.elements,function(){var K=C($.settings.slideHTML);$.slidesContainer.appendChild(K)}),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(T){var $=!1;return u(this.elements,function(W,K){if(G(W,"node")&&W.node==T)return $=K,!0}),$}},{key:"getElements",value:function(){var T=this,$=[];this.elements=this.elements?this.elements:[],!Y(this.settings.elements)&&L(this.settings.elements)&&this.settings.elements.length&&u(this.settings.elements,function(K,ye){var xe=new Xe(K,T,ye),Me=xe.getConfig(),j=l({},Me);j.node=!1,j.index=ye,j.instance=xe,j.slideConfig=Me,$.push(j)});var W=!1;return this.getSelector()&&(W=document.querySelectorAll(this.getSelector())),W&&u(W,function(K,ye){var xe=new Xe(K,T,ye),Me=xe.getConfig(),j=l({},Me);j.node=K,j.index=ye,j.instance=xe,j.slideConfig=Me,j.gallery=K.getAttribute("data-gallery"),$.push(j)}),$}},{key:"getGalleryElements",value:function(T,$){return T.filter(function(W){return W.gallery==$})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&this.settings.selector.substring(0,5)=="data-"?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var T=[];for(var $ in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty($)){var W=this.settings.cssEfects[$];T.push("g".concat(W.in)),T.push("g".concat(W.out))}return T.join(" ")}},{key:"build",value:function(){var T=this;if(this.built)return!1;var $=document.body.childNodes,W=[];u($,function(de){de.parentNode==document.body&&de.nodeName.charAt(0)!=="#"&&de.hasAttribute&&!de.hasAttribute("aria-hidden")&&(W.push(de),de.setAttribute("aria-hidden","true"))});var K=G(this.settings.svg,"next")?this.settings.svg.next:"",ye=G(this.settings.svg,"prev")?this.settings.svg.prev:"",xe=G(this.settings.svg,"close")?this.settings.svg.close:"",Me=this.settings.lightboxHTML;Me=C(Me=(Me=(Me=Me.replace(/{nextSVG}/g,K)).replace(/{prevSVG}/g,ye)).replace(/{closeSVG}/g,xe)),document.body.appendChild(Me);var j=document.getElementById("glightbox-body");this.modal=j;var te=j.querySelector(".gclose");this.prevButton=j.querySelector(".gprev"),this.nextButton=j.querySelector(".gnext"),this.overlay=j.querySelector(".goverlay"),this.loader=j.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=W,this.events={},f(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&te&&(this.events.close=d("click",{onElement:te,withCallback:function(de,ce){de.preventDefault(),T.close()}})),te&&!this.settings.closeButton&&te.parentNode.removeChild(te),this.nextButton&&(this.events.next=d("click",{onElement:this.nextButton,withCallback:function(de,ce){de.preventDefault(),T.nextSlide()}})),this.prevButton&&(this.events.prev=d("click",{onElement:this.prevButton,withCallback:function(de,ce){de.preventDefault(),T.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=d("click",{onElement:j,withCallback:function(de,ce){T.preventOutsideClick||g(document.body,"glightbox-mobile")||y(de.target,".ginner-container")||y(de.target,".gbtn")||g(de.target,"gnext")||g(de.target,"gprev")||T.close()}})),u(this.elements,function(de,ce){T.slidesContainer.appendChild(de.instance.create()),de.slideNode=T.slidesContainer.querySelectorAll(".gslide")[ce]}),he&&f(document.body,"glightbox-touch"),this.events.resize=d("resize",{onElement:window,withCallback:function(){T.resize()}}),this.built=!0}},{key:"resize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if((T=T||this.activeSlide)&&!g(T,"zoomed")){var $=k(),W=T.querySelector(".gvideo-wrapper"),K=T.querySelector(".gslide-image"),ye=this.slideDescription,xe=$.width,Me=$.height;if(xe<=768?f(document.body,"glightbox-mobile"):p(document.body,"glightbox-mobile"),W||K){var j=!1;if(ye&&(g(ye,"description-bottom")||g(ye,"description-top"))&&!g(ye,"gabsolute")&&(j=!0),K){if(xe<=768)K.querySelector("img");else if(j){var te,de=ye.offsetHeight,ce=K.querySelector("img"),Ae=this.elements[this.index].node,Ce=(te=Ae.getAttribute("data-height"))!==null&&te!==void 0?te:"100vh";ce.setAttribute("style","max-height: calc(".concat(Ce," - ").concat(de,"px)")),ye.setAttribute("style","max-width: ".concat(ce.offsetWidth,"px;"))}}if(W){var Se=G(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!Se){var De=W.clientWidth,Ie=W.clientHeight,Ve=De/Ie;Se="".concat(De/Ve,":").concat(Ie/Ve)}var ot=Se.split(":"),lt=this.settings.videosWidth,$t=this.settings.videosWidth,mt=($t=J(lt)||lt.indexOf("px")!==-1?parseInt(lt):lt.indexOf("vw")!==-1?xe*parseInt(lt)/100:lt.indexOf("vh")!==-1?Me*parseInt(lt)/100:lt.indexOf("%")!==-1?xe*parseInt(lt)/100:parseInt(W.clientWidth))/(parseInt(ot[0])/parseInt(ot[1]));if(mt=Math.floor(mt),j&&(Me-=ye.offsetHeight),$t>xe||mt>Me||Me<mt&&xe>$t){var zt=W.offsetWidth,Ht=W.offsetHeight,Vt=Me/Ht,fr={width:zt*Vt,height:Ht*Vt};W.parentNode.setAttribute("style","max-width: ".concat(fr.width,"px")),j&&ye.setAttribute("style","max-width: ".concat(fr.width,"px;"))}else W.parentNode.style.maxWidth="".concat(lt),j&&ye.setAttribute("style","max-width: ".concat(lt,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var T=this.loop();p(this.nextButton,"disabled"),p(this.prevButton,"disabled"),this.index==0&&this.elements.length-1==0?(f(this.prevButton,"disabled"),f(this.nextButton,"disabled")):this.index!==0||T?this.index!==this.elements.length-1||T||f(this.nextButton,"disabled"):f(this.prevButton,"disabled")}},{key:"loop",value:function(){var T=G(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return T=G(this.settings,"loop")?this.settings.loop:T,T}},{key:"close",value:function(){var T=this;if(!this.lightboxOpen){if(this.events){for(var $ in this.events)this.events.hasOwnProperty($)&&this.events[$].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&u(this.bodyHiddenChildElms,function(W){W.removeAttribute("aria-hidden")}),f(this.modal,"glightbox-closing"),b(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.out),b(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(T.activeSlide=null,T.prevActiveSlideIndex=null,T.prevActiveSlide=null,T.built=!1,T.events){for(var W in T.events)T.events.hasOwnProperty(W)&&T.events[W].destroy();T.events=null}var K=document.body;p(ue,"glightbox-open"),p(K,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),T.modal.parentNode.removeChild(T.modal),T.trigger("close"),R(T.settings.onClose)&&T.settings.onClose();var ye=document.querySelector(".gcss-styles");ye&&ye.parentNode.removeChild(ye),T.lightboxOpen=!1,T.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(T,$){var W=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!T||!R($))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:T,once:W,callback:$})}},{key:"once",value:function(T,$){this.on(T,$,!0)}},{key:"trigger",value:function(T){var $=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,K=[];u(this.apiEvents,function(ye,xe){var Me=ye.evt,j=ye.once,te=ye.callback;Me==T&&(te(W),j&&K.push(xe))}),K.length&&u(K,function(ye){return $.apiEvents.splice(ye,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.3.0"}}]);return function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=new me(T);return $.init(),$}})})(Vhe);var dVe=Vhe.exports;const hVe=Ps(dVe);let d2=[],h2=[];function fVe(t,e,r,i){const s=new DOMParser().parseFromString(t,"text/html"),o=i.shadowRoot||i,a=!!(i.showNav&&i.nav.length);s.querySelectorAll("a").forEach(h=>h.target="_blank"),d2.forEach(h=>h==null?void 0:h.disconnect()),d2=[],h2.forEach(h=>h==null?void 0:h.disconnect()),h2=[],a&&i.nav.forEach(h=>{const d=new IntersectionObserver(f=>{f.forEach(p=>{const g=p.isIntersecting,y=p.target.getAttribute("id");g&&o.querySelectorAll(".navigation li").forEach(b=>{b.classList.contains(`nav-${y}`)?b.classList.add("active"):b.classList.remove("active")})})},{rootMargin:"-50% 0px"});setTimeout(()=>{const f=o.querySelector(`#${h.id}`);f&&(d.observe(f),d2.push(d))},200)}),Object.keys(e).forEach(h=>{const d=e[h];if(PHe.includes(d.mode)&&d.steps){const f=`${d.as}#${d.id}`,p=new IntersectionObserver(g=>{g.forEach(y=>{const b=y.isIntersecting,x=Number(y.target.getAttribute("key"));b&&pne(d,x,f,o)})});setTimeout(()=>{if(!o.querySelector(`#${h}`))return;o.querySelectorAll(`#${h} section-step`).forEach((b,x)=>{b.setAttribute("key",`${x}`),p.observe(b)}),h2.push(p),pne(d,0,f,o)},100)}});function u(){o.querySelectorAll(".story-telling .hero img, .story-telling .hero video").forEach(function(d){d.getAttribute("data-parallax")==="true"&&(d.style.transform="translateY("+d.getBoundingClientRect().top*.1+"px)")})}return window.removeEventListener("scroll",u),window.addEventListener("scroll",u),Array.from(s.body.childNodes).map(h=>pVe(h,r))}function pne(t,e,r,i){const n=i.querySelector(r);Object.keys(t.steps[e]).forEach(s=>{n[s]=t.steps[e][s]})}function pVe(t,e){if(t.nodeType===Node.ELEMENT_NODE&&t.querySelectorAll("*").forEach(i=>{/^[a-z]+(-[a-z0-9]+)*$/.test(i.tagName.toLowerCase())&&t.classList.contains("section-custom")&&Array.from(i.attributes).forEach(n=>i[n.name]=pk(i,n.name)),setTimeout(()=>e(i),100)}),t.querySelectorAll){const r=hVe({autoplayVideos:!0}),i=[];t.querySelectorAll("img").forEach(s=>{const o=s.getAttribute("mode");s.parentNode.tagName!=="A"&&o!=="hero"&&(s.style.cursor="zoom-in",s.addEventListener("click",()=>{r.open()}),i.push({type:"image",href:s.src}))}),r.setElements(i)}return t}function pk(t,e=void 0){const r=e?t.getAttribute(e):t;return Ghe(r)}function Ghe(t){let e;try{e=JSON.parse(t)}catch{!isNaN(t)&&t.trim()!==""?e=Number(t):t==="true"?e=!0:t==="false"?e=!1:e=t}return e}function mVe(t,e,r,i){const n=r.getBoundingClientRect(),s=(n.right+n.left)/2,o=25/2,a=e?n.top-o:void 0,l=e?n.top+o:void 0,u=n.bottom-o,h=n.bottom+o,d=s-o,f=s+o,{clientX:p,clientY:g}=t;if(p>=d&&p<=f&&(g>=u||g>=a)&&(g<=h||g<=l)&&i.showEditor!=="closed"){const b=e?g>=a&&g<=l:!1,x=Number(r.getAttribute("data-section"));i.addCustomSectionIndex=b?x-1:x,i.requestUpdate()}}function gVe(t,e,r,i,n){const s=new DOMParser;let o=-1;if(r&&e.length&&t.length){o=0;const a=`
    <div class="navigation">
      <div class="container">
        <ul>
          ${e.map(({id:u,title:h,state:d})=>d?`<li class="nav-${u}"><a href="#${u}">${h}</a></li>`:"").join("")}
        </ul>
      </div>
    </div>
  `,l=s.parseFromString(a,"text/html").body.firstChild;t[0].classList.contains("hero")&&(o=1),t.splice(o,0,l)}if(t.length){const a=o+1;t[a].classList.add("section-start"),t.slice(a).forEach((l,u)=>{if(l.classList.add("section-item"),l.setAttribute("data-section",`${u+1}`),i!==void 0){const h=l.classList.contains("section-start");l.addEventListener("click",function(d){mVe(d,h,this,n)})}})}return t}const yVe="@eox/storytelling",bVe="1.1.0",vVe="module",xVe={"@eox/eslint-config":"^1.0.0","@typescript-eslint/eslint-plugin":"^7.0.1","@typescript-eslint/parser":"^7.0.1","eslint-plugin-typescript":"^0.14.0",typescript:"^5.2.2",vite:"^5.0.2"},_Ve={npm:">=8.0.0",node:">=18.0.0"},wVe=["dist","test"],EVe="./dist/eox-storytelling.js",SVe={build:"vite build",watch:"vite build --watch",format:"prettier --write .",lint:"eslint --ext .js,.ts .","lint:fix":"eslint --ext .js,.ts . --fix",typecheck:"tsc"},CVe={"@sindresorhus/slugify":"^2.2.1",glightbox:"^3.3.0","isomorphic-dompurify":"^2.4.0",joi:"^17.12.3","js-yaml":"^4.1.0",lit:"^3.0.2","lodash.debounce":"^4.0.8","markdown-it":"^14.0.0"},Gb={name:yVe,version:bVe,type:vVe,devDependencies:xVe,engines:_Ve,files:wVe,main:EVe,scripts:SVe,dependencies:CVe};function kVe(t,e){(t.shadowRoot||t).querySelectorAll(e).forEach(r=>{r.addEventListener("click",i=>{i.preventDefault(),window.parent.location.hash=i.target.hash.replace("#",""),Whe(t)})})}function Whe(t){const e=window.parent.location.hash,r=e?t.shadowRoot.querySelector(e):null;r&&r.scrollIntoView({behavior:"smooth"})}function AVe(t){return{tagNameCheck:i=>i.match(new RegExp(/^[a-z]+(-[a-z0-9]+)*$/)),attributeNameCheck:i=>i.match(new RegExp(t.attrs.keys.join("|"))),allowCustomizedBuiltInElements:!0}}function TVe(){const t=document.createElement("style");t.innerHTML=`
      @import url("https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css");
    `,document.body.appendChild(t)}function f2(t){const e=t.split("-")[0].split(".").map(Number);let r=0;const i=1e3;for(let n=0;n<e.length;n++)r+=e[n]*Math.pow(i,e.length-n-1);return r}function DVe(t){const e=Number(Object.keys(u2).find(i=>u2[i].length===1)),r=u2[t];if(!t||!r)return console.warn(`Version not (or wrongly) specified in markdown frontmatter. Assuming latest markdown syntax version (v${e}).`),e;if(e===t)return t;{const i=[f2(r[0]),f2(r[1])],n=f2(Gb.version);return n>=i[0]&&n<=i[1]||console.error(`You are using an older or newer version of ${Gb.name} package, which is not compatible with the version defined in the markdown frontmatter. Please update the ${Gb.name} package to (>=${r[0]} and <=${r[1]}) or change the markdown syntax version to ${Gb.version}`),t}}var Yhe={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(self,()=>{return r={7629:(n,s,o)=>{const a=o(375),l=o(8571),u=o(9474),h=o(1687),d=o(8652),f=o(8160),p=o(3292),g=o(6354),y=o(8901),b=o(9708),x=o(6914),w=o(2294),S=o(6133),C=o(1152),k=o(8863),O=o(2036),M={Base:class{constructor(A){this.type=A,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new w.Ids,this._preferences=null,this._refs=new S.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return a(typeof b.describe=="function","Manifest functionality disabled"),b.describe(this)}allow(...A){return f.verifyFlat(A,"allow"),this._values(A,"_valids")}alter(A){a(A&&typeof A=="object"&&!Array.isArray(A),"Invalid targets argument"),a(!this._inRuleset(),"Cannot set alterations inside a ruleset");const I=this.clone();I.$_terms.alterations=I.$_terms.alterations||[];for(const R in A){const V=A[R];a(typeof V=="function","Alteration adjuster for",R,"must be a function"),I.$_terms.alterations.push({target:R,adjuster:V})}return I.$_temp.ruleset=!1,I}artifact(A){return a(A!==void 0,"Artifact cannot be undefined"),a(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",A)}cast(A){return a(A===!1||typeof A=="string","Invalid to value"),a(A===!1||this._definition.cast[A],"Type",this.type,"does not support casting to",A),this.$_setFlag("cast",A===!1?void 0:A)}default(A,I){return this._default("default",A,I)}description(A){return a(A&&typeof A=="string","Description must be a non-empty string"),this.$_setFlag("description",A)}empty(A){const I=this.clone();return A!==void 0&&(A=I.$_compile(A,{override:!1})),I.$_setFlag("empty",A,{clone:!1})}error(A){return a(A,"Missing error"),a(A instanceof Error||typeof A=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",A)}example(A,I={}){return a(A!==void 0,"Missing example"),f.assertOptions(I,["override"]),this._inner("examples",A,{single:!0,override:I.override})}external(A,I){return typeof A=="object"&&(a(!I,"Cannot combine options with description"),I=A.description,A=A.method),a(typeof A=="function","Method must be a function"),a(I===void 0||I&&typeof I=="string","Description must be a non-empty string"),this._inner("externals",{method:A,description:I},{single:!0})}failover(A,I){return this._default("failover",A,I)}forbidden(){return this.presence("forbidden")}id(A){return A?(a(typeof A=="string","id must be a non-empty string"),a(/^[^\.]+$/.test(A),"id cannot contain period character"),this.$_setFlag("id",A)):this.$_setFlag("id",void 0)}invalid(...A){return this._values(A,"_invalids")}label(A){return a(A&&typeof A=="string","Label name must be a non-empty string"),this.$_setFlag("label",A)}meta(A){return a(A!==void 0,"Meta cannot be undefined"),this._inner("metas",A,{single:!0})}note(...A){a(A.length,"Missing notes");for(const I of A)a(I&&typeof I=="string","Notes must be non-empty strings");return this._inner("notes",A)}only(A=!0){return a(typeof A=="boolean","Invalid mode:",A),this.$_setFlag("only",A)}optional(){return this.presence("optional")}prefs(A){a(A,"Missing preferences"),a(A.context===void 0,"Cannot override context"),a(A.externals===void 0,"Cannot override externals"),a(A.warnings===void 0,"Cannot override warnings"),a(A.debug===void 0,"Cannot override debug"),f.checkPreferences(A);const I=this.clone();return I._preferences=f.preferences(I._preferences,A),I}presence(A){return a(["optional","required","forbidden"].includes(A),"Unknown presence mode",A),this.$_setFlag("presence",A)}raw(A=!0){return this.$_setFlag("result",A?"raw":void 0)}result(A){return a(["raw","strip"].includes(A),"Unknown result mode",A),this.$_setFlag("result",A)}required(){return this.presence("required")}strict(A){const I=this.clone(),R=A!==void 0&&!A;return I._preferences=f.preferences(I._preferences,{convert:R}),I}strip(A=!0){return this.$_setFlag("result",A?"strip":void 0)}tag(...A){a(A.length,"Missing tags");for(const I of A)a(I&&typeof I=="string","Tags must be non-empty strings");return this._inner("tags",A)}unit(A){return a(A&&typeof A=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",A)}valid(...A){f.verifyFlat(A,"valid");const I=this.allow(...A);return I.$_setFlag("only",!!I._valids,{clone:!1}),I}when(A,I){const R=this.clone();R.$_terms.whens||(R.$_terms.whens=[]);const V=p.when(R,A,I);if(!["any","link"].includes(R.type)){const oe=V.is?[V]:V.switch;for(const L of oe)a(!L.then||L.then.type==="any"||L.then.type===R.type,"Cannot combine",R.type,"with",L.then&&L.then.type),a(!L.otherwise||L.otherwise.type==="any"||L.otherwise.type===R.type,"Cannot combine",R.type,"with",L.otherwise&&L.otherwise.type)}return R.$_terms.whens.push(V),R.$_mutateRebuild()}cache(A){a(!this._inRuleset(),"Cannot set caching inside a ruleset"),a(!this._cache,"Cannot override schema cache"),a(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const I=this.clone();return I._cache=A||d.provider.provision(),I.$_temp.ruleset=!1,I}clone(){const A=Object.create(Object.getPrototypeOf(this));return this._assign(A)}concat(A){a(f.isSchema(A),"Invalid schema object"),a(this.type==="any"||A.type==="any"||A.type===this.type,"Cannot merge type",this.type,"with another type:",A.type),a(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),a(!A._inRuleset(),"Cannot concatenate a schema with open ruleset");let I=this.clone();if(this.type==="any"&&A.type!=="any"){const R=A.clone();for(const V of Object.keys(I))V!=="type"&&(R[V]=I[V]);I=R}I._ids.concat(A._ids),I._refs.register(A,S.toSibling),I._preferences=I._preferences?f.preferences(I._preferences,A._preferences):A._preferences,I._valids=O.merge(I._valids,A._valids,A._invalids),I._invalids=O.merge(I._invalids,A._invalids,A._valids);for(const R of A._singleRules.keys())I._singleRules.has(R)&&(I._rules=I._rules.filter(V=>V.keep||V.name!==R),I._singleRules.delete(R));for(const R of A._rules)A._definition.rules[R.method].multi||I._singleRules.set(R.name,R),I._rules.push(R);if(I._flags.empty&&A._flags.empty){I._flags.empty=I._flags.empty.concat(A._flags.empty);const R=Object.assign({},A._flags);delete R.empty,h(I._flags,R)}else if(A._flags.empty){I._flags.empty=A._flags.empty;const R=Object.assign({},A._flags);delete R.empty,h(I._flags,R)}else h(I._flags,A._flags);for(const R in A.$_terms){const V=A.$_terms[R];V?I.$_terms[R]?I.$_terms[R]=I.$_terms[R].concat(V):I.$_terms[R]=V.slice():I.$_terms[R]||(I.$_terms[R]=V)}return this.$_root._tracer&&this.$_root._tracer._combine(I,[this,A]),I.$_mutateRebuild()}extend(A){return a(!A.base,"Cannot extend type with another base"),y.type(this,A)}extract(A){return A=Array.isArray(A)?A:A.split("."),this._ids.reach(A)}fork(A,I){a(!this._inRuleset(),"Cannot fork inside a ruleset");let R=this;for(let V of[].concat(A))V=Array.isArray(V)?V:V.split("."),R=R._ids.fork(V,I,R);return R.$_temp.ruleset=!1,R}rule(A){const I=this._definition;f.assertOptions(A,Object.keys(I.modifiers)),a(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const R=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;a(R>=0&&R<this._rules.length,"Cannot apply rules to empty ruleset");const V=this.clone();for(let oe=R;oe<V._rules.length;++oe){const L=V._rules[oe],F=l(L);for(const U in A)I.modifiers[U](F,A[U]),a(F.name===L.name,"Cannot change rule name");V._rules[oe]=F,V._singleRules.get(F.name)===L&&V._singleRules.set(F.name,F)}return V.$_temp.ruleset=!1,V.$_mutateRebuild()}get ruleset(){a(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const A=this.clone();return A.$_temp.ruleset=A._rules.length,A}get $(){return this.ruleset}tailor(A){A=[].concat(A),a(!this._inRuleset(),"Cannot tailor inside a ruleset");let I=this;if(this.$_terms.alterations)for(const{target:R,adjuster:V}of this.$_terms.alterations)A.includes(R)&&(I=V(I),a(f.isSchema(I),"Alteration adjuster for",R,"failed to return a schema object"));return I=I.$_modify({each:R=>R.tailor(A),ref:!1}),I.$_temp.ruleset=!1,I.$_mutateRebuild()}tracer(){return C.location?C.location(this):this}validate(A,I){return k.entry(A,this,I)}validateAsync(A,I){return k.entryAsync(A,this,I)}$_addRule(A){typeof A=="string"&&(A={name:A}),a(A&&typeof A=="object","Invalid options"),a(A.name&&typeof A.name=="string","Invalid rule name");for(const L in A)a(L[0]!=="_","Cannot set private rule properties");const I=Object.assign({},A);I._resolve=[],I.method=I.method||I.name;const R=this._definition.rules[I.method],V=I.args;a(R,"Unknown rule",I.method);const oe=this.clone();if(V){a(Object.keys(V).length===1||Object.keys(V).length===this._definition.rules[I.name].args.length,"Invalid rule definition for",this.type,I.name);for(const L in V){let F=V[L];if(R.argsByName){const U=R.argsByName.get(L);if(U.ref&&f.isResolvable(F))I._resolve.push(L),oe.$_mutateRegister(F);else if(U.normalize&&(F=U.normalize(F),V[L]=F),U.assert){const Y=f.validateArg(F,L,U);a(!Y,Y,"or reference")}}F!==void 0?V[L]=F:delete V[L]}}return R.multi||(oe._ruleRemove(I.name,{clone:!1}),oe._singleRules.set(I.name,I)),oe.$_temp.ruleset===!1&&(oe.$_temp.ruleset=null),R.priority?oe._rules.unshift(I):oe._rules.push(I),oe}$_compile(A,I){return p.schema(this.$_root,A,I)}$_createError(A,I,R,V,oe,L={}){const F=L.flags!==!1?this._flags:{},U=L.messages?x.merge(this._definition.messages,L.messages):this._definition.messages;return new g.Report(A,I,R,F,U,V,oe)}$_getFlag(A){return this._flags[A]}$_getRule(A){return this._singleRules.get(A)}$_mapLabels(A){return A=Array.isArray(A)?A:A.split("."),this._ids.labels(A)}$_match(A,I,R,V){(R=Object.assign({},R)).abortEarly=!0,R._externals=!1,I.snapshot();const oe=!k.validate(A,this,I,R,V).errors;return I.restore(),oe}$_modify(A){return f.assertOptions(A,["each","once","ref","schema"]),w.schema(this,A)||this}$_mutateRebuild(){return a(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(A,{source:I,name:R,path:V,key:oe})=>{const L=this._definition[I][R]&&this._definition[I][R].register;L!==!1&&this.$_mutateRegister(A,{family:L,key:oe})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(A,{family:I,key:R}={}){this._refs.register(A,I),this._ids.register(A,{key:R})}$_property(A){return this._definition.properties[A]}$_reach(A){return this._ids.reach(A)}$_rootReferences(){return this._refs.roots()}$_setFlag(A,I,R={}){a(A[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const V=this._definition.flags[A]||{};if(u(I,V.default)&&(I=void 0),u(I,this._flags[A]))return this;const oe=R.clone!==!1?this.clone():this;return I!==void 0?(oe._flags[A]=I,oe.$_mutateRegister(I)):delete oe._flags[A],A[0]!=="_"&&(oe.$_temp.ruleset=!1),oe}$_parent(A,...I){return this[A][f.symbols.parent].call(this,...I)}$_validate(A,I,R){return k.validate(A,this,I,R)}_assign(A){A.type=this.type,A.$_root=this.$_root,A.$_temp=Object.assign({},this.$_temp),A.$_temp.whens={},A._ids=this._ids.clone(),A._preferences=this._preferences,A._valids=this._valids&&this._valids.clone(),A._invalids=this._invalids&&this._invalids.clone(),A._rules=this._rules.slice(),A._singleRules=l(this._singleRules,{shallow:!0}),A._refs=this._refs.clone(),A._flags=Object.assign({},this._flags),A._cache=null,A.$_terms={};for(const I in this.$_terms)A.$_terms[I]=this.$_terms[I]?this.$_terms[I].slice():null;A.$_super={};for(const I in this.$_super)A.$_super[I]=this._super[I].bind(A);return A}_bare(){const A=this.clone();A._reset();const I=A._definition.terms;for(const R in I){const V=I[R];A.$_terms[R]=V.init}return A.$_mutateRebuild()}_default(A,I,R={}){return f.assertOptions(R,"literal"),a(I!==void 0,"Missing",A,"value"),a(typeof I=="function"||!R.literal,"Only function value supports literal option"),typeof I=="function"&&R.literal&&(I={[f.symbols.literal]:!0,literal:I}),this.$_setFlag(A,I)}_generate(A,I,R){if(!this.$_terms.whens)return{schema:this};const V=[],oe=[];for(let U=0;U<this.$_terms.whens.length;++U){const Y=this.$_terms.whens[U];if(Y.concat){V.push(Y.concat),oe.push(`${U}.concat`);continue}const G=Y.ref?Y.ref.resolve(A,I,R):A,Q=Y.is?[Y]:Y.switch,J=oe.length;for(let re=0;re<Q.length;++re){const{is:pe,then:ee,otherwise:B}=Q[re],ge=`${U}${Y.switch?"."+re:""}`;if(pe.$_match(G,I.nest(pe,`${ge}.is`),R)){if(ee){const ve=I.localize([...I.path,`${ge}.then`],I.ancestors,I.schemas),{schema:ze,id:it}=ee._generate(A,ve,R);V.push(ze),oe.push(`${ge}.then${it?`(${it})`:""}`);break}}else if(B){const ve=I.localize([...I.path,`${ge}.otherwise`],I.ancestors,I.schemas),{schema:ze,id:it}=B._generate(A,ve,R);V.push(ze),oe.push(`${ge}.otherwise${it?`(${it})`:""}`);break}}if(Y.break&&oe.length>J)break}const L=oe.join(", ");if(I.mainstay.tracer.debug(I,"rule","when",L),!L)return{schema:this};if(!I.mainstay.tracer.active&&this.$_temp.whens[L])return{schema:this.$_temp.whens[L],id:L};let F=this;this._definition.generate&&(F=this._definition.generate(this,A,I,R));for(const U of V)F=F.concat(U);return this.$_root._tracer&&this.$_root._tracer._combine(F,[this,...V]),this.$_temp.whens[L]=F,{schema:F,id:L}}_inner(A,I,R={}){a(!this._inRuleset(),`Cannot set ${A} inside a ruleset`);const V=this.clone();return V.$_terms[A]&&!R.override||(V.$_terms[A]=[]),R.single?V.$_terms[A].push(I):V.$_terms[A].push(...I),V.$_temp.ruleset=!1,V}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(A,I={}){if(!this._singleRules.has(A))return this;const R=I.clone!==!1?this.clone():this;R._singleRules.delete(A);const V=[];for(let oe=0;oe<R._rules.length;++oe){const L=R._rules[oe];L.name!==A||L.keep?V.push(L):R._inRuleset()&&oe<R.$_temp.ruleset&&--R.$_temp.ruleset}return R._rules=V,R}_values(A,I){f.verifyFlat(A,I.slice(1,-1));const R=this.clone(),V=A[0]===f.symbols.override;if(V&&(A=A.slice(1)),!R[I]&&A.length?R[I]=new O:V&&(R[I]=A.length?new O:null,R.$_mutateRebuild()),!R[I])return R;V&&R[I].override();for(const oe of A){a(oe!==void 0,"Cannot call allow/valid/invalid with undefined"),a(oe!==f.symbols.override,"Override must be the first value");const L=I==="_invalids"?"_valids":"_invalids";R[L]&&(R[L].remove(oe),R[L].length||(a(I==="_valids"||!R._flags.only,"Setting invalid value",oe,"leaves schema rejecting all values due to previous valid rule"),R[L]=null)),R[I].add(oe,R._refs)}return R}}};M.Base.prototype[f.symbols.any]={version:f.version,compile:p.compile,root:"$_root"},M.Base.prototype.isImmutable=!0,M.Base.prototype.deny=M.Base.prototype.invalid,M.Base.prototype.disallow=M.Base.prototype.invalid,M.Base.prototype.equal=M.Base.prototype.valid,M.Base.prototype.exist=M.Base.prototype.required,M.Base.prototype.not=M.Base.prototype.invalid,M.Base.prototype.options=M.Base.prototype.prefs,M.Base.prototype.preferences=M.Base.prototype.prefs,n.exports=new M.Base},8652:(n,s,o)=>{const a=o(375),l=o(8571),u=o(8160),h={max:1e3,supported:new Set(["undefined","boolean","number","string"])};s.provider={provision:d=>new h.Cache(d)},h.Cache=class{constructor(d={}){u.assertOptions(d,["max"]),a(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||h.max,this._map=new Map,this._list=new h.List}get length(){return this._map.size}set(d,f){if(d!==null&&!h.supported.has(typeof d))return;let p=this._map.get(d);if(p)return p.value=f,void this._list.first(p);p=this._list.unshift({key:d,value:f}),this._map.set(d,p),this._compact()}get(d){const f=this._map.get(d);if(f)return this._list.first(f),l(f.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},h.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:f,prev:p}=d;return f.prev=p,p&&(p.next=f),d===this.tail&&(this.tail=f),d.prev=null,d.next=null,d}}},8160:(n,s,o)=>{const a=o(375),l=o(7916),u=o(5934);let h,d;const f={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};s.version=u.version,s.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},s.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},s.assertOptions=function(p,g,y="Options"){a(p&&typeof p=="object"&&!Array.isArray(p),"Options must be of type object");const b=Object.keys(p).filter(x=>!g.includes(x));a(b.length===0,`${y} contain unknown keys: ${b}`)},s.checkPreferences=function(p){d=d||o(3378);const g=d.preferences.validate(p);if(g.error)throw new l([g.error.details[0].message])},s.compare=function(p,g,y){switch(y){case"=":return p===g;case">":return p>g;case"<":return p<g;case">=":return p>=g;case"<=":return p<=g}},s.default=function(p,g){return p===void 0?g:p},s.isIsoDate=function(p){return f.isoDate.test(p)},s.isNumber=function(p){return typeof p=="number"&&!isNaN(p)},s.isResolvable=function(p){return!!p&&(p[s.symbols.ref]||p[s.symbols.template])},s.isSchema=function(p,g={}){const y=p&&p[s.symbols.any];return!!y&&(a(g.legacy||y.version===s.version,"Cannot mix different versions of joi schemas"),!0)},s.isValues=function(p){return p[s.symbols.values]},s.limit=function(p){return Number.isSafeInteger(p)&&p>=0},s.preferences=function(p,g){h=h||o(6914),p=p||{},g=g||{};const y=Object.assign({},p,g);return g.errors&&p.errors&&(y.errors=Object.assign({},p.errors,g.errors),y.errors.wrap=Object.assign({},p.errors.wrap,g.errors.wrap)),g.messages&&(y.messages=h.compile(g.messages,p.messages)),delete y[s.symbols.prefs],y},s.tryWithPath=function(p,g,y={}){try{return p()}catch(b){throw b.path!==void 0?b.path=g+"."+b.path:b.path=g,y.append&&(b.message=`${b.message} (${b.path})`),b}},s.validateArg=function(p,g,{assert:y,message:b}){if(s.isSchema(y)){const x=y.validate(p);return x.error?x.error.message:void 0}if(!y(p))return g?`${g} ${b}`:b},s.verifyFlat=function(p,g){for(const y of p)a(!Array.isArray(y),"Method no longer accepts array arguments:",g)}},3292:(n,s,o)=>{const a=o(375),l=o(8160),u=o(6133),h={};s.schema=function(d,f,p={}){l.assertOptions(p,["appendPath","override"]);try{return h.schema(d,f,p)}catch(g){throw p.appendPath&&g.path!==void 0&&(g.message=`${g.message} (${g.path})`),g}},h.schema=function(d,f,p){a(f!==void 0,"Invalid undefined schema"),Array.isArray(f)&&(a(f.length,"Invalid empty array schema"),f.length===1&&(f=f[0]));const g=(y,...b)=>p.override!==!1?y.valid(d.override,...b):y.valid(...b);if(h.simple(f))return g(d,f);if(typeof f=="function")return d.custom(f);if(a(typeof f=="object","Invalid schema content:",typeof f),l.isResolvable(f))return g(d,f);if(l.isSchema(f))return f;if(Array.isArray(f)){for(const y of f)if(!h.simple(y))return d.alternatives().try(...f);return g(d,...f)}return f instanceof RegExp?d.string().regex(f):f instanceof Date?g(d.date(),f):(a(Object.getPrototypeOf(f)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(f))},s.ref=function(d,f){return u.isRef(d)?d:u.create(d,f)},s.compile=function(d,f,p={}){l.assertOptions(p,["legacy"]);const g=f&&f[l.symbols.any];if(g)return a(p.legacy||g.version===l.version,"Cannot mix different versions of joi schemas:",g.version,l.version),f;if(typeof f!="object"||!p.legacy)return s.schema(d,f,{appendPath:!0});const y=h.walk(f);return y?y.compile(y.root,f):s.schema(d,f,{appendPath:!0})},h.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const p of d){const g=h.walk(p);if(g)return g}return null}const f=d[l.symbols.any];if(f)return{root:d[f.root],compile:f.compile};a(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const p in d){const g=h.walk(d[p]);if(g)return g}return null},h.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},s.when=function(d,f,p){if(p===void 0&&(a(f&&typeof f=="object","Missing options"),p=f,f=u.create(".")),Array.isArray(p)&&(p={switch:p}),l.assertOptions(p,["is","not","then","otherwise","switch","break"]),l.isSchema(f))return a(p.is===void 0,'"is" can not be used with a schema condition'),a(p.not===void 0,'"not" can not be used with a schema condition'),a(p.switch===void 0,'"switch" can not be used with a schema condition'),h.condition(d,{is:f,then:p.then,otherwise:p.otherwise,break:p.break});if(a(u.isRef(f)||typeof f=="string","Invalid condition:",f),a(p.not===void 0||p.is===void 0,'Cannot combine "is" with "not"'),p.switch===void 0){let y=p;p.not!==void 0&&(y={is:p.not,then:p.otherwise,otherwise:p.then,break:p.break});let b=y.is!==void 0?d.$_compile(y.is):d.$_root.invalid(null,!1,0,"").required();return a(y.then!==void 0||y.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),a(y.break===void 0||y.then===void 0||y.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),p.is===void 0||u.isRef(p.is)||l.isSchema(p.is)||(b=b.required()),h.condition(d,{ref:s.ref(f),is:b,then:y.then,otherwise:y.otherwise,break:y.break})}a(Array.isArray(p.switch),'"switch" must be an array'),a(p.is===void 0,'Cannot combine "switch" with "is"'),a(p.not===void 0,'Cannot combine "switch" with "not"'),a(p.then===void 0,'Cannot combine "switch" with "then"');const g={ref:s.ref(f),switch:[],break:p.break};for(let y=0;y<p.switch.length;++y){const b=p.switch[y],x=y===p.switch.length-1;l.assertOptions(b,x?["is","then","otherwise"]:["is","then"]),a(b.is!==void 0,'Switch statement missing "is"'),a(b.then!==void 0,'Switch statement missing "then"');const w={is:d.$_compile(b.is),then:d.$_compile(b.then)};if(u.isRef(b.is)||l.isSchema(b.is)||(w.is=w.is.required()),x){a(p.otherwise===void 0||b.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const S=p.otherwise!==void 0?p.otherwise:b.otherwise;S!==void 0&&(a(g.break===void 0,"Cannot specify both otherwise and break"),w.otherwise=d.$_compile(S))}g.switch.push(w)}return g},h.condition=function(d,f){for(const p of["then","otherwise"])f[p]===void 0?delete f[p]:f[p]=d.$_compile(f[p]);return f}},6354:(n,s,o)=>{const a=o(5688),l=o(8160),u=o(3328);s.Report=class{constructor(h,d,f,p,g,y,b){if(this.code=h,this.flags=p,this.messages=g,this.path=y.path,this.prefs=b,this.state=y,this.value=d,this.message=null,this.template=null,this.local=f||{},this.local.label=s.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const x=this.path[this.path.length-1];typeof x!="object"&&(this.local.key=x)}}_setTemplate(h){if(this.template=h,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const h=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${h}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(h,d){return s.template(this.value,h,d||this.code,this.state,this.prefs)}},s.path=function(h){let d="";for(const f of h)typeof f!="object"&&(typeof f=="string"?(d&&(d+="."),d+=f):d+=`[${f}]`);return d},s.template=function(h,d,f,p,g){if(!d)return;if(u.isTemplate(d))return f!=="root"?d:null;let y=g.errors.language;if(l.isResolvable(y)&&(y=y.resolve(h,p,g)),y&&d[y]){if(d[y][f]!==void 0)return d[y][f];if(d[y]["*"]!==void 0)return d[y]["*"]}return d[f]?d[f]:d["*"]},s.label=function(h,d,f,p){if(!f.errors.label)return"";if(h.label)return h.label;let g=d.path;return f.errors.label==="key"&&d.path.length>1&&(g=d.path.slice(-1)),s.path(g)||s.template(null,f.messages,"root",d,f)||p&&s.template(null,p,"root",d,f)||"value"},s.process=function(h,d,f){if(!h)return null;const{override:p,message:g,details:y}=s.details(h);if(p)return p;if(f.errors.stack)return new s.ValidationError(g,y,d);const b=Error.stackTraceLimit;Error.stackTraceLimit=0;const x=new s.ValidationError(g,y,d);return Error.stackTraceLimit=b,x},s.details=function(h,d={}){let f=[];const p=[];for(const g of h){if(g instanceof Error){if(d.override!==!1)return{override:g};const b=g.toString();f.push(b),p.push({message:b,type:"override",context:{error:g}});continue}const y=g.toString();f.push(y),p.push({message:y,path:g.path.filter(b=>typeof b!="object"),type:g.code,context:g.local})}return f.length>1&&(f=[...new Set(f)]),{message:f.join(". "),details:p}},s.ValidationError=class extends Error{constructor(h,d,f){super(h),this._original=f,this.details=d}static isError(h){return h instanceof s.ValidationError}},s.ValidationError.prototype.isJoi=!0,s.ValidationError.prototype.name="ValidationError",s.ValidationError.prototype.annotate=a.error},8901:(n,s,o)=>{const a=o(375),l=o(8571),u=o(8160),h=o(6914),d={};s.type=function(f,p){const g=Object.getPrototypeOf(f),y=l(g),b=f._assign(Object.create(y)),x=Object.assign({},p);delete x.base,y._definition=x;const w=g._definition||{};x.messages=h.merge(w.messages,x.messages),x.properties=Object.assign({},w.properties,x.properties),b.type=x.type,x.flags=Object.assign({},w.flags,x.flags);const S=Object.assign({},w.terms);if(x.terms)for(const M in x.terms){const A=x.terms[M];a(b.$_terms[M]===void 0,"Invalid term override for",x.type,M),b.$_terms[M]=A.init,S[M]=A}x.terms=S,x.args||(x.args=w.args),x.prepare=d.prepare(x.prepare,w.prepare),x.coerce&&(typeof x.coerce=="function"&&(x.coerce={method:x.coerce}),x.coerce.from&&!Array.isArray(x.coerce.from)&&(x.coerce={method:x.coerce.method,from:[].concat(x.coerce.from)})),x.coerce=d.coerce(x.coerce,w.coerce),x.validate=d.validate(x.validate,w.validate);const C=Object.assign({},w.rules);if(x.rules)for(const M in x.rules){const A=x.rules[M];a(typeof A=="object","Invalid rule definition for",x.type,M);let I=A.method;if(I===void 0&&(I=function(){return this.$_addRule(M)}),I&&(a(!y[M],"Rule conflict in",x.type,M),y[M]=I),a(!C[M],"Rule conflict in",x.type,M),C[M]=A,A.alias){const R=[].concat(A.alias);for(const V of R)y[V]=A.method}A.args&&(A.argsByName=new Map,A.args=A.args.map(R=>(typeof R=="string"&&(R={name:R}),a(!A.argsByName.has(R.name),"Duplicated argument name",R.name),u.isSchema(R.assert)&&(R.assert=R.assert.strict().label(R.name)),A.argsByName.set(R.name,R),R)))}x.rules=C;const k=Object.assign({},w.modifiers);if(x.modifiers)for(const M in x.modifiers){a(!y[M],"Rule conflict in",x.type,M);const A=x.modifiers[M];a(typeof A=="function","Invalid modifier definition for",x.type,M);const I=function(R){return this.rule({[M]:R})};y[M]=I,k[M]=A}if(x.modifiers=k,x.overrides){y._super=g,b.$_super={};for(const M in x.overrides)a(g[M],"Cannot override missing",M),x.overrides[M][u.symbols.parent]=g[M],b.$_super[M]=g[M].bind(b);Object.assign(y,x.overrides)}x.cast=Object.assign({},w.cast,x.cast);const O=Object.assign({},w.manifest,x.manifest);return O.build=d.build(x.manifest&&x.manifest.build,w.manifest&&w.manifest.build),x.manifest=O,x.rebuild=d.rebuild(x.rebuild,w.rebuild),b},d.build=function(f,p){return f&&p?function(g,y){return p(f(g,y),y)}:f||p},d.coerce=function(f,p){return f&&p?{from:f.from&&p.from?[...new Set([...f.from,...p.from])]:null,method(g,y){let b;if((!p.from||p.from.includes(typeof g))&&(b=p.method(g,y),b)){if(b.errors||b.value===void 0)return b;g=b.value}if(!f.from||f.from.includes(typeof g)){const x=f.method(g,y);if(x)return x}return b}}:f||p},d.prepare=function(f,p){return f&&p?function(g,y){const b=f(g,y);if(b){if(b.errors||b.value===void 0)return b;g=b.value}return p(g,y)||b}:f||p},d.rebuild=function(f,p){return f&&p?function(g){p(g),f(g)}:f||p},d.validate=function(f,p){return f&&p?function(g,y){const b=p(g,y);if(b){if(b.errors&&(!Array.isArray(b.errors)||b.errors.length))return b;g=b.value}return f(g,y)||b}:f||p}},5107:(n,s,o)=>{const a=o(375),l=o(8571),u=o(8652),h=o(8160),d=o(3292),f=o(6354),p=o(8901),g=o(9708),y=o(6133),b=o(3328),x=o(1152);let w;const S={types:{alternatives:o(4946),any:o(8068),array:o(546),boolean:o(4937),date:o(7500),function:o(390),link:o(8785),number:o(3832),object:o(8966),string:o(7417),symbol:o(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const C={_types:new Set(Object.keys(S.types))};for(const k of C._types)C[k]=function(...O){return a(!O.length||["alternatives","link","object"].includes(k),"The",k,"type does not allow arguments"),S.generate(this,S.types[k],O)};for(const k of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])C[k]=function(...O){return this.any()[k](...O)};Object.assign(C,S.methods);for(const k in S.aliases){const O=S.aliases[k];C[k]=C[O]}return C.x=C.expression,x.setup&&x.setup(C),C}};S.methods={ValidationError:f.ValidationError,version:h.version,cache:u.provider,assert(C,k,...O){S.assert(C,k,!0,O)},attempt:(C,k,...O)=>S.assert(C,k,!1,O),build(C){return a(typeof g.build=="function","Manifest functionality disabled"),g.build(this,C)},checkPreferences(C){h.checkPreferences(C)},compile(C,k){return d.compile(this,C,k)},defaults(C){a(typeof C=="function","modifier must be a function");const k=Object.assign({},this);for(const O of k._types){const M=C(k[O]());a(h.isSchema(M),"modifier must return a valid schema object"),k[O]=function(...A){return S.generate(this,M,A)}}return k},expression:(...C)=>new b(...C),extend(...C){h.verifyFlat(C,"extend"),w=w||o(3378),a(C.length,"You need to provide at least one extension"),this.assert(C,w.extensions);const k=Object.assign({},this);k._types=new Set(k._types);for(let O of C){typeof O=="function"&&(O=O(k)),this.assert(O,w.extension);const M=S.expandExtension(O,k);for(const A of M){a(k[A.type]===void 0||k._types.has(A.type),"Cannot override name",A.type);const I=A.base||this.any(),R=p.type(I,A);k._types.add(A.type),k[A.type]=function(...V){return S.generate(this,R,V)}}}return k},isError:f.ValidationError.isError,isExpression:b.isTemplate,isRef:y.isRef,isSchema:h.isSchema,in:(...C)=>y.in(...C),override:h.symbols.override,ref:(...C)=>y.create(...C),types(){const C={};for(const k of this._types)C[k]=this[k]();for(const k in S.aliases)C[k]=this[k]();return C}},S.assert=function(C,k,O,M){const A=M[0]instanceof Error||typeof M[0]=="string"?M[0]:null,I=A!==null?M[1]:M[0],R=k.validate(C,h.preferences({errors:{stack:!0}},I||{}));let V=R.error;if(!V)return R.value;if(A instanceof Error)throw A;const oe=O&&typeof V.annotate=="function"?V.annotate():V.message;throw V instanceof f.ValidationError==0&&(V=l(V)),V.message=A?`${A} ${oe}`:oe,V},S.generate=function(C,k,O){return a(C,"Must be invoked on a Joi instance."),k.$_root=C,k._definition.args&&O.length?k._definition.args(k,...O):k},S.expandExtension=function(C,k){if(typeof C.type=="string")return[C];const O=[];for(const M of k._types)if(C.type.test(M)){const A=Object.assign({},C);A.type=M,A.base=k[M](),O.push(A)}return O},n.exports=S.root()},6914:(n,s,o)=>{const a=o(375),l=o(8571),u=o(3328);s.compile=function(h,d){if(typeof h=="string")return a(!d,"Cannot set single message string"),new u(h);if(u.isTemplate(h))return a(!d,"Cannot set single message template"),h;a(typeof h=="object"&&!Array.isArray(h),"Invalid message options"),d=d?l(d):{};for(let f in h){const p=h[f];if(f==="root"||u.isTemplate(p)){d[f]=p;continue}if(typeof p=="string"){d[f]=new u(p);continue}a(typeof p=="object"&&!Array.isArray(p),"Invalid message for",f);const g=f;for(f in d[g]=d[g]||{},p){const y=p[f];f==="root"||u.isTemplate(y)?d[g][f]=y:(a(typeof y=="string","Invalid message for",f,"in",g),d[g][f]=new u(y))}}return d},s.decompile=function(h){const d={};for(let f in h){const p=h[f];if(f==="root"){d.root=p;continue}if(u.isTemplate(p)){d[f]=p.describe({compact:!0});continue}const g=f;for(f in d[g]={},p){const y=p[f];f!=="root"?d[g][f]=y.describe({compact:!0}):d[g].root=y}}return d},s.merge=function(h,d){if(!h)return s.compile(d);if(!d)return h;if(typeof d=="string")return new u(d);if(u.isTemplate(d))return d;const f=l(h);for(let p in d){const g=d[p];if(p==="root"||u.isTemplate(g)){f[p]=g;continue}if(typeof g=="string"){f[p]=new u(g);continue}a(typeof g=="object"&&!Array.isArray(g),"Invalid message for",p);const y=p;for(p in f[y]=f[y]||{},g){const b=g[p];p==="root"||u.isTemplate(b)?f[y][p]=b:(a(typeof b=="string","Invalid message for",p,"in",y),f[y][p]=new u(b))}}return f}},2294:(n,s,o)=>{const a=o(375),l=o(8160),u=o(6133),h={};s.Ids=h.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new h.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[f,p]of d._byId.entries())a(!this._byKey.has(f),"Schema id conflicts with existing key:",f),this._byId.set(f,p);for(const[f,p]of d._byKey.entries())a(!this._byId.has(f),"Schema key conflicts with existing id:",f),this._byKey.set(f,p)}fork(d,f,p){const g=this._collect(d);g.push({schema:p});const y=g.shift();let b={id:y.id,schema:f(y.schema)};a(l.isSchema(b.schema),"adjuster function failed to return a joi schema type");for(const x of g)b={id:x.id,schema:h.fork(x.schema,b.id,b.schema)};return b.schema}labels(d,f=[]){const p=d[0],g=this._get(p);if(!g)return[...f,...d].join(".");const y=d.slice(1);return f=[...f,g.schema._flags.label||p],y.length?g.schema._ids.labels(y,f):f.join(".")}reach(d,f=[]){const p=d[0],g=this._get(p);a(g,"Schema does not contain path",[...f,...d].join("."));const y=d.slice(1);return y.length?g.schema._ids.reach(y,[...f,p]):g.schema}register(d,{key:f}={}){if(!d||!l.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const p=d._flags.id;if(p){const g=this._byId.get(p);a(!g||g.schema===d,"Cannot add different schemas with the same id:",p),a(!this._byKey.has(p),"Schema id conflicts with existing key:",p),this._byId.set(p,{schema:d,id:p})}f&&(a(!this._byKey.has(f),"Schema already contains key:",f),a(!this._byId.has(f),"Schema key conflicts with existing id:",f),this._byKey.set(f,{schema:d,id:f}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,f=[],p=[]){const g=d[0],y=this._get(g);a(y,"Schema does not contain path",[...f,...d].join(".")),p=[y,...p];const b=d.slice(1);return b.length?y.schema._ids._collect(b,[...f,g],p):p}_get(d){return this._byId.get(d)||this._byKey.get(d)}},h.fork=function(d,f,p){const g=s.schema(d,{each:(y,{key:b})=>{if(f===(y._flags.id||b))return p},ref:!1});return g?g.$_mutateRebuild():d},s.schema=function(d,f){let p;for(const g in d._flags){if(g[0]==="_")continue;const y=h.scan(d._flags[g],{source:"flags",name:g},f);y!==void 0&&(p=p||d.clone(),p._flags[g]=y)}for(let g=0;g<d._rules.length;++g){const y=d._rules[g],b=h.scan(y.args,{source:"rules",name:y.name},f);if(b!==void 0){p=p||d.clone();const x=Object.assign({},y);x.args=b,p._rules[g]=x,p._singleRules.get(y.name)===y&&p._singleRules.set(y.name,x)}}for(const g in d.$_terms){if(g[0]==="_")continue;const y=h.scan(d.$_terms[g],{source:"terms",name:g},f);y!==void 0&&(p=p||d.clone(),p.$_terms[g]=y)}return p},h.scan=function(d,f,p,g,y){const b=g||[];if(d===null||typeof d!="object")return;let x;if(Array.isArray(d)){for(let w=0;w<d.length;++w){const S=f.source==="terms"&&f.name==="keys"&&d[w].key,C=h.scan(d[w],f,p,[w,...b],S);C!==void 0&&(x=x||d.slice(),x[w]=C)}return x}if(p.schema!==!1&&l.isSchema(d)||p.ref!==!1&&u.isRef(d)){const w=p.each(d,{...f,path:b,key:y});return w===d?void 0:w}for(const w in d){if(w[0]==="_")continue;const S=h.scan(d[w],f,p,[w,...b],y);S!==void 0&&(x=x||Object.assign({},d),x[w]=S)}return x}},6133:(n,s,o)=>{const a=o(375),l=o(8571),u=o(9621),h=o(8160);let d;const f={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};s.create=function(p,g={}){a(typeof p=="string","Invalid reference key:",p),h.assertOptions(g,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),a(!g.prefix||typeof g.prefix=="object","options.prefix must be of type object");const y=Object.assign({},f.defaults,g);delete y.prefix;const b=y.separator,x=f.context(p,b,g.prefix);if(y.type=x.type,p=x.key,y.type==="value")if(x.root&&(a(!b||p[0]!==b,"Cannot specify relative path with root prefix"),y.ancestor="root",p||(p=null)),b&&b===p)p=null,y.ancestor=0;else if(y.ancestor!==void 0)a(!b||!p||p[0]!==b,"Cannot combine prefix with ancestor option");else{const[w,S]=f.ancestor(p,b);S&&(p=p.slice(S))===""&&(p=null),y.ancestor=w}return y.path=b?p===null?[]:p.split(b):[p],new f.Ref(y)},s.in=function(p,g={}){return s.create(p,{...g,in:!0})},s.isRef=function(p){return!!p&&!!p[h.symbols.ref]},f.Ref=class{constructor(p){a(typeof p=="object","Invalid reference construction"),h.assertOptions(p,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),a([!1,void 0].includes(p.separator)||typeof p.separator=="string"&&p.separator.length===1,"Invalid separator"),a(!p.adjust||typeof p.adjust=="function","options.adjust must be a function"),a(!p.map||Array.isArray(p.map),"options.map must be an array"),a(!p.map||!p.adjust,"Cannot set both map and adjust options"),Object.assign(this,f.defaults,p),a(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(p,g,y,b,x={}){return a(!this.in||x.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(y.context,g,x):this.type==="local"?this._resolve(b,g,x):this.ancestor?this.ancestor==="root"?this._resolve(g.ancestors[g.ancestors.length-1],g,x):(a(this.ancestor<=g.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(g.ancestors[this.ancestor-1],g,x)):this._resolve(p,g,x)}_resolve(p,g,y){let b;if(this.type==="value"&&g.mainstay.shadow&&y.shadow!==!1&&(b=g.mainstay.shadow.get(this.absolute(g))),b===void 0&&(b=u(p,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(b=this.adjust(b)),this.map){const x=this.map.get(b);x!==void 0&&(b=x)}return g.mainstay&&g.mainstay.tracer.resolve(g,this,b),b}toString(){return this.display}absolute(p){return[...p.path.slice(0,-this.ancestor),...this.path]}clone(){return new f.Ref(this)}describe(){const p={path:this.path};this.type!=="value"&&(p.type=this.type),this.separator!=="."&&(p.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(p.ancestor=this.ancestor),this.map&&(p.map=[...this.map]);for(const g of["adjust","iterables","render"])this[g]!==null&&this[g]!==void 0&&(p[g]=this[g]);return this.in!==!1&&(p.in=!0),{ref:p}}updateDisplay(){const p=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${p}`);if(!this.separator)return void(this.display=`ref:${p}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${p}`);if(this.ancestor==="root")return void(this.display=`ref:root:${p}`);if(this.ancestor===1)return void(this.display=`ref:${p||".."}`);const g=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${g}${p||""}`}},f.Ref.prototype[h.symbols.ref]=!0,s.build=function(p){return(p=Object.assign({},f.defaults,p)).type==="value"&&p.ancestor===void 0&&(p.ancestor=1),new f.Ref(p)},f.context=function(p,g,y={}){if(p=p.trim(),y){const b=y.global===void 0?"$":y.global;if(b!==g&&p.startsWith(b))return{key:p.slice(b.length),type:"global"};const x=y.local===void 0?"#":y.local;if(x!==g&&p.startsWith(x))return{key:p.slice(x.length),type:"local"};const w=y.root===void 0?"/":y.root;if(w!==g&&p.startsWith(w))return{key:p.slice(w.length),type:"value",root:!0}}return{key:p,type:"value"}},f.ancestor=function(p,g){if(!g)return[1,0];if(p[0]!==g)return[1,0];if(p[1]!==g)return[0,1];let y=2;for(;p[y]===g;)++y;return[y-1,y]},s.toSibling=0,s.toParent=1,s.Manager=class{constructor(){this.refs=[]}register(p,g){if(p)if(g=g===void 0?s.toParent:g,Array.isArray(p))for(const y of p)this.register(y,g);else if(h.isSchema(p))for(const y of p._refs.refs)y.ancestor-g>=0&&this.refs.push({ancestor:y.ancestor-g,root:y.root});else s.isRef(p)&&p.type==="value"&&p.ancestor-g>=0&&this.refs.push({ancestor:p.ancestor-g,root:p.root}),d=d||o(3328),d.isTemplate(p)&&this.register(p.refs(),g)}get length(){return this.refs.length}clone(){const p=new s.Manager;return p.refs=l(this.refs),p}reset(){this.refs=[]}roots(){return this.refs.filter(p=>!p.ancestor).map(p=>p.root)}}},3378:(n,s,o)=>{const a=o(5107),l={};l.wrap=a.string().min(1).max(2).allow(!1),s.preferences=a.object({allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),context:a.object(),convert:a.boolean(),dateFormat:a.valid("date","iso","string","time","utc"),debug:a.boolean(),errors:{escapeHtml:a.boolean(),label:a.valid("path","key",!1),language:[a.string(),a.object().ref()],render:a.boolean(),stack:a.boolean(),wrap:{label:l.wrap,array:l.wrap,string:l.wrap}},externals:a.boolean(),messages:a.object(),noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:a.valid("required","optional","forbidden"),skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()}).strict(),l.nameRx=/^[a-zA-Z0-9]\w*$/,l.rule=a.object({alias:a.array().items(a.string().pattern(l.nameRx)).single(),args:a.array().items(a.string(),a.object({name:a.string().pattern(l.nameRx).required(),ref:a.boolean(),assert:a.alternatives([a.function(),a.object().schema()]).conditional("ref",{is:!0,then:a.required()}),normalize:a.function(),message:a.string().when("assert",{is:a.function(),then:a.required()})})),convert:a.boolean(),manifest:a.boolean(),method:a.function().allow(!1),multi:a.boolean(),validate:a.function()}),s.extension=a.object({type:a.alternatives([a.string(),a.object().regex()]).required(),args:a.function(),cast:a.object().pattern(l.nameRx,a.object({from:a.function().maxArity(1).required(),to:a.function().minArity(1).maxArity(2).required()})),base:a.object().schema().when("type",{is:a.object().regex(),then:a.forbidden()}),coerce:[a.function().maxArity(3),a.object({method:a.function().maxArity(3).required(),from:a.array().items(a.string()).single()})],flags:a.object().pattern(l.nameRx,a.object({setter:a.string(),default:a.any()})),manifest:{build:a.function().arity(2)},messages:[a.object(),a.string()],modifiers:a.object().pattern(l.nameRx,a.function().minArity(1).maxArity(2)),overrides:a.object().pattern(l.nameRx,a.function()),prepare:a.function().maxArity(3),rebuild:a.function().arity(1),rules:a.object().pattern(l.nameRx,l.rule),terms:a.object().pattern(l.nameRx,a.object({init:a.array().allow(null).required(),manifest:a.object().pattern(/.+/,[a.valid("schema","single"),a.object({mapped:a.object({from:a.string().required(),to:a.string().required()}).required()})])})),validate:a.function().maxArity(3)}).strict(),s.extensions=a.array().items(a.object(),a.function().arity(1)).strict(),l.desc={buffer:a.object({buffer:a.string()}),func:a.object({function:a.function().required(),options:{literal:!0}}),override:a.object({override:!0}),ref:a.object({ref:a.object({type:a.valid("value","global","local"),path:a.array().required(),separator:a.string().length(1).allow(!1),ancestor:a.number().min(0).integer().allow("root"),map:a.array().items(a.array().length(2)).min(1),adjust:a.function(),iterables:a.boolean(),in:a.boolean(),render:a.boolean()}).required()}),regex:a.object({regex:a.string().min(3)}),special:a.object({special:a.valid("deep").required()}),template:a.object({template:a.string().required(),options:a.object()}),value:a.object({value:a.alternatives([a.object(),a.array()]).required()})},l.desc.entity=a.alternatives([a.array().items(a.link("...")),a.boolean(),a.function(),a.number(),a.string(),l.desc.buffer,l.desc.func,l.desc.ref,l.desc.regex,l.desc.special,l.desc.template,l.desc.value,a.link("/")]),l.desc.values=a.array().items(null,a.boolean(),a.function(),a.number().allow(1/0,-1/0),a.string().allow(""),a.symbol(),l.desc.buffer,l.desc.func,l.desc.override,l.desc.ref,l.desc.regex,l.desc.template,l.desc.value),l.desc.messages=a.object().pattern(/.+/,[a.string(),l.desc.template,a.object().pattern(/.+/,[a.string(),l.desc.template])]),s.description=a.object({type:a.string().required(),flags:a.object({cast:a.string(),default:a.any(),description:a.string(),empty:a.link("/"),failover:l.desc.entity,id:a.string(),label:a.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:a.boolean(),unit:a.string()}).unknown(),preferences:{allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),convert:a.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:a.boolean(),label:["path","key"],language:[a.string(),l.desc.ref],wrap:{label:l.wrap,array:l.wrap}},externals:a.boolean(),messages:l.desc.messages,noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:["required","optional","forbidden"],skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()},allow:l.desc.values,invalid:l.desc.values,rules:a.array().min(1).items({name:a.string().required(),args:a.object().min(1),keep:a.boolean(),message:[a.string(),l.desc.messages],warn:a.boolean()}),keys:a.object().pattern(/.*/,a.link("/")),link:l.desc.ref}).pattern(/^[a-z]\w*$/,a.any())},493:(n,s,o)=>{const a=o(8571),l=o(9621),u=o(8160),h={value:Symbol("value")};n.exports=h.State=class{constructor(d,f,p){this.path=d,this.ancestors=f,this.mainstay=p.mainstay,this.schemas=p.schemas,this.debug=null}localize(d,f=null,p=null){const g=new h.State(d,f,this);return p&&g.schemas&&(g.schemas=[h.schemas(p),...g.schemas]),g}nest(d,f){const p=new h.State(this.path,this.ancestors,this);return p.schemas=p.schemas&&[h.schemas(d),...p.schemas],p.debug=f,p}shadow(d,f){this.mainstay.shadow=this.mainstay.shadow||new h.Shadow,this.mainstay.shadow.set(this.path,d,f)}snapshot(){this.mainstay.shadow&&(this._snapshot=a(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},h.schemas=function(d){return u.isSchema(d)?{schema:d}:d},h.Shadow=class{constructor(){this._values=null}set(d,f,p){if(!d.length||p==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let g=this._values;for(let y=0;y<d.length;++y){const b=d[y];let x=g.get(b);x||(x=new Map,g.set(b,x)),g=x}g[h.value]=f}get(d){const f=this.node(d);if(f)return f[h.value]}node(d){if(this._values)return l(this._values,d,{iterables:!0})}override(d,f){if(!this._values)return;const p=d.slice(0,-1),g=d[d.length-1],y=l(this._values,p,{iterables:!0});f?y.set(g,f):y&&y.delete(g)}}},3328:(n,s,o)=>{const a=o(375),l=o(8571),u=o(5277),h=o(1447),d=o(8160),f=o(6354),p=o(6133),g={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};n.exports=g.Template=class{constructor(y,b){if(a(typeof y=="string","Template source must be a string"),a(!y.includes("\0")&&!y.includes(""),"Template source cannot contain reserved control characters"),this.source=y,this.rendered=y,this._template=null,b){const{functions:x,...w}=b;this._settings=Object.keys(w).length?l(w):void 0,this._functions=x,this._functions&&(a(Object.keys(this._functions).every(S=>typeof S=="string"),"Functions keys must be strings"),a(Object.values(this._functions).every(S=>typeof S=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const y=g.encode(this.source),b=g.split(y);let x=!1;const w=[],S=b.shift();S&&w.push(S);for(const C of b){const k=C[0]!=="{",O=k?"}":"}}",M=C.indexOf(O);if(M===-1||C[1]==="{"){w.push(`{${g.decode(C)}`);continue}let A=C.slice(k?0:1,M);const I=A[0]===":";I&&(A=A.slice(1));const R=this._ref(g.decode(A),{raw:k,wrapped:I});w.push(R),typeof R!="string"&&(x=!0);const V=C.slice(M+O.length);V&&w.push(g.decode(V))}x?this._template=w:this.rendered=w.join("")}static date(y,b){return g.dateFormat[b.dateFormat].call(y)}describe(y={}){if(!this._settings&&y.compact)return this.source;const b={template:this.source};return this._settings&&(b.options=this._settings),this._functions&&(b.functions=this._functions),b}static build(y){return new g.Template(y.template,y.options||y.functions?{...y.options,functions:y.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(y){return!!y&&!!y[d.symbols.template]}refs(){if(!this._template)return;const y=[];for(const b of this._template)typeof b!="string"&&y.push(...b.refs);return y}resolve(y,b,x,w){return this._template&&this._template.length===1?this._part(this._template[0],y,b,x,w,{}):this.render(y,b,x,w)}_part(y,...b){return y.ref?y.ref.resolve(...b):y.formula.evaluate(b)}render(y,b,x,w,S={}){if(!this.isDynamic())return this.rendered;const C=[];for(const k of this._template)if(typeof k=="string")C.push(k);else{const O=this._part(k,y,b,x,w,S),M=g.stringify(O,y,b,x,w,S);if(M!==void 0){const A=k.raw||(S.errors&&S.errors.escapeHtml)===!1?M:u(M);C.push(g.wrap(A,k.wrapped&&x.errors.wrap.label))}}return C.join("")}_ref(y,{raw:b,wrapped:x}){const w=[],S=k=>{const O=p.create(k,this._settings);return w.push(O),M=>{const A=O.resolve(...M);return A!==void 0?A:null}};try{const k=this._functions?{...g.functions,...this._functions}:g.functions;var C=new h.Parser(y,{reference:S,functions:k,constants:g.constants})}catch(k){throw k.message=`Invalid template variable "${y}" fails due to: ${k.message}`,k}if(C.single){if(C.single.type==="reference"){const k=w[0];return{ref:k,raw:b,refs:w,wrapped:x||k.type==="local"&&k.key==="label"}}return g.stringify(C.single.value)}return{formula:C,raw:b,refs:w}}toString(){return this.source}},g.Template.prototype[d.symbols.template]=!0,g.Template.prototype.isImmutable=!0,g.encode=function(y){return y.replace(/\\(\{+)/g,(b,x)=>g.opens.slice(0,x.length)).replace(/\\(\}+)/g,(b,x)=>g.closes.slice(0,x.length))},g.decode=function(y){return y.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},g.split=function(y){const b=[];let x="";for(let w=0;w<y.length;++w){const S=y[w];if(S==="{"){let C="";for(;w+1<y.length&&y[w+1]==="{";)C+="{",++w;b.push(x),x=C}else x+=S}return b.push(x),b},g.wrap=function(y,b){return b?b.length===1?`${b}${y}${b}`:`${b[0]}${y}${b[1]}`:y},g.stringify=function(y,b,x,w,S,C={}){const k=typeof y,O=w&&w.errors&&w.errors.wrap||{};let M=!1;if(p.isRef(y)&&y.render&&(M=y.in,y=y.resolve(b,x,w,S,{in:y.in,...C})),y===null)return"null";if(k==="string")return g.wrap(y,C.arrayItems&&O.string);if(k==="number"||k==="function"||k==="symbol")return y.toString();if(k!=="object")return JSON.stringify(y);if(y instanceof Date)return g.Template.date(y,w);if(y instanceof Map){const I=[];for(const[R,V]of y.entries())I.push(`${R.toString()} -> ${V.toString()}`);y=I}if(!Array.isArray(y))return y.toString();const A=[];for(const I of y)A.push(g.stringify(I,b,x,w,S,{arrayItems:!0,...C}));return g.wrap(A.join(", "),!M&&O.array)},g.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},g.functions={if:(y,b,x)=>y?b:x,length:y=>typeof y=="string"?y.length:y&&typeof y=="object"?Array.isArray(y)?y.length:Object.keys(y).length:null,msg(y){const[b,x,w,S,C]=this,k=C.messages;if(!k)return"";const O=f.template(b,k[0],y,x,w)||f.template(b,k[1],y,x,w);return O?O.render(b,x,w,S,C):""},number:y=>typeof y=="number"?y:typeof y=="string"?parseFloat(y):typeof y=="boolean"?y?1:0:y instanceof Date?y.getTime():null}},4946:(n,s,o)=>{const a=o(375),l=o(1687),u=o(8068),h=o(8160),d=o(3292),f=o(6354),p=o(6133),g={};n.exports=u.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:p.toSibling}},args:(y,...b)=>b.length===1&&Array.isArray(b[0])?y.try(...b[0]):y.try(...b),validate(y,b){const{schema:x,error:w,state:S,prefs:C}=b;if(x._flags.match){const O=[],M=[];for(let I=0;I<x.$_terms.matches.length;++I){const R=x.$_terms.matches[I],V=S.nest(R.schema,`match.${I}`);V.snapshot();const oe=R.schema.$_validate(y,V,C);oe.errors?(M.push(oe.errors),V.restore()):(O.push(oe.value),V.commit())}if(O.length===0)return{errors:w("alternatives.any",{details:M.map(I=>f.details(I,{override:!1}))})};if(x._flags.match==="one")return O.length===1?{value:O[0]}:{errors:w("alternatives.one")};if(O.length!==x.$_terms.matches.length)return{errors:w("alternatives.all",{details:M.map(I=>f.details(I,{override:!1}))})};const A=I=>I.$_terms.matches.some(R=>R.schema.type==="object"||R.schema.type==="alternatives"&&A(R.schema));return A(x)?{value:O.reduce((I,R)=>l(I,R,{mergeArrays:!1}))}:{value:O[O.length-1]}}const k=[];for(let O=0;O<x.$_terms.matches.length;++O){const M=x.$_terms.matches[O];if(M.schema){const R=S.nest(M.schema,`match.${O}`);R.snapshot();const V=M.schema.$_validate(y,R,C);if(!V.errors)return R.commit(),V;R.restore(),k.push({schema:M.schema,reports:V.errors});continue}const A=M.ref?M.ref.resolve(y,S,C):y,I=M.is?[M]:M.switch;for(let R=0;R<I.length;++R){const V=I[R],{is:oe,then:L,otherwise:F}=V,U=`match.${O}${M.switch?"."+R:""}`;if(oe.$_match(A,S.nest(oe,`${U}.is`),C)){if(L)return L.$_validate(y,S.nest(L,`${U}.then`),C)}else if(F)return F.$_validate(y,S.nest(F,`${U}.otherwise`),C)}}return g.errors(k,b)},rules:{conditional:{method(y,b){a(!this._flags._endedSwitch,"Unreachable condition"),a(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),a(b.break===void 0,"Cannot use break option with alternatives conditional");const x=this.clone(),w=d.when(x,y,b),S=w.is?[w]:w.switch;for(const C of S)if(C.then&&C.otherwise){x.$_setFlag("_endedSwitch",!0,{clone:!1});break}return x.$_terms.matches.push(w),x.$_mutateRebuild()}},match:{method(y){if(a(["any","one","all"].includes(y),"Invalid alternatives match mode",y),y!=="any")for(const b of this.$_terms.matches)a(b.schema,"Cannot combine match mode",y,"with conditional rules");return this.$_setFlag("match",y)}},try:{method(...y){a(y.length,"Missing alternative schemas"),h.verifyFlat(y,"try"),a(!this._flags._endedSwitch,"Unreachable condition");const b=this.clone();for(const x of y)b.$_terms.matches.push({schema:b.$_compile(x)});return b.$_mutateRebuild()}}},overrides:{label(y){return this.$_parent("label",y).$_modify({each:(b,x)=>x.path[0]!=="is"&&typeof b._flags.label!="string"?b.label(y):void 0,ref:!1})}},rebuild(y){y.$_modify({each:b=>{h.isSchema(b)&&b.type==="array"&&y.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(y,b){if(b.matches)for(const x of b.matches){const{schema:w,ref:S,is:C,not:k,then:O,otherwise:M}=x;y=w?y.try(w):S?y.conditional(S,{is:C,then:O,not:k,otherwise:M,switch:x.switch}):y.conditional(C,{then:O,otherwise:M})}return y}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),g.errors=function(y,{error:b,state:x}){if(!y.length)return{errors:b("alternatives.any")};if(y.length===1)return{errors:y[0].reports};const w=new Set,S=[];for(const{reports:C,schema:k}of y){if(C.length>1)return g.unmatched(y,b);const O=C[0];if(O instanceof f.Report==0)return g.unmatched(y,b);if(O.state.path.length!==x.path.length){S.push({type:k.type,report:O});continue}if(O.code==="any.only"){for(const I of O.local.valids)w.add(I);continue}const[M,A]=O.code.split(".");A!=="base"?S.push({type:k.type,report:O}):O.code==="object.base"?w.add(O.local.type):w.add(M)}return S.length?S.length===1?{errors:S[0].report}:g.unmatched(y,b):{errors:b("alternatives.types",{types:[...w]})}},g.unmatched=function(y,b){const x=[];for(const w of y)x.push(...w.reports);return{errors:b("alternatives.match",f.details(x,{override:!1}))}}},8068:(n,s,o)=>{const a=o(375),l=o(7629),u=o(8160),h=o(6914);n.exports=l.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,f){return a(typeof d=="function","Method must be a function"),a(f===void 0||f&&typeof f=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:f}})},validate(d,f,{method:p}){try{return p(d,f)}catch(g){return f.error("any.custom",{error:g})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){a(u.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const f=this.clone();return f.$_terms.shared=f.$_terms.shared||[],f.$_terms.shared.push(d),f.$_mutateRegister(d),f}},warning:{method(d,f){return a(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:f},warn:!0})},validate:(d,f,{code:p,local:g})=>f.error(p,g),args:["code","local"],multi:!0}},modifiers:{keep(d,f=!0){d.keep=f},message(d,f){d.message=h.compile(f)},warn(d,f=!0){d.warn=f}},manifest:{build(d,f){for(const p in f){const g=f[p];if(["examples","externals","metas","notes","tags"].includes(p))for(const y of g)d=d[p.slice(0,-1)](y);else if(p!=="alterations")if(p!=="whens"){if(p==="shared")for(const y of g)d=d.shared(y)}else for(const y of g){const{ref:b,is:x,not:w,then:S,otherwise:C,concat:k}=y;d=k?d.concat(k):b?d.when(b,{is:x,not:w,then:S,otherwise:C,switch:y.switch,break:y.break}):d.when(x,{then:S,otherwise:C,break:y.break})}else{const y={};for(const{target:b,adjuster:x}of g)y[b]=x;d=d.alter(y)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(n,s,o)=>{const a=o(375),l=o(9474),u=o(9621),h=o(8068),d=o(8160),f=o(3292),p={};n.exports=h.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(g,{schema:y,state:b,prefs:x}){if(!Array.isArray(g))return;const w=y.$_getRule("sort");return w?p.sort(y,g,w.args.options,b,x):void 0}},validate(g,{schema:y,error:b}){if(!Array.isArray(g)){if(y._flags.single){const x=[g];return x[d.symbols.arraySingle]=!0,{value:x}}return{errors:b("array.base")}}if(y.$_getRule("items")||y.$_terms.externals)return{value:g.slice()}},rules:{has:{method(g){g=this.$_compile(g,{appendPath:!0});const y=this.$_addRule({name:"has",args:{schema:g}});return y.$_mutateRegister(g),y},validate(g,{state:y,prefs:b,error:x},{schema:w}){const S=[g,...y.ancestors];for(let k=0;k<g.length;++k){const O=y.localize([...y.path,k],S,w);if(w.$_match(g[k],O,b))return g}const C=w._flags.label;return C?x("array.hasKnown",{patternLabel:C}):x("array.hasUnknown",null)},multi:!0},items:{method(...g){d.verifyFlat(g,"items");const y=this.$_addRule("items");for(let b=0;b<g.length;++b){const x=d.tryWithPath(()=>this.$_compile(g[b]),b,{append:!0});y.$_terms.items.push(x)}return y.$_mutateRebuild()},validate(g,{schema:y,error:b,state:x,prefs:w,errorsArray:S}){const C=y.$_terms._requireds.slice(),k=y.$_terms.ordered.slice(),O=[...y.$_terms._inclusions,...C],M=!g[d.symbols.arraySingle];delete g[d.symbols.arraySingle];const A=S();let I=g.length;for(let R=0;R<I;++R){const V=g[R];let oe=!1,L=!1;const F=M?R:new Number(R),U=[...x.path,F];if(!y._flags.sparse&&V===void 0){if(A.push(b("array.sparse",{key:F,path:U,pos:R,value:void 0},x.localize(U))),w.abortEarly)return A;k.shift();continue}const Y=[g,...x.ancestors];for(const re of y.$_terms._exclusions)if(re.$_match(V,x.localize(U,Y,re),w,{presence:"ignore"})){if(A.push(b("array.excludes",{pos:R,value:V},x.localize(U))),w.abortEarly)return A;oe=!0,k.shift();break}if(oe)continue;if(y.$_terms.ordered.length){if(k.length){const re=k.shift(),pe=re.$_validate(V,x.localize(U,Y,re),w);if(pe.errors){if(A.push(...pe.errors),w.abortEarly)return A}else if(re._flags.result==="strip")p.fastSplice(g,R),--R,--I;else{if(!y._flags.sparse&&pe.value===void 0){if(A.push(b("array.sparse",{key:F,path:U,pos:R,value:void 0},x.localize(U))),w.abortEarly)return A;continue}g[R]=pe.value}continue}if(!y.$_terms.items.length){if(A.push(b("array.orderedLength",{pos:R,limit:y.$_terms.ordered.length})),w.abortEarly)return A;break}}const G=[];let Q=C.length;for(let re=0;re<Q;++re){const pe=x.localize(U,Y,C[re]);pe.snapshot();const ee=C[re].$_validate(V,pe,w);if(G[re]=ee,!ee.errors){if(pe.commit(),g[R]=ee.value,L=!0,p.fastSplice(C,re),--re,--Q,!y._flags.sparse&&ee.value===void 0&&(A.push(b("array.sparse",{key:F,path:U,pos:R,value:void 0},x.localize(U))),w.abortEarly))return A;break}pe.restore()}if(L)continue;const J=w.stripUnknown&&!!w.stripUnknown.arrays||!1;Q=O.length;for(const re of O){let pe;const ee=C.indexOf(re);if(ee!==-1)pe=G[ee];else{const B=x.localize(U,Y,re);if(B.snapshot(),pe=re.$_validate(V,B,w),!pe.errors){B.commit(),re._flags.result==="strip"?(p.fastSplice(g,R),--R,--I):y._flags.sparse||pe.value!==void 0?g[R]=pe.value:(A.push(b("array.sparse",{key:F,path:U,pos:R,value:void 0},x.localize(U))),oe=!0),L=!0;break}B.restore()}if(Q===1){if(J){p.fastSplice(g,R),--R,--I,L=!0;break}if(A.push(...pe.errors),w.abortEarly)return A;oe=!0;break}}if(!oe&&(y.$_terms._inclusions.length||y.$_terms._requireds.length)&&!L){if(J){p.fastSplice(g,R),--R,--I;continue}if(A.push(b("array.includes",{pos:R,value:V},x.localize(U))),w.abortEarly)return A}}return C.length&&p.fillMissedErrors(y,A,C,g,x,w),k.length&&(p.fillOrderedErrors(y,A,k,g,x,w),A.length||p.fillDefault(k,g,x,w)),A.length?A:g},priority:!0,manifest:!1},length:{method(g){return this.$_addRule({name:"length",args:{limit:g},operator:"="})},validate:(g,y,{limit:b},{name:x,operator:w,args:S})=>d.compare(g.length,b,w)?g:y.error("array."+x,{limit:S.limit,value:g}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(g){return this.$_addRule({name:"max",method:"length",args:{limit:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"length",args:{limit:g},operator:">="})}},ordered:{method(...g){d.verifyFlat(g,"ordered");const y=this.$_addRule("items");for(let b=0;b<g.length;++b){const x=d.tryWithPath(()=>this.$_compile(g[b]),b,{append:!0});p.validateSingle(x,y),y.$_mutateRegister(x),y.$_terms.ordered.push(x)}return y.$_mutateRebuild()}},single:{method(g){const y=g===void 0||!!g;return a(!y||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",y)}},sort:{method(g={}){d.assertOptions(g,["by","order"]);const y={order:g.order||"ascending"};return g.by&&(y.by=f.ref(g.by,{ancestor:0}),a(!y.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:y}})},validate(g,{error:y,state:b,prefs:x,schema:w},{options:S}){const{value:C,errors:k}=p.sort(w,g,S,b,x);if(k)return k;for(let O=0;O<g.length;++O)if(g[O]!==C[O])return y("array.sort",{order:S.order,by:S.by?S.by.key:"value"});return g},convert:!0},sparse:{method(g){const y=g===void 0||!!g;return this._flags.sparse===y?this:(y?this.clone():this.$_addRule("items")).$_setFlag("sparse",y,{clone:!1})}},unique:{method(g,y={}){a(!g||typeof g=="function"||typeof g=="string","comparator must be a function or a string"),d.assertOptions(y,["ignoreUndefined","separator"]);const b={name:"unique",args:{options:y,comparator:g}};if(g)if(typeof g=="string"){const x=d.default(y.separator,".");b.path=x?g.split(x):[g]}else b.comparator=g;return this.$_addRule(b)},validate(g,{state:y,error:b,schema:x},{comparator:w,options:S},{comparator:C,path:k}){const O={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},M=C||l,A=S.ignoreUndefined;for(let I=0;I<g.length;++I){const R=k?u(g[I],k):g[I],V=C?O.custom:O[typeof R];if(a(V,"Failed to find unique map container for type",typeof R),V instanceof Map){const oe=V.entries();let L;for(;!(L=oe.next()).done;)if(M(L.value[0],R)){const F=y.localize([...y.path,I],[g,...y.ancestors]),U={pos:I,value:g[I],dupePos:L.value[1],dupeValue:g[L.value[1]]};return k&&(U.path=w),b("array.unique",U,F)}V.set(R,I)}else{if((!A||R!==void 0)&&V[R]!==void 0){const oe={pos:I,value:g[I],dupePos:V[R],dupeValue:g[V[R]]};return k&&(oe.path=w),b("array.unique",oe,y.localize([...y.path,I],[g,...y.ancestors]))}V[R]=I}}return g},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(g,y)=>new Set(g)}},rebuild(g){g.$_terms._inclusions=[],g.$_terms._exclusions=[],g.$_terms._requireds=[];for(const y of g.$_terms.items)p.validateSingle(y,g),y._flags.presence==="required"?g.$_terms._requireds.push(y):y._flags.presence==="forbidden"?g.$_terms._exclusions.push(y):g.$_terms._inclusions.push(y);for(const y of g.$_terms.ordered)p.validateSingle(y,g)},manifest:{build:(g,y)=>(y.items&&(g=g.items(...y.items)),y.ordered&&(g=g.ordered(...y.ordered)),g)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),p.fillMissedErrors=function(g,y,b,x,w,S){const C=[];let k=0;for(const O of b){const M=O._flags.label;M?C.push(M):++k}C.length?k?y.push(g.$_createError("array.includesRequiredBoth",x,{knownMisses:C,unknownMisses:k},w,S)):y.push(g.$_createError("array.includesRequiredKnowns",x,{knownMisses:C},w,S)):y.push(g.$_createError("array.includesRequiredUnknowns",x,{unknownMisses:k},w,S))},p.fillOrderedErrors=function(g,y,b,x,w,S){const C=[];for(const k of b)k._flags.presence==="required"&&C.push(k);C.length&&p.fillMissedErrors(g,y,C,x,w,S)},p.fillDefault=function(g,y,b,x){const w=[];let S=!0;for(let C=g.length-1;C>=0;--C){const k=g[C],O=[y,...b.ancestors],M=k.$_validate(void 0,b.localize(b.path,O,k),x).value;if(S){if(M===void 0)continue;S=!1}w.unshift(M)}w.length&&y.push(...w)},p.fastSplice=function(g,y){let b=y;for(;b<g.length;)g[b++]=g[b];--g.length},p.validateSingle=function(g,y){(g.type==="array"||g._flags._arrayItems)&&(a(!y._flags.single,"Cannot specify array item with single rule enabled"),y.$_setFlag("_arrayItems",!0,{clone:!1}))},p.sort=function(g,y,b,x,w){const S=b.order==="ascending"?1:-1,C=-1*S,k=S,O=(M,A)=>{let I=p.compare(M,A,C,k);if(I!==null||(b.by&&(M=b.by.resolve(M,x,w),A=b.by.resolve(A,x,w)),I=p.compare(M,A,C,k),I!==null))return I;const R=typeof M;if(R!==typeof A)throw g.$_createError("array.sort.mismatching",y,null,x,w);if(R!=="number"&&R!=="string")throw g.$_createError("array.sort.unsupported",y,{type:R},x,w);return R==="number"?(M-A)*S:M<A?C:k};try{return{value:y.slice().sort(O)}}catch(M){return{errors:M}}},p.compare=function(g,y,b,x){return g===y?0:g===void 0?1:y===void 0?-1:g===null?x:y===null?b:null}},4937:(n,s,o)=>{const a=o(375),l=o(8068),u=o(8160),h=o(2036),d={isBool:function(f){return typeof f=="boolean"}};n.exports=l.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(f,{schema:p}){if(typeof f!="boolean"){if(typeof f=="string"){const g=p._flags.sensitive?f:f.toLowerCase();f=g==="true"||g!=="false"&&f}return typeof f!="boolean"&&(f=p.$_terms.truthy&&p.$_terms.truthy.has(f,null,null,!p._flags.sensitive)||(!p.$_terms.falsy||!p.$_terms.falsy.has(f,null,null,!p._flags.sensitive))&&f),{value:f}}},validate(f,{error:p}){if(typeof f!="boolean")return{value:f,errors:p("boolean.base")}},rules:{truthy:{method(...f){u.verifyFlat(f,"truthy");const p=this.clone();p.$_terms.truthy=p.$_terms.truthy||new h;for(let g=0;g<f.length;++g){const y=f[g];a(y!==void 0,"Cannot call truthy with undefined"),p.$_terms.truthy.add(y)}return p}},falsy:{method(...f){u.verifyFlat(f,"falsy");const p=this.clone();p.$_terms.falsy=p.$_terms.falsy||new h;for(let g=0;g<f.length;++g){const y=f[g];a(y!==void 0,"Cannot call falsy with undefined"),p.$_terms.falsy.add(y)}return p}},sensitive:{method(f=!0){return this.$_setFlag("sensitive",f)}}},cast:{number:{from:d.isBool,to:(f,p)=>f?1:0},string:{from:d.isBool,to:(f,p)=>f?"true":"false"}},manifest:{build:(f,p)=>(p.truthy&&(f=f.truthy(...p.truthy)),p.falsy&&(f=f.falsy(...p.falsy)),f)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(n,s,o)=>{const a=o(375),l=o(8068),u=o(8160),h=o(3328),d={isDate:function(f){return f instanceof Date}};n.exports=l.extend({type:"date",coerce:{from:["number","string"],method:(f,{schema:p})=>({value:d.parse(f,p._flags.format)||f})},validate(f,{schema:p,error:g,prefs:y}){if(f instanceof Date&&!isNaN(f.getTime()))return;const b=p._flags.format;return y.convert&&b&&typeof f=="string"?{value:f,errors:g("date.format",{format:b})}:{value:f,errors:g("date.base")}},rules:{compare:{method:!1,validate(f,p,{date:g},{name:y,operator:b,args:x}){const w=g==="now"?Date.now():g.getTime();return u.compare(f.getTime(),w,b)?f:p.error("date."+y,{limit:x.date,value:f})},args:[{name:"date",ref:!0,normalize:f=>f==="now"?f:d.parse(f),assert:f=>f!==null,message:"must have a valid date format"}]},format:{method(f){return a(["iso","javascript","unix"].includes(f),"Unknown date format",f),this.$_setFlag("format",f)}},greater:{method(f){return this.$_addRule({name:"greater",method:"compare",args:{date:f},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(f){return this.$_addRule({name:"less",method:"compare",args:{date:f},operator:"<"})}},max:{method(f){return this.$_addRule({name:"max",method:"compare",args:{date:f},operator:"<="})}},min:{method(f){return this.$_addRule({name:"min",method:"compare",args:{date:f},operator:">="})}},timestamp:{method(f="javascript"){return a(["javascript","unix"].includes(f),'"type" must be one of "javascript, unix"'),this.format(f)}}},cast:{number:{from:d.isDate,to:(f,p)=>f.getTime()},string:{from:d.isDate,to:(f,{prefs:p})=>h.date(f,p)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(f,p){if(f instanceof Date)return f;if(typeof f!="string"&&(isNaN(f)||!isFinite(f))||/^\s*$/.test(f))return null;if(p==="iso")return u.isIsoDate(f)?d.date(f.toString()):null;const g=f;if(typeof f=="string"&&/^[+-]?\d+(\.\d+)?$/.test(f)&&(f=parseFloat(f)),p){if(p==="javascript")return d.date(1*f);if(p==="unix")return d.date(1e3*f);if(typeof g=="string")return null}return d.date(f)},d.date=function(f){const p=new Date(f);return isNaN(p.getTime())?null:p}},390:(n,s,o)=>{const a=o(375),l=o(7824);n.exports=l.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(u){return a(Number.isSafeInteger(u)&&u>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:u}})},validate:(u,h,{n:d})=>u.length===d?u:h.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(u,h)=>/^\s*class\s/.test(u.toString())?u:h.error("function.class",{value:u})},minArity:{method(u){return a(Number.isSafeInteger(u)&&u>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:u}})},validate:(u,h,{n:d})=>u.length>=d?u:h.error("function.minArity",{n:d})},maxArity:{method(u){return a(Number.isSafeInteger(u)&&u>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:u}})},validate:(u,h,{n:d})=>u.length<=d?u:h.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(n,s,o)=>{const a=o(978),l=o(375),u=o(8571),h=o(3652),d=o(8068),f=o(8160),p=o(3292),g=o(6354),y=o(6133),b=o(3328),x={renameDefaults:{alias:!1,multiple:!1,override:!1}};n.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(w,S)=>w.keys(S),validate(w,{schema:S,error:C,state:k,prefs:O}){if(!w||typeof w!==S.$_property("typeof")||Array.isArray(w))return{value:w,errors:C("object.base",{type:S.$_property("typeof")})};if(!(S.$_terms.renames||S.$_terms.dependencies||S.$_terms.keys||S.$_terms.patterns||S.$_terms.externals))return;w=x.clone(w,O);const M=[];if(S.$_terms.renames&&!x.rename(S,w,k,O,M))return{value:w,errors:M};if(!S.$_terms.keys&&!S.$_terms.patterns&&!S.$_terms.dependencies)return{value:w,errors:M};const A=new Set(Object.keys(w));if(S.$_terms.keys){const I=[w,...k.ancestors];for(const R of S.$_terms.keys){const V=R.key,oe=w[V];A.delete(V);const L=k.localize([...k.path,V],I,R),F=R.schema.$_validate(oe,L,O);if(F.errors){if(O.abortEarly)return{value:w,errors:F.errors};F.value!==void 0&&(w[V]=F.value),M.push(...F.errors)}else R.schema._flags.result==="strip"||F.value===void 0&&oe!==void 0?delete w[V]:F.value!==void 0&&(w[V]=F.value)}}if(A.size||S._flags._hasPatternMatch){const I=x.unknown(S,w,A,M,k,O);if(I)return I}if(S.$_terms.dependencies)for(const I of S.$_terms.dependencies){if(I.key!==null&&x.isPresent(I.options)(I.key.resolve(w,k,O,null,{shadow:!1}))===!1)continue;const R=x.dependencies[I.rel](S,I,w,k,O);if(R){const V=S.$_createError(R.code,w,R.context,k,O);if(O.abortEarly)return{value:w,errors:V};M.push(V)}}return{value:w,errors:M}},rules:{and:{method(...w){return f.verifyFlat(w,"and"),x.dependency(this,"and",null,w)}},append:{method(w){return w==null||Object.keys(w).length===0?this:this.keys(w)}},assert:{method(w,S,C){b.isTemplate(w)||(w=p.ref(w)),l(C===void 0||typeof C=="string","Message must be a string"),S=this.$_compile(S,{appendPath:!0});const k=this.$_addRule({name:"assert",args:{subject:w,schema:S,message:C}});return k.$_mutateRegister(w),k.$_mutateRegister(S),k},validate(w,{error:S,prefs:C,state:k},{subject:O,schema:M,message:A}){const I=O.resolve(w,k,C),R=y.isRef(O)?O.absolute(k):[];return M.$_match(I,k.localize(R,[w,...k.ancestors],M),C)?w:S("object.assert",{subject:O,message:A})},args:["subject","schema","message"],multi:!0},instance:{method(w,S){return l(typeof w=="function","constructor must be a function"),S=S||w.name,this.$_addRule({name:"instance",args:{constructor:w,name:S}})},validate:(w,S,{constructor:C,name:k})=>w instanceof C?w:S.error("object.instance",{type:k,value:w}),args:["constructor","name"]},keys:{method(w){l(w===void 0||typeof w=="object","Object schema must be a valid object"),l(!f.isSchema(w),"Object schema cannot be a joi schema");const S=this.clone();if(w)if(Object.keys(w).length){S.$_terms.keys=S.$_terms.keys?S.$_terms.keys.filter(C=>!w.hasOwnProperty(C.key)):new x.Keys;for(const C in w)f.tryWithPath(()=>S.$_terms.keys.push({key:C,schema:this.$_compile(w[C])}),C)}else S.$_terms.keys=new x.Keys;else S.$_terms.keys=null;return S.$_mutateRebuild()}},length:{method(w){return this.$_addRule({name:"length",args:{limit:w},operator:"="})},validate:(w,S,{limit:C},{name:k,operator:O,args:M})=>f.compare(Object.keys(w).length,C,O)?w:S.error("object."+k,{limit:M.limit,value:w}),args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"}]},max:{method(w){return this.$_addRule({name:"max",method:"length",args:{limit:w},operator:"<="})}},min:{method(w){return this.$_addRule({name:"min",method:"length",args:{limit:w},operator:">="})}},nand:{method(...w){return f.verifyFlat(w,"nand"),x.dependency(this,"nand",null,w)}},or:{method(...w){return f.verifyFlat(w,"or"),x.dependency(this,"or",null,w)}},oxor:{method(...w){return x.dependency(this,"oxor",null,w)}},pattern:{method(w,S,C={}){const k=w instanceof RegExp;k||(w=this.$_compile(w,{appendPath:!0})),l(S!==void 0,"Invalid rule"),f.assertOptions(C,["fallthrough","matches"]),k&&l(!w.flags.includes("g")&&!w.flags.includes("y"),"pattern should not use global or sticky mode"),S=this.$_compile(S,{appendPath:!0});const O=this.clone();O.$_terms.patterns=O.$_terms.patterns||[];const M={[k?"regex":"schema"]:w,rule:S};return C.matches&&(M.matches=this.$_compile(C.matches),M.matches.type!=="array"&&(M.matches=M.matches.$_root.array().items(M.matches)),O.$_mutateRegister(M.matches),O.$_setFlag("_hasPatternMatch",!0,{clone:!1})),C.fallthrough&&(M.fallthrough=!0),O.$_terms.patterns.push(M),O.$_mutateRegister(S),O}},ref:{method(){return this.$_addRule("ref")},validate:(w,S)=>y.isRef(w)?w:S.error("object.refType",{value:w})},regex:{method(){return this.$_addRule("regex")},validate:(w,S)=>w instanceof RegExp?w:S.error("object.regex",{value:w})},rename:{method(w,S,C={}){l(typeof w=="string"||w instanceof RegExp,"Rename missing the from argument"),l(typeof S=="string"||S instanceof b,"Invalid rename to argument"),l(S!==w,"Cannot rename key to same name:",w),f.assertOptions(C,["alias","ignoreUndefined","override","multiple"]);const k=this.clone();k.$_terms.renames=k.$_terms.renames||[];for(const O of k.$_terms.renames)l(O.from!==w,"Cannot rename the same key multiple times");return S instanceof b&&k.$_mutateRegister(S),k.$_terms.renames.push({from:w,to:S,options:a(x.renameDefaults,C)}),k}},schema:{method(w="any"){return this.$_addRule({name:"schema",args:{type:w}})},validate:(w,S,{type:C})=>!f.isSchema(w)||C!=="any"&&w.type!==C?S.error("object.schema",{type:C}):w},unknown:{method(w){return this.$_setFlag("unknown",w!==!1)}},with:{method(w,S,C={}){return x.dependency(this,"with",w,S,C)}},without:{method(w,S,C={}){return x.dependency(this,"without",w,S,C)}},xor:{method(...w){return f.verifyFlat(w,"xor"),x.dependency(this,"xor",null,w)}}},overrides:{default(w,S){return w===void 0&&(w=f.symbols.deepDefault),this.$_parent("default",w,S)}},rebuild(w){if(w.$_terms.keys){const S=new h.Sorter;for(const C of w.$_terms.keys)f.tryWithPath(()=>S.add(C,{after:C.schema.$_rootReferences(),group:C.key}),C.key);w.$_terms.keys=new x.Keys(...S.nodes)}},manifest:{build(w,S){if(S.keys&&(w=w.keys(S.keys)),S.dependencies)for(const{rel:C,key:k=null,peers:O,options:M}of S.dependencies)w=x.dependency(w,C,k,O,M);if(S.patterns)for(const{regex:C,schema:k,rule:O,fallthrough:M,matches:A}of S.patterns)w=w.pattern(C||k,O,{fallthrough:M,matches:A});if(S.renames)for(const{from:C,to:k,options:O}of S.renames)w=w.rename(C,k,O);return w}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),x.clone=function(w,S){if(typeof w=="object"){if(S.nonEnumerables)return u(w,{shallow:!0});const k=Object.create(Object.getPrototypeOf(w));return Object.assign(k,w),k}const C=function(...k){return w.apply(this,k)};return C.prototype=u(w.prototype),Object.defineProperty(C,"name",{value:w.name,writable:!1}),Object.defineProperty(C,"length",{value:w.length,writable:!1}),Object.assign(C,w),C},x.dependency=function(w,S,C,k,O){l(C===null||typeof C=="string",S,"key must be a strings"),O||(O=k.length>1&&typeof k[k.length-1]=="object"?k.pop():{}),f.assertOptions(O,["separator","isPresent"]),k=[].concat(k);const M=f.default(O.separator,"."),A=[];for(const R of k)l(typeof R=="string",S,"peers must be strings"),A.push(p.ref(R,{separator:M,ancestor:0,prefix:!1}));C!==null&&(C=p.ref(C,{separator:M,ancestor:0,prefix:!1}));const I=w.clone();return I.$_terms.dependencies=I.$_terms.dependencies||[],I.$_terms.dependencies.push(new x.Dependency(S,C,A,k,O)),I},x.dependencies={and(w,S,C,k,O){const M=[],A=[],I=S.peers.length,R=x.isPresent(S.options);for(const V of S.peers)R(V.resolve(C,k,O,null,{shadow:!1}))===!1?M.push(V.key):A.push(V.key);if(M.length!==I&&A.length!==I)return{code:"object.and",context:{present:A,presentWithLabels:x.keysToLabels(w,A),missing:M,missingWithLabels:x.keysToLabels(w,M)}}},nand(w,S,C,k,O){const M=[],A=x.isPresent(S.options);for(const V of S.peers)A(V.resolve(C,k,O,null,{shadow:!1}))&&M.push(V.key);if(M.length!==S.peers.length)return;const I=S.paths[0],R=S.paths.slice(1);return{code:"object.nand",context:{main:I,mainWithLabel:x.keysToLabels(w,I),peers:R,peersWithLabels:x.keysToLabels(w,R)}}},or(w,S,C,k,O){const M=x.isPresent(S.options);for(const A of S.peers)if(M(A.resolve(C,k,O,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:S.paths,peersWithLabels:x.keysToLabels(w,S.paths)}}},oxor(w,S,C,k,O){const M=[],A=x.isPresent(S.options);for(const R of S.peers)A(R.resolve(C,k,O,null,{shadow:!1}))&&M.push(R.key);if(!M.length||M.length===1)return;const I={peers:S.paths,peersWithLabels:x.keysToLabels(w,S.paths)};return I.present=M,I.presentWithLabels=x.keysToLabels(w,M),{code:"object.oxor",context:I}},with(w,S,C,k,O){const M=x.isPresent(S.options);for(const A of S.peers)if(M(A.resolve(C,k,O,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:S.key.key,mainWithLabel:x.keysToLabels(w,S.key.key),peer:A.key,peerWithLabel:x.keysToLabels(w,A.key)}}},without(w,S,C,k,O){const M=x.isPresent(S.options);for(const A of S.peers)if(M(A.resolve(C,k,O,null,{shadow:!1})))return{code:"object.without",context:{main:S.key.key,mainWithLabel:x.keysToLabels(w,S.key.key),peer:A.key,peerWithLabel:x.keysToLabels(w,A.key)}}},xor(w,S,C,k,O){const M=[],A=x.isPresent(S.options);for(const R of S.peers)A(R.resolve(C,k,O,null,{shadow:!1}))&&M.push(R.key);if(M.length===1)return;const I={peers:S.paths,peersWithLabels:x.keysToLabels(w,S.paths)};return M.length===0?{code:"object.missing",context:I}:(I.present=M,I.presentWithLabels=x.keysToLabels(w,M),{code:"object.xor",context:I})}},x.keysToLabels=function(w,S){return Array.isArray(S)?S.map(C=>w.$_mapLabels(C)):w.$_mapLabels(S)},x.isPresent=function(w){return typeof w.isPresent=="function"?w.isPresent:S=>S!==void 0},x.rename=function(w,S,C,k,O){const M={};for(const A of w.$_terms.renames){const I=[],R=typeof A.from!="string";if(R)for(const V in S){if(S[V]===void 0&&A.options.ignoreUndefined||V===A.to)continue;const oe=A.from.exec(V);oe&&I.push({from:V,to:A.to,match:oe})}else!Object.prototype.hasOwnProperty.call(S,A.from)||S[A.from]===void 0&&A.options.ignoreUndefined||I.push(A);for(const V of I){const oe=V.from;let L=V.to;if(L instanceof b&&(L=L.render(S,C,k,V.match)),oe!==L){if(!A.options.multiple&&M[L]&&(O.push(w.$_createError("object.rename.multiple",S,{from:oe,to:L,pattern:R},C,k)),k.abortEarly)||Object.prototype.hasOwnProperty.call(S,L)&&!A.options.override&&!M[L]&&(O.push(w.$_createError("object.rename.override",S,{from:oe,to:L,pattern:R},C,k)),k.abortEarly))return!1;S[oe]===void 0?delete S[L]:S[L]=S[oe],M[L]=!0,A.options.alias||delete S[oe]}}}return!0},x.unknown=function(w,S,C,k,O,M){if(w.$_terms.patterns){let A=!1;const I=w.$_terms.patterns.map(V=>{if(V.matches)return A=!0,[]}),R=[S,...O.ancestors];for(const V of C){const oe=S[V],L=[...O.path,V];for(let F=0;F<w.$_terms.patterns.length;++F){const U=w.$_terms.patterns[F];if(U.regex){const Q=U.regex.test(V);if(O.mainstay.tracer.debug(O,"rule",`pattern.${F}`,Q?"pass":"error"),!Q)continue}else if(!U.schema.$_match(V,O.nest(U.schema,`pattern.${F}`),M))continue;C.delete(V);const Y=O.localize(L,R,{schema:U.rule,key:V}),G=U.rule.$_validate(oe,Y,M);if(G.errors){if(M.abortEarly)return{value:S,errors:G.errors};k.push(...G.errors)}if(U.matches&&I[F].push(V),S[V]=G.value,!U.fallthrough)break}}if(A)for(let V=0;V<I.length;++V){const oe=I[V];if(!oe)continue;const L=w.$_terms.patterns[V].matches,F=O.localize(O.path,R,L),U=L.$_validate(oe,F,M);if(U.errors){const Y=g.details(U.errors,{override:!1});Y.matches=oe;const G=w.$_createError("object.pattern.match",S,Y,O,M);if(M.abortEarly)return{value:S,errors:G};k.push(G)}}}if(C.size&&(w.$_terms.keys||w.$_terms.patterns)){if(M.stripUnknown&&w._flags.unknown===void 0||M.skipFunctions){const A=!(!M.stripUnknown||M.stripUnknown!==!0&&!M.stripUnknown.objects);for(const I of C)A?(delete S[I],C.delete(I)):typeof S[I]=="function"&&C.delete(I)}if(!f.default(w._flags.unknown,M.allowUnknown))for(const A of C){const I=O.localize([...O.path,A],[]),R=w.$_createError("object.unknown",S[A],{child:A},I,M,{flags:!1});if(M.abortEarly)return{value:S,errors:R};k.push(R)}}},x.Dependency=class{constructor(w,S,C,k,O){this.rel=w,this.key=S,this.peers=C,this.paths=k,this.options=O}describe(){const w={rel:this.rel,peers:this.paths};return this.key!==null&&(w.key=this.key.key),this.peers[0].separator!=="."&&(w.options={...w.options,separator:this.peers[0].separator}),this.options.isPresent&&(w.options={...w.options,isPresent:this.options.isPresent}),w}},x.Keys=class extends Array{concat(w){const S=this.slice(),C=new Map;for(let k=0;k<S.length;++k)C.set(S[k].key,k);for(const k of w){const O=k.key,M=C.get(O);M!==void 0?S[M]={key:O,schema:S[M].schema.concat(k.schema)}:S.push(k)}return S}}},8785:(n,s,o)=>{const a=o(375),l=o(8068),u=o(8160),h=o(3292),d=o(6354),f={};n.exports=l.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(p,g)=>p.ref(g),validate(p,{schema:g,state:y,prefs:b}){a(g.$_terms.link,"Uninitialized link schema");const x=f.generate(g,p,y,b),w=g.$_terms.link[0].ref;return x.$_validate(p,y.nest(x,`link:${w.display}:${x.type}`),b)},generate:(p,g,y,b)=>f.generate(p,g,y,b),rules:{ref:{method(p){a(!this.$_terms.link,"Cannot reinitialize schema"),p=h.ref(p),a(p.type==="value"||p.type==="local","Invalid reference type:",p.type),a(p.type==="local"||p.ancestor==="root"||p.ancestor>0,"Link cannot reference itself");const g=this.clone();return g.$_terms.link=[{ref:p}],g}},relative:{method(p=!0){return this.$_setFlag("relative",p)}}},overrides:{concat(p){a(this.$_terms.link,"Uninitialized link schema"),a(u.isSchema(p),"Invalid schema object"),a(p.type!=="link","Cannot merge type link with another link");const g=this.clone();return g.$_terms.whens||(g.$_terms.whens=[]),g.$_terms.whens.push({concat:p}),g.$_mutateRebuild()}},manifest:{build:(p,g)=>(a(g.link,"Invalid link description missing link"),p.ref(g.link))}}),f.generate=function(p,g,y,b){let x=y.mainstay.links.get(p);if(x)return x._generate(g,y,b).schema;const w=p.$_terms.link[0].ref,{perspective:S,path:C}=f.perspective(w,y);f.assert(S,"which is outside of schema boundaries",w,p,y,b);try{x=C.length?S.$_reach(C):S}catch{f.assert(!1,"to non-existing schema",w,p,y,b)}return f.assert(x.type!=="link","which is another link",w,p,y,b),p._flags.relative||y.mainstay.links.set(p,x),x._generate(g,y,b).schema},f.perspective=function(p,g){if(p.type==="local"){for(const{schema:y,key:b}of g.schemas){if((y._flags.id||b)===p.path[0])return{perspective:y,path:p.path.slice(1)};if(y.$_terms.shared){for(const x of y.$_terms.shared)if(x._flags.id===p.path[0])return{perspective:x,path:p.path.slice(1)}}}return{perspective:null,path:null}}return p.ancestor==="root"?{perspective:g.schemas[g.schemas.length-1].schema,path:p.path}:{perspective:g.schemas[p.ancestor]&&g.schemas[p.ancestor].schema,path:p.path}},f.assert=function(p,g,y,b,x,w){p||a(!1,`"${d.label(b._flags,x,w)}" contains link reference "${y.display}" ${g}`)}},3832:(n,s,o)=>{const a=o(375),l=o(8068),u=o(8160),h={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const f=d.toString(),p=f.indexOf("."),g=f.indexOf("e");return(p<0?0:(g<0?f.length:g)-p-1)+(g<0?0:Math.max(0,-parseInt(f.slice(g+1))))}};n.exports=l.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:f,error:p}){if(!d.match(h.numberRx))return;d=d.trim();const g={value:parseFloat(d)};if(g.value===0&&(g.value=0),!f._flags.unsafe)if(d.match(/e/i)){if(h.extractSignificantDigits(d)!==h.extractSignificantDigits(String(g.value)))return g.errors=p("number.unsafe"),g}else{const y=g.value.toString();if(y.match(/e/i))return g;if(y!==h.normalizeDecimal(d))return g.errors=p("number.unsafe"),g}return g}},validate(d,{schema:f,error:p,prefs:g}){if(d===1/0||d===-1/0)return{value:d,errors:p("number.infinity")};if(!u.isNumber(d))return{value:d,errors:p("number.base")};const y={value:d};if(g.convert){const b=f.$_getRule("precision");if(b){const x=Math.pow(10,b.args.limit);y.value=Math.round(y.value*x)/x}}return y.value===0&&(y.value=0),!f._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(y.errors=p("number.unsafe")),y},rules:{compare:{method:!1,validate:(d,f,{limit:p},{name:g,operator:y,args:b})=>u.compare(d,p,y)?d:f.error("number."+g,{limit:b.limit,value:d}),args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,f)=>Math.trunc(d)-d==0?d:f.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const f=typeof d=="number"?h.decimalPlaces(d):null,p=Math.pow(10,f);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:f,pfactor:p}})},validate:(d,f,{base:p,baseDecimalPlace:g,pfactor:y},b)=>h.decimalPlaces(d)>g?f.error("number.multiple",{multiple:b.args.base,value:d}):Math.round(y*d)%Math.round(y*p)==0?d:f.error("number.multiple",{multiple:b.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,f)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:f.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return a(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,f,{limit:p}){const g=d.toString().match(h.precisionRx);return Math.max((g[1]?g[1].length:0)-(g[2]?parseInt(g[2],10):0),0)<=p?d:f.error("number.precision",{limit:p,value:d})},convert:!0},sign:{method(d){return a(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,f,{sign:p})=>p==="negative"&&d<0||p==="positive"&&d>0?d:f.error(`number.${p}`)},unsafe:{method(d=!0){return a(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,f)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),h.extractSignificantDigits=function(d){return d.replace(h.exponentialPartRegex,"").replace(h.dotRegex,"").replace(h.trailingZerosRegex,"").replace(h.leadingSignAndZerosRegex,"")},h.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(n,s,o)=>{const a=o(7824);n.exports=a.extend({type:"object",cast:{map:{from:l=>l&&typeof l=="object",to:(l,u)=>new Map(Object.entries(l))}}})},7417:(n,s,o)=>{const a=o(375),l=o(5380),u=o(1745),h=o(9959),d=o(6064),f=o(9926),p=o(5752),g=o(8068),y=o(8160),b={tlds:f instanceof Set&&{tlds:{allow:f,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:h.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};n.exports=g.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(x,{schema:w,state:S,prefs:C}){const k=w.$_getRule("normalize");k&&(x=x.normalize(k.args.form));const O=w.$_getRule("case");O&&(x=O.args.direction==="upper"?x.toLocaleUpperCase():x.toLocaleLowerCase());const M=w.$_getRule("trim");if(M&&M.args.enabled&&(x=x.trim()),w.$_terms.replacements)for(const I of w.$_terms.replacements)x=x.replace(I.pattern,I.replacement);const A=w.$_getRule("hex");if(A&&A.args.options.byteAligned&&x.length%2!=0&&(x=`0${x}`),w.$_getRule("isoDate")){const I=b.isoDate(x);I&&(x=I)}if(w._flags.truncate){const I=w.$_getRule("max");if(I){let R=I.args.limit;if(y.isResolvable(R)&&(R=R.resolve(x,S,C),!y.limit(R)))return{value:x,errors:w.$_createError("any.ref",R,{ref:I.args.limit,arg:"limit",reason:"must be a positive integer"},S,C)};x=x.slice(0,R)}}return{value:x}}},validate(x,{schema:w,error:S}){if(typeof x!="string")return{value:x,errors:S("string.base")};if(x===""){const C=w.$_getRule("min");return C&&C.args.limit===0?void 0:{value:x,errors:S("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(x,w)=>/^[a-zA-Z0-9]+$/.test(x)?x:w.error("string.alphanum")},base64:{method(x={}){return y.assertOptions(x,["paddingRequired","urlSafe"]),x={urlSafe:!1,paddingRequired:!0,...x},a(typeof x.paddingRequired=="boolean","paddingRequired must be boolean"),a(typeof x.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:x}})},validate:(x,w,{options:S})=>b.base64Regex[S.paddingRequired][S.urlSafe].test(x)?x:w.error("string.base64")},case:{method(x){return a(["lower","upper"].includes(x),"Invalid case:",x),this.$_addRule({name:"case",args:{direction:x}})},validate:(x,w,{direction:S})=>S==="lower"&&x===x.toLocaleLowerCase()||S==="upper"&&x===x.toLocaleUpperCase()?x:w.error(`string.${S}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(x,w){let S=x.length,C=0,k=1;for(;S--;){const O=x.charAt(S)*k;C+=O-9*(O>9),k^=3}return C>0&&C%10==0?x:w.error("string.creditCard")}},dataUri:{method(x={}){return y.assertOptions(x,["paddingRequired"]),x={paddingRequired:!0,...x},a(typeof x.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:x}})},validate(x,w,{options:S}){const C=x.match(b.dataUriRegex);return C&&(!C[2]||C[2]!=="base64"||b.base64Regex[S.paddingRequired].false.test(C[3]))?x:w.error("string.dataUri")}},domain:{method(x){x&&y.assertOptions(x,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const w=b.addressOptions(x);return this.$_addRule({name:"domain",args:{options:x},address:w})},validate:(x,w,S,{address:C})=>l.isValid(x,C)?x:w.error("string.domain")},email:{method(x={}){y.assertOptions(x,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),a(x.multiple===void 0||typeof x.multiple=="boolean","multiple option must be an boolean");const w=b.addressOptions(x),S=new RegExp(`\\s*[${x.separator?d(x.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:x},regex:S,address:w})},validate(x,w,{options:S},{regex:C,address:k}){const O=S.multiple?x.split(C):[x],M=[];for(const A of O)u.isValid(A,k)||M.push(A);return M.length?w.error("string.email",{value:x,invalids:M}):x}},guid:{alias:"uuid",method(x={}){y.assertOptions(x,["version","separator"]);let w="";if(x.version){const k=[].concat(x.version);a(k.length>=1,"version must have at least 1 valid version specified");const O=new Set;for(let M=0;M<k.length;++M){const A=k[M];a(typeof A=="string","version at position "+M+" must be a string");const I=b.guidVersions[A.toLowerCase()];a(I,"version at position "+M+" must be one of "+Object.keys(b.guidVersions).join(", ")),a(!O.has(I),"version at position "+M+" must not be a duplicate"),w+=I,O.add(I)}}a(b.guidSeparators.has(x.separator),'separator must be one of true, false, "-", or ":"');const S=x.separator===void 0?"[:-]?":x.separator===!0?"[:-]":x.separator===!1?"[]?":`\\${x.separator}`,C=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${S})[0-9A-F]{4}\\2?[${w||"0-9A-F"}][0-9A-F]{3}\\2?[${w?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:x},regex:C})},validate(x,w,S,{regex:C}){const k=C.exec(x);return k?b.guidBrackets[k[1]]!==k[k.length-1]?w.error("string.guid"):x:w.error("string.guid")}},hex:{method(x={}){return y.assertOptions(x,["byteAligned","prefix"]),x={byteAligned:!1,prefix:!1,...x},a(typeof x.byteAligned=="boolean","byteAligned must be boolean"),a(typeof x.prefix=="boolean"||x.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:x}})},validate:(x,w,{options:S})=>(S.prefix==="optional"?b.hexRegex.withOptionalPrefix:S.prefix===!0?b.hexRegex.withPrefix:b.hexRegex.withoutPrefix).test(x)?S.byteAligned&&x.length%2!=0?w.error("string.hexAlign"):x:w.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(x,w)=>l.isValid(x,{minDomainSegments:1})||b.ipRegex.test(x)?x:w.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(x={}){y.assertOptions(x,["cidr","version"]);const{cidr:w,versions:S,regex:C}=h.regex(x),k=x.version?S:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:w,version:k}},regex:C})},validate:(x,w,{options:S},{regex:C})=>C.test(x)?x:S.version?w.error("string.ipVersion",{value:x,cidr:S.cidr,version:S.version}):w.error("string.ip",{value:x,cidr:S.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(x,{error:w})=>b.isoDate(x)?x:w("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(x,w)=>b.isoDurationRegex.test(x)?x:w.error("string.isoDuration")},length:{method(x,w){return b.length(this,"length",x,"=",w)},validate(x,w,{limit:S,encoding:C},{name:k,operator:O,args:M}){const A=!C&&x.length;return y.compare(A,S,O)?x:w.error("string."+k,{limit:M.limit,value:x,encoding:C})},args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(x,w){return b.length(this,"max",x,"<=",w)},args:["limit","encoding"]},min:{method(x,w){return b.length(this,"min",x,">=",w)},args:["limit","encoding"]},normalize:{method(x="NFC"){return a(b.normalizationForms.includes(x),"normalization form must be one of "+b.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:x}})},validate:(x,{error:w},{form:S})=>x===x.normalize(S)?x:w("string.normalize",{value:x,form:S}),convert:!0},pattern:{alias:"regex",method(x,w={}){a(x instanceof RegExp,"regex must be a RegExp"),a(!x.flags.includes("g")&&!x.flags.includes("y"),"regex should not use global or sticky mode"),typeof w=="string"&&(w={name:w}),y.assertOptions(w,["invert","name"]);const S=["string.pattern",w.invert?".invert":"",w.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:x,options:w},errorCode:S})},validate:(x,w,{regex:S,options:C},{errorCode:k})=>S.test(x)^C.invert?x:w.error(k,{name:C.name,regex:S,value:x}),args:["regex","options"],multi:!0},replace:{method(x,w){typeof x=="string"&&(x=new RegExp(d(x),"g")),a(x instanceof RegExp,"pattern must be a RegExp"),a(typeof w=="string","replacement must be a String");const S=this.clone();return S.$_terms.replacements||(S.$_terms.replacements=[]),S.$_terms.replacements.push({pattern:x,replacement:w}),S}},token:{method(){return this.$_addRule("token")},validate:(x,w)=>/^\w+$/.test(x)?x:w.error("string.token")},trim:{method(x=!0){return a(typeof x=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:x}})},validate:(x,w,{enabled:S})=>S&&x!==x.trim()?w.error("string.trim"):x,convert:!0},truncate:{method(x=!0){return a(typeof x=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",x)}},uppercase:{method(){return this.case("upper")}},uri:{method(x={}){y.assertOptions(x,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),x.domain&&y.assertOptions(x.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:w,scheme:S}=p.regex(x),C=x.domain?b.addressOptions(x.domain):null;return this.$_addRule({name:"uri",args:{options:x},regex:w,domain:C,scheme:S})},validate(x,w,{options:S},{regex:C,domain:k,scheme:O}){if(["http:/","https:/"].includes(x))return w.error("string.uri");let M=C.exec(x);if(!M&&w.prefs.convert&&S.encodeUri){const A=encodeURI(x);M=C.exec(A),M&&(x=A)}if(M){const A=M[1]||M[2];return!k||S.allowRelative&&!A||l.isValid(A,k)?x:w.error("string.domain",{value:A})}return S.relativeOnly?w.error("string.uriRelativeOnly"):S.scheme?w.error("string.uriCustomScheme",{scheme:O,value:x}):w.error("string.uri")}}},manifest:{build(x,w){if(w.replacements)for(const{pattern:S,replacement:C}of w.replacements)x=x.replace(S,C);return x}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),b.addressOptions=function(x){if(!x)return b.tlds||x;if(a(x.minDomainSegments===void 0||Number.isSafeInteger(x.minDomainSegments)&&x.minDomainSegments>0,"minDomainSegments must be a positive integer"),a(x.maxDomainSegments===void 0||Number.isSafeInteger(x.maxDomainSegments)&&x.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),x.tlds===!1)return x;if(x.tlds===!0||x.tlds===void 0)return a(b.tlds,"Built-in TLD list disabled"),Object.assign({},x,b.tlds);a(typeof x.tlds=="object","tlds must be true, false, or an object");const w=x.tlds.deny;if(w)return Array.isArray(w)&&(x=Object.assign({},x,{tlds:{deny:new Set(w)}})),a(x.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),a(!x.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),b.validateTlds(x.tlds.deny,"tlds.deny"),x;const S=x.tlds.allow;return S?S===!0?(a(b.tlds,"Built-in TLD list disabled"),Object.assign({},x,b.tlds)):(Array.isArray(S)&&(x=Object.assign({},x,{tlds:{allow:new Set(S)}})),a(x.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),b.validateTlds(x.tlds.allow,"tlds.allow"),x):x},b.validateTlds=function(x,w){for(const S of x)a(l.isValid(S,{minDomainSegments:1,maxDomainSegments:1}),`${w} must contain valid top level domain names`)},b.isoDate=function(x){if(!y.isIsoDate(x))return null;/.*T.*[+-]\d\d$/.test(x)&&(x+="00");const w=new Date(x);return isNaN(w.getTime())?null:w.toISOString()},b.length=function(x,w,S,C,k){return a(!k||!1,"Invalid encoding:",k),x.$_addRule({name:w,method:"length",args:{limit:S,encoding:k},operator:C})}},8826:(n,s,o)=>{const a=o(375),l=o(8068),u={};u.Map=class extends Map{slice(){return new u.Map(this)}},n.exports=l.extend({type:"symbol",terms:{map:{init:new u.Map}},coerce:{method(h,{schema:d,error:f}){const p=d.$_terms.map.get(h);return p&&(h=p),d._flags.only&&typeof h!="symbol"?{value:h,errors:f("symbol.map",{map:d.$_terms.map})}:{value:h}}},validate(h,{error:d}){if(typeof h!="symbol")return{value:h,errors:d("symbol.base")}},rules:{map:{method(h){h&&!h[Symbol.iterator]&&typeof h=="object"&&(h=Object.entries(h)),a(h&&h[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),f=[];for(const p of h){a(p&&p[Symbol.iterator],"Entry must be an iterable");const[g,y]=p;a(typeof g!="object"&&typeof g!="function"&&typeof g!="symbol","Key must not be of type object, function, or Symbol"),a(typeof y=="symbol","Value must be a Symbol"),d.$_terms.map.set(g,y),f.push(y)}return d.valid(...f)}}},manifest:{build:(h,d)=>(d.map&&(h=h.map(d.map)),h)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(n,s,o)=>{const a=o(375),l=o(8571),u=o(738),h=o(9621),d=o(8160),f=o(6354),p=o(493),g={result:Symbol("result")};s.entry=function(y,b,x){let w=d.defaults;x&&(a(x.warnings===void 0,"Cannot override warnings preference in synchronous validation"),a(x.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),w=d.preferences(d.defaults,x));const S=g.entry(y,b,w);a(!S.mainstay.externals.length,"Schema with external rules must use validateAsync()");const C={value:S.value};return S.error&&(C.error=S.error),S.mainstay.warnings.length&&(C.warning=f.details(S.mainstay.warnings)),S.mainstay.debug&&(C.debug=S.mainstay.debug),S.mainstay.artifacts&&(C.artifacts=S.mainstay.artifacts),C},s.entryAsync=async function(y,b,x){let w=d.defaults;x&&(w=d.preferences(d.defaults,x));const S=g.entry(y,b,w),C=S.mainstay;if(S.error)throw C.debug&&(S.error.debug=C.debug),S.error;if(C.externals.length){let O=S.value;const M=[];for(const A of C.externals){const I=A.state.path,R=A.schema.type==="link"?C.links.get(A.schema):null;let V,oe,L=O;const F=I.length?[O]:[],U=I.length?h(y,I):y;if(I.length){V=I[I.length-1];let Y=O;for(const G of I.slice(0,-1))Y=Y[G],F.unshift(Y);oe=F[0],L=oe[V]}try{const Y=(Q,J)=>(R||A.schema).$_createError(Q,L,J,A.state,w),G=await A.method(L,{schema:A.schema,linked:R,state:A.state,prefs:x,original:U,error:Y,errorsArray:g.errorsArray,warn:(Q,J)=>C.warnings.push((R||A.schema).$_createError(Q,L,J,A.state,w)),message:(Q,J)=>(R||A.schema).$_createError("external",L,J,A.state,w,{messages:Q})});if(G===void 0||G===L)continue;if(G instanceof f.Report){if(C.tracer.log(A.schema,A.state,"rule","external","error"),M.push(G),w.abortEarly)break;continue}if(Array.isArray(G)&&G[d.symbols.errors]){if(C.tracer.log(A.schema,A.state,"rule","external","error"),M.push(...G),w.abortEarly)break;continue}oe?(C.tracer.value(A.state,"rule",L,G,"external"),oe[V]=G):(C.tracer.value(A.state,"rule",O,G,"external"),O=G)}catch(Y){throw w.errors.label&&(Y.message+=` (${A.label})`),Y}}if(S.value=O,M.length)throw S.error=f.process(M,y,w),C.debug&&(S.error.debug=C.debug),S.error}if(!w.warnings&&!w.debug&&!w.artifacts)return S.value;const k={value:S.value};return C.warnings.length&&(k.warning=f.details(C.warnings)),C.debug&&(k.debug=C.debug),C.artifacts&&(k.artifacts=C.artifacts),k},g.Mainstay=class{constructor(y,b,x){this.externals=[],this.warnings=[],this.tracer=y,this.debug=b,this.links=x,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const y=this._snapshots.pop();this.externals=y.externals,this.warnings=y.warnings}commit(){this._snapshots.pop()}},g.entry=function(y,b,x){const{tracer:w,cleanup:S}=g.tracer(b,x),C=x.debug?[]:null,k=b._ids._schemaChain?new Map:null,O=new g.Mainstay(w,C,k),M=b._ids._schemaChain?[{schema:b}]:null,A=new p([],[],{mainstay:O,schemas:M}),I=s.validate(y,b,A,x);S&&b.$_root.untrace();const R=f.process(I.errors,y,x);return{value:I.value,error:R,mainstay:O}},g.tracer=function(y,b){return y.$_root._tracer?{tracer:y.$_root._tracer._register(y)}:b.debug?(a(y.$_root.trace,"Debug mode not supported"),{tracer:y.$_root.trace()._register(y),cleanup:!0}):{tracer:g.ignore}},s.validate=function(y,b,x,w,S={}){if(b.$_terms.whens&&(b=b._generate(y,x,w).schema),b._preferences&&(w=g.prefs(b,w)),b._cache&&w.cache){const R=b._cache.get(y);if(x.mainstay.tracer.debug(x,"validate","cached",!!R),R)return R}const C=(R,V,oe)=>b.$_createError(R,y,V,oe||x,w),k={original:y,prefs:w,schema:b,state:x,error:C,errorsArray:g.errorsArray,warn:(R,V,oe)=>x.mainstay.warnings.push(C(R,V,oe)),message:(R,V)=>b.$_createError("custom",y,V,x,w,{messages:R})};x.mainstay.tracer.entry(b,x);const O=b._definition;if(O.prepare&&y!==void 0&&w.convert){const R=O.prepare(y,k);if(R){if(x.mainstay.tracer.value(x,"prepare",y,R.value),R.errors)return g.finalize(R.value,[].concat(R.errors),k);y=R.value}}if(O.coerce&&y!==void 0&&w.convert&&(!O.coerce.from||O.coerce.from.includes(typeof y))){const R=O.coerce.method(y,k);if(R){if(x.mainstay.tracer.value(x,"coerced",y,R.value),R.errors)return g.finalize(R.value,[].concat(R.errors),k);y=R.value}}const M=b._flags.empty;M&&M.$_match(g.trim(y,b),x.nest(M),d.defaults)&&(x.mainstay.tracer.value(x,"empty",y,void 0),y=void 0);const A=S.presence||b._flags.presence||(b._flags._endedSwitch?null:w.presence);if(y===void 0){if(A==="forbidden")return g.finalize(y,null,k);if(A==="required")return g.finalize(y,[b.$_createError("any.required",y,null,x,w)],k);if(A==="optional"){if(b._flags.default!==d.symbols.deepDefault)return g.finalize(y,null,k);x.mainstay.tracer.value(x,"default",y,{}),y={}}}else if(A==="forbidden")return g.finalize(y,[b.$_createError("any.unknown",y,null,x,w)],k);const I=[];if(b._valids){const R=b._valids.get(y,x,w,b._flags.insensitive);if(R)return w.convert&&(x.mainstay.tracer.value(x,"valids",y,R.value),y=R.value),x.mainstay.tracer.filter(b,x,"valid",R),g.finalize(y,null,k);if(b._flags.only){const V=b.$_createError("any.only",y,{valids:b._valids.values({display:!0})},x,w);if(w.abortEarly)return g.finalize(y,[V],k);I.push(V)}}if(b._invalids){const R=b._invalids.get(y,x,w,b._flags.insensitive);if(R){x.mainstay.tracer.filter(b,x,"invalid",R);const V=b.$_createError("any.invalid",y,{invalids:b._invalids.values({display:!0})},x,w);if(w.abortEarly)return g.finalize(y,[V],k);I.push(V)}}if(O.validate){const R=O.validate(y,k);if(R&&(x.mainstay.tracer.value(x,"base",y,R.value),y=R.value,R.errors)){if(!Array.isArray(R.errors))return I.push(R.errors),g.finalize(y,I,k);if(R.errors.length)return I.push(...R.errors),g.finalize(y,I,k)}}return b._rules.length?g.rules(y,I,k):g.finalize(y,I,k)},g.rules=function(y,b,x){const{schema:w,state:S,prefs:C}=x;for(const k of w._rules){const O=w._definition.rules[k.method];if(O.convert&&C.convert){S.mainstay.tracer.log(w,S,"rule",k.name,"full");continue}let M,A=k.args;if(k._resolve.length){A=Object.assign({},A);for(const R of k._resolve){const V=O.argsByName.get(R),oe=A[R].resolve(y,S,C),L=V.normalize?V.normalize(oe):oe,F=d.validateArg(L,null,V);if(F){M=w.$_createError("any.ref",oe,{arg:R,ref:A[R],reason:F},S,C);break}A[R]=L}}M=M||O.validate(y,x,A,k);const I=g.rule(M,k);if(I.errors){if(S.mainstay.tracer.log(w,S,"rule",k.name,"error"),k.warn){S.mainstay.warnings.push(...I.errors);continue}if(C.abortEarly)return g.finalize(y,I.errors,x);b.push(...I.errors)}else S.mainstay.tracer.log(w,S,"rule",k.name,"pass"),S.mainstay.tracer.value(S,"rule",y,I.value,k.name),y=I.value}return g.finalize(y,b,x)},g.rule=function(y,b){return y instanceof f.Report?(g.error(y,b),{errors:[y],value:null}):Array.isArray(y)&&y[d.symbols.errors]?(y.forEach(x=>g.error(x,b)),{errors:y,value:null}):{errors:null,value:y}},g.error=function(y,b){return b.message&&y._setTemplate(b.message),y},g.finalize=function(y,b,x){b=b||[];const{schema:w,state:S,prefs:C}=x;if(b.length){const O=g.default("failover",void 0,b,x);O!==void 0&&(S.mainstay.tracer.value(S,"failover",y,O),y=O,b=[])}if(b.length&&w._flags.error)if(typeof w._flags.error=="function"){b=w._flags.error(b),Array.isArray(b)||(b=[b]);for(const O of b)a(O instanceof Error||O instanceof f.Report,"error() must return an Error object")}else b=[w._flags.error];if(y===void 0){const O=g.default("default",y,b,x);S.mainstay.tracer.value(S,"default",y,O),y=O}if(w._flags.cast&&y!==void 0){const O=w._definition.cast[w._flags.cast];if(O.from(y)){const M=O.to(y,x);S.mainstay.tracer.value(S,"cast",y,M,w._flags.cast),y=M}}if(w.$_terms.externals&&C.externals&&C._externals!==!1)for(const{method:O}of w.$_terms.externals)S.mainstay.externals.push({method:O,schema:w,state:S,label:f.label(w._flags,S,C)});const k={value:y,errors:b.length?b:null};return w._flags.result&&(k.value=w._flags.result==="strip"?void 0:x.original,S.mainstay.tracer.value(S,w._flags.result,y,k.value),S.shadow(y,w._flags.result)),w._cache&&C.cache!==!1&&!w._refs.length&&w._cache.set(x.original,k),y===void 0||k.errors||w._flags.artifact===void 0||(S.mainstay.artifacts=S.mainstay.artifacts||new Map,S.mainstay.artifacts.has(w._flags.artifact)||S.mainstay.artifacts.set(w._flags.artifact,[]),S.mainstay.artifacts.get(w._flags.artifact).push(S.path)),k},g.prefs=function(y,b){const x=b===d.defaults;return x&&y._preferences[d.symbols.prefs]?y._preferences[d.symbols.prefs]:(b=d.preferences(b,y._preferences),x&&(y._preferences[d.symbols.prefs]=b),b)},g.default=function(y,b,x,w){const{schema:S,state:C,prefs:k}=w,O=S._flags[y];if(k.noDefaults||O===void 0)return b;if(C.mainstay.tracer.log(S,C,"rule",y,"full"),!O)return O;if(typeof O=="function"){const M=O.length?[l(C.ancestors[0]),w]:[];try{return O(...M)}catch(A){return void x.push(S.$_createError(`any.${y}`,null,{error:A},C,k))}}return typeof O!="object"?O:O[d.symbols.literal]?O.literal:d.isResolvable(O)?O.resolve(b,C,k):l(O)},g.trim=function(y,b){if(typeof y!="string")return y;const x=b.$_getRule("trim");return x&&x.args.enabled?y.trim():y},g.ignore={active:!1,debug:u,entry:u,filter:u,log:u,resolve:u,value:u},g.errorsArray=function(){const y=[];return y[d.symbols.errors]=!0,y}},2036:(n,s,o)=>{const a=o(375),l=o(9474),u=o(8160),h={};n.exports=h.Values=class{constructor(d,f){this._values=new Set(d),this._refs=new Set(f),this._lowercase=h.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,f){u.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),f&&f.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,f,p){if(d=d||new h.Values,f){if(f._override)return f.clone();for(const g of[...f._values,...f._refs])d.add(g)}if(p)for(const g of[...p._values,...p._refs])d.remove(g);return d.length?d:null}remove(d){u.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,f,p,g){return!!this.get(d,f,p,g)}get(d,f,p,g){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&g){const y=this._lowercase.get(d.toLowerCase());if(y)return{value:y}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const y of this._values)if(l(y,d))return{value:y}}if(f)for(const y of this._refs){const b=y.resolve(d,f,p,null,{in:!0});if(b===void 0)continue;const x=y.in&&typeof b=="object"?Array.isArray(b)?b:Object.keys(b):[b];for(const w of x)if(typeof w==typeof d){if(g&&d&&typeof d=="string"){if(w.toLowerCase()===d.toLowerCase())return{value:w,ref:y}}else if(l(w,d))return{value:w,ref:y}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const f=[];for(const p of[...this._values,...this._refs])p!==void 0&&f.push(p);return f}return Array.from([...this._values,...this._refs])}clone(){const d=new h.Values(this._values,this._refs);return d._override=this._override,d}concat(d){a(!d._override,"Cannot concat override set of values");const f=new h.Values([...this._values,...d._values],[...this._refs,...d._refs]);return f._override=this._override,f}describe(){const d=[];this._override&&d.push({override:!0});for(const f of this._values.values())d.push(f&&typeof f=="object"?{value:f}:f);for(const f of this._refs.values())d.push(f.describe());return d}},h.Values.prototype[u.symbols.values]=!0,h.Values.prototype.slice=h.Values.prototype.clone,h.lowercases=function(d){const f=new Map;if(d)for(const p of d)typeof p=="string"&&f.set(p.toLowerCase(),p);return f}},978:(n,s,o)=>{const a=o(375),l=o(8571),u=o(1687),h=o(9621),d={};n.exports=function(f,p,g={}){if(a(f&&typeof f=="object","Invalid defaults value: must be an object"),a(!p||p===!0||typeof p=="object","Invalid source value: must be true, falsy or an object"),a(typeof g=="object","Invalid options: must be an object"),!p)return null;if(g.shallow)return d.applyToDefaultsWithShallow(f,p,g);const y=l(f);if(p===!0)return y;const b=g.nullOverride!==void 0&&g.nullOverride;return u(y,p,{nullOverride:b,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(f,p,g){const y=g.shallow;a(Array.isArray(y),"Invalid keys");const b=new Map,x=p===!0?null:new Set;for(let C of y){C=Array.isArray(C)?C:C.split(".");const k=h(f,C);k&&typeof k=="object"?b.set(k,x&&h(p,C)||k):x&&x.add(C)}const w=l(f,{},b);if(!x)return w;for(const C of x)d.reachCopy(w,p,C);const S=g.nullOverride!==void 0&&g.nullOverride;return u(w,p,{nullOverride:S,mergeArrays:!1})},d.reachCopy=function(f,p,g){for(const x of g){if(!(x in p))return;const w=p[x];if(typeof w!="object"||w===null)return;p=w}const y=p;let b=f;for(let x=0;x<g.length-1;++x){const w=g[x];typeof b[w]!="object"&&(b[w]={}),b=b[w]}b[g[g.length-1]]=y}},375:(n,s,o)=>{const a=o(7916);n.exports=function(l,...u){if(!l)throw u.length===1&&u[0]instanceof Error?u[0]:new a(u)}},8571:(n,s,o)=>{const a=o(9621),l=o(4277),u=o(7043),h={needsProtoHack:new Set([l.set,l.map,l.weakSet,l.weakMap])};n.exports=h.clone=function(d,f={},p=null){if(typeof d!="object"||d===null)return d;let g=h.clone,y=p;if(f.shallow){if(f.shallow!==!0)return h.cloneWithShallow(d,f);g=S=>S}else if(y){const S=y.get(d);if(S)return S}else y=new Map;const b=l.getInternalProto(d);if(b===l.buffer)return!1;if(b===l.date)return new Date(d.getTime());if(b===l.regex)return new RegExp(d);const x=h.base(d,b,f);if(x===d)return d;if(y&&y.set(d,x),b===l.set)for(const S of d)x.add(g(S,f,y));else if(b===l.map)for(const[S,C]of d)x.set(S,g(C,f,y));const w=u.keys(d,f);for(const S of w){if(S==="__proto__")continue;if(b===l.array&&S==="length"){x.length=d.length;continue}const C=Object.getOwnPropertyDescriptor(d,S);C?C.get||C.set?Object.defineProperty(x,S,C):C.enumerable?x[S]=g(d[S],f,y):Object.defineProperty(x,S,{enumerable:!1,writable:!0,configurable:!0,value:g(d[S],f,y)}):Object.defineProperty(x,S,{enumerable:!0,writable:!0,configurable:!0,value:g(d[S],f,y)})}return x},h.cloneWithShallow=function(d,f){const p=f.shallow;(f=Object.assign({},f)).shallow=!1;const g=new Map;for(const y of p){const b=a(d,y);typeof b!="object"&&typeof b!="function"||g.set(b,b)}return h.clone(d,f,g)},h.base=function(d,f,p){if(p.prototype===!1)return h.needsProtoHack.has(f)?new f.constructor:f===l.array?[]:{};const g=Object.getPrototypeOf(d);if(g&&g.isImmutable)return d;if(f===l.array){const y=[];return g!==f&&Object.setPrototypeOf(y,g),y}if(h.needsProtoHack.has(f)){const y=new g.constructor;return g!==f&&Object.setPrototypeOf(y,g),y}return Object.create(g)}},9474:(n,s,o)=>{const a=o(4277),l={mismatched:null};n.exports=function(u,h,d){return d=Object.assign({prototype:!0},d),!!l.isDeepEqual(u,h,d,[])},l.isDeepEqual=function(u,h,d,f){if(u===h)return u!==0||1/u==1/h;const p=typeof u;if(p!==typeof h||u===null||h===null)return!1;if(p==="function"){if(!d.deepFunction||u.toString()!==h.toString())return!1}else if(p!=="object")return u!=u&&h!=h;const g=l.getSharedType(u,h,!!d.prototype);switch(g){case a.buffer:return!1;case a.promise:return u===h;case a.regex:return u.toString()===h.toString();case l.mismatched:return!1}for(let y=f.length-1;y>=0;--y)if(f[y].isSame(u,h))return!0;f.push(new l.SeenEntry(u,h));try{return!!l.isDeepEqualObj(g,u,h,d,f)}finally{f.pop()}},l.getSharedType=function(u,h,d){if(d)return Object.getPrototypeOf(u)!==Object.getPrototypeOf(h)?l.mismatched:a.getInternalProto(u);const f=a.getInternalProto(u);return f!==a.getInternalProto(h)?l.mismatched:f},l.valueOf=function(u){const h=u.valueOf;if(h===void 0)return u;try{return h.call(u)}catch(d){return d}},l.hasOwnEnumerableProperty=function(u,h){return Object.prototype.propertyIsEnumerable.call(u,h)},l.isSetSimpleEqual=function(u,h){for(const d of Set.prototype.values.call(u))if(!Set.prototype.has.call(h,d))return!1;return!0},l.isDeepEqualObj=function(u,h,d,f,p){const{isDeepEqual:g,valueOf:y,hasOwnEnumerableProperty:b}=l,{keys:x,getOwnPropertySymbols:w}=Object;if(u===a.array){if(!f.part){if(h.length!==d.length)return!1;for(let M=0;M<h.length;++M)if(!g(h[M],d[M],f,p))return!1;return!0}for(const M of h)for(const A of d)if(g(M,A,f,p))return!0}else if(u===a.set){if(h.size!==d.size)return!1;if(!l.isSetSimpleEqual(h,d)){const M=new Set(Set.prototype.values.call(d));for(const A of Set.prototype.values.call(h)){if(M.delete(A))continue;let I=!1;for(const R of M)if(g(A,R,f,p)){M.delete(R),I=!0;break}if(!I)return!1}}}else if(u===a.map){if(h.size!==d.size)return!1;for(const[M,A]of Map.prototype.entries.call(h))if(A===void 0&&!Map.prototype.has.call(d,M)||!g(A,Map.prototype.get.call(d,M),f,p))return!1}else if(u===a.error&&(h.name!==d.name||h.message!==d.message))return!1;const S=y(h),C=y(d);if((h!==S||d!==C)&&!g(S,C,f,p))return!1;const k=x(h);if(!f.part&&k.length!==x(d).length&&!f.skip)return!1;let O=0;for(const M of k)if(f.skip&&f.skip.includes(M))d[M]===void 0&&++O;else if(!b(d,M)||!g(h[M],d[M],f,p))return!1;if(!f.part&&k.length-O!==x(d).length)return!1;if(f.symbols!==!1){const M=w(h),A=new Set(w(d));for(const I of M){if(!f.skip||!f.skip.includes(I)){if(b(h,I)){if(!b(d,I)||!g(h[I],d[I],f,p))return!1}else if(b(d,I))return!1}A.delete(I)}for(const I of A)if(b(d,I))return!1}return!0},l.SeenEntry=class{constructor(u,h){this.obj=u,this.ref=h}isSame(u,h){return this.obj===u&&this.ref===h}}},7916:(n,s,o)=>{const a=o(8761);n.exports=class extends Error{constructor(l){super(l.filter(u=>u!=="").map(u=>typeof u=="string"?u:u instanceof Error?u.message:a(u)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,s.assert)}}},5277:n=>{const s={};n.exports=function(o){if(!o)return"";let a="";for(let l=0;l<o.length;++l){const u=o.charCodeAt(l);s.isSafe(u)?a+=o[l]:a+=s.escapeHtmlChar(u)}return a},s.escapeHtmlChar=function(o){return s.namedHtml.get(o)||(o>=256?"&#"+o+";":`&#x${o.toString(16).padStart(2,"0")};`)},s.isSafe=function(o){return s.safeCharCodes.has(o)},s.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),s.safeCharCodes=function(){const o=new Set;for(let a=32;a<123;++a)(a>=97||a>=65&&a<=90||a>=48&&a<=57||a===32||a===46||a===44||a===45||a===58||a===95)&&o.add(a);return o}()},6064:n=>{n.exports=function(s){return s.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:n=>{n.exports=function(){}},1687:(n,s,o)=>{const a=o(375),l=o(8571),u=o(7043),h={};n.exports=h.merge=function(d,f,p){if(a(d&&typeof d=="object","Invalid target value: must be an object"),a(f==null||typeof f=="object","Invalid source value: must be null, undefined, or an object"),!f)return d;if(p=Object.assign({nullOverride:!0,mergeArrays:!0},p),Array.isArray(f)){a(Array.isArray(d),"Cannot merge array onto an object"),p.mergeArrays||(d.length=0);for(let y=0;y<f.length;++y)d.push(l(f[y],{symbols:p.symbols}));return d}const g=u.keys(f,p);for(let y=0;y<g.length;++y){const b=g[y];if(b==="__proto__"||!Object.prototype.propertyIsEnumerable.call(f,b))continue;const x=f[b];if(x&&typeof x=="object"){if(d[b]===x)continue;!d[b]||typeof d[b]!="object"||Array.isArray(d[b])!==Array.isArray(x)||x instanceof Date||x instanceof RegExp?d[b]=l(x,{symbols:p.symbols}):h.merge(d[b],x,p)}else(x!=null||p.nullOverride)&&(d[b]=x)}return d}},9621:(n,s,o)=>{const a=o(375),l={};n.exports=function(u,h,d){if(h===!1||h==null)return u;typeof(d=d||{})=="string"&&(d={separator:d});const f=Array.isArray(h);a(!f||!d.separator,"Separator option is not valid for array-based chain");const p=f?h:h.split(d.separator||".");let g=u;for(let y=0;y<p.length;++y){let b=p[y];const x=d.iterables&&l.iterables(g);if(Array.isArray(g)||x==="set"){const w=Number(b);Number.isInteger(w)&&(b=w<0?g.length+w:w)}if(!g||typeof g=="function"&&d.functions===!1||!x&&g[b]===void 0){a(!d.strict||y+1===p.length,"Missing segment",b,"in reach path ",h),a(typeof g=="object"||d.functions===!0||typeof g!="function","Invalid segment",b,"in reach path ",h),g=d.default;break}g=x?x==="set"?[...g][b]:g.get(b):g[b]}return g},l.iterables=function(u){return u instanceof Set?"set":u instanceof Map?"map":void 0}},8761:n=>{n.exports=function(...s){try{return JSON.stringify(...s)}catch(o){return"[Cannot display object: "+o.message+"]"}}},4277:(n,s)=>{const o={};s=n.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},o.typeMap=new Map([["[object Error]",s.error],["[object Map]",s.map],["[object Promise]",s.promise],["[object Set]",s.set],["[object WeakMap]",s.weakMap],["[object WeakSet]",s.weakSet]]),s.getInternalProto=function(a){if(Array.isArray(a))return s.array;if(a instanceof Date)return s.date;if(a instanceof RegExp)return s.regex;if(a instanceof Error)return s.error;const l=Object.prototype.toString.call(a);return o.typeMap.get(l)||s.generic}},7043:(n,s)=>{s.keys=function(o,a={}){return a.symbols!==!1?Reflect.ownKeys(o):Object.getOwnPropertyNames(o)}},3652:(n,s,o)=>{const a=o(375),l={};s.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(u,h){const d=[].concat((h=h||{}).before||[]),f=[].concat(h.after||[]),p=h.group||"?",g=h.sort||0;a(!d.includes(p),`Item cannot come before itself: ${p}`),a(!d.includes("?"),"Item cannot come before unassociated items"),a(!f.includes(p),`Item cannot come after itself: ${p}`),a(!f.includes("?"),"Item cannot come after unassociated items"),Array.isArray(u)||(u=[u]);for(const y of u){const b={seq:this._items.length,sort:g,before:d,after:f,group:p,node:y};this._items.push(b)}if(!h.manual){const y=this._sort();a(y,"item",p!=="?"?`added into group ${p}`:"","created a dependencies error")}return this.nodes}merge(u){Array.isArray(u)||(u=[u]);for(const d of u)if(d)for(const f of d._items)this._items.push(Object.assign({},f));this._items.sort(l.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const h=this._sort();return a(h,"merge created a dependencies error"),this.nodes}sort(){const u=this._sort();return a(u,"sort created a dependencies error"),this.nodes}_sort(){const u={},h=Object.create(null),d=Object.create(null);for(const b of this._items){const x=b.seq,w=b.group;d[w]=d[w]||[],d[w].push(x),u[x]=b.before;for(const S of b.after)h[S]=h[S]||[],h[S].push(x)}for(const b in u){const x=[];for(const w in u[b]){const S=u[b][w];d[S]=d[S]||[],x.push(...d[S])}u[b]=x}for(const b in h)if(d[b])for(const x of d[b])u[x].push(...h[b]);const f={};for(const b in u){const x=u[b];for(const w of x)f[w]=f[w]||[],f[w].push(b)}const p={},g=[];for(let b=0;b<this._items.length;++b){let x=b;if(f[b]){x=null;for(let w=0;w<this._items.length;++w){if(p[w]===!0)continue;f[w]||(f[w]=[]);const S=f[w].length;let C=0;for(let k=0;k<S;++k)p[f[w][k]]&&++C;if(C===S){x=w;break}}}x!==null&&(p[x]=!0,g.push(x))}if(g.length!==this._items.length)return!1;const y={};for(const b of this._items)y[b.seq]=b;this._items=[],this.nodes=[];for(const b of g){const x=y[b];this.nodes.push(x.node),this._items.push(x)}return!0}},l.mergeSort=(u,h)=>u.sort===h.sort?0:u.sort<h.sort?-1:1},5380:(n,s,o)=>{const a=o(443),l=o(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:a.URL||URL};s.analyze=function(h,d={}){if(!h)return l.code("DOMAIN_NON_EMPTY_STRING");if(typeof h!="string")throw new Error("Invalid input: domain must be a string");if(h.length>256)return l.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(h)){if(d.allowUnicode===!1)return l.code("DOMAIN_INVALID_UNICODE_CHARS");h=h.normalize("NFC")}if(u.domainControlRx.test(h))return l.code("DOMAIN_INVALID_CHARS");h=u.punycode(h),d.allowFullyQualified&&h[h.length-1]==="."&&(h=h.slice(0,-1));const f=d.minDomainSegments||u.minDomainSegments,p=h.split(".");if(p.length<f)return l.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&p.length>d.maxDomainSegments)return l.code("DOMAIN_SEGMENTS_COUNT_MAX");const g=d.tlds;if(g){const y=p[p.length-1].toLowerCase();if(g.deny&&g.deny.has(y)||g.allow&&!g.allow.has(y))return l.code("DOMAIN_FORBIDDEN_TLDS")}for(let y=0;y<p.length;++y){const b=p[y];if(!b.length)return l.code("DOMAIN_EMPTY_SEGMENT");if(b.length>63)return l.code("DOMAIN_LONG_SEGMENT");if(y<p.length-1){if(!u.domainSegmentRx.test(b))return l.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(b))return l.code("DOMAIN_INVALID_TLDS_CHARS")}return null},s.isValid=function(h,d){return!s.analyze(h,d)},u.punycode=function(h){h.includes("%")&&(h=h.replace(/%/g,"%25"));try{return new u.URL(`http://${h}`).host}catch{return h}}},1745:(n,s,o)=>{const a=o(9848),l=o(5380),u=o(2178),h={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(a.TextEncoder||TextEncoder)};s.analyze=function(d,f){return h.email(d,f)},s.isValid=function(d,f){return!h.email(d,f)},h.email=function(d,f={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return u.code("EMPTY_STRING");const p=!h.nonAsciiRx.test(d);if(!p){if(f.allowUnicode===!1)return u.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const g=d.split("@");if(g.length!==2)return g.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");const[y,b]=g;if(!y)return u.code("EMPTY_LOCAL");if(!f.ignoreLength){if(d.length>254)return u.code("ADDRESS_TOO_LONG");if(h.encoder.encode(y).length>64)return u.code("LOCAL_TOO_LONG")}return h.local(y,p)||l.analyze(b,f)},h.local=function(d,f){const p=d.split(".");for(const g of p){if(!g.length)return u.code("EMPTY_LOCAL_SEGMENT");if(f){if(!h.atextRx.test(g))return u.code("INVALID_LOCAL_CHARS")}else for(const y of g){if(h.atextRx.test(y))continue;const b=h.binary(y);if(!h.atomRx.test(b))return u.code("INVALID_LOCAL_CHARS")}}},h.binary=function(d){return Array.from(h.encoder.encode(d)).map(f=>String.fromCharCode(f)).join("")},h.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,h.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(n,s)=>{s.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},s.code=function(o){return{code:o,error:s.codes[o]}}},9959:(n,s,o)=>{const a=o(375),l=o(5752);s.regex=function(u={}){a(u.cidr===void 0||typeof u.cidr=="string","options.cidr must be a string");const h=u.cidr?u.cidr.toLowerCase():"optional";a(["required","optional","forbidden"].includes(h),"options.cidr must be one of required, optional, forbidden"),a(u.version===void 0||typeof u.version=="string"||Array.isArray(u.version),"options.version must be a string or an array of string");let d=u.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),a(d.length>=1,"options.version must have at least 1 version specified");for(let g=0;g<d.length;++g)a(typeof d[g]=="string","options.version must only contain strings"),d[g]=d[g].toLowerCase(),a(["ipv4","ipv6","ipvfuture"].includes(d[g]),"options.version contains unknown version "+d[g]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const f=`(?:${d.map(g=>{if(h==="forbidden")return l.ip[g];const y=`\\/${g==="ipv4"?l.ip.v4Cidr:l.ip.v6Cidr}`;return h==="required"?`${l.ip[g]}${y}`:`${l.ip[g]}(?:${y})?`}).join("|")})`,p=new RegExp(`^${f}$`);return{cidr:h,versions:d,regex:p,raw:f}}},5752:(n,s,o)=>{const a=o(375),l=o(6064),u={generate:function(){const h={},d="\\dA-Fa-f",f="["+d+"]",p="\\w-\\.~",g="!\\$&'\\(\\)\\*\\+,;=",y="%"+d,b=p+y+g+":@",x="["+b+"]",w="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";h.ipv4address="(?:"+w+"\\.){3}"+w;const S=f+"{1,4}",C="(?:"+S+":"+S+"|"+h.ipv4address+")",k="(?:"+S+":){6}"+C,O="::(?:"+S+":){5}"+C,M="(?:"+S+")?::(?:"+S+":){4}"+C,A="(?:(?:"+S+":){0,1}"+S+")?::(?:"+S+":){3}"+C,I="(?:(?:"+S+":){0,2}"+S+")?::(?:"+S+":){2}"+C,R="(?:(?:"+S+":){0,3}"+S+")?::"+S+":"+C,V="(?:(?:"+S+":){0,4}"+S+")?::"+C,oe="(?:(?:"+S+":){0,5}"+S+")?::"+S,L="(?:(?:"+S+":){0,6}"+S+")?::";h.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",h.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",h.ipv6address="(?:"+k+"|"+O+"|"+M+"|"+A+"|"+I+"|"+R+"|"+V+"|"+oe+"|"+L+")",h.ipvFuture="v"+f+"+\\.["+p+g+":]+",h.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",h.schemeRegex=new RegExp(h.scheme);const F="["+p+y+g+":]*",U="["+p+y+g+"]{1,255}",Y="(?:\\[(?:"+h.ipv6address+"|"+h.ipvFuture+")\\]|"+h.ipv4address+"|"+U+")",G="(?:"+F+"@)?"+Y+"(?::\\d*)?",Q="(?:"+F+"@)?("+Y+")(?::\\d*)?",J=x+"*",re=x+"+",pe="(?:\\/"+J+")*",ee="\\/(?:"+re+pe+")?",B=re+pe,ge="["+p+y+g+"@]+"+pe,ve="(?:\\/\\/\\/"+J+pe+")";return h.hierPart="(?:(?:\\/\\/"+G+pe+")|"+ee+"|"+B+"|"+ve+")",h.hierPartCapture="(?:(?:\\/\\/"+Q+pe+")|"+ee+"|"+B+")",h.relativeRef="(?:(?:\\/\\/"+G+pe+")|"+ee+"|"+ge+"|)",h.relativeRefCapture="(?:(?:\\/\\/"+Q+pe+")|"+ee+"|"+ge+"|)",h.query="["+b+"\\/\\?]*(?=#|$)",h.queryWithSquareBrackets="["+b+"\\[\\]\\/\\?]*(?=#|$)",h.fragment="["+b+"\\/\\?]*",h}};u.rfc3986=u.generate(),s.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(h){const d=u.rfc3986,f="(?:\\?"+(h.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",p=h.domain?d.relativeRefCapture:d.relativeRef;if(h.relativeOnly)return u.wrap(p+f);let g="";if(h.scheme){a(h.scheme instanceof RegExp||typeof h.scheme=="string"||Array.isArray(h.scheme),"scheme must be a RegExp, String, or Array");const x=[].concat(h.scheme);a(x.length>=1,"scheme must have at least 1 scheme specified");const w=[];for(let S=0;S<x.length;++S){const C=x[S];a(C instanceof RegExp||typeof C=="string","scheme at position "+S+" must be a RegExp or String"),C instanceof RegExp?w.push(C.source.toString()):(a(d.schemeRegex.test(C),"scheme at position "+S+" must be a valid scheme"),w.push(l(C)))}g=w.join("|")}const y="(?:"+(g?"(?:"+g+")":d.scheme)+":"+(h.domain?d.hierPartCapture:d.hierPart)+")",b=h.allowRelative?"(?:"+y+"|"+p+")":y;return u.wrap(b+f,g)},u.wrap=function(h,d){return{raw:h=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${h}`,regex:new RegExp(`^${h}$`),scheme:d}},u.uriRegex=u.createRegex({}),s.regex=function(h={}){return h.scheme||h.allowRelative||h.relativeOnly||h.allowQuerySquareBrackets||h.domain?u.createRegex(h):u.uriRegex}},1447:(n,s)=>{const o={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};s.Parser=class{constructor(a,l={}){if(!l[o.settings]&&l.constants)for(const u in l.constants){const h=l.constants[u];if(h!==null&&!["boolean","number","string"].includes(typeof h))throw new Error(`Formula constant ${u} contains invalid ${typeof h} value type`)}this.settings=l[o.settings]?l:Object.assign({[o.settings]:!0,constants:{},functions:{}},l),this.single=null,this._parts=null,this._parse(a)}_parse(a){let l=[],u="",h=0,d=!1;const f=g=>{if(h)throw new Error("Formula missing closing parenthesis");const y=l.length?l[l.length-1]:null;if(d||u||g){if(y&&y.type==="reference"&&g===")")return y.type="function",y.value=this._subFormula(u,y.value),void(u="");if(g===")"){const b=new s.Parser(u,this.settings);l.push({type:"segment",value:b})}else if(d){if(d==="]")return l.push({type:"reference",value:u}),void(u="");l.push({type:"literal",value:u})}else if(o.operatorCharacters.includes(u))y&&y.type==="operator"&&o.operators.includes(y.value+u)?y.value+=u:l.push({type:"operator",value:u});else if(u.match(o.numberRx))l.push({type:"constant",value:parseFloat(u)});else if(this.settings.constants[u]!==void 0)l.push({type:"constant",value:this.settings.constants[u]});else{if(!u.match(o.tokenRx))throw new Error(`Formula contains invalid token: ${u}`);l.push({type:"reference",value:u})}u=""}};for(const g of a)d?g===d?(f(),d=!1):u+=g:h?g==="("?(u+=g,++h):g===")"?(--h,h?u+=g:f(g)):u+=g:g in o.literals?d=o.literals[g]:g==="("?(f(),++h):o.operatorCharacters.includes(g)?(f(),u=g,f()):g!==" "?u+=g:f();f(),l=l.map((g,y)=>g.type!=="operator"||g.value!=="-"||y&&l[y-1].type!=="operator"?g:{type:"operator",value:"n"});let p=!1;for(const g of l){if(g.type==="operator"){if(o.operatorsPrefix.includes(g.value))continue;if(!p)throw new Error("Formula contains an operator in invalid position");if(!o.operators.includes(g.value))throw new Error(`Formula contains an unknown operator ${g.value}`)}else if(p)throw new Error("Formula missing expected operator");p=!p}if(!p)throw new Error("Formula contains invalid trailing operator");l.length===1&&["reference","literal","constant"].includes(l[0].type)&&(this.single={type:l[0].type==="reference"?"reference":"value",value:l[0].value}),this._parts=l.map(g=>{if(g.type==="operator")return o.operatorsPrefix.includes(g.value)?g:g.value;if(g.type!=="reference")return g.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(g.value))throw new Error(`Formula contains invalid reference ${g.value}`);return this.settings.reference?this.settings.reference(g.value):o.reference(g.value)})}_subFormula(a,l){const u=this.settings.functions[l];if(typeof u!="function")throw new Error(`Formula contains unknown function ${l}`);let h=[];if(a){let d="",f=0,p=!1;const g=()=>{if(!d)throw new Error(`Formula contains function ${l} with invalid arguments ${a}`);h.push(d),d=""};for(let y=0;y<a.length;++y){const b=a[y];p?(d+=b,b===p&&(p=!1)):b in o.literals&&!f?(d+=b,p=o.literals[b]):b!==","||f?(d+=b,b==="("?++f:b===")"&&--f):g()}g()}return h=h.map(d=>new s.Parser(d,this.settings)),function(d){const f=[];for(const p of h)f.push(p.evaluate(d));return u.call(d,...f)}}evaluate(a){const l=this._parts.slice();for(let u=l.length-2;u>=0;--u){const h=l[u];if(h&&h.type==="operator"){const d=l[u+1];l.splice(u+1,1);const f=o.evaluate(d,a);l[u]=o.single(h.value,f)}}return o.operatorsOrder.forEach(u=>{for(let h=1;h<l.length-1;)if(u.includes(l[h])){const d=l[h],f=o.evaluate(l[h-1],a),p=o.evaluate(l[h+1],a);l.splice(h,2);const g=o.calculate(d,f,p);l[h-1]=g===0?0:g}else h+=2}),o.evaluate(l[0],a)}},s.Parser.prototype[o.symbol]=!0,o.reference=function(a){return function(l){return l&&l[a]!==void 0?l[a]:null}},o.evaluate=function(a,l){return a===null?null:typeof a=="function"?a(l):a[o.symbol]?a.evaluate(l):a},o.single=function(a,l){if(a==="!")return!l;const u=-l;return u===0?0:u},o.calculate=function(a,l,u){if(a==="??")return o.exists(l)?l:u;if(typeof l=="string"||typeof u=="string"){if(a==="+")return(l=o.exists(l)?l:"")+(o.exists(u)?u:"")}else switch(a){case"^":return Math.pow(l,u);case"*":return l*u;case"/":return l/u;case"%":return l%u;case"+":return l+u;case"-":return l-u}switch(a){case"<":return l<u;case"<=":return l<=u;case">":return l>u;case">=":return l>=u;case"==":return l===u;case"!=":return l!==u;case"&&":return l&&u;case"||":return l||u}return null},o.exists=function(a){return a!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:n=>{n.exports=JSON.parse('{"version":"17.13.3"}')}},i={},function n(s){var o=i[s];if(o!==void 0)return o.exports;var a=i[s]={exports:{}};return r[s](a,a.exports,n),a.exports}(5107);var r,i})})(Yhe);var LVe=Yhe.exports;const _i=Ps(LVe),Zhe={id:_i.string().required()},mne={...Zhe,as:_i.string().valid("img","video").required(),src:_i.string().uri().required(),position:_i.string().valid("center","left","right"),"data-parallax":_i.boolean().required()},Xhe=_i.object({type:_i.string().required(),url:_i.string().when("type",{is:"STAC",then:_i.string().required(),otherwise:_i.string().optional()}),properties:_i.object({id:_i.string().required()}).unknown().required(),source:_i.object({type:_i.string().required()}).unknown().when("type",{is:"STAC",then:_i.optional(),otherwise:_i.required()})}).pattern(_i.string(),_i.any()),OVe=_i.object({type:_i.string().valid("group","Group"),properties:_i.object({id:_i.string().required()}).unknown().required(),layers:_i.array().items(Xhe)}),mk={layers:_i.array().items(_i.object().keys({type:_i.string().required()}).unknown().custom((t,e)=>{const{error:r}=t.type==="Group"?OVe.validate(t):Xhe.validate(t);return r?e.message(r.message):t},"Custom validator for map schema.")).optional(),center:_i.array().items(_i.number()).min(2).max(2).optional(),zoom:_i.number().optional()},Khe={config:_i.object({...mk}).unknown().optional()},Jhe={"eox-map":_i.object({...Zhe,...mk,...Khe}).unknown()},MVe={hero:{img:_i.object({...mne}).unknown(),video:_i.object({...mne}).unknown()},tour:{"eox-map":Jhe["eox-map"],"section-step":_i.object({...mk,...Khe}).unknown()}};function RVe(t,e){var n,s;let r=[];for(const o of Object.keys(t)){const a=t[o];if(a.as){const l=a.mode?(n=MVe[a.mode])==null?void 0:n[a.as]:Jhe[a.as];l&&((s=l.validate(a,{abortEarly:!1}).error)==null||s.details.forEach(h=>{r.push({ref:`#${o}`,message:h.message}),console.error(`#${o}`,h.message)}))}}const i=(e.shadowRoot||e).querySelector("eox-storytelling-editor");setTimeout(()=>i==null?void 0:i.updateErrors(r),300)}var p2={exports:{}};/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */var gne;function yne(){return gne||(gne=1,function(t,e){(function(r,i){t.exports=i()})(oi,function(){const{entries:r,setPrototypeOf:i,isFrozen:n,getPrototypeOf:s,getOwnPropertyDescriptor:o}=Object;let{freeze:a,seal:l,create:u}=Object,{apply:h,construct:d}=typeof Reflect<"u"&&Reflect;a||(a=function(me){return me}),l||(l=function(me){return me}),h||(h=function(me,T,$){return me.apply(T,$)}),d||(d=function(me,T){return new me(...T)});const f=A(Array.prototype.forEach),p=A(Array.prototype.pop),g=A(Array.prototype.push),y=A(String.prototype.toLowerCase),b=A(String.prototype.toString),x=A(String.prototype.match),w=A(String.prototype.replace),S=A(String.prototype.indexOf),C=A(String.prototype.trim),k=A(Object.prototype.hasOwnProperty),O=A(RegExp.prototype.test),M=I(TypeError);function A(ae){return function(me){for(var T=arguments.length,$=new Array(T>1?T-1:0),W=1;W<T;W++)$[W-1]=arguments[W];return h(ae,me,$)}}function I(ae){return function(){for(var me=arguments.length,T=new Array(me),$=0;$<me;$++)T[$]=arguments[$];return d(ae,T)}}function R(ae,me){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;i&&i(ae,null);let $=me.length;for(;$--;){let W=me[$];if(typeof W=="string"){const K=T(W);K!==W&&(n(me)||(me[$]=K),W=K)}ae[W]=!0}return ae}function V(ae){for(let me=0;me<ae.length;me++)k(ae,me)||(ae[me]=null);return ae}function oe(ae){const me=u(null);for(const[T,$]of r(ae))k(ae,T)&&(Array.isArray($)?me[T]=V($):$&&typeof $=="object"&&$.constructor===Object?me[T]=oe($):me[T]=$);return me}function L(ae,me){for(;ae!==null;){const $=o(ae,me);if($){if($.get)return A($.get);if(typeof $.value=="function")return A($.value)}ae=s(ae)}function T(){return null}return T}const F=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Q=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),J=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),re=a(["#text"]),pe=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ee=a(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ge=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ve=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ze=l(/<%[\w\W]*|[\w\W]*%>/gm),it=l(/\${[\w\W]*}/gm),tt=l(/^data-[\-\w.\u00B7-\uFFFF]/),Ne=l(/^aria-[\-\w]+$/),Xe=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nt=l(/^(?:\w+script|data):/i),vt=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Dt=l(/^html$/i),Rt=l(/^[a-z][.\w]*(-[.\w]+)+$/i);var Er=Object.freeze({__proto__:null,MUSTACHE_EXPR:ve,ERB_EXPR:ze,TMPLIT_EXPR:it,DATA_ATTR:tt,ARIA_ATTR:Ne,IS_ALLOWED_URI:Xe,IS_SCRIPT_OR_DATA:nt,ATTR_WHITESPACE:vt,DOCTYPE_NAME:Dt,CUSTOM_ELEMENT:Rt});const or={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},di=function(){return typeof window>"u"?null:window},We=function(me,T){if(typeof me!="object"||typeof me.createPolicy!="function")return null;let $=null;const W="data-tt-policy-suffix";T&&T.hasAttribute(W)&&($=T.getAttribute(W));const K="dompurify"+($?"#"+$:"");try{return me.createPolicy(K,{createHTML(ye){return ye},createScriptURL(ye){return ye}})}catch{return console.warn("TrustedTypes policy "+K+" could not be created."),null}};function he(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:di();const me=ie=>he(ie);if(me.version="3.1.7",me.removed=[],!ae||!ae.document||ae.document.nodeType!==or.document)return me.isSupported=!1,me;let{document:T}=ae;const $=T,W=$.currentScript,{DocumentFragment:K,HTMLTemplateElement:ye,Node:xe,Element:Me,NodeFilter:j,NamedNodeMap:te=ae.NamedNodeMap||ae.MozNamedAttrMap,HTMLFormElement:de,DOMParser:ce,trustedTypes:Ae}=ae,Ce=Me.prototype,Se=L(Ce,"cloneNode"),De=L(Ce,"remove"),Ie=L(Ce,"nextSibling"),Ve=L(Ce,"childNodes"),ot=L(Ce,"parentNode");if(typeof ye=="function"){const ie=T.createElement("template");ie.content&&ie.content.ownerDocument&&(T=ie.content.ownerDocument)}let lt,$t="";const{implementation:mt,createNodeIterator:zt,createDocumentFragment:Ht,getElementsByTagName:Vt}=T,{importNode:fr}=$;let Yt={};me.isSupported=typeof r=="function"&&typeof ot=="function"&&mt&&mt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ri,ERB_EXPR:dn,TMPLIT_EXPR:hn,DATA_ATTR:on,ARIA_ATTR:$s,IS_SCRIPT_OR_DATA:Sr,ATTR_WHITESPACE:ai,CUSTOM_ELEMENT:hi}=Er;let{IS_ALLOWED_URI:$r}=Er,pr=null;const an=R({},[...F,...U,...Y,...Q,...re]);let Ir=null;const Cn=R({},[...pe,...ee,...B,...ge]);let ur=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),qn=null,fe=null,Te=!0,rt=!0,Ye=!1,bt=!0,qt=!1,Wt=!0,pt=!1,Je=!1,Kt=!1,Jt=!1,Lt=!1,Ct=!1,ii=!0,Li=!1;const Bt="user-content-";let He=!0,ht=!1,Dr={},li=null;const ni=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ui=null;const qr=R({},["audio","video","img","source","image","track"]);let Ot=null;const Ki=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fn="http://www.w3.org/1998/Math/MathML",pn="http://www.w3.org/2000/svg",kn="http://www.w3.org/1999/xhtml";let Hn=kn,ps=!1,ms=null;const gs=R({},[fn,pn,kn],b);let Dn=null;const Bs=["application/xhtml+xml","text/html"],ys="text/html";let Ii=null,bs=null;const es=T.createElement("form"),Vn=function(X){return X instanceof RegExp||X instanceof Function},Gn=function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(bs&&bs===X)){if((!X||typeof X!="object")&&(X={}),X=oe(X),Dn=Bs.indexOf(X.PARSER_MEDIA_TYPE)===-1?ys:X.PARSER_MEDIA_TYPE,Ii=Dn==="application/xhtml+xml"?b:y,pr=k(X,"ALLOWED_TAGS")?R({},X.ALLOWED_TAGS,Ii):an,Ir=k(X,"ALLOWED_ATTR")?R({},X.ALLOWED_ATTR,Ii):Cn,ms=k(X,"ALLOWED_NAMESPACES")?R({},X.ALLOWED_NAMESPACES,b):gs,Ot=k(X,"ADD_URI_SAFE_ATTR")?R(oe(Ki),X.ADD_URI_SAFE_ATTR,Ii):Ki,ui=k(X,"ADD_DATA_URI_TAGS")?R(oe(qr),X.ADD_DATA_URI_TAGS,Ii):qr,li=k(X,"FORBID_CONTENTS")?R({},X.FORBID_CONTENTS,Ii):ni,qn=k(X,"FORBID_TAGS")?R({},X.FORBID_TAGS,Ii):{},fe=k(X,"FORBID_ATTR")?R({},X.FORBID_ATTR,Ii):{},Dr=k(X,"USE_PROFILES")?X.USE_PROFILES:!1,Te=X.ALLOW_ARIA_ATTR!==!1,rt=X.ALLOW_DATA_ATTR!==!1,Ye=X.ALLOW_UNKNOWN_PROTOCOLS||!1,bt=X.ALLOW_SELF_CLOSE_IN_ATTR!==!1,qt=X.SAFE_FOR_TEMPLATES||!1,Wt=X.SAFE_FOR_XML!==!1,pt=X.WHOLE_DOCUMENT||!1,Jt=X.RETURN_DOM||!1,Lt=X.RETURN_DOM_FRAGMENT||!1,Ct=X.RETURN_TRUSTED_TYPE||!1,Kt=X.FORCE_BODY||!1,ii=X.SANITIZE_DOM!==!1,Li=X.SANITIZE_NAMED_PROPS||!1,He=X.KEEP_CONTENT!==!1,ht=X.IN_PLACE||!1,$r=X.ALLOWED_URI_REGEXP||Xe,Hn=X.NAMESPACE||kn,ur=X.CUSTOM_ELEMENT_HANDLING||{},X.CUSTOM_ELEMENT_HANDLING&&Vn(X.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ur.tagNameCheck=X.CUSTOM_ELEMENT_HANDLING.tagNameCheck),X.CUSTOM_ELEMENT_HANDLING&&Vn(X.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ur.attributeNameCheck=X.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),X.CUSTOM_ELEMENT_HANDLING&&typeof X.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ur.allowCustomizedBuiltInElements=X.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),qt&&(rt=!1),Lt&&(Jt=!0),Dr&&(pr=R({},re),Ir=[],Dr.html===!0&&(R(pr,F),R(Ir,pe)),Dr.svg===!0&&(R(pr,U),R(Ir,ee),R(Ir,ge)),Dr.svgFilters===!0&&(R(pr,Y),R(Ir,ee),R(Ir,ge)),Dr.mathMl===!0&&(R(pr,Q),R(Ir,B),R(Ir,ge))),X.ADD_TAGS&&(pr===an&&(pr=oe(pr)),R(pr,X.ADD_TAGS,Ii)),X.ADD_ATTR&&(Ir===Cn&&(Ir=oe(Ir)),R(Ir,X.ADD_ATTR,Ii)),X.ADD_URI_SAFE_ATTR&&R(Ot,X.ADD_URI_SAFE_ATTR,Ii),X.FORBID_CONTENTS&&(li===ni&&(li=oe(li)),R(li,X.FORBID_CONTENTS,Ii)),He&&(pr["#text"]=!0),pt&&R(pr,["html","head","body"]),pr.table&&(R(pr,["tbody"]),delete qn.tbody),X.TRUSTED_TYPES_POLICY){if(typeof X.TRUSTED_TYPES_POLICY.createHTML!="function")throw M('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof X.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw M('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');lt=X.TRUSTED_TYPES_POLICY,$t=lt.createHTML("")}else lt===void 0&&(lt=We(Ae,W)),lt!==null&&typeof $t=="string"&&($t=lt.createHTML(""));a&&a(X),bs=X}},Wn=R({},["mi","mo","mn","ms","mtext"]),vs=R({},["annotation-xml"]),ho=R({},["title","style","font","a","script"]),ts=R({},[...U,...Y,...G]),fo=R({},[...Q,...J]),js=function(X){let Oe=ot(X);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:Hn,tagName:"template"});const Ke=y(X.tagName),Pt=y(Oe.tagName);return ms[X.namespaceURI]?X.namespaceURI===pn?Oe.namespaceURI===kn?Ke==="svg":Oe.namespaceURI===fn?Ke==="svg"&&(Pt==="annotation-xml"||Wn[Pt]):!!ts[Ke]:X.namespaceURI===fn?Oe.namespaceURI===kn?Ke==="math":Oe.namespaceURI===pn?Ke==="math"&&vs[Pt]:!!fo[Ke]:X.namespaceURI===kn?Oe.namespaceURI===pn&&!vs[Pt]||Oe.namespaceURI===fn&&!Wn[Pt]?!1:!fo[Ke]&&(ho[Ke]||!ts[Ke]):!!(Dn==="application/xhtml+xml"&&ms[X.namespaceURI]):!1},Oi=function(X){g(me.removed,{element:X});try{ot(X).removeChild(X)}catch{De(X)}},Yn=function(X,Oe){try{g(me.removed,{attribute:Oe.getAttributeNode(X),from:Oe})}catch{g(me.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(X),X==="is"&&!Ir[X])if(Jt||Lt)try{Oi(Oe)}catch{}else try{Oe.setAttribute(X,"")}catch{}},An=function(X){let Oe=null,Ke=null;if(Kt)X="<remove></remove>"+X;else{const cr=x(X,/^[\r\n\t ]+/);Ke=cr&&cr[0]}Dn==="application/xhtml+xml"&&Hn===kn&&(X='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+X+"</body></html>");const Pt=lt?lt.createHTML(X):X;if(Hn===kn)try{Oe=new ce().parseFromString(Pt,Dn)}catch{}if(!Oe||!Oe.documentElement){Oe=mt.createDocument(Hn,"template",null);try{Oe.documentElement.innerHTML=ps?$t:Pt}catch{}}const kt=Oe.body||Oe.documentElement;return X&&Ke&&kt.insertBefore(T.createTextNode(Ke),kt.childNodes[0]||null),Hn===kn?Vt.call(Oe,pt?"html":"body")[0]:pt?Oe.documentElement:kt},Ks=function(X){return zt.call(X.ownerDocument||X,X,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},rs=function(X){return X instanceof de&&(typeof X.nodeName!="string"||typeof X.textContent!="string"||typeof X.removeChild!="function"||!(X.attributes instanceof te)||typeof X.removeAttribute!="function"||typeof X.setAttribute!="function"||typeof X.namespaceURI!="string"||typeof X.insertBefore!="function"||typeof X.hasChildNodes!="function")},wn=function(X){return typeof xe=="function"&&X instanceof xe},Ln=function(X,Oe,Ke){Yt[X]&&f(Yt[X],Pt=>{Pt.call(me,Oe,Ke,bs)})},xs=function(X){let Oe=null;if(Ln("beforeSanitizeElements",X,null),rs(X))return Oi(X),!0;const Ke=Ii(X.nodeName);if(Ln("uponSanitizeElement",X,{tagName:Ke,allowedTags:pr}),X.hasChildNodes()&&!wn(X.firstElementChild)&&O(/<[/\w]/g,X.innerHTML)&&O(/<[/\w]/g,X.textContent)||X.nodeType===or.progressingInstruction||Wt&&X.nodeType===or.comment&&O(/<[/\w]/g,X.data))return Oi(X),!0;if(!pr[Ke]||qn[Ke]){if(!qn[Ke]&&_s(Ke)&&(ur.tagNameCheck instanceof RegExp&&O(ur.tagNameCheck,Ke)||ur.tagNameCheck instanceof Function&&ur.tagNameCheck(Ke)))return!1;if(He&&!li[Ke]){const Pt=ot(X)||X.parentNode,kt=Ve(X)||X.childNodes;if(kt&&Pt){const cr=kt.length;for(let Lr=cr-1;Lr>=0;--Lr){const Br=Se(kt[Lr],!0);Br.__removalCount=(X.__removalCount||0)+1,Pt.insertBefore(Br,Ie(X))}}}return Oi(X),!0}return X instanceof Me&&!js(X)||(Ke==="noscript"||Ke==="noembed"||Ke==="noframes")&&O(/<\/no(script|embed|frames)/i,X.innerHTML)?(Oi(X),!0):(qt&&X.nodeType===or.text&&(Oe=X.textContent,f([ri,dn,hn],Pt=>{Oe=w(Oe,Pt," ")}),X.textContent!==Oe&&(g(me.removed,{element:X.cloneNode()}),X.textContent=Oe)),Ln("afterSanitizeElements",X,null),!1)},ln=function(X,Oe,Ke){if(ii&&(Oe==="id"||Oe==="name")&&(Ke in T||Ke in es))return!1;if(!(rt&&!fe[Oe]&&O(on,Oe))){if(!(Te&&O($s,Oe))){if(!Ir[Oe]||fe[Oe]){if(!(_s(X)&&(ur.tagNameCheck instanceof RegExp&&O(ur.tagNameCheck,X)||ur.tagNameCheck instanceof Function&&ur.tagNameCheck(X))&&(ur.attributeNameCheck instanceof RegExp&&O(ur.attributeNameCheck,Oe)||ur.attributeNameCheck instanceof Function&&ur.attributeNameCheck(Oe))||Oe==="is"&&ur.allowCustomizedBuiltInElements&&(ur.tagNameCheck instanceof RegExp&&O(ur.tagNameCheck,Ke)||ur.tagNameCheck instanceof Function&&ur.tagNameCheck(Ke))))return!1}else if(!Ot[Oe]){if(!O($r,w(Ke,ai,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&X!=="script"&&S(Ke,"data:")===0&&ui[X])){if(!(Ye&&!O(Sr,w(Ke,ai,"")))){if(Ke)return!1}}}}}}return!0},_s=function(X){return X!=="annotation-xml"&&x(X,hi)},po=function(X){Ln("beforeSanitizeAttributes",X,null);const{attributes:Oe}=X;if(!Oe)return;const Ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ir};let Pt=Oe.length;for(;Pt--;){const kt=Oe[Pt],{name:cr,namespaceURI:Lr,value:Br}=kt,jr=Ii(cr);let zr=cr==="value"?Br:C(Br);if(Ke.attrName=jr,Ke.attrValue=zr,Ke.keepAttr=!0,Ke.forceKeepAttr=void 0,Ln("uponSanitizeAttribute",X,Ke),zr=Ke.attrValue,Ke.forceKeepAttr||(Yn(cr,X),!Ke.keepAttr))continue;if(!bt&&O(/\/>/i,zr)){Yn(cr,X);continue}qt&&f([ri,dn,hn],Or=>{zr=w(zr,Or," ")});const Ei=Ii(X.nodeName);if(ln(Ei,jr,zr)){if(Li&&(jr==="id"||jr==="name")&&(Yn(cr,X),zr=Bt+zr),Wt&&O(/((--!?|])>)|<\/(style|title)/i,zr)){Yn(cr,X);continue}if(lt&&typeof Ae=="object"&&typeof Ae.getAttributeType=="function"&&!Lr)switch(Ae.getAttributeType(Ei,jr)){case"TrustedHTML":{zr=lt.createHTML(zr);break}case"TrustedScriptURL":{zr=lt.createScriptURL(zr);break}}try{Lr?X.setAttributeNS(Lr,cr,zr):X.setAttribute(cr,zr),rs(X)?Oi(X):p(me.removed)}catch{}}}Ln("afterSanitizeAttributes",X,null)},Zn=function ie(X){let Oe=null;const Ke=Ks(X);for(Ln("beforeSanitizeShadowDOM",X,null);Oe=Ke.nextNode();)Ln("uponSanitizeShadowNode",Oe,null),!xs(Oe)&&(Oe.content instanceof K&&ie(Oe.content),po(Oe));Ln("afterSanitizeShadowDOM",X,null)};return me.sanitize=function(ie){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=null,Ke=null,Pt=null,kt=null;if(ps=!ie,ps&&(ie="<!-->"),typeof ie!="string"&&!wn(ie))if(typeof ie.toString=="function"){if(ie=ie.toString(),typeof ie!="string")throw M("dirty is not a string, aborting")}else throw M("toString is not a function");if(!me.isSupported)return ie;if(Je||Gn(X),me.removed=[],typeof ie=="string"&&(ht=!1),ht){if(ie.nodeName){const Br=Ii(ie.nodeName);if(!pr[Br]||qn[Br])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(ie instanceof xe)Oe=An("<!---->"),Ke=Oe.ownerDocument.importNode(ie,!0),Ke.nodeType===or.element&&Ke.nodeName==="BODY"||Ke.nodeName==="HTML"?Oe=Ke:Oe.appendChild(Ke);else{if(!Jt&&!qt&&!pt&&ie.indexOf("<")===-1)return lt&&Ct?lt.createHTML(ie):ie;if(Oe=An(ie),!Oe)return Jt?null:Ct?$t:""}Oe&&Kt&&Oi(Oe.firstChild);const cr=Ks(ht?ie:Oe);for(;Pt=cr.nextNode();)xs(Pt)||(Pt.content instanceof K&&Zn(Pt.content),po(Pt));if(ht)return ie;if(Jt){if(Lt)for(kt=Ht.call(Oe.ownerDocument);Oe.firstChild;)kt.appendChild(Oe.firstChild);else kt=Oe;return(Ir.shadowroot||Ir.shadowrootmode)&&(kt=fr.call($,kt,!0)),kt}let Lr=pt?Oe.outerHTML:Oe.innerHTML;return pt&&pr["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&O(Dt,Oe.ownerDocument.doctype.name)&&(Lr="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+Lr),qt&&f([ri,dn,hn],Br=>{Lr=w(Lr,Br," ")}),lt&&Ct?lt.createHTML(Lr):Lr},me.setConfig=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gn(ie),Je=!0},me.clearConfig=function(){bs=null,Je=!1},me.isValidAttribute=function(ie,X,Oe){bs||Gn({});const Ke=Ii(ie),Pt=Ii(X);return ln(Ke,Pt,Oe)},me.addHook=function(ie,X){typeof X=="function"&&(Yt[ie]=Yt[ie]||[],g(Yt[ie],X))},me.removeHook=function(ie){if(Yt[ie])return p(Yt[ie])},me.removeHooks=function(ie){Yt[ie]&&(Yt[ie]=[])},me.removeAllHooks=function(){Yt={}},me}var ue=he();return ue})}(p2)),p2.exports}var IVe=window.DOMPurify||(window.DOMPurify=yne().default||yne());const FVe=Ps(IVe);function Qhe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function PVe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const NVe=[["ß","ss"],["ẞ","Ss"],["ä","ae"],["Ä","Ae"],["ö","oe"],["Ö","Oe"],["ü","ue"],["Ü","Ue"],["À","A"],["Á","A"],["Â","A"],["Ã","A"],["Ä","Ae"],["Å","A"],["Æ","AE"],["Ç","C"],["È","E"],["É","E"],["Ê","E"],["Ë","E"],["Ì","I"],["Í","I"],["Î","I"],["Ï","I"],["Ð","D"],["Ñ","N"],["Ò","O"],["Ó","O"],["Ô","O"],["Õ","O"],["Ö","Oe"],["Ő","O"],["Ø","O"],["Ù","U"],["Ú","U"],["Û","U"],["Ü","Ue"],["Ű","U"],["Ý","Y"],["Þ","TH"],["ß","ss"],["à","a"],["á","a"],["â","a"],["ã","a"],["ä","ae"],["å","a"],["æ","ae"],["ç","c"],["è","e"],["é","e"],["ê","e"],["ë","e"],["ì","i"],["í","i"],["î","i"],["ï","i"],["ð","d"],["ñ","n"],["ò","o"],["ó","o"],["ô","o"],["õ","o"],["ö","oe"],["ő","o"],["ø","o"],["ù","u"],["ú","u"],["û","u"],["ü","ue"],["ű","u"],["ý","y"],["þ","th"],["ÿ","y"],["ẞ","SS"],["à","a"],["À","A"],["á","a"],["Á","A"],["â","a"],["Â","A"],["ã","a"],["Ã","A"],["è","e"],["È","E"],["é","e"],["É","E"],["ê","e"],["Ê","E"],["ì","i"],["Ì","I"],["í","i"],["Í","I"],["ò","o"],["Ò","O"],["ó","o"],["Ó","O"],["ô","o"],["Ô","O"],["õ","o"],["Õ","O"],["ù","u"],["Ù","U"],["ú","u"],["Ú","U"],["ý","y"],["Ý","Y"],["ă","a"],["Ă","A"],["Đ","D"],["đ","d"],["ĩ","i"],["Ĩ","I"],["ũ","u"],["Ũ","U"],["ơ","o"],["Ơ","O"],["ư","u"],["Ư","U"],["ạ","a"],["Ạ","A"],["ả","a"],["Ả","A"],["ấ","a"],["Ấ","A"],["ầ","a"],["Ầ","A"],["ẩ","a"],["Ẩ","A"],["ẫ","a"],["Ẫ","A"],["ậ","a"],["Ậ","A"],["ắ","a"],["Ắ","A"],["ằ","a"],["Ằ","A"],["ẳ","a"],["Ẳ","A"],["ẵ","a"],["Ẵ","A"],["ặ","a"],["Ặ","A"],["ẹ","e"],["Ẹ","E"],["ẻ","e"],["Ẻ","E"],["ẽ","e"],["Ẽ","E"],["ế","e"],["Ế","E"],["ề","e"],["Ề","E"],["ể","e"],["Ể","E"],["ễ","e"],["Ễ","E"],["ệ","e"],["Ệ","E"],["ỉ","i"],["Ỉ","I"],["ị","i"],["Ị","I"],["ọ","o"],["Ọ","O"],["ỏ","o"],["Ỏ","O"],["ố","o"],["Ố","O"],["ồ","o"],["Ồ","O"],["ổ","o"],["Ổ","O"],["ỗ","o"],["Ỗ","O"],["ộ","o"],["Ộ","O"],["ớ","o"],["Ớ","O"],["ờ","o"],["Ờ","O"],["ở","o"],["Ở","O"],["ỡ","o"],["Ỡ","O"],["ợ","o"],["Ợ","O"],["ụ","u"],["Ụ","U"],["ủ","u"],["Ủ","U"],["ứ","u"],["Ứ","U"],["ừ","u"],["Ừ","U"],["ử","u"],["Ử","U"],["ữ","u"],["Ữ","U"],["ự","u"],["Ự","U"],["ỳ","y"],["Ỳ","Y"],["ỵ","y"],["Ỵ","Y"],["ỷ","y"],["Ỷ","Y"],["ỹ","y"],["Ỹ","Y"],["ء","e"],["آ","a"],["أ","a"],["ؤ","w"],["إ","i"],["ئ","y"],["ا","a"],["ب","b"],["ة","t"],["ت","t"],["ث","th"],["ج","j"],["ح","h"],["خ","kh"],["د","d"],["ذ","dh"],["ر","r"],["ز","z"],["س","s"],["ش","sh"],["ص","s"],["ض","d"],["ط","t"],["ظ","z"],["ع","e"],["غ","gh"],["ـ","_"],["ف","f"],["ق","q"],["ك","k"],["ل","l"],["م","m"],["ن","n"],["ه","h"],["و","w"],["ى","a"],["ي","y"],["َ‎","a"],["ُ","u"],["ِ‎","i"],["٠","0"],["١","1"],["٢","2"],["٣","3"],["٤","4"],["٥","5"],["٦","6"],["٧","7"],["٨","8"],["٩","9"],["چ","ch"],["ک","k"],["گ","g"],["پ","p"],["ژ","zh"],["ی","y"],["۰","0"],["۱","1"],["۲","2"],["۳","3"],["۴","4"],["۵","5"],["۶","6"],["۷","7"],["۸","8"],["۹","9"],["ټ","p"],["ځ","z"],["څ","c"],["ډ","d"],["ﺫ","d"],["ﺭ","r"],["ړ","r"],["ﺯ","z"],["ږ","g"],["ښ","x"],["ګ","g"],["ڼ","n"],["ۀ","e"],["ې","e"],["ۍ","ai"],["ٹ","t"],["ڈ","d"],["ڑ","r"],["ں","n"],["ہ","h"],["ھ","h"],["ے","e"],["А","A"],["а","a"],["Б","B"],["б","b"],["В","V"],["в","v"],["Г","G"],["г","g"],["Д","D"],["д","d"],["ъе","ye"],["Ъе","Ye"],["ъЕ","yE"],["ЪЕ","YE"],["Е","E"],["е","e"],["Ё","Yo"],["ё","yo"],["Ж","Zh"],["ж","zh"],["З","Z"],["з","z"],["И","I"],["и","i"],["ый","iy"],["Ый","Iy"],["ЫЙ","IY"],["ыЙ","iY"],["Й","Y"],["й","y"],["К","K"],["к","k"],["Л","L"],["л","l"],["М","M"],["м","m"],["Н","N"],["н","n"],["О","O"],["о","o"],["П","P"],["п","p"],["Р","R"],["р","r"],["С","S"],["с","s"],["Т","T"],["т","t"],["У","U"],["у","u"],["Ф","F"],["ф","f"],["Х","Kh"],["х","kh"],["Ц","Ts"],["ц","ts"],["Ч","Ch"],["ч","ch"],["Ш","Sh"],["ш","sh"],["Щ","Sch"],["щ","sch"],["Ъ",""],["ъ",""],["Ы","Y"],["ы","y"],["Ь",""],["ь",""],["Э","E"],["э","e"],["Ю","Yu"],["ю","yu"],["Я","Ya"],["я","ya"],["ă","a"],["Ă","A"],["ș","s"],["Ș","S"],["ț","t"],["Ț","T"],["ţ","t"],["Ţ","T"],["ş","s"],["Ş","S"],["ç","c"],["Ç","C"],["ğ","g"],["Ğ","G"],["ı","i"],["İ","I"],["ա","a"],["Ա","A"],["բ","b"],["Բ","B"],["գ","g"],["Գ","G"],["դ","d"],["Դ","D"],["ե","ye"],["Ե","Ye"],["զ","z"],["Զ","Z"],["է","e"],["Է","E"],["ը","y"],["Ը","Y"],["թ","t"],["Թ","T"],["ժ","zh"],["Ժ","Zh"],["ի","i"],["Ի","I"],["լ","l"],["Լ","L"],["խ","kh"],["Խ","Kh"],["ծ","ts"],["Ծ","Ts"],["կ","k"],["Կ","K"],["հ","h"],["Հ","H"],["ձ","dz"],["Ձ","Dz"],["ղ","gh"],["Ղ","Gh"],["ճ","tch"],["Ճ","Tch"],["մ","m"],["Մ","M"],["յ","y"],["Յ","Y"],["ն","n"],["Ն","N"],["շ","sh"],["Շ","Sh"],["ո","vo"],["Ո","Vo"],["չ","ch"],["Չ","Ch"],["պ","p"],["Պ","P"],["ջ","j"],["Ջ","J"],["ռ","r"],["Ռ","R"],["ս","s"],["Ս","S"],["վ","v"],["Վ","V"],["տ","t"],["Տ","T"],["ր","r"],["Ր","R"],["ց","c"],["Ց","C"],["ու","u"],["ՈՒ","U"],["Ու","U"],["փ","p"],["Փ","P"],["ք","q"],["Ք","Q"],["օ","o"],["Օ","O"],["ֆ","f"],["Ֆ","F"],["և","yev"],["ა","a"],["ბ","b"],["გ","g"],["დ","d"],["ე","e"],["ვ","v"],["ზ","z"],["თ","t"],["ი","i"],["კ","k"],["ლ","l"],["მ","m"],["ნ","n"],["ო","o"],["პ","p"],["ჟ","zh"],["რ","r"],["ს","s"],["ტ","t"],["უ","u"],["ფ","ph"],["ქ","q"],["ღ","gh"],["ყ","k"],["შ","sh"],["ჩ","ch"],["ც","ts"],["ძ","dz"],["წ","ts"],["ჭ","tch"],["ხ","kh"],["ჯ","j"],["ჰ","h"],["č","c"],["ď","d"],["ě","e"],["ň","n"],["ř","r"],["š","s"],["ť","t"],["ů","u"],["ž","z"],["Č","C"],["Ď","D"],["Ě","E"],["Ň","N"],["Ř","R"],["Š","S"],["Ť","T"],["Ů","U"],["Ž","Z"],["ހ","h"],["ށ","sh"],["ނ","n"],["ރ","r"],["ބ","b"],["ޅ","lh"],["ކ","k"],["އ","a"],["ވ","v"],["މ","m"],["ފ","f"],["ދ","dh"],["ތ","th"],["ލ","l"],["ގ","g"],["ޏ","gn"],["ސ","s"],["ޑ","d"],["ޒ","z"],["ޓ","t"],["ޔ","y"],["ޕ","p"],["ޖ","j"],["ޗ","ch"],["ޘ","tt"],["ޙ","hh"],["ޚ","kh"],["ޛ","th"],["ޜ","z"],["ޝ","sh"],["ޞ","s"],["ޟ","d"],["ޠ","t"],["ޡ","z"],["ޢ","a"],["ޣ","gh"],["ޤ","q"],["ޥ","w"],["ަ","a"],["ާ","aa"],["ި","i"],["ީ","ee"],["ު","u"],["ޫ","oo"],["ެ","e"],["ޭ","ey"],["ޮ","o"],["ޯ","oa"],["ް",""],["α","a"],["β","v"],["γ","g"],["δ","d"],["ε","e"],["ζ","z"],["η","i"],["θ","th"],["ι","i"],["κ","k"],["λ","l"],["μ","m"],["ν","n"],["ξ","ks"],["ο","o"],["π","p"],["ρ","r"],["σ","s"],["τ","t"],["υ","y"],["φ","f"],["χ","x"],["ψ","ps"],["ω","o"],["ά","a"],["έ","e"],["ί","i"],["ό","o"],["ύ","y"],["ή","i"],["ώ","o"],["ς","s"],["ϊ","i"],["ΰ","y"],["ϋ","y"],["ΐ","i"],["Α","A"],["Β","B"],["Γ","G"],["Δ","D"],["Ε","E"],["Ζ","Z"],["Η","I"],["Θ","TH"],["Ι","I"],["Κ","K"],["Λ","L"],["Μ","M"],["Ν","N"],["Ξ","KS"],["Ο","O"],["Π","P"],["Ρ","R"],["Σ","S"],["Τ","T"],["Υ","Y"],["Φ","F"],["Χ","X"],["Ψ","PS"],["Ω","O"],["Ά","A"],["Έ","E"],["Ί","I"],["Ό","O"],["Ύ","Y"],["Ή","I"],["Ώ","O"],["Ϊ","I"],["Ϋ","Y"],["ā","a"],["ē","e"],["ģ","g"],["ī","i"],["ķ","k"],["ļ","l"],["ņ","n"],["ū","u"],["Ā","A"],["Ē","E"],["Ģ","G"],["Ī","I"],["Ķ","K"],["Ļ","L"],["Ņ","N"],["Ū","U"],["č","c"],["š","s"],["ž","z"],["Č","C"],["Š","S"],["Ž","Z"],["ą","a"],["č","c"],["ę","e"],["ė","e"],["į","i"],["š","s"],["ų","u"],["ū","u"],["ž","z"],["Ą","A"],["Č","C"],["Ę","E"],["Ė","E"],["Į","I"],["Š","S"],["Ų","U"],["Ū","U"],["Ќ","Kj"],["ќ","kj"],["Љ","Lj"],["љ","lj"],["Њ","Nj"],["њ","nj"],["Тс","Ts"],["тс","ts"],["ą","a"],["ć","c"],["ę","e"],["ł","l"],["ń","n"],["ś","s"],["ź","z"],["ż","z"],["Ą","A"],["Ć","C"],["Ę","E"],["Ł","L"],["Ń","N"],["Ś","S"],["Ź","Z"],["Ż","Z"],["Є","Ye"],["І","I"],["Ї","Yi"],["Ґ","G"],["є","ye"],["і","i"],["ї","yi"],["ґ","g"],["Ĳ","IJ"],["ĳ","ij"],["¢","c"],["¥","Y"],["߿","b"],["৳","t"],["૱","Bo"],["฿","B"],["₠","CE"],["₡","C"],["₢","Cr"],["₣","F"],["₥","m"],["₦","N"],["₧","Pt"],["₨","Rs"],["₩","W"],["₫","s"],["€","E"],["₭","K"],["₮","T"],["₯","Dp"],["₰","S"],["₱","P"],["₲","G"],["₳","A"],["₴","S"],["₵","C"],["₶","tt"],["₷","S"],["₸","T"],["₹","R"],["₺","L"],["₽","P"],["₿","B"],["﹩","$"],["￠","c"],["￥","Y"],["￦","W"],["𝐀","A"],["𝐁","B"],["𝐂","C"],["𝐃","D"],["𝐄","E"],["𝐅","F"],["𝐆","G"],["𝐇","H"],["𝐈","I"],["𝐉","J"],["𝐊","K"],["𝐋","L"],["𝐌","M"],["𝐍","N"],["𝐎","O"],["𝐏","P"],["𝐐","Q"],["𝐑","R"],["𝐒","S"],["𝐓","T"],["𝐔","U"],["𝐕","V"],["𝐖","W"],["𝐗","X"],["𝐘","Y"],["𝐙","Z"],["𝐚","a"],["𝐛","b"],["𝐜","c"],["𝐝","d"],["𝐞","e"],["𝐟","f"],["𝐠","g"],["𝐡","h"],["𝐢","i"],["𝐣","j"],["𝐤","k"],["𝐥","l"],["𝐦","m"],["𝐧","n"],["𝐨","o"],["𝐩","p"],["𝐪","q"],["𝐫","r"],["𝐬","s"],["𝐭","t"],["𝐮","u"],["𝐯","v"],["𝐰","w"],["𝐱","x"],["𝐲","y"],["𝐳","z"],["𝐴","A"],["𝐵","B"],["𝐶","C"],["𝐷","D"],["𝐸","E"],["𝐹","F"],["𝐺","G"],["𝐻","H"],["𝐼","I"],["𝐽","J"],["𝐾","K"],["𝐿","L"],["𝑀","M"],["𝑁","N"],["𝑂","O"],["𝑃","P"],["𝑄","Q"],["𝑅","R"],["𝑆","S"],["𝑇","T"],["𝑈","U"],["𝑉","V"],["𝑊","W"],["𝑋","X"],["𝑌","Y"],["𝑍","Z"],["𝑎","a"],["𝑏","b"],["𝑐","c"],["𝑑","d"],["𝑒","e"],["𝑓","f"],["𝑔","g"],["𝑖","i"],["𝑗","j"],["𝑘","k"],["𝑙","l"],["𝑚","m"],["𝑛","n"],["𝑜","o"],["𝑝","p"],["𝑞","q"],["𝑟","r"],["𝑠","s"],["𝑡","t"],["𝑢","u"],["𝑣","v"],["𝑤","w"],["𝑥","x"],["𝑦","y"],["𝑧","z"],["𝑨","A"],["𝑩","B"],["𝑪","C"],["𝑫","D"],["𝑬","E"],["𝑭","F"],["𝑮","G"],["𝑯","H"],["𝑰","I"],["𝑱","J"],["𝑲","K"],["𝑳","L"],["𝑴","M"],["𝑵","N"],["𝑶","O"],["𝑷","P"],["𝑸","Q"],["𝑹","R"],["𝑺","S"],["𝑻","T"],["𝑼","U"],["𝑽","V"],["𝑾","W"],["𝑿","X"],["𝒀","Y"],["𝒁","Z"],["𝒂","a"],["𝒃","b"],["𝒄","c"],["𝒅","d"],["𝒆","e"],["𝒇","f"],["𝒈","g"],["𝒉","h"],["𝒊","i"],["𝒋","j"],["𝒌","k"],["𝒍","l"],["𝒎","m"],["𝒏","n"],["𝒐","o"],["𝒑","p"],["𝒒","q"],["𝒓","r"],["𝒔","s"],["𝒕","t"],["𝒖","u"],["𝒗","v"],["𝒘","w"],["𝒙","x"],["𝒚","y"],["𝒛","z"],["𝒜","A"],["𝒞","C"],["𝒟","D"],["𝒢","g"],["𝒥","J"],["𝒦","K"],["𝒩","N"],["𝒪","O"],["𝒫","P"],["𝒬","Q"],["𝒮","S"],["𝒯","T"],["𝒰","U"],["𝒱","V"],["𝒲","W"],["𝒳","X"],["𝒴","Y"],["𝒵","Z"],["𝒶","a"],["𝒷","b"],["𝒸","c"],["𝒹","d"],["𝒻","f"],["𝒽","h"],["𝒾","i"],["𝒿","j"],["𝓀","h"],["𝓁","l"],["𝓂","m"],["𝓃","n"],["𝓅","p"],["𝓆","q"],["𝓇","r"],["𝓈","s"],["𝓉","t"],["𝓊","u"],["𝓋","v"],["𝓌","w"],["𝓍","x"],["𝓎","y"],["𝓏","z"],["𝓐","A"],["𝓑","B"],["𝓒","C"],["𝓓","D"],["𝓔","E"],["𝓕","F"],["𝓖","G"],["𝓗","H"],["𝓘","I"],["𝓙","J"],["𝓚","K"],["𝓛","L"],["𝓜","M"],["𝓝","N"],["𝓞","O"],["𝓟","P"],["𝓠","Q"],["𝓡","R"],["𝓢","S"],["𝓣","T"],["𝓤","U"],["𝓥","V"],["𝓦","W"],["𝓧","X"],["𝓨","Y"],["𝓩","Z"],["𝓪","a"],["𝓫","b"],["𝓬","c"],["𝓭","d"],["𝓮","e"],["𝓯","f"],["𝓰","g"],["𝓱","h"],["𝓲","i"],["𝓳","j"],["𝓴","k"],["𝓵","l"],["𝓶","m"],["𝓷","n"],["𝓸","o"],["𝓹","p"],["𝓺","q"],["𝓻","r"],["𝓼","s"],["𝓽","t"],["𝓾","u"],["𝓿","v"],["𝔀","w"],["𝔁","x"],["𝔂","y"],["𝔃","z"],["𝔄","A"],["𝔅","B"],["𝔇","D"],["𝔈","E"],["𝔉","F"],["𝔊","G"],["𝔍","J"],["𝔎","K"],["𝔏","L"],["𝔐","M"],["𝔑","N"],["𝔒","O"],["𝔓","P"],["𝔔","Q"],["𝔖","S"],["𝔗","T"],["𝔘","U"],["𝔙","V"],["𝔚","W"],["𝔛","X"],["𝔜","Y"],["𝔞","a"],["𝔟","b"],["𝔠","c"],["𝔡","d"],["𝔢","e"],["𝔣","f"],["𝔤","g"],["𝔥","h"],["𝔦","i"],["𝔧","j"],["𝔨","k"],["𝔩","l"],["𝔪","m"],["𝔫","n"],["𝔬","o"],["𝔭","p"],["𝔮","q"],["𝔯","r"],["𝔰","s"],["𝔱","t"],["𝔲","u"],["𝔳","v"],["𝔴","w"],["𝔵","x"],["𝔶","y"],["𝔷","z"],["𝔸","A"],["𝔹","B"],["𝔻","D"],["𝔼","E"],["𝔽","F"],["𝔾","G"],["𝕀","I"],["𝕁","J"],["𝕂","K"],["𝕃","L"],["𝕄","M"],["𝕆","N"],["𝕊","S"],["𝕋","T"],["𝕌","U"],["𝕍","V"],["𝕎","W"],["𝕏","X"],["𝕐","Y"],["𝕒","a"],["𝕓","b"],["𝕔","c"],["𝕕","d"],["𝕖","e"],["𝕗","f"],["𝕘","g"],["𝕙","h"],["𝕚","i"],["𝕛","j"],["𝕜","k"],["𝕝","l"],["𝕞","m"],["𝕟","n"],["𝕠","o"],["𝕡","p"],["𝕢","q"],["𝕣","r"],["𝕤","s"],["𝕥","t"],["𝕦","u"],["𝕧","v"],["𝕨","w"],["𝕩","x"],["𝕪","y"],["𝕫","z"],["𝕬","A"],["𝕭","B"],["𝕮","C"],["𝕯","D"],["𝕰","E"],["𝕱","F"],["𝕲","G"],["𝕳","H"],["𝕴","I"],["𝕵","J"],["𝕶","K"],["𝕷","L"],["𝕸","M"],["𝕹","N"],["𝕺","O"],["𝕻","P"],["𝕼","Q"],["𝕽","R"],["𝕾","S"],["𝕿","T"],["𝖀","U"],["𝖁","V"],["𝖂","W"],["𝖃","X"],["𝖄","Y"],["𝖅","Z"],["𝖆","a"],["𝖇","b"],["𝖈","c"],["𝖉","d"],["𝖊","e"],["𝖋","f"],["𝖌","g"],["𝖍","h"],["𝖎","i"],["𝖏","j"],["𝖐","k"],["𝖑","l"],["𝖒","m"],["𝖓","n"],["𝖔","o"],["𝖕","p"],["𝖖","q"],["𝖗","r"],["𝖘","s"],["𝖙","t"],["𝖚","u"],["𝖛","v"],["𝖜","w"],["𝖝","x"],["𝖞","y"],["𝖟","z"],["𝖠","A"],["𝖡","B"],["𝖢","C"],["𝖣","D"],["𝖤","E"],["𝖥","F"],["𝖦","G"],["𝖧","H"],["𝖨","I"],["𝖩","J"],["𝖪","K"],["𝖫","L"],["𝖬","M"],["𝖭","N"],["𝖮","O"],["𝖯","P"],["𝖰","Q"],["𝖱","R"],["𝖲","S"],["𝖳","T"],["𝖴","U"],["𝖵","V"],["𝖶","W"],["𝖷","X"],["𝖸","Y"],["𝖹","Z"],["𝖺","a"],["𝖻","b"],["𝖼","c"],["𝖽","d"],["𝖾","e"],["𝖿","f"],["𝗀","g"],["𝗁","h"],["𝗂","i"],["𝗃","j"],["𝗄","k"],["𝗅","l"],["𝗆","m"],["𝗇","n"],["𝗈","o"],["𝗉","p"],["𝗊","q"],["𝗋","r"],["𝗌","s"],["𝗍","t"],["𝗎","u"],["𝗏","v"],["𝗐","w"],["𝗑","x"],["𝗒","y"],["𝗓","z"],["𝗔","A"],["𝗕","B"],["𝗖","C"],["𝗗","D"],["𝗘","E"],["𝗙","F"],["𝗚","G"],["𝗛","H"],["𝗜","I"],["𝗝","J"],["𝗞","K"],["𝗟","L"],["𝗠","M"],["𝗡","N"],["𝗢","O"],["𝗣","P"],["𝗤","Q"],["𝗥","R"],["𝗦","S"],["𝗧","T"],["𝗨","U"],["𝗩","V"],["𝗪","W"],["𝗫","X"],["𝗬","Y"],["𝗭","Z"],["𝗮","a"],["𝗯","b"],["𝗰","c"],["𝗱","d"],["𝗲","e"],["𝗳","f"],["𝗴","g"],["𝗵","h"],["𝗶","i"],["𝗷","j"],["𝗸","k"],["𝗹","l"],["𝗺","m"],["𝗻","n"],["𝗼","o"],["𝗽","p"],["𝗾","q"],["𝗿","r"],["𝘀","s"],["𝘁","t"],["𝘂","u"],["𝘃","v"],["𝘄","w"],["𝘅","x"],["𝘆","y"],["𝘇","z"],["𝘈","A"],["𝘉","B"],["𝘊","C"],["𝘋","D"],["𝘌","E"],["𝘍","F"],["𝘎","G"],["𝘏","H"],["𝘐","I"],["𝘑","J"],["𝘒","K"],["𝘓","L"],["𝘔","M"],["𝘕","N"],["𝘖","O"],["𝘗","P"],["𝘘","Q"],["𝘙","R"],["𝘚","S"],["𝘛","T"],["𝘜","U"],["𝘝","V"],["𝘞","W"],["𝘟","X"],["𝘠","Y"],["𝘡","Z"],["𝘢","a"],["𝘣","b"],["𝘤","c"],["𝘥","d"],["𝘦","e"],["𝘧","f"],["𝘨","g"],["𝘩","h"],["𝘪","i"],["𝘫","j"],["𝘬","k"],["𝘭","l"],["𝘮","m"],["𝘯","n"],["𝘰","o"],["𝘱","p"],["𝘲","q"],["𝘳","r"],["𝘴","s"],["𝘵","t"],["𝘶","u"],["𝘷","v"],["𝘸","w"],["𝘹","x"],["𝘺","y"],["𝘻","z"],["𝘼","A"],["𝘽","B"],["𝘾","C"],["𝘿","D"],["𝙀","E"],["𝙁","F"],["𝙂","G"],["𝙃","H"],["𝙄","I"],["𝙅","J"],["𝙆","K"],["𝙇","L"],["𝙈","M"],["𝙉","N"],["𝙊","O"],["𝙋","P"],["𝙌","Q"],["𝙍","R"],["𝙎","S"],["𝙏","T"],["𝙐","U"],["𝙑","V"],["𝙒","W"],["𝙓","X"],["𝙔","Y"],["𝙕","Z"],["𝙖","a"],["𝙗","b"],["𝙘","c"],["𝙙","d"],["𝙚","e"],["𝙛","f"],["𝙜","g"],["𝙝","h"],["𝙞","i"],["𝙟","j"],["𝙠","k"],["𝙡","l"],["𝙢","m"],["𝙣","n"],["𝙤","o"],["𝙥","p"],["𝙦","q"],["𝙧","r"],["𝙨","s"],["𝙩","t"],["𝙪","u"],["𝙫","v"],["𝙬","w"],["𝙭","x"],["𝙮","y"],["𝙯","z"],["𝙰","A"],["𝙱","B"],["𝙲","C"],["𝙳","D"],["𝙴","E"],["𝙵","F"],["𝙶","G"],["𝙷","H"],["𝙸","I"],["𝙹","J"],["𝙺","K"],["𝙻","L"],["𝙼","M"],["𝙽","N"],["𝙾","O"],["𝙿","P"],["𝚀","Q"],["𝚁","R"],["𝚂","S"],["𝚃","T"],["𝚄","U"],["𝚅","V"],["𝚆","W"],["𝚇","X"],["𝚈","Y"],["𝚉","Z"],["𝚊","a"],["𝚋","b"],["𝚌","c"],["𝚍","d"],["𝚎","e"],["𝚏","f"],["𝚐","g"],["𝚑","h"],["𝚒","i"],["𝚓","j"],["𝚔","k"],["𝚕","l"],["𝚖","m"],["𝚗","n"],["𝚘","o"],["𝚙","p"],["𝚚","q"],["𝚛","r"],["𝚜","s"],["𝚝","t"],["𝚞","u"],["𝚟","v"],["𝚠","w"],["𝚡","x"],["𝚢","y"],["𝚣","z"],["𝚤","l"],["𝚥","j"],["𝛢","A"],["𝛣","B"],["𝛤","G"],["𝛥","D"],["𝛦","E"],["𝛧","Z"],["𝛨","I"],["𝛩","TH"],["𝛪","I"],["𝛫","K"],["𝛬","L"],["𝛭","M"],["𝛮","N"],["𝛯","KS"],["𝛰","O"],["𝛱","P"],["𝛲","R"],["𝛳","TH"],["𝛴","S"],["𝛵","T"],["𝛶","Y"],["𝛷","F"],["𝛸","x"],["𝛹","PS"],["𝛺","O"],["𝛻","D"],["𝛼","a"],["𝛽","b"],["𝛾","g"],["𝛿","d"],["𝜀","e"],["𝜁","z"],["𝜂","i"],["𝜃","th"],["𝜄","i"],["𝜅","k"],["𝜆","l"],["𝜇","m"],["𝜈","n"],["𝜉","ks"],["𝜊","o"],["𝜋","p"],["𝜌","r"],["𝜍","s"],["𝜎","s"],["𝜏","t"],["𝜐","y"],["𝜑","f"],["𝜒","x"],["𝜓","ps"],["𝜔","o"],["𝜕","d"],["𝜖","E"],["𝜗","TH"],["𝜘","K"],["𝜙","f"],["𝜚","r"],["𝜛","p"],["𝜜","A"],["𝜝","V"],["𝜞","G"],["𝜟","D"],["𝜠","E"],["𝜡","Z"],["𝜢","I"],["𝜣","TH"],["𝜤","I"],["𝜥","K"],["𝜦","L"],["𝜧","M"],["𝜨","N"],["𝜩","KS"],["𝜪","O"],["𝜫","P"],["𝜬","S"],["𝜭","TH"],["𝜮","S"],["𝜯","T"],["𝜰","Y"],["𝜱","F"],["𝜲","X"],["𝜳","PS"],["𝜴","O"],["𝜵","D"],["𝜶","a"],["𝜷","v"],["𝜸","g"],["𝜹","d"],["𝜺","e"],["𝜻","z"],["𝜼","i"],["𝜽","th"],["𝜾","i"],["𝜿","k"],["𝝀","l"],["𝝁","m"],["𝝂","n"],["𝝃","ks"],["𝝄","o"],["𝝅","p"],["𝝆","r"],["𝝇","s"],["𝝈","s"],["𝝉","t"],["𝝊","y"],["𝝋","f"],["𝝌","x"],["𝝍","ps"],["𝝎","o"],["𝝏","a"],["𝝐","e"],["𝝑","i"],["𝝒","k"],["𝝓","f"],["𝝔","r"],["𝝕","p"],["𝝖","A"],["𝝗","B"],["𝝘","G"],["𝝙","D"],["𝝚","E"],["𝝛","Z"],["𝝜","I"],["𝝝","TH"],["𝝞","I"],["𝝟","K"],["𝝠","L"],["𝝡","M"],["𝝢","N"],["𝝣","KS"],["𝝤","O"],["𝝥","P"],["𝝦","R"],["𝝧","TH"],["𝝨","S"],["𝝩","T"],["𝝪","Y"],["𝝫","F"],["𝝬","X"],["𝝭","PS"],["𝝮","O"],["𝝯","D"],["𝝰","a"],["𝝱","v"],["𝝲","g"],["𝝳","d"],["𝝴","e"],["𝝵","z"],["𝝶","i"],["𝝷","th"],["𝝸","i"],["𝝹","k"],["𝝺","l"],["𝝻","m"],["𝝼","n"],["𝝽","ks"],["𝝾","o"],["𝝿","p"],["𝞀","r"],["𝞁","s"],["𝞂","s"],["𝞃","t"],["𝞄","y"],["𝞅","f"],["𝞆","x"],["𝞇","ps"],["𝞈","o"],["𝞉","a"],["𝞊","e"],["𝞋","i"],["𝞌","k"],["𝞍","f"],["𝞎","r"],["𝞏","p"],["𝞐","A"],["𝞑","V"],["𝞒","G"],["𝞓","D"],["𝞔","E"],["𝞕","Z"],["𝞖","I"],["𝞗","TH"],["𝞘","I"],["𝞙","K"],["𝞚","L"],["𝞛","M"],["𝞜","N"],["𝞝","KS"],["𝞞","O"],["𝞟","P"],["𝞠","S"],["𝞡","TH"],["𝞢","S"],["𝞣","T"],["𝞤","Y"],["𝞥","F"],["𝞦","X"],["𝞧","PS"],["𝞨","O"],["𝞩","D"],["𝞪","av"],["𝞫","g"],["𝞬","d"],["𝞭","e"],["𝞮","z"],["𝞯","i"],["𝞰","i"],["𝞱","th"],["𝞲","i"],["𝞳","k"],["𝞴","l"],["𝞵","m"],["𝞶","n"],["𝞷","ks"],["𝞸","o"],["𝞹","p"],["𝞺","r"],["𝞻","s"],["𝞼","s"],["𝞽","t"],["𝞾","y"],["𝞿","f"],["𝟀","x"],["𝟁","ps"],["𝟂","o"],["𝟃","a"],["𝟄","e"],["𝟅","i"],["𝟆","k"],["𝟇","f"],["𝟈","r"],["𝟉","p"],["𝟊","F"],["𝟋","f"],["⒜","(a)"],["⒝","(b)"],["⒞","(c)"],["⒟","(d)"],["⒠","(e)"],["⒡","(f)"],["⒢","(g)"],["⒣","(h)"],["⒤","(i)"],["⒥","(j)"],["⒦","(k)"],["⒧","(l)"],["⒨","(m)"],["⒩","(n)"],["⒪","(o)"],["⒫","(p)"],["⒬","(q)"],["⒭","(r)"],["⒮","(s)"],["⒯","(t)"],["⒰","(u)"],["⒱","(v)"],["⒲","(w)"],["⒳","(x)"],["⒴","(y)"],["⒵","(z)"],["Ⓐ","(A)"],["Ⓑ","(B)"],["Ⓒ","(C)"],["Ⓓ","(D)"],["Ⓔ","(E)"],["Ⓕ","(F)"],["Ⓖ","(G)"],["Ⓗ","(H)"],["Ⓘ","(I)"],["Ⓙ","(J)"],["Ⓚ","(K)"],["Ⓛ","(L)"],["Ⓝ","(N)"],["Ⓞ","(O)"],["Ⓟ","(P)"],["Ⓠ","(Q)"],["Ⓡ","(R)"],["Ⓢ","(S)"],["Ⓣ","(T)"],["Ⓤ","(U)"],["Ⓥ","(V)"],["Ⓦ","(W)"],["Ⓧ","(X)"],["Ⓨ","(Y)"],["Ⓩ","(Z)"],["ⓐ","(a)"],["ⓑ","(b)"],["ⓒ","(b)"],["ⓓ","(c)"],["ⓔ","(e)"],["ⓕ","(f)"],["ⓖ","(g)"],["ⓗ","(h)"],["ⓘ","(i)"],["ⓙ","(j)"],["ⓚ","(k)"],["ⓛ","(l)"],["ⓜ","(m)"],["ⓝ","(n)"],["ⓞ","(o)"],["ⓟ","(p)"],["ⓠ","(q)"],["ⓡ","(r)"],["ⓢ","(s)"],["ⓣ","(t)"],["ⓤ","(u)"],["ⓥ","(v)"],["ⓦ","(w)"],["ⓧ","(x)"],["ⓨ","(y)"],["ⓩ","(z)"],["Ċ","C"],["ċ","c"],["Ġ","G"],["ġ","g"],["Ħ","H"],["ħ","h"],["Ż","Z"],["ż","z"],["𝟎","0"],["𝟏","1"],["𝟐","2"],["𝟑","3"],["𝟒","4"],["𝟓","5"],["𝟔","6"],["𝟕","7"],["𝟖","8"],["𝟗","9"],["𝟘","0"],["𝟙","1"],["𝟚","2"],["𝟛","3"],["𝟜","4"],["𝟝","5"],["𝟞","6"],["𝟟","7"],["𝟠","8"],["𝟡","9"],["𝟢","0"],["𝟣","1"],["𝟤","2"],["𝟥","3"],["𝟦","4"],["𝟧","5"],["𝟨","6"],["𝟩","7"],["𝟪","8"],["𝟫","9"],["𝟬","0"],["𝟭","1"],["𝟮","2"],["𝟯","3"],["𝟰","4"],["𝟱","5"],["𝟲","6"],["𝟳","7"],["𝟴","8"],["𝟵","9"],["𝟶","0"],["𝟷","1"],["𝟸","2"],["𝟹","3"],["𝟺","4"],["𝟻","5"],["𝟼","6"],["𝟽","7"],["𝟾","8"],["𝟿","9"],["①","1"],["②","2"],["③","3"],["④","4"],["⑤","5"],["⑥","6"],["⑦","7"],["⑧","8"],["⑨","9"],["⑩","10"],["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"],["⑴","1"],["⑵","2"],["⑶","3"],["⑷","4"],["⑸","5"],["⑹","6"],["⑺","7"],["⑻","8"],["⑼","9"],["⑽","10"],["⑾","11"],["⑿","12"],["⒀","13"],["⒁","14"],["⒂","15"],["⒃","16"],["⒄","17"],["⒅","18"],["⒆","19"],["⒇","20"],["⒈","1."],["⒉","2."],["⒊","3."],["⒋","4."],["⒌","5."],["⒍","6."],["⒎","7."],["⒏","8."],["⒐","9."],["⒑","10."],["⒒","11."],["⒓","12."],["⒔","13."],["⒕","14."],["⒖","15."],["⒗","16."],["⒘","17."],["⒙","18."],["⒚","19."],["⒛","20."],["⓪","0"],["⓫","11"],["⓬","12"],["⓭","13"],["⓮","14"],["⓯","15"],["⓰","16"],["⓱","17"],["⓲","18"],["⓳","19"],["⓴","20"],["⓵","1"],["⓶","2"],["⓷","3"],["⓸","4"],["⓹","5"],["⓺","6"],["⓻","7"],["⓼","8"],["⓽","9"],["⓾","10"],["⓿","0"],["🙰","&"],["🙱","&"],["🙲","&"],["🙳","&"],["🙴","&"],["🙵","&"],["🙶",'"'],["🙷",'"'],["🙸",'"'],["‽","?!"],["🙹","?!"],["🙺","?!"],["🙻","?!"],["🙼","/"],["🙽","\\"],["🜇","AR"],["🜈","V"],["🜉","V"],["🜆","VR"],["🜅","VF"],["🜩","2"],["🜪","5"],["🝡","f"],["🝢","W"],["🝣","U"],["🝧","V"],["🝨","T"],["🝪","V"],["🝫","MB"],["🝬","VB"],["🝲","3B"],["🝳","3B"],["💯","100"],["🔙","BACK"],["🔚","END"],["🔛","ON!"],["🔜","SOON"],["🔝","TOP"],["🔞","18"],["🔤","abc"],["🔠","ABCD"],["🔡","abcd"],["🔢","1234"],["🔣","T&@%"],["#️⃣","#"],["*️⃣","*"],["0️⃣","0"],["1️⃣","1"],["2️⃣","2"],["3️⃣","3"],["4️⃣","4"],["5️⃣","5"],["6️⃣","6"],["7️⃣","7"],["8️⃣","8"],["9️⃣","9"],["🔟","10"],["🅰️","A"],["🅱️","B"],["🆎","AB"],["🆑","CL"],["🅾️","O"],["🅿","P"],["🆘","SOS"],["🅲","C"],["🅳","D"],["🅴","E"],["🅵","F"],["🅶","G"],["🅷","H"],["🅸","I"],["🅹","J"],["🅺","K"],["🅻","L"],["🅼","M"],["🅽","N"],["🆀","Q"],["🆁","R"],["🆂","S"],["🆃","T"],["🆄","U"],["🆅","V"],["🆆","W"],["🆇","X"],["🆈","Y"],["🆉","Z"]],$Ve=(t,e)=>{for(const[r,i]of e)t=t.replace(new RegExp(PVe(r),"g"),i);return t};function BVe(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={customReplacements:[],...e};const r=new Map([...NVe,...e.customReplacements]);return t=t.normalize(),t=$Ve(t,r),t=t.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").normalize(),t}const jVe=[["&"," and "],["🦄"," unicorn "],["♥"," love "]],zVe=t=>t.replace(/([A-Z]{2,})(\d+)/g,"$1 $2").replace(/([a-z\d]+)([A-Z]{2,})/g,"$1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-rt-z\d]+)/g,"$1 $2"),UVe=(t,e)=>{const r=Qhe(e);return t.replace(new RegExp(`${r}{2,}`,"g"),e).replace(new RegExp(`^${r}|${r}$`,"g"),"")},qVe=t=>{let e="a-z\\d";if(e+=t.lowercase?"":"A-Z",t.preserveCharacters.length>0)for(const r of t.preserveCharacters){if(r===t.separator)throw new Error(`The separator character \`${t.separator}\` cannot be included in preserved characters: ${t.preserveCharacters}`);e+=Qhe(r)}return new RegExp(`[^${e}]+`,"g")};function HVe(t,e){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);e={separator:"-",lowercase:!0,decamelize:!0,customReplacements:[],preserveLeadingUnderscore:!1,preserveTrailingDash:!1,preserveCharacters:[],...e};const r=e.preserveLeadingUnderscore&&t.startsWith("_"),i=e.preserveTrailingDash&&t.endsWith("-"),n=new Map([...jVe,...e.customReplacements]);t=BVe(t,{customReplacements:n}),e.decamelize&&(t=zVe(t));const s=qVe(e);return e.lowercase&&(t=t.toLowerCase()),t=t.replace(/([a-zA-Z\d]+)'([ts])(\s|$)/g,"$1$2$3"),t=t.replace(s,e.separator),t=t.replace(/\\/g,""),e.separator&&(t=UVe(t,e.separator)),r&&(t=`_${t}`),i&&(t=`${t}-`),t}function VVe(t){t.core.ruler.push("curly_attributes",GVe)}function GVe(t){t.md.nav=[],t.md.attrs={keys:[],sections:{}},t.md.sections={};const e=t.tokens,r=[];let i;const n={len:0,contents:[],types:{}},s=[];let o=[],a=!1,l=0,u=!1,h=0;for(let d=0;d<e.length;d++){const f=e[d];if(f.tag==="p"){const{shouldContinue:g}=WVe(e,e[d+1]);if(g){d=d+2;continue}}if((efe(f.type)||jhe[f.type])&&ife(n,f),f.tag==="h1"||f.tag==="h2"){const g=ZVe(d,e,o,a,l,u,h,t,n);a=g.sectionStart,u=g.sectionSteps,l=g.sectionStartIndex,h=g.sectionStepsIndex}if(f.tag==="h3"){const g=XVe(d,e,o,a,l,u,h,t,n);a=g.sectionStart,u=g.sectionSteps,l=g.sectionStartIndex,h=g.sectionStepsIndex}if(f.type==="html_block"){const g=f.content.match(Bhe);if(!g){f.level=f.level+1,o.push(f);continue}i=rfe(n,g[1],g[2]),i&&Sf(i,g[3])&&r.unshift(d)}f.type==="inline"&&(o=YVe(f,n,s,o,l,h,u)),f.level=f.level+1,o.push(f);const p=ba(n.last.attrs,"as");n.last.markup==="#"&&FHe.includes(p)&&(o=KVe(o,t,n),d++)}a&&(tfe(o,l),NE(o,l,t)),u&&NE(o,h,t),QVe(o,t.md),r.forEach(d=>e.splice(d,1)),t.tokens=o,t.md.nav=s||[]}function hu(t,e,r,i,n,s=null){const o=new t.Token(n,e,r);return o.attrs=s,o.nesting=i,o}function efe(t){return t.match(/_(open|start)$/)||t==="fence"||t==="code_block"}function WVe(t,e){const r=/\r\n|\r|\n/,i=/mode\s*=\s*(['"])fallback\1/g;let n=!1;if(i.test((e==null?void 0:e.content)||""))if(r.test(e.content)){const s=e.content.split(r);s.shift(),e.content=s.join(/\n/),e.children[0].type==="text"&&e.children.shift(),e.children.shift()}else n=!0;return{shouldContinue:n}}function YVe(t,e,r,i,n,s,o){let a;const l=[];if(t.children.forEach((u,h)=>{(efe(u.type)||jhe[u.type]||u.type==="code_inline")&&ife(e,u);const d=u.content.match(Bhe);if(d){const f=rfe(e,d[1],d[2]);f&&Sf(f,d[3])&&(l.unshift(h),a&&JVe(a,"content"))}u.type==="text"&&(a=u)}),e.last.tag==="h3"&&o&&s!==-1){const u=i[s];u.section=i[n].id,Sf(u,e.last.attrStr)}if(e.last.tag==="h1"||e.last.tag==="h2"){const u=a&&a.content,h=ba(e.last.attrs,"id"),d=ba(e.last.attrs,"as"),f=ba(e.last.attrs,"mode")||"container",p=ba(e.last.attrs,"position")||"left",g=HVe(u||""),y=h||g,b=`section-${y}`,w=ba(e.last.attrs,"nav")!=="false";e.last.tag==="h2"&&u&&r.push({title:u,id:b,state:w});const S=i[n],C=i[i.length-1],k=`.${f} .${p}`;S.attrs.push(["id",b]),S.id=b,d&&(C.tag=d,C.type="html_open",C.as=d,C.section=b,t.type="html_inline",t.content="",t.children=null,Sf(C,`${a?`title='${a.content}'`:""}${e.last.attrStr} #${y}`),S.mode=f,S.position=p,Sf(S,`#${b} .${S.attrs[0][1]} .section-custom`)),Sf(S,k)}return t.children&&l.forEach(u=>t.children.splice(u,1)),i}function ZVe(t,e,r,i,n,s,o,a,l){const u=e[t];if(u.type==="heading_close"&&(u.tag=r[r.length-2].tag,u.type=r[r.length-2].type.replace("_open","_close")),u.type==="heading_open"){if(i){s&&(NE(r,o,a),s=!1,o=-1);const h=r[n].tag;tfe(r,n),r.push(hu(a,h,-1,-1,"html_close")),i=!1,n=-1}i||(r.push(hu(a,"div",0,1,"html_open",[["class","section-wrap"]])),i=!0,n=r.length-1,l.last.as=!!e[t+1].content.includes("as="))}return{sectionStart:i,sectionStartIndex:n,sectionSteps:s,sectionStepsIndex:o,stack:l,finalTokens:r}}function XVe(t,e,r,i,n,s,o,a,l){return e[t].type==="heading_open"&&i&&r[n].mode==="tour"&&(s&&(r.push(hu(a,"section-step",-1,-1,"html_close")),s=!1,o=-1),s||(r.push(hu(a,"section-step",0,1,"html_open")),s=!0,o=r.length-1,l.last.as=!!e[t+1].content.includes("as="))),{sectionStart:i,sectionStartIndex:n,sectionSteps:s,sectionStepsIndex:o,stack:l,finalTokens:r}}function KVe(t,e,r){return t.push(hu(e,r.last.tag,1,-1,"html_close",null)),t.push(hu(e,"h1",1,1,"html_open",null)),t.push(hu(e,"h1",2,0,"html_inline",null)),t[t.length-1].content=ba(r.last.attrs,"title"),t.push(hu(e,"h1",1,-1,"html_close",null)),t}function tfe(t,e){const r=t[e+1],i=ba(r.attrs,"as"),n=ba(r.attrs,"mode");i&&!n&&(t.splice(e+2,1),t.slice(e+3).forEach(s=>{s.level=1}),t.push(t[e+2]),t.splice(e+2,1))}function NE(t,e,r){const i=t[e].tag;t.push(hu(r,i,-1,-1,"html_close"))}function ba(t,e){var r;return((r=(t||[]).find(i=>i[0]===e))==null?void 0:r[1])||null}function rfe(t,e,r){if(!e)return t.last;r==="^"?r=1:typeof r=="string"?r=+r.slice(1):r=0;const n=(RHe[e.toLowerCase()]||[e.toLowerCase()]).find(o=>t.types[o]),s=t.types[n];if(s)return s[s.length-1-r]}function Sf(t,e=""){var s,o;let r;for(t.attrStr=e;e.length>0;)if(r=e.match(/^\s*\.([a-zA-Z0-9\-_]+)/))tc(t,"class",r[1],{append:!0}),e=e.slice(r[0].length);else if(r=e.match(/^\s*#([a-zA-Z0-9\-_]+)/))tc(t,"id",r[1]),e=e.slice(r[0].length);else if(r=e.match(/^\s*([a-zA-Z0-9\-_]+)="([^"]*)"/))tc(t,r[1],r[2]),e=e.slice(r[0].length);else if(r=e.match(/^\s*([a-zA-Z0-9\-_]+)='([^']*)'/))tc(t,r[1],r[2]),e=e.slice(r[0].length);else if(r=e.match(/^\s*([a-zA-Z0-9\-_]+)=([^ ]*)/))tc(t,r[1],r[2]),e=e.slice(r[0].length);else if(r=e.match(/^\s*([a-zA-Z0-9\-_]+)/))tc(t,r[1],""),e=e.slice(r[0].length);else if(r=e.match(/^\s+/))e=e.slice(r[0].length);else if(r=e.match(/^\s*as="([a-zA-Z0-9\-_]+)"/))tc(t,"as",r[1]),e=e.slice(r[0].length);else break;const i=ba(t.attrs,"as"),n=ba(t.attrs,"mode");return(o=(s=IHe[i])==null?void 0:s[n])==null||o.forEach(a=>{ba(t.attrs,a[0])||(tc(t,a[0],a[1]),e=e.slice(a[0].length))}),!0}function tc(t,e,r,i={}){const n=t.attrIndex(e);e==="class"&&i.append&&n!==-1?t.attrs[n][1].includes(r)||(t.attrs[n][1]+=` ${r}`):n===-1?t.attrPush([e,r]):i.append?t.attrs[n][1]+=` ${r}`:t.attrs[n][1]=r}function ife(t,e){const r=e.type.replace(/_(open|start)$/,"");t.types[r]||(t.types[r]=[]),t.types[r].push(e),t.last=e}function JVe(t,e){t[e]=t[e].replace(/\s*$/,"")}function QVe(t,e){t.forEach(r=>{const i=r.attrs||[];let n={};if(eGe(r,e),i.forEach(s=>{e.attrs.keys.includes(s[0])||e.attrs.keys.push(s[0]),n={...n,[s[0]]:Ghe(s[1])},r.section&&(tGe(r,s,e),rGe(r,s,e))}),i.length&&r.section){const s=r.tag==="section-step",o=s?` ${r.tag} `:"",a=r.section+o,l=Object.keys(e.attrs.sections).filter(d=>!!d.startsWith(a)).length+1,h=a+(s?l:"");e.attrs.sections={...e.attrs.sections,[h]:{...n,...s?{as:r.tag,mode:"tour"}:{}}}}})}function eGe(t,e){var r,i;t.section&&(t.tag==="section-step"&&!e.sections[t.section].steps&&(e.sections[t.section].steps=[]),(t.markup==="#"||t.markup==="##")&&(e.sections[t.section]=e.sections[t.section]||{}),(i=(r=e.sections[t.section])==null?void 0:r.steps)==null||i.push({}))}function tGe(t,e,r){t.markup==="##"&&(r.sections[t.section]={[e[0]]:pk(e[1]),...r.sections[t.section]})}function rGe(t,e,r){if(t.tag==="section-step"){const i=r.sections[t.section].steps,n=i.length-1,s=i[n];i[n]={[e[0]]:pk(e[1]),...s}}}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function nfe(t){return typeof t>"u"||t===null}function iGe(t){return typeof t=="object"&&t!==null}function nGe(t){return Array.isArray(t)?t:nfe(t)?[]:[t]}function sGe(t,e){var r,i,n,s;if(e)for(s=Object.keys(e),r=0,i=s.length;r<i;r+=1)n=s[r],t[n]=e[n];return t}function oGe(t,e){var r="",i;for(i=0;i<e;i+=1)r+=t;return r}function aGe(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var lGe=nfe,uGe=iGe,cGe=nGe,dGe=oGe,hGe=aGe,fGe=sGe,ks={isNothing:lGe,isObject:uGe,toArray:cGe,repeat:dGe,isNegativeZero:hGe,extend:fGe};function sfe(t,e){var r="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),i+" "+r):i}function O0(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=sfe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}O0.prototype=Object.create(Error.prototype);O0.prototype.constructor=O0;O0.prototype.toString=function(e){return this.name+": "+sfe(this,e)};var xo=O0;function m2(t,e,r,i,n){var s="",o="",a=Math.floor(n/2)-1;return i-e>a&&(s=" ... ",e=i-a+s.length),r-i>a&&(o=" ...",r=i+a-o.length),{str:s+t.slice(e,r).replace(/\t/g,"→")+o,pos:i-e+s.length}}function g2(t,e){return ks.repeat(" ",e-t.length)+t}function pGe(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],s,o=-1;s=r.exec(t.buffer);)n.push(s.index),i.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,u,h=Math.min(t.line+e.linesAfter,n.length).toString().length,d=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=m2(t.buffer,i[o-l],n[o-l],t.position-(i[o]-i[o-l]),d),a=ks.repeat(" ",e.indent)+g2((t.line-l+1).toString(),h)+" | "+u.str+`
`+a;for(u=m2(t.buffer,i[o],n[o],t.position,d),a+=ks.repeat(" ",e.indent)+g2((t.line+1).toString(),h)+" | "+u.str+`
`,a+=ks.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=n.length);l++)u=m2(t.buffer,i[o+l],n[o+l],t.position-(i[o]-i[o+l]),d),a+=ks.repeat(" ",e.indent)+g2((t.line+l+1).toString(),h)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var mGe=pGe,gGe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],yGe=["scalar","sequence","mapping"];function bGe(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(i){e[String(i)]=r})}),e}function vGe(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(gGe.indexOf(r)===-1)throw new xo('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=bGe(e.styleAliases||null),yGe.indexOf(this.kind)===-1)throw new xo('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Vs=vGe;function bne(t,e){var r=[];return t[e].forEach(function(i){var n=r.length;r.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(n=o)}),r[n]=i}),r}function xGe(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function i(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(i);return t}function $E(t){return this.extend(t)}$E.prototype.extend=function(e){var r=[],i=[];if(e instanceof Vs)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new xo("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Vs))throw new xo("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new xo("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new xo("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof Vs))throw new xo("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create($E.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=bne(n,"implicit"),n.compiledExplicit=bne(n,"explicit"),n.compiledTypeMap=xGe(n.compiledImplicit,n.compiledExplicit),n};var ofe=$E,afe=new Vs("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),lfe=new Vs("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),ufe=new Vs("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),cfe=new ofe({explicit:[afe,lfe,ufe]});function _Ge(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function wGe(){return null}function EGe(t){return t===null}var dfe=new Vs("tag:yaml.org,2002:null",{kind:"scalar",resolve:_Ge,construct:wGe,predicate:EGe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function SGe(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function CGe(t){return t==="true"||t==="True"||t==="TRUE"}function kGe(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var hfe=new Vs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:SGe,construct:CGe,predicate:kGe,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function AGe(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function TGe(t){return 48<=t&&t<=55}function DGe(t){return 48<=t&&t<=57}function LGe(t){if(t===null)return!1;var e=t.length,r=0,i=!1,n;if(!e)return!1;if(n=t[r],(n==="-"||n==="+")&&(n=t[++r]),n==="0"){if(r+1===e)return!0;if(n=t[++r],n==="b"){for(r++;r<e;r++)if(n=t[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<e;r++)if(n=t[r],n!=="_"){if(!AGe(t.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<e;r++)if(n=t[r],n!=="_"){if(!TGe(t.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<e;r++)if(n=t[r],n!=="_"){if(!DGe(t.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}function OGe(t){var e=t,r=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function MGe(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ks.isNegativeZero(t)}var ffe=new Vs("tag:yaml.org,2002:int",{kind:"scalar",resolve:LGe,construct:OGe,predicate:MGe,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),RGe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function IGe(t){return!(t===null||!RGe.test(t)||t[t.length-1]==="_")}function FGe(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}var PGe=/^[-+]?[0-9]+e/;function NGe(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ks.isNegativeZero(t))return"-0.0";return r=t.toString(10),PGe.test(r)?r.replace("e",".e"):r}function $Ge(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ks.isNegativeZero(t))}var pfe=new Vs("tag:yaml.org,2002:float",{kind:"scalar",resolve:IGe,construct:FGe,predicate:$Ge,represent:NGe,defaultStyle:"lowercase"}),mfe=cfe.extend({implicit:[dfe,hfe,ffe,pfe]}),gfe=mfe,yfe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),bfe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function BGe(t){return t===null?!1:yfe.exec(t)!==null||bfe.exec(t)!==null}function jGe(t){var e,r,i,n,s,o,a,l=0,u=null,h,d,f;if(e=yfe.exec(t),e===null&&(e=bfe.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],i=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(r,i,n));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],d=+(e[11]||0),u=(h*60+d)*6e4,e[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,i,n,s,o,a,l)),u&&f.setTime(f.getTime()-u),f}function zGe(t){return t.toISOString()}var vfe=new Vs("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:BGe,construct:jGe,instanceOf:Date,represent:zGe});function UGe(t){return t==="<<"||t===null}var xfe=new Vs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:UGe}),gk=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function qGe(t){if(t===null)return!1;var e,r,i=0,n=t.length,s=gk;for(r=0;r<n;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function HGe(t){var e,r,i=t.replace(/[\r\n=]/g,""),n=i.length,s=gk,o=0,a=[];for(e=0;e<n;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(i.charAt(e));return r=n%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function VGe(t){var e="",r=0,i,n,s=t.length,o=gk;for(i=0;i<s;i++)i%3===0&&i&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]),r=(r<<8)+t[i];return n=s%3,n===0?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]):n===2?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):n===1&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}function GGe(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var _fe=new Vs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:qGe,construct:HGe,predicate:GGe,represent:VGe}),WGe=Object.prototype.hasOwnProperty,YGe=Object.prototype.toString;function ZGe(t){if(t===null)return!0;var e=[],r,i,n,s,o,a=t;for(r=0,i=a.length;r<i;r+=1){if(n=a[r],o=!1,YGe.call(n)!=="[object Object]")return!1;for(s in n)if(WGe.call(n,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function XGe(t){return t!==null?t:[]}var wfe=new Vs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ZGe,construct:XGe}),KGe=Object.prototype.toString;function JGe(t){if(t===null)return!0;var e,r,i,n,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1){if(i=o[e],KGe.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;s[e]=[n[0],i[n[0]]]}return!0}function QGe(t){if(t===null)return[];var e,r,i,n,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1)i=o[e],n=Object.keys(i),s[e]=[n[0],i[n[0]]];return s}var Efe=new Vs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:JGe,construct:QGe}),eWe=Object.prototype.hasOwnProperty;function tWe(t){if(t===null)return!0;var e,r=t;for(e in r)if(eWe.call(r,e)&&r[e]!==null)return!1;return!0}function rWe(t){return t!==null?t:{}}var Sfe=new Vs("tag:yaml.org,2002:set",{kind:"mapping",resolve:tWe,construct:rWe}),yk=gfe.extend({implicit:[vfe,xfe],explicit:[_fe,wfe,Efe,Sfe]}),Fc=Object.prototype.hasOwnProperty,g1=1,Cfe=2,kfe=3,y1=4,y2=1,iWe=2,vne=3,nWe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sWe=/[\x85\u2028\u2029]/,oWe=/[,\[\]\{\}]/,Afe=/^(?:!|!!|![a-z\-]+!)$/i,Tfe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function xne(t){return Object.prototype.toString.call(t)}function Al(t){return t===10||t===13}function Jd(t){return t===9||t===32}function zo(t){return t===9||t===32||t===10||t===13}function Rf(t){return t===44||t===91||t===93||t===123||t===125}function aWe(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function lWe(t){return t===120?2:t===117?4:t===85?8:0}function uWe(t){return 48<=t&&t<=57?t-48:-1}function _ne(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function cWe(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Dfe=new Array(256),Lfe=new Array(256);for(var yf=0;yf<256;yf++)Dfe[yf]=_ne(yf)?1:0,Lfe[yf]=_ne(yf);function dWe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||yk,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ofe(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=mGe(r),new xo(e,r)}function rr(t,e){throw Ofe(t,e)}function b1(t,e){t.onWarning&&t.onWarning.call(null,Ofe(t,e))}var wne={YAML:function(e,r,i){var n,s,o;e.version!==null&&rr(e,"duplication of %YAML directive"),i.length!==1&&rr(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&rr(e,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),o=parseInt(n[2],10),s!==1&&rr(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&b1(e,"unsupported YAML version of the document")},TAG:function(e,r,i){var n,s;i.length!==2&&rr(e,"TAG directive accepts exactly two arguments"),n=i[0],s=i[1],Afe.test(n)||rr(e,"ill-formed tag handle (first argument) of the TAG directive"),Fc.call(e.tagMap,n)&&rr(e,'there is a previously declared suffix for "'+n+'" tag handle'),Tfe.test(s)||rr(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{rr(e,"tag prefix is malformed: "+s)}e.tagMap[n]=s}};function Cc(t,e,r,i){var n,s,o,a;if(e<r){if(a=t.input.slice(e,r),i)for(n=0,s=a.length;n<s;n+=1)o=a.charCodeAt(n),o===9||32<=o&&o<=1114111||rr(t,"expected valid JSON character");else nWe.test(a)&&rr(t,"the stream contains non-printable characters");t.result+=a}}function Ene(t,e,r,i){var n,s,o,a;for(ks.isObject(r)||rr(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),o=0,a=n.length;o<a;o+=1)s=n[o],Fc.call(e,s)||(e[s]=r[s],i[s]=!0)}function If(t,e,r,i,n,s,o,a,l){var u,h;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,h=n.length;u<h;u+=1)Array.isArray(n[u])&&rr(t,"nested arrays are not supported inside keys"),typeof n=="object"&&xne(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&xne(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,h=s.length;u<h;u+=1)Ene(t,e,s[u],r);else Ene(t,e,s,r);else!t.json&&!Fc.call(r,n)&&Fc.call(e,n)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,rr(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[n]=s,delete r[n];return e}function bk(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):rr(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function ds(t,e,r){for(var i=0,n=t.input.charCodeAt(t.position);n!==0;){for(;Jd(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(Al(n))for(bk(t),n=t.input.charCodeAt(t.position),i++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return r!==-1&&i!==0&&t.lineIndent<r&&b1(t,"deficient indentation"),i}function qx(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||zo(r)))}function vk(t,e){e===1?t.result+=" ":e>1&&(t.result+=ks.repeat(`
`,e-1))}function hWe(t,e,r){var i,n,s,o,a,l,u,h,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),zo(p)||Rf(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(n=t.input.charCodeAt(t.position+1),zo(n)||r&&Rf(n)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(n=t.input.charCodeAt(t.position+1),zo(n)||r&&Rf(n))break}else if(p===35){if(i=t.input.charCodeAt(t.position-1),zo(i))break}else{if(t.position===t.lineStart&&qx(t)||r&&Rf(p))break;if(Al(p))if(l=t.line,u=t.lineStart,h=t.lineIndent,ds(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=h;break}}a&&(Cc(t,s,o,!1),vk(t,t.line-l),s=o=t.position,a=!1),Jd(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return Cc(t,s,o,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function fWe(t,e){var r,i,n;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=n=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Cc(t,i,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)i=t.position,t.position++,n=t.position;else return!0;else Al(r)?(Cc(t,i,n,!0),vk(t,ds(t,!1,e)),i=n=t.position):t.position===t.lineStart&&qx(t)?rr(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);rr(t,"unexpected end of the stream within a single quoted scalar")}function pWe(t,e){var r,i,n,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Cc(t,r,t.position,!0),t.position++,!0;if(a===92){if(Cc(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),Al(a))ds(t,!1,e);else if(a<256&&Dfe[a])t.result+=Lfe[a],t.position++;else if((o=lWe(a))>0){for(n=o,s=0;n>0;n--)a=t.input.charCodeAt(++t.position),(o=aWe(a))>=0?s=(s<<4)+o:rr(t,"expected hexadecimal character");t.result+=cWe(s),t.position++}else rr(t,"unknown escape sequence");r=i=t.position}else Al(a)?(Cc(t,r,i,!0),vk(t,ds(t,!1,e)),r=i=t.position):t.position===t.lineStart&&qx(t)?rr(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}rr(t,"unexpected end of the stream within a double quoted scalar")}function mWe(t,e){var r=!0,i,n,s,o=t.tag,a,l=t.anchor,u,h,d,f,p,g=Object.create(null),y,b,x,w;if(w=t.input.charCodeAt(t.position),w===91)h=93,p=!1,a=[];else if(w===123)h=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),w=t.input.charCodeAt(++t.position);w!==0;){if(ds(t,!0,e),w=t.input.charCodeAt(t.position),w===h)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;r?w===44&&rr(t,"expected the node content, but found ','"):rr(t,"missed comma between flow collection entries"),b=y=x=null,d=f=!1,w===63&&(u=t.input.charCodeAt(t.position+1),zo(u)&&(d=f=!0,t.position++,ds(t,!0,e))),i=t.line,n=t.lineStart,s=t.position,up(t,e,g1,!1,!0),b=t.tag,y=t.result,ds(t,!0,e),w=t.input.charCodeAt(t.position),(f||t.line===i)&&w===58&&(d=!0,w=t.input.charCodeAt(++t.position),ds(t,!0,e),up(t,e,g1,!1,!0),x=t.result),p?If(t,a,g,b,y,x,i,n,s):d?a.push(If(t,null,g,b,y,x,i,n,s)):a.push(y),ds(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}rr(t,"unexpected end of the stream within a flow collection")}function gWe(t,e){var r,i,n=y2,s=!1,o=!1,a=e,l=0,u=!1,h,d;if(d=t.input.charCodeAt(t.position),d===124)i=!1;else if(d===62)i=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)y2===n?n=d===43?vne:iWe:rr(t,"repeat of a chomping mode identifier");else if((h=uWe(d))>=0)h===0?rr(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?rr(t,"repeat of an indentation width identifier"):(a=e+h-1,o=!0);else break;if(Jd(d)){do d=t.input.charCodeAt(++t.position);while(Jd(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!Al(d)&&d!==0)}for(;d!==0;){for(bk(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Al(d)){l++;continue}if(t.lineIndent<a){n===vne?t.result+=ks.repeat(`
`,s?1+l:l):n===y2&&s&&(t.result+=`
`);break}for(i?Jd(d)?(u=!0,t.result+=ks.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=ks.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=ks.repeat(`
`,l):t.result+=ks.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=t.position;!Al(d)&&d!==0;)d=t.input.charCodeAt(++t.position);Cc(t,r,t.position,!1)}return!0}function Sne(t,e){var r,i=t.tag,n=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,rr(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!zo(o))));){if(a=!0,t.position++,ds(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,up(t,e,kfe,!1,!0),s.push(t.result),ds(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)rr(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=i,t.anchor=n,t.kind="sequence",t.result=s,!0):!1}function yWe(t,e,r){var i,n,s,o,a,l,u=t.tag,h=t.anchor,d={},f=Object.create(null),p=null,g=null,y=null,b=!1,x=!1,w;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),w=t.input.charCodeAt(t.position);w!==0;){if(!b&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,rr(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),s=t.line,(w===63||w===58)&&zo(i))w===63?(b&&(If(t,d,f,p,g,null,o,a,l),p=g=y=null),x=!0,b=!0,n=!0):b?(b=!1,n=!0):rr(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=i;else{if(o=t.line,a=t.lineStart,l=t.position,!up(t,r,Cfe,!1,!0))break;if(t.line===s){for(w=t.input.charCodeAt(t.position);Jd(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),zo(w)||rr(t,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(If(t,d,f,p,g,null,o,a,l),p=g=y=null),x=!0,b=!1,n=!1,p=t.tag,g=t.result;else if(x)rr(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(x)rr(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(b&&(o=t.line,a=t.lineStart,l=t.position),up(t,e,y1,!0,n)&&(b?g=t.result:y=t.result),b||(If(t,d,f,p,g,y,o,a,l),p=g=y=null),ds(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&w!==0)rr(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return b&&If(t,d,f,p,g,null,o,a,l),x&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=d),x}function bWe(t){var e,r=!1,i=!1,n,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&rr(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(r=!0,o=t.input.charCodeAt(++t.position)):o===33?(i=!0,n="!!",o=t.input.charCodeAt(++t.position)):n="!",e=t.position,r){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):rr(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!zo(o);)o===33&&(i?rr(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),Afe.test(n)||rr(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),oWe.test(s)&&rr(t,"tag suffix cannot contain flow indicator characters")}s&&!Tfe.test(s)&&rr(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{rr(t,"tag name is malformed: "+s)}return r?t.tag=s:Fc.call(t.tagMap,n)?t.tag=t.tagMap[n]+s:n==="!"?t.tag="!"+s:n==="!!"?t.tag="tag:yaml.org,2002:"+s:rr(t,'undeclared tag handle "'+n+'"'),!0}function vWe(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&rr(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!zo(r)&&!Rf(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&rr(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function xWe(t){var e,r,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!zo(i)&&!Rf(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&rr(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Fc.call(t.anchorMap,r)||rr(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],ds(t,!0,-1),!0}function up(t,e,r,i,n){var s,o,a,l=1,u=!1,h=!1,d,f,p,g,y,b;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=y1===r||kfe===r,i&&ds(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;bWe(t)||vWe(t);)ds(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||n),(l===1||y1===r)&&(g1===r||Cfe===r?y=e:y=e+1,b=t.position-t.lineStart,l===1?a&&(Sne(t,b)||yWe(t,b,y))||mWe(t,y)?h=!0:(o&&gWe(t,y)||fWe(t,y)||pWe(t,y)?h=!0:xWe(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&rr(t,"alias node should not have any properties")):hWe(t,y,g1===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=a&&Sne(t,b))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&rr(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(g=t.implicitTypes[d],g.resolve(t.result)){t.result=g.construct(t.result),t.tag=g.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Fc.call(t.typeMap[t.kind||"fallback"],t.tag))g=t.typeMap[t.kind||"fallback"][t.tag];else for(g=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){g=p[d];break}g||rr(t,"unknown tag !<"+t.tag+">"),t.result!==null&&g.kind!==t.kind&&rr(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+g.kind+'", not "'+t.kind+'"'),g.resolve(t.result,t.tag)?(t.result=g.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):rr(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}function _We(t){var e=t.position,r,i,n,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(ds(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),r=t.position;o!==0&&!zo(o);)o=t.input.charCodeAt(++t.position);for(i=t.input.slice(r,t.position),n=[],i.length<1&&rr(t,"directive name must not be less than one character in length");o!==0;){for(;Jd(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Al(o));break}if(Al(o))break;for(r=t.position;o!==0&&!zo(o);)o=t.input.charCodeAt(++t.position);n.push(t.input.slice(r,t.position))}o!==0&&bk(t),Fc.call(wne,i)?wne[i](t,i,n):b1(t,'unknown document directive "'+i+'"')}if(ds(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ds(t,!0,-1)):s&&rr(t,"directives end mark is expected"),up(t,t.lineIndent-1,y1,!1,!0),ds(t,!0,-1),t.checkLineBreaks&&sWe.test(t.input.slice(e,t.position))&&b1(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&qx(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ds(t,!0,-1));return}if(t.position<t.length-1)rr(t,"end of the stream or a document separator is expected");else return}function Mfe(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new dWe(t,e),i=t.indexOf("\0");for(i!==-1&&(r.position=i,rr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)_We(r);return r.documents}function wWe(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var i=Mfe(t,r);if(typeof e!="function")return i;for(var n=0,s=i.length;n<s;n+=1)e(i[n])}function EWe(t,e){var r=Mfe(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new xo("expected a single document in the stream, but found more")}}var SWe=wWe,CWe=EWe,Rfe={loadAll:SWe,load:CWe},Ife=Object.prototype.toString,Ffe=Object.prototype.hasOwnProperty,xk=65279,kWe=9,M0=10,AWe=13,TWe=32,DWe=33,LWe=34,BE=35,OWe=37,MWe=38,RWe=39,IWe=42,Pfe=44,FWe=45,v1=58,PWe=61,NWe=62,$We=63,BWe=64,Nfe=91,$fe=93,jWe=96,Bfe=123,zWe=124,jfe=125,co={};co[0]="\\0";co[7]="\\a";co[8]="\\b";co[9]="\\t";co[10]="\\n";co[11]="\\v";co[12]="\\f";co[13]="\\r";co[27]="\\e";co[34]='\\"';co[92]="\\\\";co[133]="\\N";co[160]="\\_";co[8232]="\\L";co[8233]="\\P";var UWe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],qWe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function HWe(t,e){var r,i,n,s,o,a,l;if(e===null)return{};for(r={},i=Object.keys(e),n=0,s=i.length;n<s;n+=1)o=i[n],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&Ffe.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function VWe(t){var e,r,i;if(e=t.toString(16).toUpperCase(),t<=255)r="x",i=2;else if(t<=65535)r="u",i=4;else if(t<=4294967295)r="U",i=8;else throw new xo("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ks.repeat("0",i-e.length)+e}var GWe=1,R0=2;function WWe(t){this.schema=t.schema||yk,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ks.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=HWe(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?R0:GWe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Cne(t,e){for(var r=ks.repeat(" ",e),i=0,n=-1,s="",o,a=t.length;i<a;)n=t.indexOf(`
`,i),n===-1?(o=t.slice(i),i=a):(o=t.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function jE(t,e){return`
`+ks.repeat(" ",t.indent*e)}function YWe(t,e){var r,i,n;for(r=0,i=t.implicitTypes.length;r<i;r+=1)if(n=t.implicitTypes[r],n.resolve(e))return!0;return!1}function x1(t){return t===TWe||t===kWe}function I0(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==xk||65536<=t&&t<=1114111}function kne(t){return I0(t)&&t!==xk&&t!==AWe&&t!==M0}function Ane(t,e,r){var i=kne(t),n=i&&!x1(t);return(r?i:i&&t!==Pfe&&t!==Nfe&&t!==$fe&&t!==Bfe&&t!==jfe)&&t!==BE&&!(e===v1&&!n)||kne(e)&&!x1(e)&&t===BE||e===v1&&n}function ZWe(t){return I0(t)&&t!==xk&&!x1(t)&&t!==FWe&&t!==$We&&t!==v1&&t!==Pfe&&t!==Nfe&&t!==$fe&&t!==Bfe&&t!==jfe&&t!==BE&&t!==MWe&&t!==IWe&&t!==DWe&&t!==zWe&&t!==PWe&&t!==NWe&&t!==RWe&&t!==LWe&&t!==OWe&&t!==BWe&&t!==jWe}function XWe(t){return!x1(t)&&t!==v1}function jg(t,e){var r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function zfe(t){var e=/^\n* /;return e.test(t)}var Ufe=1,zE=2,qfe=3,Hfe=4,Cf=5;function KWe(t,e,r,i,n,s,o,a){var l,u=0,h=null,d=!1,f=!1,p=i!==-1,g=-1,y=ZWe(jg(t,0))&&XWe(jg(t,t.length-1));if(e||o)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=jg(t,l),!I0(u))return Cf;y=y&&Ane(u,h,a),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=jg(t,l),u===M0)d=!0,p&&(f=f||l-g-1>i&&t[g+1]!==" ",g=l);else if(!I0(u))return Cf;y=y&&Ane(u,h,a),h=u}f=f||p&&l-g-1>i&&t[g+1]!==" "}return!d&&!f?y&&!o&&!n(t)?Ufe:s===R0?Cf:zE:r>9&&zfe(t)?Cf:o?s===R0?Cf:zE:f?Hfe:qfe}function JWe(t,e,r,i,n){t.dump=function(){if(e.length===0)return t.quotingType===R0?'""':"''";if(!t.noCompatMode&&(UWe.indexOf(e)!==-1||qWe.test(e)))return t.quotingType===R0?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,r),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=i||t.flowLevel>-1&&r>=t.flowLevel;function l(u){return YWe(t,u)}switch(KWe(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!i,n)){case Ufe:return e;case zE:return"'"+e.replace(/'/g,"''")+"'";case qfe:return"|"+Tne(e,t.indent)+Dne(Cne(e,s));case Hfe:return">"+Tne(e,t.indent)+Dne(Cne(QWe(e,o),s));case Cf:return'"'+eYe(e)+'"';default:throw new xo("impossible error: invalid scalar style")}}()}function Tne(t,e){var r=zfe(t)?String(e):"",i=t[t.length-1]===`
`,n=i&&(t[t.length-2]===`
`||t===`
`),s=n?"+":i?"":"-";return r+s+`
`}function Dne(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function QWe(t,e){for(var r=/(\n+)([^\n]*)/g,i=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,Lne(t.slice(0,u),e)}(),n=t[0]===`
`||t[0]===" ",s,o;o=r.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",i+=a+(!n&&!s&&l!==""?`
`:"")+Lne(l,e),n=s}return i}function Lne(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,i,n=0,s,o=0,a=0,l="";i=r.exec(t);)a=i.index,a-n>e&&(s=o>n?o:a,l+=`
`+t.slice(n,s),n=s+1),o=a;return l+=`
`,t.length-n>e&&o>n?l+=t.slice(n,o)+`
`+t.slice(o+1):l+=t.slice(n),l.slice(1)}function eYe(t){for(var e="",r=0,i,n=0;n<t.length;r>=65536?n+=2:n++)r=jg(t,n),i=co[r],!i&&I0(r)?(e+=t[n],r>=65536&&(e+=t[n+1])):e+=i||VWe(r);return e}function tYe(t,e,r){var i="",n=t.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],t.replacer&&(a=t.replacer.call(r,String(s),a)),(_u(t,e,a,!1,!1)||typeof a>"u"&&_u(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=n,t.dump="["+i+"]"}function One(t,e,r,i){var n="",s=t.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],t.replacer&&(l=t.replacer.call(r,String(o),l)),(_u(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&_u(t,e+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=jE(t,e)),t.dump&&M0===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=s,t.dump=n||"[]"}function rYe(t,e,r){var i="",n=t.tag,s=Object.keys(r),o,a,l,u,h;for(o=0,a=s.length;o<a;o+=1)h="",i!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=s[o],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),_u(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),_u(t,e,u,!1,!1)&&(h+=t.dump,i+=h));t.tag=n,t.dump="{"+i+"}"}function iYe(t,e,r,i){var n="",s=t.tag,o=Object.keys(r),a,l,u,h,d,f;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new xo("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)f="",(!i||n!=="")&&(f+=jE(t,e)),u=o[a],h=r[u],t.replacer&&(h=t.replacer.call(r,u,h)),_u(t,e+1,u,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&M0===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=jE(t,e)),_u(t,e+1,h,!0,d)&&(t.dump&&M0===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,n+=f));t.tag=s,t.dump=n||"{}"}function Mne(t,e,r){var i,n,s,o,a,l;for(n=r?t.explicitTypes:t.implicitTypes,s=0,o=n.length;s<o;s+=1)if(a=n[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(r?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,Ife.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(Ffe.call(a.represent,l))i=a.represent[l](e,l);else throw new xo("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=i}return!0}return!1}function _u(t,e,r,i,n,s,o){t.tag=null,t.dump=r,Mne(t,r,!1)||Mne(t,r,!0);var a=Ife.call(t.dump),l=i,u;i&&(i=t.flowLevel<0||t.flowLevel>e);var h=a==="[object Object]"||a==="[object Array]",d,f;if(h&&(d=t.duplicates.indexOf(r),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(n=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(h&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")i&&Object.keys(t.dump).length!==0?(iYe(t,e,t.dump,n),f&&(t.dump="&ref_"+d+t.dump)):(rYe(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?One(t,e-1,t.dump,n):One(t,e,t.dump,n),f&&(t.dump="&ref_"+d+t.dump)):(tYe(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&JWe(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new xo("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function nYe(t,e){var r=[],i=[],n,s;for(UE(t,r,i),n=0,s=i.length;n<s;n+=1)e.duplicates.push(r[i[n]]);e.usedDuplicates=new Array(s)}function UE(t,e,r){var i,n,s;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(e.push(t),Array.isArray(t))for(n=0,s=t.length;n<s;n+=1)UE(t[n],e,r);else for(i=Object.keys(t),n=0,s=i.length;n<s;n+=1)UE(t[i[n]],e,r)}function sYe(t,e){e=e||{};var r=new WWe(e);r.noRefs||nYe(t,r);var i=t;return r.replacer&&(i=r.replacer.call({"":i},"",i)),_u(r,0,i,!0,!0)?r.dump+`
`:""}var oYe=sYe,aYe={dump:oYe};function _k(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var lYe=Vs,uYe=ofe,cYe=cfe,dYe=mfe,hYe=gfe,fYe=yk,pYe=Rfe.load,mYe=Rfe.loadAll,gYe=aYe.dump,yYe=xo,bYe={binary:_fe,float:pfe,map:ufe,null:dfe,pairs:Efe,set:Sfe,timestamp:vfe,bool:hfe,int:ffe,merge:xfe,omap:wfe,seq:lfe,str:afe},vYe=_k("safeLoad","load"),xYe=_k("safeLoadAll","loadAll"),_Ye=_k("safeDump","dump"),wYe={Type:lYe,Schema:uYe,FAILSAFE_SCHEMA:cYe,JSON_SCHEMA:dYe,CORE_SCHEMA:hYe,DEFAULT_SCHEMA:fYe,load:pYe,loadAll:mYe,dump:gYe,YAMLException:yYe,types:bYe,safeLoad:vYe,safeLoadAll:xYe,safeDump:_Ye};function EYe(t){t.core.ruler.before("normalize","extract-config",e=>{var n;const r=/^\s*---\s*\n([\s\S]+?)\n\s*---\s*/,i=e.src.match(r);if(t.config={versionCheck:((n=t.config)==null?void 0:n.versionCheck)||!1},i)try{t.config=wYe.load(i[1]),e.src=e.src.replace(i[0],"")}catch(s){return console.error("Error parsing frontmatter:",s),null}t.config.versionCheck||(t.config.version=Number(DVe(t.config.version)),t.config.versionCheck=!0)})}const SYe=`
${jC}
${zC}
${Wce}
${Yce}

  iframe,
  img,
  video {
    max-width: 100%;
  }
  .navigation {
    width: 100%;
    background: white;
    padding: 10px 0px;
    color: black;
    box-shadow: 0px 0px 13px 3px #8080802e;
    max-height: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: sticky;
    top: 0;
    z-index: 2;
  }
  .navigation .container {
    padding: 0px;
  }
  .navigation .container ul {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0px;
    -ms-overflow-style: none;
    scrollbar-width: none;
    overflow-x: auto;
    margin: 0;
    padding: 0;
  }
  .navigation .container ul::-webkit-scrollbar { 
    display: none;
  }
  .navigation .container ul li {
    list-style: none;
    margin: 0px 10px;
  }
  .navigation li a {
    color: black;
    font-weight: 500;
    text-decoration: none;
    position: relative;
    display: inline-grid;
  }
  .navigation li a:after {
    content: "";
    bottom: -10px;
    width: 100%;
    height: 2px;
    background: transparent;
  }
  .navigation li a:hover:after {
    background: black;
  }
  .navigation li.active a {
    font-weight: 700;
  }
  .navigation li.active a:after {
    background: black;
  }
  .navigation li a:hover {
    --primary-background-hover: transparent;
  }
  .section-wrap {
    scroll-margin: 120px;
  }
  .story-telling p {
    display: block;
    --font-size: 1.1rem;
    font-weight: 400;
    line-height: 170%;
    margin-top: 0.8rem;
    margin-bottom: 1.6rem;
  }
  .story-telling a {
    --font-size: 1.1rem;
    --color: var(--primary-color);
    --background-color: transparent;
    outline: 0;
    background-color: var(--background-color);
    color: var(--color);
    text-underline-offset: 4px;
    font-size: var(--font-size)
  }
  .story-telling a:hover {
    --bg-hover-transparency: 10%;
    background-color: color-mix(
      in srgb,
      var(--primary-color) var(--bg-hover-transparency),
      transparent
    );
  }
  .story-telling li {
    margin-bottom: 1rem;
  }
  .story-telling table {
    width:100%;
    color: var(--color);
    font-style: normal;
    font-weight: 400;
    font-size: 1rem;
    margin: 2rem 0rem;
  }
  .story-telling td, 
  .story-telling th {
    padding: 1rem;
    color: var(--color);
    font-weight: 400;
    font-size: 1rem;
    text-align: left;
    text-align: start;
    border-bottom: 1px solid var(--color);
  }
  .story-telling th {
    font-weight: 600;
    border-bottom: 3px solid var(--color);
  }
  .story-telling .container {
    width: 90%;
    --block-spacing-vertical: 2rem;
  }
  .story-telling.editor-enabled .section-wrap.section-item {
    position: relative;
    border-bottom: 1px solid #efefef;
  }
  .story-telling.editor-enabled .section-wrap.section-item.section-start {
    border-top: 1px solid #efefef;
  }
  .story-telling.editor-enabled .section-wrap.section-item::after, 
  .story-telling.editor-enabled .section-wrap.section-item.section-start::before {
    content: "+";
    background: white;
    width: 25px;
    height: 25px;
    display: flex;
    position: absolute;
    bottom: -12px;
    left: calc(50% - 12.5px);
    z-index: 1;
    border-radius: 100%;
    box-shadow: 1px 1px 10px #80808094;
    justify-content: center;
    align-items: center;
    font-weight: 700;
    font-size: larger;
    cursor: pointer;
  }
  .story-telling.editor-enabled.editor-close .section-wrap.section-item::after, 
  .story-telling.editor-enabled.editor-close .section-wrap.section-item.section-start::before {
    display: none;
  }
  .story-telling.editor-enabled .section-wrap.section-item.section-start::before {
    top: -12px;
  }
  .story-telling .section-wrap.container.section-start {
    padding-top: 4rem;
  }
  .story-telling p:last-child {
    margin-bottom: 0;
  }
  .story-telling .section-wrap.container:last-child {
    padding-bottom: 4rem; 
  }
  .story-telling .tour {
    width: 100%;
    justify-items: start;
    display: grid;
  }
  .story-telling .hero {
    position: relative;      
    width: 100%;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .story-telling .hero * {
    color: white;
    margin: 0rem 0.8rem;
  }
  .story-telling .hero.center {
    align-items: center;
    text-align: center;
  }
  .story-telling .hero.left {
    align-items: start;
    text-align: left;
  }
  .story-telling .hero.right {
    align-items: end;
    text-align: right;
  }
  .story-telling .hero img, 
  .story-telling .hero video {
    position: absolute;
    top: -17.5%;
    left: 0;
    z-index: -1;
    width: 100%;
    height: 135%;
    object-fit: cover;
    margin: 0rem;
    will-change: transform;
    backface-visibility: hidden;
    filter: brightness(60%) contrast(100%);
  }
  .story-telling .tour.left {
    justify-items: start;
  }
  .story-telling .tour.right {
    justify-items: end;
  }
  .story-telling .tour.center {
    justify-items: center;
  }
  .story-telling .tour eox-map {
    width: 100%;
    height: 100vh;
    position: sticky;
    top:0;
    z-index: 0;
  }
  .story-telling .tour section-step {
    background: white;
    padding: 0.75rem;
    border-radius: 0.5rem;
    min-height: 8vh;
    margin: 1rem;
    margin-bottom: calc(120vh);
    display: block;
    z-index: 1;
    max-width: 40%;
  }
  @media screen and (max-width: 1024px) {
    .story-telling .tour section-step {
      max-width: 100%;
    }
  }
  .editor-wrapper {
    z-index: 4;
    width: 35%;
    position: fixed;
    bottom: 20px;
    right: 20px;
    border-radius: 10px;
    background: #f2f2f2;
    cursor: move;
    box-shadow: 0px 0px 3px 2px #80808026;
    box-sizing: border-box;
  }
  .resize-handle {
    position: absolute;
    width: 20px;
    height: 20px;
    bottom: 4px;
    left: 4px;
    background-color: black;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eresize-bottom-right%3C/title%3E%3Cpath d='M22,22H20V20H22V22M22,18H20V16H22V18M18,22H16V20H18V22M18,18H16V16H18V18M14,22H12V20H14V22M22,14H20V12H22V14Z' /%3E%3C/svg%3E");
    webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eresize-bottom-right%3C/title%3E%3Cpath d='M22,22H20V20H22V22M22,18H20V16H22V18M18,22H16V20H18V22M18,18H16V16H18V18M14,22H12V20H14V22M22,14H20V12H22V14Z' /%3E%3C/svg%3E");
    transform: rotate(90deg);
    cursor: sw-resize;
    z-index: 2;
  }
  #editor {
    width: 100%;
    height: 100%;
    border: 2px solid #ebebeb;
    cursor: auto;
  }
  @media screen and (max-width: 1024px) {
    .editor-wrapper {
      right: 2.5%;
      width: 95%;
    }
  }
  .editor-opacity-none {
    opacity: 0;
  }
  .editor-hide {
    display: none;
  }
  .editor-error {
    display: none;
    cursor: auto;
    position: absolute;
    bottom: 39px;
    left: 9px;
    width: calc(100% - 20px);
    height: 105px;
    background: #ffc7d3;
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
    border: 2px solid #ff7b9640;
    z-index: 1;
  }
  .editor-error .editor-error-wrapper {
    padding: 0.5rem;
    height: 85%;
  }
  .editor-error .editor-error-wrapper .overflow {
    height: 100%;
    overflow-y: auto;
    -ms-overflow-style: none;
    scrollbar-width: none;
    width: 85%;
  }
  .editor-error .editor-error-wrapper .overflow::-webkit-scrollbar { 
    display: none;
  }
  .editor-error .editor-error-wrapper h6 {
    margin: 0;
    padding: 0;
    font-size: 0.7rem;
    color: #dd264c;
  }
  .editor-error .editor-error-wrapper ul {
    margin-top: 0.25rem;
    padding-inline-start: 20px;
  }
  .editor-error .editor-error-wrapper li {
    color: #dd264c;
    font-size: 0.7rem;
    font-weight: 400;
    margin-bottom: 0;
    margin-left: 0.2rem;
  }
  .editor-saver {
    position: absolute;    
    bottom: 18px;
    left: 17px;
    font-size: 12px;
    color: #959694;
    text-align: right;
  }
  @keyframes rotate {
    100% {transform: rotate(360deg)}
  }
  @keyframes spin {
    0%   {clip-path:polygon(50% 50%,0 0,0 0,0 0,0 0,0 0)}
    25%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 0,100% 0,100% 0)}
    50%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)}
    75%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)}
    100% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0)}
  }
  .switch-button {
    position: fixed;
    bottom: 70px;
    right: 60px;
    display: inline-block;
    font-size: 0;
    z-index: 5;
    border: 5px white solid;
    border-radius: 34px;
    box-shadow: 1px 2px 10px 1px #7e7e7e59;
    cursor: pointer;
  }
  .switch {
    position: relative;
    display: flex;
    align-items: center;
    width: 65px;
    height: 34px;
    font-size: 16px;
    justify-content: space-around;
    margin-bottom: 0px;
  }
  .switch .switch-input { 
    opacity: 0;
    width: 0;
    height: 0;
  }
  .switch .icon {
    z-index: 2;
    width: 30px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .switch .icon::before {
    cursor: pointer;
    display: block;
    width: 18px;
    height: 18px;
  }
  .view-icon {
    padding-left: 8px;
  }
  .editor-icon {
    padding-right: 8px;
  }
  .switch .view-icon:before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath fill='white' d='M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z' /%3E%3C/svg%3E");
  }
  .switch .icon.editor-icon:before {
    content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Epencil%3C/title%3E%3Cpath fill='white' d='M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z' /%3E%3C/svg%3E");
  }
  .switch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 20px;
    right: 20px;
    bottom: 0;
    z-index: 1;
    background-color: #727272;
    transition: .4s;
    border-radius: 34px;
    left: 0px;
    right: 0px;
    width: 65px;
  }
  .switch-slider:before {
    cursor: pointer;
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  .switch-input:checked + .switch-slider {
    background-color: #2196F3;
  }
  .switch-input:checked + .switch-slider:before {
    transform: translateX(30px);
  }
  .switch .icon.editor-view {
    opacity: 0;
  }
  .story-telling-custom-section-list {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000000b5;
    z-index: 6;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .story-telling-custom-section-list .overlay-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    cursor: pointer;
  }
  .story-telling-custom-section-list .story-telling-popup {
    width: 450px;
    height: 500px;
    background: white;
    border-radius: 0.5rem;
    padding: 20px;
    position: relative;
  }
  .story-telling-section-fields-overlay {
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    background: #000000c9;
    height: 100%;
    border-radius: 0.5rem;
    cursor: pointer;
  }
  .story-telling-section-fields-wrapper {
    position: absolute;
    top: 0;
    right: 0;
    width: 70%;
    background: white;
    height: 100%;
    border-bottom-right-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
    box-shadow: -14px 3px 20px 0px #0e0e0e26;
  }
  .story-telling-popup-wrapper {
    overflow-y: auto;
    height: 100%;
  }
  .story-telling-custom-section-list .story-telling-popup .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 20px;
  }
  .story-telling-custom-section-list .story-telling-popup .header:first-child {
    margin-top:0px;
  }
  .story-telling-custom-section-list .story-telling-popup .header h4 {
    font-size: 1rem;
    font-weight: 600;
    margin: 0;
  }
  .story-telling-custom-section-list .story-telling-popup .header p {
    background: #2273EC;
    border-radius: 20px;
    padding: 0px 15px;
    color: white;
    height: 1.1rem;
    display: flex;
    align-items: center;
    margin: 0;
    font-size: 0.75rem;
  }
  .story-telling-custom-section-list .story-telling-popup hr {
    border-top: 2.5px solid #e5eaf0;
  }
  .story-telling-custom-section-list .story-telling-popup .grid-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
  }
  .story-telling-custom-section-list .story-telling-popup .grid-container .grid-item {
    text-align: center;
    cursor: pointer;
    padding: 0px;
    border: 1px solid #e1e6eb;
    border-radius: 6px;
    transition: all 0.2s ease-in-out;
  }
  .story-telling-custom-section-list .story-telling-popup .grid-container .grid-item:hover {
    border-color: #2273EC;
    background-color: #f7f7f7;
  }
  .story-telling-custom-section-list .story-telling-popup .grid-container .grid-item icon {
    font-size: 0px;
  }
  .story-telling-custom-section-list .story-telling-popup .grid-container .grid-item icon::before {
    width: 100%;
    color: black;
    display: inline-block;
    border-radius: 6px;
  }
  .story-telling-custom-section-list .story-telling-popup .grid-container .grid-item p {
    padding: 0px;
    margin: 0px;
    font-size: 0.8rem;
    color: #555555;
    font-weight: 500;
    padding: 4px 0px;
  }
  eox-jsonform#storytelling-editor-fields {
    padding-bottom: 80px;
    height: auto;
    display: block;
  }
  eox-jsonform#storytelling-editor-fields div {
    height: auto;
  }
  .story-telling-section-fields-overflow {
    overflow-y: auto;
    height: calc(100% - 60px);
    padding: 20px;
  }
  .story-telling-section-submit-wrapper {
    position: absolute;
    width: 100%;
    bottom: 0;
    padding: 10px 0px;
    background: white;
    display: flex;
    justify-content: center;
    box-shadow: -2px -10px 10px #00000017;
    border-bottom-right-radius: 0.5rem;
  }
  .story-telling-section-submit-wrapper button {
    width: 92%;
    justify-content: center;
  }
  eox-jsonform#storytelling-editor-fields .je-form-input-label {
    text-transform: capitalize;
  }
  eox-jsonform#storytelling-editor-fields .je-object__controls {
    display: none; 
  }
  @media screen and (max-width: 1024px) {
    .switch-button {
      right: 20px;
    }
  }
  .section-line-decoration {
    background: #757575;
    z-index: 1;
    align-items: center;
    justify-content: center;
    display: flex;
    color: #ffffff;
    font-size: 12px;
    font-weight: 700;
  }
  .margin-view-overlays {
    background: #e6e6e6;
  }
`;var H1,Gfe;class Vfe extends Wi{constructor(){super();nr(this,H1);this.markdown="",this.storyId=null,this.isNavigation=!1,this.dragging=!1,this.resizing=!1,this.showEditor=void 0,this.disableTextSelection=this.disableTextSelection.bind(this),this.enableTextSelection=this.enableTextSelection.bind(this)}disableTextSelection(){document.body.style.userSelect="none"}enableTextSelection(){document.body.style.userSelect=""}firstUpdated(){const r=this.querySelector(".editor-wrapper"),i=this.querySelector(".resize-handle");this.editor=this.renderRoot.querySelector("eox-jsonform#storytelling-editor"),this.showEditor==="closed"&&Hhe(this),HHe(this),qhe(this),qHe(r,i,this)}updateErrors(r){const i=this.renderRoot.querySelector(".editor-error");i&&(r.length?(i.style.display="block",i.querySelector("ul").innerHTML=r.map(n=>`<li><strong>${n.ref}</strong>: ${n.message}</li>`).join("")):i.style.display="none")}createRenderRoot(){return this}render(){customElements.get("eox-jsonform")||console.error("Please import @eox/jsonform in order to use StoryTelling Editor");const r=this.isNavigation?"partial-height":"";return et`
      <div class="editor-wrapper ${r}">
        <eox-jsonform
          id="storytelling-editor"
          no-shadow
          .schema=${XHe}
          .value=${{Story:this.markdown}}
        ></eox-jsonform>
        <div class="resize-handle"></div>
        <span class="editor-saver">Saved</span>
        <div class="editor-error">
          <div class="editor-error-wrapper">
            <div class="overflow">
              <h6>⛔ Error</h6>
              <ul></ul>
            </div>
          </div>
        </div>
      </div>
      <div class="switch-button">
        <label class="switch">
          <i class="icon view-icon"></i>
          <input
            class="switch-input"
            type="checkbox"
            @change=${tr(this,H1,Gfe)}
            checked
          />
          <span class="switch-slider round"></span>
          <i class="icon editor-icon"></i>
        </label>
      </div>
      <style>
        eox-jsonform#storytelling-editor {
          display: block;
          height: 100%;
          cursor: default;
        }
        .editor-wrapper {
          padding: 0.5rem;
        }
        .editor-toolbar:hover {
          opacity: 1;
        }
        form[data-theme="html"] .je-indented-panel {
          padding: 0 !important;
          margin: 0 !important;
          border: none !important;
        }
        .editor-wrapper .CodeMirror {
          height: 100%;
          min-height: unset;
        }
        .editor-wrapper .EasyMDEContainer {
          height: 100%;
          display: flex;
          flex-direction: column;
        }
        .editor-wrapper .EasyMDEContainer .CodeMirror-scroll {
          min-height: 1000px;
        }
        .editor-toolbar button {
          box-shadow: none;
          color: #2c3e50 !important;
        }
        .editor-toolbar button:hover:not([disabled]):not(.icon),
        .editor-toolbar button:hover:not([disabled]):not(.icon) {
          box-shadow: none;
          background: #fcfcfc;
          border-color: #95a5a6;
        }
        .editor-toolbar button i {
          font-size: 17px;
        }
        .editor-wrapper .cm-header-1 {
          font-size: 200%;
        }
        .editor-wrapper .cm-header-1 {
          font-size: 200%;
          line-height: 200%;
        }
        .editor-wrapper .cm-header-2 {
          font-size: 160%;
          line-height: 160%;
        }
        .editor-wrapper .cm-header-3 {
          font-size: 125%;
          line-height: 125%;
        }
        .editor-wrapper .cm-header-4 {
          font-size: 110%;
          line-height: 110%;
        }
        .editor-wrapper .cm-comment {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }
        eox-jsonform form[data-theme="html"],
        eox-jsonform div[data-schemaid="root"],
        eox-jsonform div.je-indented-panel,
        eox-jsonform div.je-indented-panel > div,
        eox-jsonform div.je-indented-panel > div > div,
        eox-jsonform div.row,
        eox-jsonform div[data-schematype="string"],
        eox-jsonform div.form-control {
          height: 100%;
        }
        eox-jsonform div.form-control {
          display: flex;
          flex-direction: column;
        }
        eox-jsonform div.editor-toolbar,
        eox-jsonform div.editor-statusbar {
          flex-shrink: 1;
        }
        eox-jsonform .CodeMirror-sizer {
          padding-bottom: 100px !important;
        }
        eox-jsonform#storytelling-editor .je-form-input-label,
        eox-jsonform#storytelling-editor .je-object__controls {
          display: none !important;
        }
      </style>
    `}}H1=new WeakSet,Gfe=function(r){const i=this.renderRoot.querySelector(".editor-wrapper"),n=this.storyId?`#${this.storyId}`:"",s=document.querySelector(`eox-storytelling${n}`);r.target.checked?(i.classList.remove("editor-opacity-none"),i.classList.remove("editor-hide"),s.setAttribute("show-editor","open")):(i.classList.add("editor-hide"),s.setAttribute("show-editor","close"))},Ge(Vfe,"properties",{markdown:{attribute:"markdown",type:String},storyId:{attribute:"story-id",type:String},showEditor:{attribute:"show-editor",type:String},isNavigation:{attribute:"markdown",type:Boolean}});customElements.define("eox-storytelling-editor",Vfe);const Bd=Sa({html:!0});Bd.use(VVe).use(EYe);var za,Yf,q0,V1,Wfe;class CYe extends Wi{constructor(){super();nr(this,V1);nr(this,za);nr(this,Yf,{});nr(this,q0,null);Kn(this,za,void 0),this.markdown="",this.markdownURL=null,this.unstyled=!1,this.noShadow=!1,this.showEditor=void 0,this.showNav=!1,this.nav=[],this.addCustomSectionIndex=-1,this.selectedCustomElement=null}static get properties(){return{markdown:{attribute:"markdown",type:String},markdownURL:{attribute:"markdown-url",type:String},nav:{state:!0,attribute:!1,type:Array},showNav:{attribute:"show-nav",type:Boolean},showEditor:{attribute:"show-editor",type:String},noShadow:{attribute:"no-shadow",type:Boolean},unstyled:{type:Boolean},addCustomSectionIndex:{type:Number,state:!0},selectedCustomElement:{type:Object,state:!0}}}async updated(r){if(r.has("markdownURL")&&this.markdownURL&&(this.markdown=await MHe(this.markdownURL)||this.markdown,this.requestUpdate()),r.has("markdown")){const i=Bd.render(this.markdown);if(RVe(Bd.attrs.sections,this),Kn(this,Yf,Bd.config),typeof Ut(this,Yf).nav=="boolean"&&(this.showNav=Ut(this,Yf).nav),this.showNav&&(this.nav=Bd.nav),Kn(this,za,fVe(FVe.sanitize(i,{CUSTOM_ELEMENT_HANDLING:AVe(Bd),ADD_TAGS:NHe}),Bd.sections,tr(this,V1,Wfe).bind(this),this)),Kn(this,za,gVe(Ut(this,za),this.nav,this.showNav,this.showEditor,this)),this.showEditor!==void 0){const s=(this.shadowRoot||this).querySelector("eox-storytelling-editor"),o=s.querySelector("eox-jsonform");this.markdown!==(o==null?void 0:o.value.Story)&&(s.markdown=this.markdown)}this.requestUpdate()}r.has("nav")&&kVe(this,".navigation a")}handleSlotChange(){const r=this.shadowRoot.querySelector("slot");if(r){const i=r.assignedNodes({flatten:!0});this.markdown=i.map(n=>n.textContent?n.textContent:"").join(""),this.requestUpdate()}}async firstUpdated(){Kn(this,q0,bh(r=>{r.detail&&(this.markdown=r.detail.Story,this.requestUpdate())},1e3)),ZHe(this),TVe(),Ut(this,za)===void 0&&await this.waitForHtmlInitialization(),Whe(this)}async waitForHtmlInitialization(){const r=i=>new Promise(n=>setTimeout(n,i));for(;Ut(this,za)===void 0;)await r(100)}createRenderRoot(){return this.noShadow?this:super.createRenderRoot()}render(){const r=`${this.showEditor!==void 0?"editor-enabled":""} editor-${this.showEditor}`;return et`
      <slot class="slot-hide" @slotchange=${this.handleSlotChange}></slot>
      <style>
        :host { display: block; }
        .slot-hide { display: none; }
        ${!this.unstyled&&SYe}
        ${!this.unstyled&&Sx}
      </style>

      <div class="story-telling ${r}">
        <div>${Ar(Ut(this,za),()=>et`${Ut(this,za)}`)}</div>
        ${Ar(this.showEditor!==void 0,()=>et`
            <eox-storytelling-editor
              .isNavigation=${!!this.showNav}
              .storyId=${this.id}
              show-editor=${this.showEditor}
              @change=${Ut(this,q0)}
              .markdown=${this.markdown}
            ></eox-storytelling-editor>
          `)}
      </div>

      ${Ar(this.addCustomSectionIndex>-1,()=>et`
          <div class="story-telling-custom-section-list">
            <div
              class="overlay-popup"
              @click=${()=>{this.addCustomSectionIndex=-1,this.selectedCustomElement=null,this.requestUpdate()}}
            ></div>
            <div class="story-telling-popup">
              ${Ar(this.selectedCustomElement,()=>et`
                  <div class="story-telling-section-fields">
                    <div
                      class="story-telling-section-fields-overlay"
                      @click=${()=>{this.selectedCustomElement=null,this.requestUpdate()}}
                    ></div>
                    <div class="story-telling-section-fields-wrapper">
                      <div class="story-telling-section-fields-overflow">
                        <eox-jsonform
                          id="storytelling-editor-fields"
                          no-shadow
                          .schema=${this.selectedCustomElement.fields}
                        ></eox-jsonform>
                      </div>
                      <div class="story-telling-section-submit-wrapper">
                        <button
                          @click=${()=>fne(this.markdown,this.addCustomSectionIndex,this.selectedCustomElement.markdown,this.selectedCustomElement.fields,!0,this)}
                        >
                          Add Section
                        </button>
                      </div>
                    </div>
                  </div>
                `)}
              <div class="story-telling-popup-wrapper">
                ${cVe.map(i=>et`
                    <div class="header">
                      <h4>${i.name}</h4>
                      <p>${i.elements.length}</p>
                    </div>
                    <hr />
                    <div class="grid-container">
                      ${i.elements.map(n=>et`<div
                          @click=${()=>fne(this.markdown,this.addCustomSectionIndex,n.markdown,n.fields,!1,this)}
                          class="grid-item"
                        >
                          <icon id="${n.id}"></icon>
                          <p>${n.name}</p>
                          <style>
                            icon#${n.id}::before {
                              content: url("${n.icon}");
                            }
                          </style>
                        </div>`)}
                    </div>
                  `)}
              </div>
            </div>
          </div>
        `)}
    `}}za=new WeakMap,Yf=new WeakMap,q0=new WeakMap,V1=new WeakSet,Wfe=function(r){this.dispatchEvent(new CustomEvent("init",{detail:r}))};customElements.define("eox-storytelling",CYe);const kYe=`
:host {
  display: block;
}
`,AYe=`
* {
  font-family: Roboto, sans-serif;
}

main {
  text-align: center;
}

${jC}

button.icon-text.play:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Eplay%3C/title%3E%3Cpath d='M8,5.14V19.14L19,12.14L8,5.14Z' fill='%23fff' /%3E%3C/svg%3E");
}

button.icon-text.pause:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Epause%3C/title%3E%3Cpath d='M14,19H18V5H14M6,19H10V5H6V19Z' fill='%23fff' /%3E%3C/svg%3E");
}

button.icon.previous:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Earrow-left-drop-circle%3C/title%3E%3Cpath d='M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M14,7L9,12L14,17V7Z' fill='%23004170' /%3E%3C/svg%3E");
}

button.icon.next:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctitle%3Earrow-right-drop-circle%3C/title%3E%3Cpath d='M2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12M10,17L15,12L10,7V17Z' fill='%23004170' /%3E%3C/svg%3E");
}
`;class TYe extends Wi{static get properties(){return{width:{type:Number},steps:{type:Array}}}constructor(){super(),this.width=0,this.steps=[],this.height=6,this.svgWidth=0,this._yearMarks=[],this._years=[],this._sliderTicks=[]}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.handleResize.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.handleResize.bind(this)),super.disconnectedCallback()}firstUpdated(){this.yearMarks=this.calculateYearMarks(),this.sliderTicks=this.calculateSliderTicks(),this.handleResize()}updated(e){e.has("steps")&&(this.yearMarks=this.calculateYearMarks(),this.sliderTicks=this.calculateSliderTicks(),this.handleResize())}handleResize(){this.svgWidth=this.shadowRoot.querySelector("svg").clientWidth,this.height=this.shadowRoot.querySelector("svg").clientHeight}groupDatesByYear(){const e=[];return this.steps.forEach(r=>{const n=Cl(r).year();let s=e.find(o=>o.year===n);s||(s={year:n,dates:[]},e.push(s)),s.dates.push(r)}),e}preprocessDates(){const e=[];this.steps.forEach(r=>{const n=Cl(r).year();let s=e.find(o=>o.year===n);s||(s={year:n,ratio:0,dates:[]},e.push(s)),s.dates.push({date:r,isYearMarker:s.dates.length===0})});for(let r of e)r.ratio=r.dates.length/this.steps.length;return e}get sliderTicks(){return this._sliderTicks}set sliderTicks(e){this._sliderTicks=e,this.requestUpdate()}calculateYearBars(){return this._years.flatMap((i,n)=>{const s=this.steps.indexOf(i.dates[0].date)/(this.steps.length-1)*this.width,o=this.steps.indexOf(i.dates[i.dates.length-1].date)/(this.steps.length-1)*this.width,a=Math.max(0,o-s-2),l=[];return l.push(rf`
            <rect
              key=${n}
              x=${s+2/2} // Add half the spacing to the start position
              y="0"
              width=${a}
              height="6"
              fill="#7596A2"
            ></rect>
        `),a>=30&&l.push(rf`
                <text
                  key=${`label-${n}`}
                  x=${s+16}
                  y="26"
                  fill="#555"
                  font-size="14"
                  text-anchor="middle"
                >
                  ${i.year}
                </text>
            `),l})}calculateIndividualTicks(){return this._years.flatMap((e,r)=>{const i=this.steps.length,n=Math.max(1,Math.floor(i/this.width));return e.dates.filter((s,o)=>o%n===0).map((s,o)=>{const l=this.steps.indexOf(s.date)/(this.steps.length-1)*this.width,u=[];return u.push(rf`
                <line
                  key=${r}-${o}
                  x1=${l}
                  y1="0"
                  x2=${l}
                  y2=${s.isYearMarker?12:6}
                  stroke=${s.isYearMarker?"#222":"#7596A2"}
                  stroke-width="1"
                ></line>
              `),s.isYearMarker&&this.density>.03&&this.density<.5&&r%2==0&&u.push(rf`
                  <text
                    key=${`label-${r}`}
                    x=${l+16}
                    y="30"
                    fill="#555"
                    font-size="14"
                    text-anchor="middle"
                  >
                    ${e.year}
                  </text>
                `),u})})}get density(){return this.steps.length/this.width}calculateSliderTicks(){if(this.density<=.5)return this.calculateIndividualTicks();if(this.density>.5&&this.density<10)return this.calculateYearBars();if(this.density>=10)return this.calculateDecadeBars()}calculateDecadeBars(){const i=this._years.reduce((s,o)=>{const a=Math.floor(o.year/10)*10;return s[a]||(s[a]=[]),s[a].push(...o.dates),s},{});return Object.keys(i).flatMap((s,o)=>{const a=this.steps.indexOf(i[s][0].date)/(this.steps.length-1)*this.width,l=this.steps.indexOf(i[s][i[s].length-1].date)/(this.steps.length-1)*this.width,u=Math.max(0,l-a-2),h=[];return h.push(rf`
            <rect
              key=${`decade-${o}`}
              x=${a+2/2}
              y="0"
              width=${u}
              height="6"
              fill="#555"
            ></rect>
        `),u>=30&&h.push(rf`
                <text
                  key=${`decade-label-${o}`}
                  x=${a+18}
                  y="26"
                  fill="#333"
                  font-size="14"
                  text-anchor="middle"
                >
                  ${s}
                </text>
            `),h})}get lines(){const e=this.numLines>this.width/2?this.width/2:this.numLines,r=this.width/(e-1);return Array.from({length:this.numLines},(i,n)=>n*r)}get numLines(){return this.steps?this.steps.length:0}get yearMarks(){return this._yearMarks}set yearMarks(e){this._yearMarks=e,this.requestUpdate()}get years(){return this._years}set years(e){this._years=e,this.requestUpdate()}calculateYearMarks(){this._years=this.preprocessDates(),this.lines.forEach((e,r)=>{Cl(this.steps[r]).year()})}isYearLine(e){return this._yearMarks.some(i=>Math.abs(i.position-e)<1)}render(){return et`
      <div class="fill-width" style="margin-top: 3px;">
        <svg
          style="width: ${this.width}px; height: 30px;"
          viewBox="-1 0 ${this.width+2} ${this.height}"
        >
          ${this.sliderTicks}
        </svg>
      </div>
    `}}customElements.define("eox-sliderticks",TYe);var Yfe={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(oi,function(){return function(r,i,n){i.prototype.dayOfYear=function(s){var o=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(Yfe);var DYe=Yfe.exports;const LYe=Ps(DYe);var Zfe={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(oi,function(){var r="day";return function(i,n,s){var o=function(u){return u.add(4-u.isoWeekday(),r)},a=n.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var h,d,f,p,g=o(this),y=(h=this.isoWeekYear(),d=this.$u,f=(d?s.utc:s)().year(h).startOf("year"),p=4-f.isoWeekday(),f.isoWeekday()>4&&(p+=7),f.add(p,r));return g.diff(y,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,h){var d=this.$utils(),f=!!d.u(h)||h;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})})(Zfe);var OYe=Zfe.exports;const MYe=Ps(OYe);Cl.extend(LYe);Cl.extend(MYe);class RYe extends Wi{static get properties(){return{controlProperty:{type:String,attribute:"control-property"},controlValues:{type:Array,attribute:"control-values"},for:{type:String},layer:{type:String},slider:{type:Boolean},_originalParams:{type:Object},disablePlay:{type:Boolean,attribute:"disable-play"},currentStep:{type:String,attribute:"current-step"},_animationInterval:{state:!0},_controlSource:{state:!0},_isAnimationPlaying:{state:!0},_newStepIndex:{state:!0},_eoxMap:{state:!0},_width:{state:!0},unstyled:{type:Boolean}}}constructor(){super(),this.controlValues=[],this._newStepIndex=0,this.unstyled=!1,this.disablePlay=!1,this.slider=!1,this.for="eox-map",this.layer="",this.controlProperty=void 0,this._eoxMap=void 0,this._width=300,window.addEventListener("resize",()=>{this._width=this.clientWidth})}next(){this._updateStep(1)}previous(){this._updateStep(-1)}playAnimation(e){e?this._animationInterval=setInterval(()=>this._updateStep(1),500):clearInterval(this._animationInterval),this._isAnimationPlaying=e,this.requestUpdate()}setConfig(e){this.layer=e.layer??this.layer,this.controlProperty=e.controlProperty??this.controlProperty,this.controlValues=e.controlValues??this.controlValues,this.requestUpdate(),this._updateStep(0)}get currentStep(){return this.controlValues[this._newStepIndex]}set currentStep(e){const r=this.controlValues.findIndex(i=>i===e);r>-1?this._newStepIndex=r:console.error(`Unable to find step "${e}" in available times!`)}firstUpdated(){this.updateMap()}updated(e){e.has("for")&&this.updateMap()}updateMap(){const e=l0(this.for);if(e){const r=e;this.eoxMap=r}}get eoxMap(){return this._eoxMap}set eoxMap(e){const r=this._eoxMap;this._eoxMap=e,this.requestUpdate("eoxMap",r)}_updateStep(e=1){var r;e&&(this._newStepIndex=this._newStepIndex+e,this._newStepIndex>this.controlValues.length-1&&(this._newStepIndex=0),this._newStepIndex<0&&(this._newStepIndex=this.controlValues.length-1),this.layer&&this.for&&((r=this._controlSource)==null||r.updateParams({[this.controlProperty]:this.controlValues[this._newStepIndex]})),this.requestUpdate(),this.dispatchEvent(new CustomEvent("stepchange",{detail:{currentStep:this.currentStep}})))}getFlatLayersArray(e){const r=[];r.push(...e);let i=r.filter(n=>n instanceof _v);for(;i.length;){const n=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].getLayers().getArray();r.push(...a),n.push(...a.filter(l=>l instanceof _v))}i=n}return r}render(){if(this.layer&&this.for){const r=l0(this.for).map;r.once("loadend",()=>{if(!this._originalParams){const n=this.getFlatLayersArray(r.getLayers().getArray()).find(s=>s.get("id")===this.layer);this._controlSource=n.getSource(),this._originalParams=this._controlSource.getParams()}})}return et`
      <style>
        ${kYe}
        ${!this.unstyled&&AYe}
      </style>
      <main>
        <div id="controls" part="controls">
          <button
            part="previous"
            class="icon previous"
            @click="${()=>this.previous()}"
          >
            <
          </button>
          <span part="current">${this.controlValues[this._newStepIndex]}</span>
          <button part="next" class="icon next" @click="${()=>this.next()}">
            >
          </button>
        </div>
        <div>
          ${this.disablePlay?zi:et`
                <button
                  part="play"
                  class="icon-text ${this._isAnimationPlaying?"pause":"play"}"
                  @click="${()=>this.playAnimation(!this._isAnimationPlaying)}"
                >
                  ${this._isAnimationPlaying?"Pause":"Play"}
                </button>
              `}
          ${this.slider?et`
                <div class="slider-col">
                  <tc-range-slider
                    data="${this.controlValues}"
                    part="slider"
                    value="${this.controlValues[this._newStepIndex]}"
                    style="display: inline-block;"
                    @change="${e=>this._updateStep(this.controlValues.findIndex(r=>r===e.detail.value)-this._newStepIndex)}"
                  ></tc-range-slider>

                  <eox-sliderticks
                    .width="${this._width}"
                    .steps="${this.controlValues}"
                  ></eox-sliderticks>
                </div>
              `:""}
        </div>
      </main>
    `}}customElements.define("eox-timecontrol",RYe);const Xfe=(t,e)=>{var i;let{privateFields:r=!0}=e;return r||(i=t==null?void 0:t.modules)==null||i.forEach(n=>{var s;(s=n==null?void 0:n.declarations)==null||s.forEach(o=>{Object.keys(o).forEach(a=>{Array.isArray(o[a])&&(o[a]=o[a].filter(l=>{var u;return!((u=l.privacy)!=null&&u.includes("private"))}))})})}),Fge(t)};Xfe(mEe,{privateFields:!1});const IYe={parameters:{docs:{toc:!0,page:gEe,source:{transform:(t,e)=>{const r=e.undecoratedStoryFn(e);let i;const n={};return r.strings.map((s,o)=>{var h,d;const a=s.match(new RegExp("(?<=<eox-).*?((?=>| )|$)","gim"));a&&(i=`eox-${a}`);const l=(d=(h=s.match(new RegExp("(?<=\\.).*?(?==)","gim")))==null?void 0:h[0])==null?void 0:d.replaceAll(" ",""),u=r.values[o];l&&u&&(n[i]||(n[i]={}),n[i][l]=u)}).filter(s=>s),Object.keys(n).forEach(s=>{t=t.replace(`<${s}`,`<${s}
  ${Object.keys(n[s]).map((o,a)=>`.${o}='\${${typeof n[s][o]=="string"?n[s][o]:JSON.stringify(n[s][o])}}'`).join(`
  `)}
  `)}),t}}}}},cZe=Object.freeze(Object.defineProperty({__proto__:null,default:IYe,setCustomElementsManifestWithOptions:Xfe},Symbol.toStringTag,{value:"Module"}));export{rZe as L,iZe as a,cZe as p};
